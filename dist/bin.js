#!/usr/bin/env node
"use strict";var t=require("process"),e=require("os"),r=require("tty"),n=require("fs"),i=require("path"),s=require("stream"),o=require("path"),a=require("fs"),l=require("events"),u=require("events"),c=require("constants"),h=require("stream"),f=require("util"),d=require("assert"),p=require("buffer"),b=require("url"),y=require("fs/promises"),m=require("string_decoder"),v=require("zlib"),g=require("fs/promises");require("crypto");var w=require("ssh2");function S(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var E=S(a);const O=(t=0)=>e=>`[${e+t}m`,x=(t=0)=>e=>`[${38+t};5;${e}m`,T=(t=0)=>(e,r,n)=>`[${38+t};2;${e};${r};${n}m`,k={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(k.modifier);Object.keys(k.color),Object.keys(k.bgColor);const P=function(){const t=new Map;for(const[e,r]of Object.entries(k)){for(const[e,n]of Object.entries(r))k[e]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[e]=k[e],t.set(n[0],n[1]);Object.defineProperty(k,e,{value:r,enumerable:!1})}return Object.defineProperty(k,"codes",{value:t,enumerable:!1}),k.color.close="[39m",k.bgColor.close="[49m",k.color.ansi=O(),k.color.ansi256=x(),k.color.ansi16m=T(),k.bgColor.ansi=O(10),k.bgColor.ansi256=x(10),k.bgColor.ansi16m=T(10),Object.defineProperties(k,{rgbToAnsi256:{value:(t,e,r)=>t===e&&e===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(t){const e=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!e)return[0,0,0];let[r]=e;3===r.length&&(r=[...r].map(t=>t+t).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:t=>k.rgbToAnsi256(...k.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return t-8+90;let e,r,n;if(t>=232)e=(10*(t-232)+8)/255,r=e,n=e;else{const i=(t-=16)%36;e=Math.floor(t/36)/5,r=Math.floor(i/6)/5,n=i%6/5}const i=2*Math.max(e,r,n);if(0===i)return 30;let s=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(e));return 2===i&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(t,e,r)=>k.ansi256ToAnsi(k.rgbToAnsi256(t,e,r)),enumerable:!1},hexToAnsi:{value:t=>k.ansi256ToAnsi(k.hexToAnsi256(t)),enumerable:!1}}),k}();function A(e,r=(globalThis.Deno?globalThis.Deno.args:t.argv)){const n=e.startsWith("-")?"":1===e.length?"-":"--",i=r.indexOf(n+e),s=r.indexOf("--");return-1!==i&&(-1===s||i<s)}const{env:M}=t;let j;function L(r,{streamIsTTY:n,sniffFlags:i=!0}={}){const s=function(){if("FORCE_COLOR"in M)return"true"===M.FORCE_COLOR?1:"false"===M.FORCE_COLOR?0:0===M.FORCE_COLOR.length?1:Math.min(Number.parseInt(M.FORCE_COLOR,10),3)}();void 0!==s&&(j=s);const o=i?j:s;if(0===o)return 0;if(i){if(A("color=16m")||A("color=full")||A("color=truecolor"))return 3;if(A("color=256"))return 2}if("TF_BUILD"in M&&"AGENT_NAME"in M)return 1;if(r&&!n&&void 0===o)return 0;const a=o||0;if("dumb"===M.TERM)return a;if("win32"===t.platform){const t=e.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in M)return"GITHUB_ACTIONS"in M||"GITEA_ACTIONS"in M?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(t=>t in M)||"codeship"===M.CI_NAME?1:a;if("TEAMCITY_VERSION"in M)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(M.TEAMCITY_VERSION)?1:0;if("truecolor"===M.COLORTERM)return 3;if("xterm-kitty"===M.TERM)return 3;if("TERM_PROGRAM"in M){const t=Number.parseInt((M.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(M.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(M.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(M.TERM)||"COLORTERM"in M?1:a}function R(t,e={}){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(L(t,{streamIsTTY:t&&t.isTTY,...e}))}A("no-color")||A("no-colors")||A("color=false")||A("color=never")?j=0:(A("color")||A("colors")||A("color=true")||A("color=always"))&&(j=1);const C={stdout:R({isTTY:r.isatty(1)}),stderr:R({isTTY:r.isatty(2)})};function I(t,e,r){let n=t.indexOf(e);if(-1===n)return t;const i=e.length;let s=0,o="";do{o+=t.slice(s,n)+e+r,s=n+i,n=t.indexOf(e,s)}while(-1!==n);return o+=t.slice(s),o}const{stdout:F,stderr:D}=C,N=Symbol("GENERATOR"),B=Symbol("STYLER"),z=Symbol("IS_EMPTY"),W=["ansi","ansi","ansi256","ansi16m"],U=Object.create(null),$=t=>{const e=(...t)=>t.join(" ");return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=F?F.level:0;t.level=void 0===e.level?r:e.level})(e,t),Object.setPrototypeOf(e,G.prototype),e};function G(t){return $(t)}Object.setPrototypeOf(G.prototype,Function.prototype);for(const[t,e]of Object.entries(P))U[t]={get(){const r=Z(this,Y(e.open,e.close,this[B]),this[z]);return Object.defineProperty(this,t,{value:r}),r}};U.visible={get(){const t=Z(this,this[B],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const H=(t,e,r,...n)=>"rgb"===t?"ansi16m"===e?P[r].ansi16m(...n):"ansi256"===e?P[r].ansi256(P.rgbToAnsi256(...n)):P[r].ansi(P.rgbToAnsi(...n)):"hex"===t?H("rgb",e,r,...P.hexToRgb(...n)):P[r][t](...n),q=["rgb","hex","ansi256"];for(const t of q){U[t]={get(){const{level:e}=this;return function(...r){const n=Y(H(t,W[e],"color",...r),P.color.close,this[B]);return Z(this,n,this[z])}}};U["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const{level:e}=this;return function(...r){const n=Y(H(t,W[e],"bgColor",...r),P.bgColor.close,this[B]);return Z(this,n,this[z])}}}}const V=Object.defineProperties(()=>{},{...U,level:{enumerable:!0,get(){return this[N].level},set(t){this[N].level=t}}}),Y=(t,e,r)=>{let n,i;return void 0===r?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},Z=(t,e,r)=>{const n=(...t)=>K(n,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(n,V),n[N]=t,n[B]=e,n[z]=r,n},K=(t,e)=>{if(t.level<=0||!e)return t[z]?"":e;let r=t[B];if(void 0===r)return e;const{openAll:n,closeAll:i}=r;if(e.includes(""))for(;void 0!==r;)e=I(e,r.close,r.open),r=r.parent;const s=e.indexOf("\n");return-1!==s&&(e=function(t,e,r,n){let i=0,s="";do{const o="\r"===t[n-1];s+=t.slice(i,o?n-1:n)+e+(o?"\r\n":"\n")+r,i=n+1,n=t.indexOf("\n",i)}while(-1!==n);return s+=t.slice(i),s}(e,i,n,s)),n+e+i};Object.defineProperties(G.prototype,U);const Q=G();G({level:D?D.level:0});var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function J(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tt(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})}),r}var et={},rt={},nt={},it={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLOR_MAP=void 0,t.DEFAULT_COLOR_MAP={red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",white_bold:"[01m",reset:"[0m"};t.default=class{constructor(e=t.DEFAULT_COLOR_MAP){this.text="",this.colorMap=e}addCharsWithColor(t,e){const r=this.colorMap[t];this.text+=void 0!==r?`${r}${e}${this.colorMap.reset}`:e}renderConsole(){return this.text}}}(it);var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.DEFAULT_HEADER_ALIGNMENT=st.DEFAULT_ROW_ALIGNMENT=st.DEFAULT_HEADER_FONT_COLOR=st.DEFAULT_ROW_FONT_COLOR=st.COLORS=st.ALIGNMENTS=st.DEFAULT_TABLE_STYLE=st.DEFAULT_ROW_SEPARATOR=st.DEFAULT_COLUMN_LEN=void 0,st.DEFAULT_COLUMN_LEN=20,st.DEFAULT_ROW_SEPARATOR=!1,st.DEFAULT_TABLE_STYLE={headerTop:{left:"┌",mid:"┬",right:"┐",other:"─"},headerBottom:{left:"├",mid:"┼",right:"┤",other:"─"},tableBottom:{left:"└",mid:"┴",right:"┘",other:"─"},vertical:"│",rowSeparator:{left:"├",mid:"┼",right:"┤",other:"─"}},st.ALIGNMENTS=["right","left","center"],st.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"],st.DEFAULT_ROW_FONT_COLOR="white",st.DEFAULT_HEADER_FONT_COLOR="white_bold",st.DEFAULT_ROW_ALIGNMENT="right",st.DEFAULT_HEADER_ALIGNMENT="center";var ot={},at={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rawColumnToInternalColumn=t.objIfExists=void 0;const e=st;t.objIfExists=(t,e)=>e?{[t]:e}:{};t.rawColumnToInternalColumn=r=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({name:r.name,title:null!==(n=r.title)&&void 0!==n?n:r.name},(0,t.objIfExists)("color",r.color)),(0,t.objIfExists)("maxLen",r.maxLen)),(0,t.objIfExists)("minLen",r.minLen)),{alignment:r.alignment||e.DEFAULT_ROW_ALIGNMENT})}}(at);var lt={},ut={},ct={},ht={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.default=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}];var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.default=(t,e,r)=>{let n,i=0,s=r;if(t<e[0].first||t>e[s].last)return 0;for(;s>=i;)if(n=Math.floor((i+s)/2),t>e[n].last)i=n+1;else{if(!(t<e[n].first))return 1;s=n-1}return 0};var pt=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ht,"__esModule",{value:!0});const bt=pt(ft),yt=pt(dt);ht.default=t=>0===t?0:t<32||t>=127&&t<160?-1:yt.default(t,bt.default,bt.default.length-1)?0:1+Number(t>=4352&&(t<=4447||9001===t||9002===t||t>=11904&&t<=42191&&12351!==t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141));var mt=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ct,"__esModule",{value:!0});const vt=mt(ht);ct.default=t=>{let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r),i=vt.default(n);if(i<0)return-1;e+=i}return e};var gt=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.wcswidth=ut.wcwidth=void 0;const wt=gt(ct);ut.wcswidth=wt.default;const _t=gt(ht);ut.wcwidth=_t.default,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findWidthInConsole=t.stripAnsi=void 0;const e=ut,r=/\x1b\[\d{1,3}(;\d{1,3})*m/g;t.stripAnsi=t=>t.replace(r,"");t.findWidthInConsole=(r,n)=>{let i=0;return r=(0,t.stripAnsi)(r),n&&Object.entries(n).forEach(([t,e])=>{let n=new RegExp(t,"g");i+=(r.match(n)||[]).length*e,r=r.replace(t,"")}),i+=(0,e.wcswidth)(r),i}}(lt);var St={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.biggestWordInSentence=t.textWithPadding=t.splitTextIntoTextsOfMinLen=void 0;const e=lt;t.splitTextIntoTextsOfMinLen=(t,r,n)=>{const i=[];return t.split(/[\n\r]/).forEach(t=>{const s=t.split(" ");let o=[],a=0;s.forEach(t=>{const s=(0,e.findWidthInConsole)(t,n);a+s<=r?(a+=s+1,o.push(t)):(o.length>0&&i.push(o.join(" ")),o=[t],a=s+1)}),i.push(o.join(" "))}),i};t.textWithPadding=(r,n,i,s)=>{const o=(0,e.findWidthInConsole)(r,s),a=Math.floor((i-o)/2),l=i-a-o;if(i<o){const e=(0,t.splitTextIntoTextsOfMinLen)(r,i);return 1===e.length?r:e.map(e=>(0,t.textWithPadding)(e,n,i,s)).join("\n")}switch(n){case"left":return r.concat(" ".repeat(i-o));case"center":return" ".repeat(a).concat(r).concat(" ".repeat(l));default:return" ".repeat(i-o).concat(r)}};t.biggestWordInSentence=(t,r)=>t.split(" ").reduce((t,n)=>Math.max(t,(0,e.findWidthInConsole)(n,r)),0)}(St),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getWidthLimitedColumnsArray=t.createHeaderAsRow=t.renderTableHorizontalBorders=t.findLenOfColumn=t.createRow=t.createColumFromComputedColumn=t.createColumFromOnlyName=t.createTableHorizontalBorders=t.convertRawRowOptionsToStandard=t.cellText=void 0;const e=at,r=lt,n=St,i=st,s=(t,e)=>Math.max(t,e);t.cellText=t=>null==t?"":`${t}`;t.convertRawRowOptionsToStandard=t=>{if(t)return{color:t.color,separator:t.separator||i.DEFAULT_ROW_SEPARATOR}};t.createTableHorizontalBorders=({left:t,mid:e,right:r,other:n},i)=>{let s=t;return i.forEach(t=>{s+=n.repeat(t+2),s+=e}),s=s.slice(0,-e.length),s+=r,s};t.createColumFromOnlyName=t=>({name:t,title:t});t.createColumFromComputedColumn=t=>{var r;return Object.assign(Object.assign(Object.assign(Object.assign({name:t.name,title:null!==(r=t.title)&&void 0!==r?r:t.name},(0,e.objIfExists)("color",t.color)),(0,e.objIfExists)("maxLen",t.maxLen)),(0,e.objIfExists)("minLen",t.minLen)),{alignment:t.alignment||i.DEFAULT_ROW_ALIGNMENT})};t.createRow=(t,e,r)=>({color:t,separator:r,text:e});t.findLenOfColumn=(e,i,o)=>{const a=e.name,l=e.title;let u=s(0,(null==e?void 0:e.minLen)||0);return e.maxLen?(u=s(u,s(e.maxLen,(0,n.biggestWordInSentence)(l,o))),u=i.reduce((e,r)=>s(e,(0,n.biggestWordInSentence)((0,t.cellText)(r.text[a]),o)),u),u):(u=s(u,(0,r.findWidthInConsole)(l,o)),i.forEach(e=>{u=s(u,(0,r.findWidthInConsole)((0,t.cellText)(e.text[a]),o))}),u)};t.renderTableHorizontalBorders=(e,r)=>(0,t.createTableHorizontalBorders)(e,r);t.createHeaderAsRow=(t,e)=>{const r=t(i.DEFAULT_HEADER_FONT_COLOR,{},!1);return e.forEach(t=>{r.text[t.name]=t.title}),r};t.getWidthLimitedColumnsArray=(e,r,s)=>{const o={};return e.forEach(e=>{o[e.name]=(0,n.splitTextIntoTextsOfMinLen)((0,t.cellText)(r.text[e.name]),e.length||i.DEFAULT_COLUMN_LEN,s)}),o}}(ot);var Et={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.preProcessRows=Ot.preProcessColumns=void 0;const xt=ot;Ot.preProcessColumns=t=>{(t=>{t.computedColumns.length&&t.computedColumns.forEach(e=>{t.addColumn(e),t.rows.forEach(t=>{t.text[e.name]=e.function(t.text)})})})(t),(t=>{t.disabledColumns.length&&(t.columns=t.columns.filter(e=>!t.disabledColumns.includes(e.name)))})(t),(t=>{t.enabledColumns.length&&(t.columns=t.columns.filter(e=>t.enabledColumns.includes(e.name)))})(t),(t=>{t.columns.forEach(e=>{e.length=(0,xt.findLenOfColumn)(e,t.rows,t.charLength)})})(t)};var Tt,kt;function Pt(){return Tt||(Tt=1,function(t){var e=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.printSimpleTable=t.renderSimpleTable=t.renderTable=void 0;const r=e(it),n=St,i=st,s=ot,o=e(At()),a=Ot,l=(t,e,o,a,l,u,c,h)=>{const f=new r.default(c);return f.addCharsWithColor("",t.vertical),e.forEach(e=>{const r=o<a[e.name].length?(0,s.cellText)(a[e.name][o]):"";f.addCharsWithColor(i.DEFAULT_ROW_FONT_COLOR," "),f.addCharsWithColor(l&&i.DEFAULT_HEADER_FONT_COLOR||e.color||u.color,(0,n.textWithPadding)(r,e.alignment||i.DEFAULT_ROW_ALIGNMENT,e.length||i.DEFAULT_COLUMN_LEN,h)),f.addCharsWithColor("",` ${t.vertical}`)}),f.renderConsole()},u=(t,e,r,n,i,o)=>{const a=(0,s.getWidthLimitedColumnsArray)(e,r,o),u=Object.values(a).reduce((t,e)=>Math.max(t,e.length),0),c=[];for(let s=0;s<u;s+=1){const u=l(t,e,s,a,i,r,n,o);c.push(u)}return c};t.renderTable=t=>{(0,a.preProcessColumns)(t),(0,a.preProcessRows)(t);const e=[];return(t=>{const e=[];if(void 0===t.title)return e;const s=(0,n.textWithPadding)(t.title,i.DEFAULT_HEADER_ALIGNMENT,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN).reduce((t,e)=>t+e+2+1,1)),o=new r.default(t.colorMap);return o.addCharsWithColor(i.DEFAULT_HEADER_FONT_COLOR,s),e.push(o.renderConsole()),e})(t).forEach(t=>e.push(t)),(t=>{let e=[];e.push((0,s.renderTableHorizontalBorders)(t.tableStyle.headerTop,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN)));const r=(0,s.createHeaderAsRow)(s.createRow,t.columns);return e=e.concat(u(t.tableStyle,t.columns,r,t.colorMap,!0)),e.push((0,s.renderTableHorizontalBorders)(t.tableStyle.headerBottom,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN))),e})(t).forEach(t=>e.push(t)),t.rows.forEach(r=>{((t,e)=>{let r=[];return r=r.concat(u(t.tableStyle,t.columns,e,t.colorMap,void 0,t.charLength)),r})(t,r).forEach(t=>e.push(t)),((t,e)=>{const r=[],n=t.rows.length-1;return t.rows.indexOf(e)!==n&&e.separator&&r.push((0,s.renderTableHorizontalBorders)(t.tableStyle.rowSeparator,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN))),r})(t,r).forEach(t=>e.push(t))}),(t=>{const e=[];return e.push((0,s.renderTableHorizontalBorders)(t.tableStyle.tableBottom,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN))),e})(t).forEach(t=>e.push(t)),e.join("\n")};t.renderSimpleTable=e=>{const r=new o.default;return r.addRows(e),(0,t.renderTable)(r)};t.printSimpleTable=e=>{console.log((0,t.renderSimpleTable)(e))}}(Et)),Et}function At(){if(kt)return nt;kt=1,Object.defineProperty(nt,"__esModule",{value:!0});const t=it,e=st,r=ot,n=at,i=Pt(),s=()=>0,o=()=>!0;return nt.default=class{initSimple(t){this.columns=t.map(t=>({name:t,title:t,alignment:e.DEFAULT_ROW_ALIGNMENT}))}initDetailed(t){var e;this.title=(null==t?void 0:t.title)||this.title,this.tableStyle=(null==t?void 0:t.style)||this.tableStyle,this.sortFunction=(null==t?void 0:t.sort)||this.sortFunction,this.filterFunction=(null==t?void 0:t.filter)||this.filterFunction,this.enabledColumns=(null==t?void 0:t.enabledColumns)||this.enabledColumns,this.disabledColumns=(null==t?void 0:t.disabledColumns)||this.disabledColumns,this.computedColumns=(null==t?void 0:t.computedColumns)||this.computedColumns,this.columns=(null===(e=null==t?void 0:t.columns)||void 0===e?void 0:e.map(n.rawColumnToInternalColumn))||this.columns,this.rowSeparator=(null==t?void 0:t.rowSeparator)||this.rowSeparator,this.charLength=(null==t?void 0:t.charLength)||this.charLength,(null==t?void 0:t.shouldDisableColors)?this.colorMap={}:(null==t?void 0:t.colorMap)&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),t.colorMap)),void 0!==t.rows&&this.addRows(t.rows)}constructor(r){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=e.DEFAULT_TABLE_STYLE,this.filterFunction=o,this.sortFunction=s,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=e.DEFAULT_ROW_SEPARATOR,this.colorMap=t.DEFAULT_COLOR_MAP,this.charLength={},r instanceof Array?this.initSimple(r):"object"==typeof r&&this.initDetailed(r)}createColumnFromRow(t){const e=this.columns.map(t=>t.name);Object.keys(t).forEach(t=>{e.includes(t)||this.columns.push((0,r.createColumFromOnlyName)(t))})}addColumn(t){"string"==typeof t?this.columns.push((0,r.createColumFromOnlyName)(t)):this.columns.push((0,r.createColumFromComputedColumn)(t))}addColumns(t){t.forEach(t=>{this.addColumn(t)})}addRow(t,n){this.createColumnFromRow(t),this.rows.push((0,r.createRow)((null==n?void 0:n.color)||e.DEFAULT_ROW_FONT_COLOR,t,void 0!==(null==n?void 0:n.separator)?null==n?void 0:n.separator:this.rowSeparator))}addRows(t,e){t.forEach(t=>{this.addRow(t,e)})}renderTable(){return(0,i.renderTable)(this)}},nt}Ot.preProcessRows=t=>{const e=t.rows.filter(e=>t.filterFunction(e.text)).sort((e,r)=>t.sortFunction(e.text,r.text));t.rows=e};var Mt=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});const jt=Mt(At()),Lt=ot;rt.default=class{constructor(t){this.table=new jt.default(t)}addColumn(t){return this.table.addColumn(t),this}addColumns(t){return this.table.addColumns(t),this}addRow(t,e){return this.table.addRow(t,(0,Lt.convertRawRowOptionsToStandard)(e)),this}addRows(t,e){return this.table.addRows(t,(0,Lt.convertRawRowOptionsToStandard)(e)),this}printTable(){const t=this.table.renderTable();console.log(t)}render(){return this.table.renderTable()}},function(t){var e=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTable=t.printTable=t.Table=void 0;const r=e(rt);t.Table=r.default;const n=Pt();Object.defineProperty(t,"printTable",{enumerable:!0,get:function(){return n.printSimpleTable}}),Object.defineProperty(t,"renderTable",{enumerable:!0,get:function(){return n.renderSimpleTable}})}(et);var Rt={exports:{}},Ct=J(Rt.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",a="day",l="week",u="month",c="quarter",h="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},m=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},v={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,u),s=r-i<0,o=e.clone().add(n+(s?-1:1),u);return+(-(n+(r-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:h,w:l,d:a,D:f,h:o,m:s,s:i,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",w={};w[g]=y;var _="$isDayjsObject",S=function(t){return t instanceof T||!(!t||!t[_])},E=function t(e,r,n){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();w[s]&&(i=s),r&&(w[s]=r,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;w[a]=e,i=a}return!n&&i&&(g=i),i||!n&&g},O=function(t,e){if(S(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new T(r)},x=v;x.l=E,x.i=S,x.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function y(t){this.$L=E(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[_]=!0}var m=y.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return x},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var r=O(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,r){return x.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var r=this,n=!!x.u(e)||e,c=x.p(t),d=function(t,e){var i=x.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?i:i.endOf(a)},p=function(t,e){return x.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},b=this.$W,y=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(c){case h:return n?d(1,0):d(31,11);case u:return n?d(1,y):d(0,y+1);case l:var g=this.$locale().weekStart||0,w=(b<g?b+7:b)-g;return d(n?m-w:m+(6-w),y);case a:case f:return p(v+"Hours",0);case o:return p(v+"Minutes",1);case s:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,l=x.p(t),c="set"+(this.$u?"UTC":""),d=(r={},r[a]=c+"Date",r[f]=c+"Date",r[u]=c+"Month",r[h]=c+"FullYear",r[o]=c+"Hours",r[s]=c+"Minutes",r[i]=c+"Seconds",r[n]=c+"Milliseconds",r)[l],p=l===a?this.$D+(e-this.$W):e;if(l===u||l===h){var b=this.clone().set(f,1);b.$d[d](p),b.init(),this.$d=b.set(f,Math.min(this.$D,b.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[x.p(t)]()},m.add=function(n,c){var f,d=this;n=Number(n);var p=x.p(c),b=function(t){var e=O(d);return x.w(e.date(e.date()+Math.round(t*n)),d)};if(p===u)return this.set(u,this.$M+n);if(p===h)return this.set(h,this.$y+n);if(p===a)return b(1);if(p===l)return b(7);var y=(f={},f[s]=e,f[o]=r,f[i]=t,f)[p]||1,m=this.$d.getTime()+n*y;return x.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),s=this.$H,o=this.$m,a=this.$M,l=r.weekdays,u=r.months,c=r.meridiem,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].slice(0,s)},f=function(t){return x.s(s%12||12,t,"0")},p=c||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(b,function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return x.s(e.$y,4,"0");case"M":return a+1;case"MM":return x.s(a+1,2,"0");case"MMM":return h(r.monthsShort,a,u,3);case"MMMM":return h(u,a);case"D":return e.$D;case"DD":return x.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(r.weekdaysMin,e.$W,l,2);case"ddd":return h(r.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(s);case"HH":return x.s(s,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(s,o,!0);case"A":return p(s,o,!1);case"m":return String(o);case"mm":return x.s(o,2,"0");case"s":return String(e.$s);case"ss":return x.s(e.$s,2,"0");case"SSS":return x.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,f,d){var p,b=this,y=x.p(f),m=O(n),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,w=function(){return x.m(b,m)};switch(y){case h:p=w()/12;break;case u:p=w();break;case c:p=w()/3;break;case l:p=(g-v)/6048e5;break;case a:p=(g-v)/864e5;break;case o:p=g/r;break;case s:p=g/e;break;case i:p=g/t;break;default:p=g}return d?p:x.a(p)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=E(t,e,!0);return n&&(r.$L=n),r},m.clone=function(){return x.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),k=T.prototype;return O.prototype=k,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",a],["$M",u],["$y",h],["$D",f]].forEach(function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),O.extend=function(t,e){return t.$i||(t(e,T,O),t.$i=!0),O},O.locale=E,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=w[g],O.Ls=w,O.p={},O}());function It(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}function Ft(t,e){return"constructor"===e&&"function"==typeof t[e]||"__proto__"===e}var Dt=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};"function"==typeof e.unknown&&(r.unknownFn=e.unknown),"boolean"==typeof e.boolean&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(t){r.bools[t]=!0});var n={};function i(t){return n[t].some(function(t){return r.bools[t]})}Object.keys(e.alias||{}).forEach(function(t){n[t]=[].concat(e.alias[t]),n[t].forEach(function(e){n[e]=[t].concat(n[t].filter(function(t){return e!==t}))})}),[].concat(e.string).filter(Boolean).forEach(function(t){r.strings[t]=!0,n[t]&&[].concat(n[t]).forEach(function(t){r.strings[t]=!0})});var s=e.default||{},o={_:[]};function a(t,e,n){for(var i=t,s=0;s<e.length-1;s++){var o=e[s];if(Ft(i,o))return;void 0===i[o]&&(i[o]={}),i[o]!==Object.prototype&&i[o]!==Number.prototype&&i[o]!==String.prototype||(i[o]={}),i[o]===Array.prototype&&(i[o]=[]),i=i[o]}var a=e[e.length-1];Ft(i,a)||(i!==Object.prototype&&i!==Number.prototype&&i!==String.prototype||(i={}),i===Array.prototype&&(i=[]),void 0===i[a]||r.bools[a]||"boolean"==typeof i[a]?i[a]=n:Array.isArray(i[a])?i[a].push(n):i[a]=[i[a],n])}function l(t,e,i){if(!i||!r.unknownFn||function(t,e){return r.allBools&&/^--[^=]+$/.test(e)||r.strings[t]||r.bools[t]||n[t]}(t,i)||!1!==r.unknownFn(i)){var s=!r.strings[t]&&It(e)?Number(e):e;a(o,t.split("."),s),(n[t]||[]).forEach(function(t){a(o,t.split("."),s)})}}Object.keys(r.bools).forEach(function(t){l(t,void 0!==s[t]&&s[t])});var u=[];-1!==t.indexOf("--")&&(u=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var c=0;c<t.length;c++){var h,f,d=t[c];if(/^--.+=/.test(d)){var p=d.match(/^--([^=]+)=([\s\S]*)$/);h=p[1];var b=p[2];r.bools[h]&&(b="false"!==b),l(h,b,d)}else if(/^--no-.+/.test(d))l(h=d.match(/^--no-(.+)/)[1],!1,d);else if(/^--.+/.test(d))h=d.match(/^--(.+)/)[1],void 0===(f=t[c+1])||/^(-|--)[^-]/.test(f)||r.bools[h]||r.allBools||n[h]&&i(h)?/^(true|false)$/.test(f)?(l(h,"true"===f,d),c+=1):l(h,!r.strings[h]||"",d):(l(h,f,d),c+=1);else if(/^-[^-]+/.test(d)){for(var y=d.slice(1,-1).split(""),m=!1,v=0;v<y.length;v++)if("-"!==(f=d.slice(v+2))){if(/[A-Za-z]/.test(y[v])&&"="===f[0]){l(y[v],f.slice(1),d),m=!0;break}if(/[A-Za-z]/.test(y[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(f)){l(y[v],f,d),m=!0;break}if(y[v+1]&&y[v+1].match(/\W/)){l(y[v],d.slice(v+2),d),m=!0;break}l(y[v],!r.strings[y[v]]||"",d)}else l(y[v],f,d);h=d.slice(-1)[0],m||"-"===h||(!t[c+1]||/^(-|--)[^-]/.test(t[c+1])||r.bools[h]||n[h]&&i(h)?t[c+1]&&/^(true|false)$/.test(t[c+1])?(l(h,"true"===t[c+1],d),c+=1):l(h,!r.strings[h]||"",d):(l(h,t[c+1],d),c+=1))}else if(r.unknownFn&&!1===r.unknownFn(d)||o._.push(r.strings._||!It(d)?d:Number(d)),e.stopEarly){o._.push.apply(o._,t.slice(c+1));break}}return Object.keys(s).forEach(function(t){var e,r,i;e=o,r=t.split("."),i=e,r.slice(0,-1).forEach(function(t){i=i[t]||{}}),r[r.length-1]in i||(a(o,t.split("."),s[t]),(n[t]||[]).forEach(function(e){a(o,e.split("."),s[t])}))}),e["--"]?o["--"]=u.slice():u.forEach(function(t){o._.push(t)}),o},Nt=J(Dt),Bt={},zt={},Wt={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.isFunction=void 0,Ut.isFunction=function(t){return"function"==typeof t};var $t={},Gt={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.createErrorClass=void 0,Ht.createErrorClass=function(t){var e=t(function(t){Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e},Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.UnsubscriptionError=void 0;var qt=Ht;Gt.UnsubscriptionError=qt.createErrorClass(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.arrRemove=void 0,Vt.arrRemove=function(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}};var Yt=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zt=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Kt=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty($t,"__esModule",{value:!0}),$t.isSubscription=$t.EMPTY_SUBSCRIPTION=$t.Subscription=void 0;var Qt=Ut,Xt=Gt,Jt=Vt,te=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,r,n,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=Yt(s),a=o.next();!a.done;a=o.next()){a.value.remove(this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}else s.remove(this);var l=this.initialTeardown;if(Qt.isFunction(l))try{l()}catch(t){i=t instanceof Xt.UnsubscriptionError?t.errors:[t]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=Yt(u),h=c.next();!h.done;h=c.next()){var f=h.value;try{ee(f)}catch(t){i=null!=i?i:[],t instanceof Xt.UnsubscriptionError?i=Kt(Kt([],Zt(i)),Zt(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(i)throw new Xt.UnsubscriptionError(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)ee(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Jt.arrRemove(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&Jt.arrRemove(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();function ee(t){Qt.isFunction(t)?t():t.unsubscribe()}$t.Subscription=te,$t.EMPTY_SUBSCRIPTION=te.EMPTY,$t.isSubscription=function(t){return t instanceof te||t&&"closed"in t&&Qt.isFunction(t.remove)&&Qt.isFunction(t.add)&&Qt.isFunction(t.unsubscribe)};var re={};Object.defineProperty(re,"__esModule",{value:!0}),re.config=void 0,re.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ne={},ie={};!function(t){var e=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=t.timeoutProvider.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,r([n,i],e(s))):setTimeout.apply(void 0,r([n,i],e(s)))},clearTimeout:function(e){var r=t.timeoutProvider.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0}}(ie),Object.defineProperty(ne,"__esModule",{value:!0}),ne.reportUnhandledError=void 0;var se=re,oe=ie;ne.reportUnhandledError=function(t){oe.timeoutProvider.setTimeout(function(){var e=se.config.onUnhandledError;if(!e)throw t;e(t)})};var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.noop=void 0,ae.noop=function(){};var le={};function ue(t,e,r){return{kind:t,value:e,error:r}}Object.defineProperty(le,"__esModule",{value:!0}),le.createNotification=le.nextNotification=le.errorNotification=le.COMPLETE_NOTIFICATION=void 0,le.COMPLETE_NOTIFICATION=ue("C",void 0,void 0),le.errorNotification=function(t){return ue("E",void 0,t)},le.nextNotification=function(t){return ue("N",t,void 0)},le.createNotification=ue;var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.captureError=ce.errorContext=void 0;var he=re,fe=null;ce.errorContext=function(t){if(he.config.useDeprecatedSynchronousErrorHandling){var e=!fe;if(e&&(fe={errorThrown:!1,error:null}),t(),e){var r=fe,n=r.errorThrown,i=r.error;if(fe=null,n)throw i}}else t()},ce.captureError=function(t){he.config.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=t)},function(t){var e,r=X&&X.__extends||(e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},e(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var n=Ut,i=$t,s=re,o=ne,a=ae,l=le,u=ie,c=ce,h=function(e){function n(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,i.isSubscription(r)&&r.add(n)):n.destination=t.EMPTY_OBSERVER,n}return r(n,e),n.create=function(t,e,r){return new b(t,e,r)},n.prototype.next=function(t){this.isStopped?m(l.nextNotification(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?m(l.errorNotification(t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?m(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(i.Subscription);t.Subscriber=h;var f=Function.prototype.bind;function d(t,e){return f.call(t,e)}var p=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){y(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){y(t)}else y(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){y(t)}},t}(),b=function(t){function e(e,r,i){var o,a,l=t.call(this)||this;n.isFunction(e)||!e?o={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:l&&s.config.useDeprecatedNextContext?((a=Object.create(e)).unsubscribe=function(){return l.unsubscribe()},o={next:e.next&&d(e.next,a),error:e.error&&d(e.error,a),complete:e.complete&&d(e.complete,a)}):o=e;return l.destination=new p(o),l}return r(e,t),e}(h);function y(t){s.config.useDeprecatedSynchronousErrorHandling?c.captureError(t):o.reportUnhandledError(t)}function m(t,e){var r=s.config.onStoppedNotification;r&&u.timeoutProvider.setTimeout(function(){return r(t,e)})}t.SafeSubscriber=b,t.EMPTY_OBSERVER={closed:!0,next:a.noop,error:function(t){throw t},complete:a.noop}}(Wt);var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.observable=void 0,de.observable="function"==typeof Symbol&&Symbol.observable||"@@observable";var pe={},be={};Object.defineProperty(be,"__esModule",{value:!0}),be.identity=void 0,be.identity=function(t){return t},Object.defineProperty(pe,"__esModule",{value:!0}),pe.pipeFromArray=pe.pipe=void 0;var ye=be;function me(t){return 0===t.length?ye.identity:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}pe.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return me(t)},pe.pipeFromArray=me,Object.defineProperty(zt,"__esModule",{value:!0}),zt.Observable=void 0;var ve=Wt,ge=$t,we=de,_e=pe,Se=re,Ee=Ut,Oe=ce,xe=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,s=(n=t)&&n instanceof ve.Subscriber||function(t){return t&&Ee.isFunction(t.next)&&Ee.isFunction(t.error)&&Ee.isFunction(t.complete)}(n)&&ge.isSubscription(n)?t:new ve.SafeSubscriber(t,e,r);return Oe.errorContext(function(){var t=i,e=t.operator,r=t.source;s.add(e?e.call(s,r):r?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=Te(e))(function(e,n){var i=new ve.SafeSubscriber({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[we.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _e.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Te(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function Te(t){var e;return null!==(e=null!=t?t:Se.config.Promise)&&void 0!==e?e:Promise}zt.Observable=xe;var ke={},Pe={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.operate=Ae.hasLift=void 0;var Me=Ut;function je(t){return Me.isFunction(null==t?void 0:t.lift)}Ae.hasLift=je,Ae.operate=function(t){return function(e){if(je(e))return e.lift(function(e){try{return t(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}};var Le,Re={},Ce=X&&X.__extends||(Le=function(t,e){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Le(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Le(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(Re,"__esModule",{value:!0}),Re.OperatorSubscriber=Re.createOperatorSubscriber=void 0;var Ie=Wt;Re.createOperatorSubscriber=function(t,e,r,n,i){return new Fe(t,e,r,n,i)};var Fe=function(t){function e(e,r,n,i,s,o){var a=t.call(this,e)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return Ce(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(Ie.Subscriber);Re.OperatorSubscriber=Fe,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.refCount=void 0;var De=Ae,Ne=Re;Pe.refCount=function(){return De.operate(function(t,e){var r=null;t._refCount++;var n=Ne.createOperatorSubscriber(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)r=null;else{var n=t._connection,i=r;r=null,!n||i&&n!==i||n.unsubscribe(),e.unsubscribe()}});t.subscribe(n),n.closed||(r=t.connect())})};var Be=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ke,"__esModule",{value:!0}),ke.ConnectableObservable=void 0;var ze=$t,We=Pe,Ue=Re,$e=Ae,Ge=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,$e.hasLift(e)&&(n.lift=e.lift),n}return Be(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},e.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new ze.Subscription;var r=this.getSubject();e.add(this.source.subscribe(Ue.createOperatorSubscriber(r,void 0,function(){t._teardown(),r.complete()},function(e){t._teardown(),r.error(e)},function(){return t._teardown()}))),e.closed&&(this._connection=null,e=ze.Subscription.EMPTY)}return e},e.prototype.refCount=function(){return We.refCount()(this)},e}(zt.Observable);ke.ConnectableObservable=Ge;var He,qe={},Ve={};He=Ve,Object.defineProperty(He,"__esModule",{value:!0}),He.performanceTimestampProvider=void 0,He.performanceTimestampProvider={now:function(){return(He.performanceTimestampProvider.delegate||performance).now()},delegate:void 0};var Ye={};!function(t){var e=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var n=$t;t.animationFrameProvider={schedule:function(e){var r=requestAnimationFrame,i=cancelAnimationFrame,s=t.animationFrameProvider.delegate;s&&(r=s.requestAnimationFrame,i=s.cancelAnimationFrame);var o=r(function(t){i=void 0,e(t)});return new n.Subscription(function(){return null==i?void 0:i(o)})},requestAnimationFrame:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=t.animationFrameProvider.delegate;return((null==s?void 0:s.requestAnimationFrame)||requestAnimationFrame).apply(void 0,r([],e(n)))},cancelAnimationFrame:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=t.animationFrameProvider.delegate;return((null==s?void 0:s.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,r([],e(n)))},delegate:void 0}}(Ye),Object.defineProperty(qe,"__esModule",{value:!0}),qe.animationFrames=void 0;var Ze=zt,Ke=Ve,Qe=Ye;function Xe(t){return new Ze.Observable(function(e){var r=t||Ke.performanceTimestampProvider,n=r.now(),i=0,s=function(){e.closed||(i=Qe.animationFrameProvider.requestAnimationFrame(function(o){i=0;var a=r.now();e.next({timestamp:t?a:o,elapsed:a-n}),s()}))};return s(),function(){i&&Qe.animationFrameProvider.cancelAnimationFrame(i)}})}qe.animationFrames=function(t){return t?Xe(t):Je};var Je=Xe(),tr={},er={};Object.defineProperty(er,"__esModule",{value:!0}),er.ObjectUnsubscribedError=void 0;var rr=Ht;er.ObjectUnsubscribedError=rr.createErrorClass(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var nr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ir=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(tr,"__esModule",{value:!0}),tr.AnonymousSubject=tr.Subject=void 0;var sr=zt,or=$t,ar=er,lr=Vt,ur=ce,cr=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return nr(e,t),e.prototype.lift=function(t){var e=new hr(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new ar.ObjectUnsubscribedError},e.prototype.next=function(t){var e=this;ur.errorContext(function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=ir(e.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(t)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},e.prototype.error=function(t){var e=this;ur.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}})},e.prototype.complete=function(){var t=this;ur.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this,n=r.hasError,i=r.isStopped,s=r.observers;return n||i?or.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(t),new or.Subscription(function(){e.currentObservers=null,lr.arrRemove(s,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e.thrownError,i=e.isStopped;r?t.error(n):i&&t.complete()},e.prototype.asObservable=function(){var t=new sr.Observable;return t.source=this,t},e.create=function(t,e){return new hr(t,e)},e}(sr.Observable);tr.Subject=cr;var hr=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return nr(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:or.EMPTY_SUBSCRIPTION},e}(cr);tr.AnonymousSubject=hr;var fr={},dr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(fr,"__esModule",{value:!0}),fr.BehaviorSubject=void 0;var pr=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return dr(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){var t=this,e=t.hasError,r=t.thrownError,n=t._value;if(e)throw r;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(tr.Subject);fr.BehaviorSubject=pr;var br={},yr={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}}(yr);var mr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(br,"__esModule",{value:!0}),br.ReplaySubject=void 0;var vr=yr,gr=function(t){function e(e,r,n){void 0===e&&(e=1/0),void 0===r&&(r=1/0),void 0===n&&(n=vr.dateTimestampProvider);var i=t.call(this)||this;return i._bufferSize=e,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,e),i._windowTime=Math.max(1,r),i}return mr(e,t),e.prototype.next=function(e){var r=this,n=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,o=r._timestampProvider,a=r._windowTime;n||(i.push(e),!s&&i.push(o.now()+a)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!t.closed;i+=r?1:2)t.next(n[i]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,r=t._timestampProvider,n=t._buffer,i=t._infiniteTimeWindow,s=(i?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!i){for(var o=r.now(),a=0,l=1;l<n.length&&n[l]<=o;l+=2)a=l;a&&n.splice(0,a+1)}},e}(tr.Subject);br.ReplaySubject=gr;var wr={},_r=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wr,"__esModule",{value:!0}),wr.AsyncSubject=void 0;var Sr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return _r(e,t),e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e._hasValue,i=e._value,s=e.thrownError,o=e.isStopped,a=e._isComplete;r?t.error(s):(o||a)&&(n&&t.next(i),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var e=this,r=e._hasValue,n=e._value;e._isComplete||(this._isComplete=!0,r&&t.prototype.next.call(this,n),t.prototype.complete.call(this))},e}(tr.Subject);wr.AsyncSubject=Sr;var Er={},Or={},xr={},Tr={},kr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Action=void 0;var Pr=function(t){function e(e,r){return t.call(this)||this}return kr(e,t),e.prototype.schedule=function(t,e){return this},e}($t.Subscription);Tr.Action=Pr;var Ar={};!function(t){var e=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=t.intervalProvider.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,r([n,i],e(s))):setInterval.apply(void 0,r([n,i],e(s)))},clearInterval:function(e){var r=t.intervalProvider.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0}}(Ar);var Mr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(xr,"__esModule",{value:!0}),xr.AsyncAction=void 0;var jr=Ar,Lr=Vt,Rr=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return Mr(e,t),e.prototype.schedule=function(t,e){var r;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),jr.intervalProvider.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&jr.intervalProvider.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r,n=!1;try{this.work(t)}catch(t){n=!0,r=t||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Lr.arrRemove(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Tr.Action);xr.AsyncAction=Rr;var Cr={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.TestTools=Ir.Immediate=void 0;var Fr,Dr=1,Nr={};function Br(t){return t in Nr&&(delete Nr[t],!0)}Ir.Immediate={setImmediate:function(t){var e=Dr++;return Nr[e]=!0,Fr||(Fr=Promise.resolve()),Fr.then(function(){return Br(e)&&t()}),e},clearImmediate:function(t){Br(t)}},Ir.TestTools={pending:function(){return Object.keys(Nr).length}},function(t){var e=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var n=Ir,i=n.Immediate.setImmediate,s=n.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=t.immediateProvider.delegate;return((null==o?void 0:o.setImmediate)||i).apply(void 0,r([],e(n)))},clearImmediate:function(e){var r=t.immediateProvider.delegate;return((null==r?void 0:r.clearImmediate)||s)(e)},delegate:void 0}}(Cr);var zr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Or,"__esModule",{value:!0}),Or.AsapAction=void 0;var Wr=Cr,Ur=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return zr(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=Wr.immediateProvider.setImmediate(e.flush.bind(e,void 0))))},e.prototype.recycleAsyncId=function(e,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);var s=e.actions;null!=r&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==r&&(Wr.immediateProvider.clearImmediate(r),e._scheduled===r&&(e._scheduled=void 0))},e}(xr.AsyncAction);Or.AsapAction=Ur;var $r={},Gr={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Scheduler=void 0;var qr=yr,Vr=function(){function t(e,r){void 0===r&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(r,e)},t.now=qr.dateTimestampProvider.now,t}();Hr.Scheduler=Vr;var Yr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.AsyncScheduler=void 0;var Zr=Hr,Kr=function(t){function e(e,r){void 0===r&&(r=Zr.Scheduler.now);var n=t.call(this,e,r)||this;return n.actions=[],n._active=!1,n}return Yr(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Zr.Scheduler);Gr.AsyncScheduler=Kr;var Qr=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty($r,"__esModule",{value:!0}),$r.AsapScheduler=void 0;var Xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qr(e,t),e.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var r,n=this.actions;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}},e}(Gr.AsyncScheduler);$r.AsapScheduler=Xr,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var e=Or,r=$r;t.asapScheduler=new r.AsapScheduler(e.AsapAction),t.asap=t.asapScheduler}(Er);var Jr={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var e=xr,r=Gr;t.asyncScheduler=new r.AsyncScheduler(e.AsyncAction),t.async=t.asyncScheduler}(Jr);var tn={},en={},rn=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(en,"__esModule",{value:!0}),en.QueueAction=void 0;var nn=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return rn(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.flush(this),0)},e}(xr.AsyncAction);en.QueueAction=nn;var sn={},on=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(sn,"__esModule",{value:!0}),sn.QueueScheduler=void 0;var an=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e}(Gr.AsyncScheduler);sn.QueueScheduler=an,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var e=en,r=sn;t.queueScheduler=new r.QueueScheduler(e.QueueAction),t.queue=t.queueScheduler}(tn);var ln={},un={},cn=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(un,"__esModule",{value:!0}),un.AnimationFrameAction=void 0;var hn=Ye,fn=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return cn(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=hn.animationFrameProvider.requestAnimationFrame(function(){return e.flush(void 0)})))},e.prototype.recycleAsyncId=function(e,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);var s=e.actions;null!=r&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==r&&(hn.animationFrameProvider.cancelAnimationFrame(r),e._scheduled=void 0)},e}(xr.AsyncAction);un.AnimationFrameAction=fn;var dn={},pn=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(dn,"__esModule",{value:!0}),dn.AnimationFrameScheduler=void 0;var bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pn(e,t),e.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var r,n=this.actions;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}},e}(Gr.AsyncScheduler);dn.AnimationFrameScheduler=bn,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var e=un,r=dn;t.animationFrameScheduler=new r.AnimationFrameScheduler(e.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler}(ln);var yn={},mn=X&&X.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yn,"__esModule",{value:!0}),yn.VirtualAction=yn.VirtualTimeScheduler=void 0;var vn=xr,gn=$t,wn=function(t){function e(e,r){void 0===e&&(e=_n),void 0===r&&(r=1/0);var n=t.call(this,e,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return mn(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(Gr.AsyncScheduler);yn.VirtualTimeScheduler=wn;var _n=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.index=n,i.active=!0,i.index=e.index=n,i}return mn(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}return gn.Subscription.EMPTY},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(t,e,r){},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(vn.AsyncAction);yn.VirtualAction=_n;var Sn={},En={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var e=zt;t.EMPTY=new e.Observable(function(t){return t.complete()}),t.empty=function(r){return r?function(t){return new e.Observable(function(e){return t.schedule(function(){return e.complete()})})}(r):t.EMPTY}}(En);var On={},xn={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.isScheduler=void 0;var kn=Ut;Tn.isScheduler=function(t){return t&&kn.isFunction(t.schedule)},Object.defineProperty(xn,"__esModule",{value:!0}),xn.popNumber=xn.popScheduler=xn.popResultSelector=void 0;var Pn=Ut,An=Tn;function Mn(t){return t[t.length-1]}xn.popResultSelector=function(t){return Pn.isFunction(Mn(t))?t.pop():void 0},xn.popScheduler=function(t){return An.isScheduler(Mn(t))?t.pop():void 0},xn.popNumber=function(t,e){return"number"==typeof Mn(t)?t.pop():e};var jn={},Ln={},Rn={},Cn={},In={};Object.defineProperty(In,"__esModule",{value:!0}),In.isArrayLike=void 0,In.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.isPromise=void 0;var Dn=Ut;Fn.isPromise=function(t){return Dn.isFunction(null==t?void 0:t.then)};var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.isInteropObservable=void 0;var Bn=de,zn=Ut;Nn.isInteropObservable=function(t){return zn.isFunction(t[Bn.observable])};var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.isAsyncIterable=void 0;var Un=Ut;Wn.isAsyncIterable=function(t){return Symbol.asyncIterator&&Un.isFunction(null==t?void 0:t[Symbol.asyncIterator])};var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.createInvalidObservableTypeError=void 0,$n.createInvalidObservableTypeError=function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")};var Gn={},Hn={};function qn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.iterator=Hn.getSymbolIterator=void 0,Hn.getSymbolIterator=qn,Hn.iterator=qn(),Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.isIterable=void 0;var Vn=Hn,Yn=Ut;Gn.isIterable=function(t){return Yn.isFunction(null==t?void 0:t[Vn.iterator])};var Zn={},Kn=X&&X.__generator||function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Qn=X&&X.__await||function(t){return this instanceof Qn?(this.v=t,this):new Qn(t)},Xn=X&&X.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise(function(r,n){s.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=i[t](e)).value instanceof Qn?Promise.resolve(r.value.v).then(l,u):c(s[0][2],r)}catch(t){c(s[0][3],t)}var r}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.isReadableStreamLike=Zn.readableStreamLikeToAsyncGenerator=void 0;var Jn=Ut;Zn.readableStreamLikeToAsyncGenerator=function(t){return Xn(this,arguments,function(){var e,r,n;return Kn(this,function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Qn(e.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,Qn(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Qn(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})},Zn.isReadableStreamLike=function(t){return Jn.isFunction(null==t?void 0:t.getReader)};var ti=X&&X.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,a)}l((n=n.apply(t,e||[])).next())})},ei=X&&X.__generator||function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},ri=X&&X.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof ni?ni(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,i){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,i,(e=t[r](e)).done,e.value)})}}},ni=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.fromReadableStreamLike=Cn.fromAsyncIterable=Cn.fromIterable=Cn.fromPromise=Cn.fromArrayLike=Cn.fromInteropObservable=Cn.innerFrom=void 0;var ii=In,si=Fn,oi=zt,ai=Nn,li=Wn,ui=$n,ci=Gn,hi=Zn,fi=Ut,di=ne,pi=de;function bi(t){return new oi.Observable(function(e){var r=t[pi.observable]();if(fi.isFunction(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yi(t){return new oi.Observable(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function mi(t){return new oi.Observable(function(e){t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,di.reportUnhandledError)})}function vi(t){return new oi.Observable(function(e){var r,n;try{for(var i=ni(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function gi(t){return new oi.Observable(function(e){(function(t,e){var r,n,i,s;return ti(this,void 0,void 0,function(){var o,a;return ei(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=ri(t),l.label=1;case 1:return[4,r.next()];case 2:if((n=l.sent()).done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})})(t,e).catch(function(t){return e.error(t)})})}function wi(t){return gi(hi.readableStreamLikeToAsyncGenerator(t))}Cn.innerFrom=function(t){if(t instanceof oi.Observable)return t;if(null!=t){if(ai.isInteropObservable(t))return bi(t);if(ii.isArrayLike(t))return yi(t);if(si.isPromise(t))return mi(t);if(li.isAsyncIterable(t))return gi(t);if(ci.isIterable(t))return vi(t);if(hi.isReadableStreamLike(t))return wi(t)}throw ui.createInvalidObservableTypeError(t)},Cn.fromInteropObservable=bi,Cn.fromArrayLike=yi,Cn.fromPromise=mi,Cn.fromIterable=vi,Cn.fromAsyncIterable=gi,Cn.fromReadableStreamLike=wi;var _i={},Si={};Object.defineProperty(Si,"__esModule",{value:!0}),Si.executeSchedule=void 0,Si.executeSchedule=function(t,e,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s},Object.defineProperty(_i,"__esModule",{value:!0}),_i.observeOn=void 0;var Ei=Si,Oi=Ae,xi=Re;_i.observeOn=function(t,e){return void 0===e&&(e=0),Oi.operate(function(r,n){r.subscribe(xi.createOperatorSubscriber(n,function(r){return Ei.executeSchedule(n,t,function(){return n.next(r)},e)},function(){return Ei.executeSchedule(n,t,function(){return n.complete()},e)},function(r){return Ei.executeSchedule(n,t,function(){return n.error(r)},e)}))})};var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.subscribeOn=void 0;var ki=Ae;Ti.subscribeOn=function(t,e){return void 0===e&&(e=0),ki.operate(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})},Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.scheduleObservable=void 0;var Pi=Cn,Ai=_i,Mi=Ti;Rn.scheduleObservable=function(t,e){return Pi.innerFrom(t).pipe(Mi.subscribeOn(e),Ai.observeOn(e))};var ji={};Object.defineProperty(ji,"__esModule",{value:!0}),ji.schedulePromise=void 0;var Li=Cn,Ri=_i,Ci=Ti;ji.schedulePromise=function(t,e){return Li.innerFrom(t).pipe(Ci.subscribeOn(e),Ri.observeOn(e))};var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.scheduleArray=void 0;var Fi=zt;Ii.scheduleArray=function(t,e){return new Fi.Observable(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})};var Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.scheduleIterable=void 0;var Ni=zt,Bi=Hn,zi=Ut,Wi=Si;Di.scheduleIterable=function(t,e){return new Ni.Observable(function(r){var n;return Wi.executeSchedule(r,e,function(){n=t[Bi.iterator](),Wi.executeSchedule(r,e,function(){var t,e,i;try{e=(t=n.next()).value,i=t.done}catch(t){return void r.error(t)}i?r.complete():r.next(e)},0,!0)}),function(){return zi.isFunction(null==n?void 0:n.return)&&n.return()}})};var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.scheduleAsyncIterable=void 0;var $i=zt,Gi=Si;Ui.scheduleAsyncIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new $i.Observable(function(r){Gi.executeSchedule(r,e,function(){var n=t[Symbol.asyncIterator]();Gi.executeSchedule(r,e,function(){n.next().then(function(t){t.done?r.complete():r.next(t.value)})},0,!0)})})};var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.scheduleReadableStreamLike=void 0;var qi=Ui,Vi=Zn;Hi.scheduleReadableStreamLike=function(t,e){return qi.scheduleAsyncIterable(Vi.readableStreamLikeToAsyncGenerator(t),e)},Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.scheduled=void 0;var Yi=Rn,Zi=ji,Ki=Ii,Qi=Di,Xi=Ui,Ji=Nn,ts=Fn,es=In,rs=Gn,ns=Wn,is=$n,ss=Zn,os=Hi;Ln.scheduled=function(t,e){if(null!=t){if(Ji.isInteropObservable(t))return Yi.scheduleObservable(t,e);if(es.isArrayLike(t))return Ki.scheduleArray(t,e);if(ts.isPromise(t))return Zi.schedulePromise(t,e);if(ns.isAsyncIterable(t))return Xi.scheduleAsyncIterable(t,e);if(rs.isIterable(t))return Qi.scheduleIterable(t,e);if(ss.isReadableStreamLike(t))return os.scheduleReadableStreamLike(t,e)}throw is.createInvalidObservableTypeError(t)},Object.defineProperty(jn,"__esModule",{value:!0}),jn.from=void 0;var as=Ln,ls=Cn;jn.from=function(t,e){return e?as.scheduled(t,e):ls.innerFrom(t)},Object.defineProperty(On,"__esModule",{value:!0}),On.of=void 0;var us=xn,cs=jn;On.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=us.popScheduler(t);return cs.from(t,r)};var hs={};Object.defineProperty(hs,"__esModule",{value:!0}),hs.throwError=void 0;var fs=zt,ds=Ut;hs.throwError=function(t,e){var r=ds.isFunction(t)?t:function(){return t},n=function(t){return t.error(r())};return new fs.Observable(e?function(t){return e.schedule(n,0,t)}:n)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var e,r=En,n=On,i=hs,s=Ut;(e=t.NotificationKind||(t.NotificationKind={})).NEXT="N",e.ERROR="E",e.COMPLETE="C";var o=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){return a(this,t)},t.prototype.do=function(t,e,r){var n=this,i=n.kind,s=n.value,o=n.error;return"N"===i?null==t?void 0:t(s):"E"===i?null==e?void 0:e(o):null==r?void 0:r()},t.prototype.accept=function(t,e,r){var n;return s.isFunction(null===(n=t)||void 0===n?void 0:n.next)?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){var t=this,e=t.kind,s=t.value,o=t.error,a="N"===e?n.of(s):"E"===e?i.throwError(function(){return o}):"C"===e?r.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+e);return a},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function a(t,e){var r,n,i,s=t,o=s.kind,a=s.value,l=s.error;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(r=e.next)||void 0===r||r.call(e,a):"E"===o?null===(n=e.error)||void 0===n||n.call(e,l):null===(i=e.complete)||void 0===i||i.call(e)}t.Notification=o,t.observeNotification=a}(Sn);var ps={};Object.defineProperty(ps,"__esModule",{value:!0}),ps.isObservable=void 0;var bs=zt,ys=Ut;ps.isObservable=function(t){return!!t&&(t instanceof bs.Observable||ys.isFunction(t.lift)&&ys.isFunction(t.subscribe))};var ms={},vs={};Object.defineProperty(vs,"__esModule",{value:!0}),vs.EmptyError=void 0;var gs=Ht;vs.EmptyError=gs.createErrorClass(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}),Object.defineProperty(ms,"__esModule",{value:!0}),ms.lastValueFrom=void 0;var ws=vs;ms.lastValueFrom=function(t,e){var r="object"==typeof e;return new Promise(function(n,i){var s,o=!1;t.subscribe({next:function(t){s=t,o=!0},error:i,complete:function(){o?n(s):r?n(e.defaultValue):i(new ws.EmptyError)}})})};var _s={};Object.defineProperty(_s,"__esModule",{value:!0}),_s.firstValueFrom=void 0;var Ss=vs,Es=Wt;_s.firstValueFrom=function(t,e){var r="object"==typeof e;return new Promise(function(n,i){var s=new Es.SafeSubscriber({next:function(t){n(t),s.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new Ss.EmptyError)}});t.subscribe(s)})};var Os={};Object.defineProperty(Os,"__esModule",{value:!0}),Os.ArgumentOutOfRangeError=void 0;var xs=Ht;Os.ArgumentOutOfRangeError=xs.createErrorClass(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.NotFoundError=void 0;var ks=Ht;Ts.NotFoundError=ks.createErrorClass(function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}});var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.SequenceError=void 0;var As=Ht;Ps.SequenceError=As.createErrorClass(function(t){return function(e){t(this),this.name="SequenceError",this.message=e}});var Ms={},js={};Object.defineProperty(js,"__esModule",{value:!0}),js.isValidDate=void 0,js.isValidDate=function(t){return t instanceof Date&&!isNaN(t)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var e=Jr,r=js,n=Ae,i=Cn,s=Ht,o=Re,a=Si;function l(e){throw new t.TimeoutError(e)}t.TimeoutError=s.createErrorClass(function(t){return function(e){void 0===e&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}}),t.timeout=function(t,s){var u=r.isValidDate(t)?{first:t}:"number"==typeof t?{each:t}:t,c=u.first,h=u.each,f=u.with,d=void 0===f?l:f,p=u.scheduler,b=void 0===p?null!=s?s:e.asyncScheduler:p,y=u.meta,m=void 0===y?null:y;if(null==c&&null==h)throw new TypeError("No timeout provided.");return n.operate(function(t,e){var r,n,s=null,l=0,u=function(t){n=a.executeSchedule(e,b,function(){try{r.unsubscribe(),i.innerFrom(d({meta:m,lastValue:s,seen:l})).subscribe(e)}catch(t){e.error(t)}},t)};r=t.subscribe(o.createOperatorSubscriber(e,function(t){null==n||n.unsubscribe(),l++,e.next(s=t),h>0&&u(h)},void 0,void 0,function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),s=null})),!l&&u(null!=c?"number"==typeof c?c:+c-b.now():h)})}}(Ms);var Ls={},Rs={},Cs={},Is={};Object.defineProperty(Is,"__esModule",{value:!0}),Is.map=void 0;var Fs=Ae,Ds=Re;Is.map=function(t,e){return Fs.operate(function(r,n){var i=0;r.subscribe(Ds.createOperatorSubscriber(n,function(r){n.next(t.call(e,r,i++))}))})};var Ns=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Bs=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.mapOneOrManyArgs=void 0;var zs=Is,Ws=Array.isArray;Cs.mapOneOrManyArgs=function(t){return zs.map(function(e){return function(t,e){return Ws(e)?t.apply(void 0,Bs([],Ns(e))):t(e)}(t,e)})};var Us=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},$s=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.bindCallbackInternals=void 0;var Gs=Tn,Hs=zt,qs=Ti,Vs=Cs,Ys=_i,Zs=wr;Rs.bindCallbackInternals=function t(e,r,n,i){if(n){if(!Gs.isScheduler(n))return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return t(e,r,i).apply(this,s).pipe(Vs.mapOneOrManyArgs(n))};i=n}return i?function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return t(e,r).apply(this,n).pipe(qs.subscribeOn(i),Ys.observeOn(i))}:function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=new Zs.AsyncSubject,o=!0;return new Hs.Observable(function(i){var a=s.subscribe(i);if(o){o=!1;var l=!1,u=!1;r.apply(t,$s($s([],Us(n)),[function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(e){var n=t.shift();if(null!=n)return void s.error(n)}s.next(1<t.length?t:t[0]),u=!0,l&&s.complete()}])),u&&s.complete(),l=!0}return a})}},Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.bindCallback=void 0;var Ks=Rs;Ls.bindCallback=function(t,e,r){return Ks.bindCallbackInternals(!1,t,e,r)};var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.bindNodeCallback=void 0;var Xs=Rs;Qs.bindNodeCallback=function(t,e,r){return Xs.bindCallbackInternals(!0,t,e,r)};var Js={},to={};Object.defineProperty(to,"__esModule",{value:!0}),to.argsArgArrayOrObject=void 0;var eo=Array.isArray,ro=Object.getPrototypeOf,no=Object.prototype,io=Object.keys;to.argsArgArrayOrObject=function(t){if(1===t.length){var e=t[0];if(eo(e))return{args:e,keys:null};if((n=e)&&"object"==typeof n&&ro(n)===no){var r=io(e);return{args:r.map(function(t){return e[t]}),keys:r}}}var n;return{args:t,keys:null}};var so={};Object.defineProperty(so,"__esModule",{value:!0}),so.createObject=void 0,so.createObject=function(t,e){return t.reduce(function(t,r,n){return t[r]=e[n],t},{})},Object.defineProperty(Js,"__esModule",{value:!0}),Js.combineLatestInit=Js.combineLatest=void 0;var oo=zt,ao=to,lo=jn,uo=be,co=Cs,ho=xn,fo=so,po=Re,bo=Si;function yo(t,e,r){return void 0===r&&(r=uo.identity),function(n){mo(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,l=function(i){mo(e,function(){var l=lo.from(t[i],e),u=!1;l.subscribe(po.createOperatorSubscriber(n,function(t){s[i]=t,u||(u=!0,a--),a||n.next(r(s.slice()))},function(){--o||n.complete()}))},n)},u=0;u<i;u++)l(u)},n)}}function mo(t,e,r){t?bo.executeSchedule(r,t,e):e()}Js.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ho.popScheduler(t),n=ho.popResultSelector(t),i=ao.argsArgArrayOrObject(t),s=i.args,o=i.keys;if(0===s.length)return lo.from([],r);var a=new oo.Observable(yo(s,r,o?function(t){return fo.createObject(o,t)}:uo.identity));return n?a.pipe(co.mapOneOrManyArgs(n)):a},Js.combineLatestInit=yo;var vo={},go={},wo={},_o={},So={};Object.defineProperty(So,"__esModule",{value:!0}),So.mergeInternals=void 0;var Eo=Cn,Oo=Si,xo=Re;So.mergeInternals=function(t,e,r,n,i,s,o,a){var l=[],u=0,c=0,h=!1,f=function(){!h||l.length||u||e.complete()},d=function(t){return u<n?p(t):l.push(t)},p=function(t){s&&e.next(t),u++;var a=!1;Eo.innerFrom(r(t,c++)).subscribe(xo.createOperatorSubscriber(e,function(t){null==i||i(t),s?d(t):e.next(t)},function(){a=!0},void 0,function(){if(a)try{u--;for(var t=function(){var t=l.shift();o?Oo.executeSchedule(e,o,function(){return p(t)}):p(t)};l.length&&u<n;)t();f()}catch(t){e.error(t)}}))};return t.subscribe(xo.createOperatorSubscriber(e,d,function(){h=!0,f()})),function(){null==a||a()}},Object.defineProperty(_o,"__esModule",{value:!0}),_o.mergeMap=void 0;var To=Is,ko=Cn,Po=Ae,Ao=So,Mo=Ut;_o.mergeMap=function t(e,r,n){return void 0===n&&(n=1/0),Mo.isFunction(r)?t(function(t,n){return To.map(function(e,i){return r(t,e,n,i)})(ko.innerFrom(e(t,n)))},n):("number"==typeof r&&(n=r),Po.operate(function(t,r){return Ao.mergeInternals(t,r,e,n)}))},Object.defineProperty(wo,"__esModule",{value:!0}),wo.mergeAll=void 0;var jo=_o,Lo=be;wo.mergeAll=function(t){return void 0===t&&(t=1/0),jo.mergeMap(Lo.identity,t)},Object.defineProperty(go,"__esModule",{value:!0}),go.concatAll=void 0;var Ro=wo;go.concatAll=function(){return Ro.mergeAll(1)},Object.defineProperty(vo,"__esModule",{value:!0}),vo.concat=void 0;var Co=go,Io=xn,Fo=jn;vo.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Co.concatAll()(Fo.from(t,Io.popScheduler(t)))};var Do={},No={};Object.defineProperty(No,"__esModule",{value:!0}),No.defer=void 0;var Bo=zt,zo=Cn;No.defer=function(t){return new Bo.Observable(function(e){zo.innerFrom(t()).subscribe(e)})},Object.defineProperty(Do,"__esModule",{value:!0}),Do.connectable=void 0;var Wo=tr,Uo=zt,$o=No,Go={connector:function(){return new Wo.Subject},resetOnDisconnect:!0};Do.connectable=function(t,e){void 0===e&&(e=Go);var r=null,n=e.connector,i=e.resetOnDisconnect,s=void 0===i||i,o=n(),a=new Uo.Observable(function(t){return o.subscribe(t)});return a.connect=function(){return r&&!r.closed||(r=$o.defer(function(){return t}).subscribe(o),s&&r.add(function(){return o=n()})),r},a};var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.forkJoin=void 0;var qo=zt,Vo=to,Yo=Cn,Zo=xn,Ko=Re,Qo=Cs,Xo=so;Ho.forkJoin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Zo.popResultSelector(t),n=Vo.argsArgArrayOrObject(t),i=n.args,s=n.keys,o=new qo.Observable(function(t){var e=i.length;if(e)for(var r=new Array(e),n=e,o=e,a=function(e){var a=!1;Yo.innerFrom(i[e]).subscribe(Ko.createOperatorSubscriber(t,function(t){a||(a=!0,o--),r[e]=t},function(){return n--},void 0,function(){n&&a||(o||t.next(s?Xo.createObject(s,r):r),t.complete())}))},l=0;l<e;l++)a(l);else t.complete()});return r?o.pipe(Qo.mapOneOrManyArgs(r)):o};var Jo={},ta=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o};Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.fromEvent=void 0;var ea=Cn,ra=zt,na=_o,ia=In,sa=Ut,oa=Cs,aa=["addListener","removeListener"],la=["addEventListener","removeEventListener"],ua=["on","off"];function ca(t,e){return function(r){return function(n){return t[r](e,n)}}}Jo.fromEvent=function t(e,r,n,i){if(sa.isFunction(n)&&(i=n,n=void 0),i)return t(e,r,n).pipe(oa.mapOneOrManyArgs(i));var s=ta(function(t){return sa.isFunction(t.addEventListener)&&sa.isFunction(t.removeEventListener)}(e)?la.map(function(t){return function(i){return e[t](r,i,n)}}):function(t){return sa.isFunction(t.addListener)&&sa.isFunction(t.removeListener)}(e)?aa.map(ca(e,r)):function(t){return sa.isFunction(t.on)&&sa.isFunction(t.off)}(e)?ua.map(ca(e,r)):[],2),o=s[0],a=s[1];if(!o&&ia.isArrayLike(e))return na.mergeMap(function(e){return t(e,r,n)})(ea.innerFrom(e));if(!o)throw new TypeError("Invalid event target");return new ra.Observable(function(t){var e=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1<e.length?e:e[0])};return o(e),function(){return a(e)}})};var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),ha.fromEventPattern=void 0;var fa=zt,da=Ut,pa=Cs;ha.fromEventPattern=function t(e,r,n){return n?t(e,r).pipe(pa.mapOneOrManyArgs(n)):new fa.Observable(function(t){var n=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1===e.length?e[0]:e)},i=e(n);return da.isFunction(r)?function(){return r(n,i)}:void 0})};var ba={},ya=X&&X.__generator||function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(ba,"__esModule",{value:!0}),ba.generate=void 0;var ma=be,va=Tn,ga=No,wa=Di;ba.generate=function(t,e,r,n,i){var s,o,a,l;function u(){var t;return ya(this,function(n){switch(n.label){case 0:t=l,n.label=1;case 1:return e&&!e(t)?[3,4]:[4,a(t)];case 2:n.sent(),n.label=3;case 3:return t=r(t),[3,1];case 4:return[2]}})}return 1===arguments.length?(l=(s=t).initialState,e=s.condition,r=s.iterate,o=s.resultSelector,a=void 0===o?ma.identity:o,i=s.scheduler):(l=t,!n||va.isScheduler(n)?(a=ma.identity,i=n):a=n),ga.defer(i?function(){return wa.scheduleIterable(u(),i)}:u)};var _a={};Object.defineProperty(_a,"__esModule",{value:!0}),_a.iif=void 0;var Sa=No;_a.iif=function(t,e,r){return Sa.defer(function(){return t()?e:r})};var Ea={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.timer=void 0;var xa=zt,Ta=Jr,ka=Tn,Pa=js;Oa.timer=function(t,e,r){void 0===t&&(t=0),void 0===r&&(r=Ta.async);var n=-1;return null!=e&&(ka.isScheduler(e)?r=e:n=e),new xa.Observable(function(e){var i=Pa.isValidDate(t)?+t-r.now():t;i<0&&(i=0);var s=0;return r.schedule(function(){e.closed||(e.next(s++),0<=n?this.schedule(void 0,n):e.complete())},i)})},Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.interval=void 0;var Aa=Jr,Ma=Oa;Ea.interval=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=Aa.asyncScheduler),t<0&&(t=0),Ma.timer(t,t,e)};var ja={};Object.defineProperty(ja,"__esModule",{value:!0}),ja.merge=void 0;var La=wo,Ra=Cn,Ca=En,Ia=xn,Fa=jn;ja.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ia.popScheduler(t),n=Ia.popNumber(t,1/0),i=t;return i.length?1===i.length?Ra.innerFrom(i[0]):La.mergeAll(n)(Fa.from(i,r)):Ca.EMPTY};var Da={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var e=zt,r=ae;t.NEVER=new e.Observable(r.noop),t.never=function(){return t.NEVER}}(Da);var Na={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.argsOrArgArray=void 0;var za=Array.isArray;Ba.argsOrArgArray=function(t){return 1===t.length&&za(t[0])?t[0]:t},Object.defineProperty(Na,"__esModule",{value:!0}),Na.onErrorResumeNext=void 0;var Wa=zt,Ua=Ba,$a=Re,Ga=ae,Ha=Cn;Na.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ua.argsOrArgArray(t);return new Wa.Observable(function(t){var e=0,n=function(){if(e<r.length){var i=void 0;try{i=Ha.innerFrom(r[e++])}catch(t){return void n()}var s=new $a.OperatorSubscriber(t,void 0,Ga.noop,Ga.noop);i.subscribe(s),s.add(n)}else t.complete()};n()})};var qa={};Object.defineProperty(qa,"__esModule",{value:!0}),qa.pairs=void 0;var Va=jn;qa.pairs=function(t,e){return Va.from(Object.entries(t),e)};var Ya={},Za={};Object.defineProperty(Za,"__esModule",{value:!0}),Za.not=void 0,Za.not=function(t,e){return function(r,n){return!t.call(e,r,n)}};var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.filter=void 0;var Qa=Ae,Xa=Re;Ka.filter=function(t,e){return Qa.operate(function(r,n){var i=0;r.subscribe(Xa.createOperatorSubscriber(n,function(r){return t.call(e,r,i++)&&n.next(r)}))})},Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.partition=void 0;var Ja=Za,tl=Ka,el=Cn;Ya.partition=function(t,e,r){return[tl.filter(e,r)(el.innerFrom(t)),tl.filter(Ja.not(e,r))(el.innerFrom(t))]};var rl={};Object.defineProperty(rl,"__esModule",{value:!0}),rl.raceInit=rl.race=void 0;var nl=zt,il=Cn,sl=Ba,ol=Re;function al(t){return function(e){for(var r=[],n=function(n){r.push(il.innerFrom(t[n]).subscribe(ol.createOperatorSubscriber(e,function(t){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}e.next(t)})))},i=0;r&&!e.closed&&i<t.length;i++)n(i)}}rl.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===(t=sl.argsOrArgArray(t)).length?il.innerFrom(t[0]):new nl.Observable(al(t))},rl.raceInit=al;var ll={};Object.defineProperty(ll,"__esModule",{value:!0}),ll.range=void 0;var ul=zt,cl=En;ll.range=function(t,e,r){if(null==e&&(e=t,t=0),e<=0)return cl.EMPTY;var n=e+t;return new ul.Observable(r?function(e){var i=t;return r.schedule(function(){i<n?(e.next(i++),this.schedule()):e.complete()})}:function(e){for(var r=t;r<n&&!e.closed;)e.next(r++);e.complete()})};var hl={};Object.defineProperty(hl,"__esModule",{value:!0}),hl.using=void 0;var fl=zt,dl=Cn,pl=En;hl.using=function(t,e){return new fl.Observable(function(r){var n=t(),i=e(n);return(i?dl.innerFrom(i):pl.EMPTY).subscribe(r),function(){n&&n.unsubscribe()}})};var bl={},yl=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},ml=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(bl,"__esModule",{value:!0}),bl.zip=void 0;var vl=zt,gl=Cn,wl=Ba,_l=En,Sl=Re,El=xn;bl.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=El.popResultSelector(t),n=wl.argsOrArgArray(t);return n.length?new vl.Observable(function(t){var e=n.map(function(){return[]}),i=n.map(function(){return!1});t.add(function(){e=i=null});for(var s=function(s){gl.innerFrom(n[s]).subscribe(Sl.createOperatorSubscriber(t,function(n){if(e[s].push(n),e.every(function(t){return t.length})){var o=e.map(function(t){return t.shift()});t.next(r?r.apply(void 0,ml([],yl(o))):o),e.some(function(t,e){return!t.length&&i[e]})&&t.complete()}},function(){i[s]=!0,!e[s].length&&t.complete()}))},o=0;!t.closed&&o<n.length;o++)s(o);return function(){e=i=null}}):_l.EMPTY};var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});var xl={};Object.defineProperty(xl,"__esModule",{value:!0}),xl.audit=void 0;var Tl=Ae,kl=Cn,Pl=Re;xl.audit=function(t){return Tl.operate(function(e,r){var n=!1,i=null,s=null,o=!1,a=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var t=i;i=null,r.next(t)}o&&r.complete()},l=function(){s=null,o&&r.complete()};e.subscribe(Pl.createOperatorSubscriber(r,function(e){n=!0,i=e,s||kl.innerFrom(t(e)).subscribe(s=Pl.createOperatorSubscriber(r,a,l))},function(){o=!0,(!n||!s||s.closed)&&r.complete()}))})};var Al={};Object.defineProperty(Al,"__esModule",{value:!0}),Al.auditTime=void 0;var Ml=Jr,jl=xl,Ll=Oa;Al.auditTime=function(t,e){return void 0===e&&(e=Ml.asyncScheduler),jl.audit(function(){return Ll.timer(t,e)})};var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.buffer=void 0;var Cl=Ae,Il=ae,Fl=Re,Dl=Cn;Rl.buffer=function(t){return Cl.operate(function(e,r){var n=[];return e.subscribe(Fl.createOperatorSubscriber(r,function(t){return n.push(t)},function(){r.next(n),r.complete()})),Dl.innerFrom(t).subscribe(Fl.createOperatorSubscriber(r,function(){var t=n;n=[],r.next(t)},Il.noop)),function(){n=null}})};var Nl={},Bl=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.bufferCount=void 0;var zl=Ae,Wl=Re,Ul=Vt;Nl.bufferCount=function(t,e){return void 0===e&&(e=null),e=null!=e?e:t,zl.operate(function(r,n){var i=[],s=0;r.subscribe(Wl.createOperatorSubscriber(n,function(r){var o,a,l,u,c=null;s++%e===0&&i.push([]);try{for(var h=Bl(i),f=h.next();!f.done;f=h.next()){(b=f.value).push(r),t<=b.length&&(c=null!=c?c:[]).push(b)}}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}if(c)try{for(var d=Bl(c),p=d.next();!p.done;p=d.next()){var b=p.value;Ul.arrRemove(i,b),n.next(b)}}catch(t){l={error:t}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}},function(){var t,e;try{for(var r=Bl(i),s=r.next();!s.done;s=r.next()){var o=s.value;n.next(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}n.complete()},void 0,function(){i=null}))})};var $l={},Gl=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($l,"__esModule",{value:!0}),$l.bufferTime=void 0;var Hl=$t,ql=Ae,Vl=Re,Yl=Vt,Zl=Jr,Kl=xn,Ql=Si;$l.bufferTime=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=null!==(e=Kl.popScheduler(n))&&void 0!==e?e:Zl.asyncScheduler,o=null!==(r=n[0])&&void 0!==r?r:null,a=n[1]||1/0;return ql.operate(function(e,r){var n=[],i=!1,l=function(t){var e=t.buffer;t.subs.unsubscribe(),Yl.arrRemove(n,t),r.next(e),i&&u()},u=function(){if(n){var e=new Hl.Subscription;r.add(e);var i={buffer:[],subs:e};n.push(i),Ql.executeSchedule(e,s,function(){return l(i)},t)}};null!==o&&o>=0?Ql.executeSchedule(r,s,u,o,!0):i=!0,u();var c=Vl.createOperatorSubscriber(r,function(t){var e,r,i=n.slice();try{for(var s=Gl(i),o=s.next();!o.done;o=s.next()){var u=o.value,c=u.buffer;c.push(t),a<=c.length&&l(u)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}},function(){for(;null==n?void 0:n.length;)r.next(n.shift().buffer);null==c||c.unsubscribe(),r.complete(),r.unsubscribe()},void 0,function(){return n=null});e.subscribe(c)})};var Xl={},Jl=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.bufferToggle=void 0;var tu=$t,eu=Ae,ru=Cn,nu=Re,iu=ae,su=Vt;Xl.bufferToggle=function(t,e){return eu.operate(function(r,n){var i=[];ru.innerFrom(t).subscribe(nu.createOperatorSubscriber(n,function(t){var r=[];i.push(r);var s=new tu.Subscription;s.add(ru.innerFrom(e(t)).subscribe(nu.createOperatorSubscriber(n,function(){su.arrRemove(i,r),n.next(r),s.unsubscribe()},iu.noop)))},iu.noop)),r.subscribe(nu.createOperatorSubscriber(n,function(t){var e,r;try{for(var n=Jl(i),s=n.next();!s.done;s=n.next()){s.value.push(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})};var ou={};Object.defineProperty(ou,"__esModule",{value:!0}),ou.bufferWhen=void 0;var au=Ae,lu=ae,uu=Re,cu=Cn;ou.bufferWhen=function(t){return au.operate(function(e,r){var n=null,i=null,s=function(){null==i||i.unsubscribe();var e=n;n=[],e&&r.next(e),cu.innerFrom(t()).subscribe(i=uu.createOperatorSubscriber(r,s,lu.noop))};s(),e.subscribe(uu.createOperatorSubscriber(r,function(t){return null==n?void 0:n.push(t)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})};var hu={};Object.defineProperty(hu,"__esModule",{value:!0}),hu.catchError=void 0;var fu=Cn,du=Re,pu=Ae;hu.catchError=function t(e){return pu.operate(function(r,n){var i,s=null,o=!1;s=r.subscribe(du.createOperatorSubscriber(n,void 0,void 0,function(a){i=fu.innerFrom(e(a,t(e)(r))),s?(s.unsubscribe(),s=null,i.subscribe(n)):o=!0})),o&&(s.unsubscribe(),s=null,i.subscribe(n))})};var bu={},yu={},mu={},vu={},gu={},wu={};Object.defineProperty(wu,"__esModule",{value:!0}),wu.scanInternals=void 0;var _u=Re;wu.scanInternals=function(t,e,r,n,i){return function(s,o){var a=r,l=e,u=0;s.subscribe(_u.createOperatorSubscriber(o,function(e){var r=u++;l=a?t(l,e,r):(a=!0,e),n&&o.next(l)},i&&function(){a&&o.next(l),o.complete()}))}},Object.defineProperty(gu,"__esModule",{value:!0}),gu.reduce=void 0;var Su=wu,Eu=Ae;gu.reduce=function(t,e){return Eu.operate(Su.scanInternals(t,e,arguments.length>=2,!1,!0))},Object.defineProperty(vu,"__esModule",{value:!0}),vu.toArray=void 0;var Ou=gu,xu=Ae,Tu=function(t,e){return t.push(e),t};vu.toArray=function(){return xu.operate(function(t,e){Ou.reduce(Tu,[])(t).subscribe(e)})},Object.defineProperty(mu,"__esModule",{value:!0}),mu.joinAllInternals=void 0;var ku=be,Pu=Cs,Au=pe,Mu=_o,ju=vu;mu.joinAllInternals=function(t,e){return Au.pipe(ju.toArray(),Mu.mergeMap(function(e){return t(e)}),e?Pu.mapOneOrManyArgs(e):ku.identity)},Object.defineProperty(yu,"__esModule",{value:!0}),yu.combineLatestAll=void 0;var Lu=Js,Ru=mu;yu.combineLatestAll=function(t){return Ru.joinAllInternals(Lu.combineLatest,t)},Object.defineProperty(bu,"__esModule",{value:!0}),bu.combineAll=void 0;var Cu=yu;bu.combineAll=Cu.combineLatestAll;var Iu={},Fu={},Du=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Nu=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.combineLatest=void 0;var Bu=Js,zu=Ae,Wu=Ba,Uu=Cs,$u=pe,Gu=xn;Fu.combineLatest=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Gu.popResultSelector(e);return n?$u.pipe(t.apply(void 0,Nu([],Du(e))),Uu.mapOneOrManyArgs(n)):zu.operate(function(t,r){Bu.combineLatestInit(Nu([t],Du(Wu.argsOrArgArray(e))))(r)})};var Hu=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},qu=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.combineLatestWith=void 0;var Vu=Fu;Iu.combineLatestWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vu.combineLatest.apply(void 0,qu([],Hu(t)))};var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.concatMap=void 0;var Zu=_o,Ku=Ut;Yu.concatMap=function(t,e){return Ku.isFunction(e)?Zu.mergeMap(t,e,1):Zu.mergeMap(t,1)};var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.concatMapTo=void 0;var Xu=Yu,Ju=Ut;Qu.concatMapTo=function(t,e){return Ju.isFunction(e)?Xu.concatMap(function(){return t},e):Xu.concatMap(function(){return t})};var tc={},ec={},rc=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},nc=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(ec,"__esModule",{value:!0}),ec.concat=void 0;var ic=Ae,sc=go,oc=xn,ac=jn;ec.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=oc.popScheduler(t);return ic.operate(function(e,n){sc.concatAll()(ac.from(nc([e],rc(t)),r)).subscribe(n)})};var lc=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},uc=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(tc,"__esModule",{value:!0}),tc.concatWith=void 0;var cc=ec;tc.concatWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cc.concat.apply(void 0,uc([],lc(t)))};var hc={},fc={};Object.defineProperty(fc,"__esModule",{value:!0}),fc.fromSubscribable=void 0;var dc=zt;fc.fromSubscribable=function(t){return new dc.Observable(function(e){return t.subscribe(e)})},Object.defineProperty(hc,"__esModule",{value:!0}),hc.connect=void 0;var pc=tr,bc=Cn,yc=Ae,mc=fc,vc={connector:function(){return new pc.Subject}};hc.connect=function(t,e){void 0===e&&(e=vc);var r=e.connector;return yc.operate(function(e,n){var i=r();bc.innerFrom(t(mc.fromSubscribable(i))).subscribe(n),n.add(e.subscribe(i))})};var gc={};Object.defineProperty(gc,"__esModule",{value:!0}),gc.count=void 0;var wc=gu;gc.count=function(t){return wc.reduce(function(e,r,n){return!t||t(r,n)?e+1:e},0)};var _c={};Object.defineProperty(_c,"__esModule",{value:!0}),_c.debounce=void 0;var Sc=Ae,Ec=ae,Oc=Re,xc=Cn;_c.debounce=function(t){return Sc.operate(function(e,r){var n=!1,i=null,s=null,o=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var t=i;i=null,r.next(t)}};e.subscribe(Oc.createOperatorSubscriber(r,function(e){null==s||s.unsubscribe(),n=!0,i=e,s=Oc.createOperatorSubscriber(r,o,Ec.noop),xc.innerFrom(t(e)).subscribe(s)},function(){o(),r.complete()},void 0,function(){i=s=null}))})};var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.debounceTime=void 0;var kc=Jr,Pc=Ae,Ac=Re;Tc.debounceTime=function(t,e){return void 0===e&&(e=kc.asyncScheduler),Pc.operate(function(r,n){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var t=s;s=null,n.next(t)}};function l(){var r=o+t,s=e.now();if(s<r)return i=this.schedule(void 0,r-s),void n.add(i);a()}r.subscribe(Ac.createOperatorSubscriber(n,function(r){s=r,o=e.now(),i||(i=e.schedule(l,t),n.add(i))},function(){a(),n.complete()},void 0,function(){s=i=null}))})};var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.defaultIfEmpty=void 0;var jc=Ae,Lc=Re;Mc.defaultIfEmpty=function(t){return jc.operate(function(e,r){var n=!1;e.subscribe(Lc.createOperatorSubscriber(r,function(t){n=!0,r.next(t)},function(){n||r.next(t),r.complete()}))})};var Rc={},Cc={},Ic={};Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.take=void 0;var Fc=En,Dc=Ae,Nc=Re;Ic.take=function(t){return t<=0?function(){return Fc.EMPTY}:Dc.operate(function(e,r){var n=0;e.subscribe(Nc.createOperatorSubscriber(r,function(e){++n<=t&&(r.next(e),t<=n&&r.complete())}))})};var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.ignoreElements=void 0;var zc=Ae,Wc=Re,Uc=ae;Bc.ignoreElements=function(){return zc.operate(function(t,e){t.subscribe(Wc.createOperatorSubscriber(e,Uc.noop))})};var $c={};Object.defineProperty($c,"__esModule",{value:!0}),$c.mapTo=void 0;var Gc=Is;$c.mapTo=function(t){return Gc.map(function(){return t})},Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.delayWhen=void 0;var Hc=vo,qc=Ic,Vc=Bc,Yc=$c,Zc=_o,Kc=Cn;Cc.delayWhen=function t(e,r){return r?function(n){return Hc.concat(r.pipe(qc.take(1),Vc.ignoreElements()),n.pipe(t(e)))}:Zc.mergeMap(function(t,r){return Kc.innerFrom(e(t,r)).pipe(qc.take(1),Yc.mapTo(t))})},Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.delay=void 0;var Qc=Jr,Xc=Cc,Jc=Oa;Rc.delay=function(t,e){void 0===e&&(e=Qc.asyncScheduler);var r=Jc.timer(t,e);return Xc.delayWhen(function(){return r})};var th={};Object.defineProperty(th,"__esModule",{value:!0}),th.dematerialize=void 0;var eh=Sn,rh=Ae,nh=Re;th.dematerialize=function(){return rh.operate(function(t,e){t.subscribe(nh.createOperatorSubscriber(e,function(t){return eh.observeNotification(t,e)}))})};var ih={};Object.defineProperty(ih,"__esModule",{value:!0}),ih.distinct=void 0;var sh=Ae,oh=Re,ah=ae,lh=Cn;ih.distinct=function(t,e){return sh.operate(function(r,n){var i=new Set;r.subscribe(oh.createOperatorSubscriber(n,function(e){var r=t?t(e):e;i.has(r)||(i.add(r),n.next(e))})),e&&lh.innerFrom(e).subscribe(oh.createOperatorSubscriber(n,function(){return i.clear()},ah.noop))})};var uh={};Object.defineProperty(uh,"__esModule",{value:!0}),uh.distinctUntilChanged=void 0;var ch=be,hh=Ae,fh=Re;function dh(t,e){return t===e}uh.distinctUntilChanged=function(t,e){return void 0===e&&(e=ch.identity),t=null!=t?t:dh,hh.operate(function(r,n){var i,s=!0;r.subscribe(fh.createOperatorSubscriber(n,function(r){var o=e(r);!s&&t(i,o)||(s=!1,i=o,n.next(r))}))})};var ph={};Object.defineProperty(ph,"__esModule",{value:!0}),ph.distinctUntilKeyChanged=void 0;var bh=uh;ph.distinctUntilKeyChanged=function(t,e){return bh.distinctUntilChanged(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})};var yh={},mh={};Object.defineProperty(mh,"__esModule",{value:!0}),mh.throwIfEmpty=void 0;var vh=vs,gh=Ae,wh=Re;function _h(){return new vh.EmptyError}mh.throwIfEmpty=function(t){return void 0===t&&(t=_h),gh.operate(function(e,r){var n=!1;e.subscribe(wh.createOperatorSubscriber(r,function(t){n=!0,r.next(t)},function(){return n?r.complete():r.error(t())}))})},Object.defineProperty(yh,"__esModule",{value:!0}),yh.elementAt=void 0;var Sh=Os,Eh=Ka,Oh=mh,xh=Mc,Th=Ic;yh.elementAt=function(t,e){if(t<0)throw new Sh.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(Eh.filter(function(e,r){return r===t}),Th.take(1),r?xh.defaultIfEmpty(e):Oh.throwIfEmpty(function(){return new Sh.ArgumentOutOfRangeError}))}};var kh={},Ph=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Ah=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(kh,"__esModule",{value:!0}),kh.endWith=void 0;var Mh=vo,jh=On;kh.endWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Mh.concat(e,jh.of.apply(void 0,Ah([],Ph(t))))}};var Lh={};Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.every=void 0;var Rh=Ae,Ch=Re;Lh.every=function(t,e){return Rh.operate(function(r,n){var i=0;r.subscribe(Ch.createOperatorSubscriber(n,function(s){t.call(e,s,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})};var Ih={},Fh={},Dh={};Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.exhaustMap=void 0;var Nh=Is,Bh=Cn,zh=Ae,Wh=Re;Dh.exhaustMap=function t(e,r){return r?function(n){return n.pipe(t(function(t,n){return Bh.innerFrom(e(t,n)).pipe(Nh.map(function(e,i){return r(t,e,n,i)}))}))}:zh.operate(function(t,r){var n=0,i=null,s=!1;t.subscribe(Wh.createOperatorSubscriber(r,function(t){i||(i=Wh.createOperatorSubscriber(r,void 0,function(){i=null,s&&r.complete()}),Bh.innerFrom(e(t,n++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})},Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.exhaustAll=void 0;var Uh=Dh,$h=be;Fh.exhaustAll=function(){return Uh.exhaustMap($h.identity)},Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.exhaust=void 0;var Gh=Fh;Ih.exhaust=Gh.exhaustAll;var Hh={};Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.expand=void 0;var qh=Ae,Vh=So;Hh.expand=function(t,e,r){return void 0===e&&(e=1/0),e=(e||0)<1?1/0:e,qh.operate(function(n,i){return Vh.mergeInternals(n,i,t,e,void 0,!0,r)})};var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.finalize=void 0;var Zh=Ae;Yh.finalize=function(t){return Zh.operate(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})};var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.createFind=Kh.find=void 0;var Qh=Ae,Xh=Re;function Jh(t,e,r){var n="index"===r;return function(r,i){var s=0;r.subscribe(Xh.createOperatorSubscriber(i,function(o){var a=s++;t.call(e,o,a,r)&&(i.next(n?a:o),i.complete())},function(){i.next(n?-1:void 0),i.complete()}))}}Kh.find=function(t,e){return Qh.operate(Jh(t,e,"value"))},Kh.createFind=Jh;var tf={};Object.defineProperty(tf,"__esModule",{value:!0}),tf.findIndex=void 0;var ef=Ae,rf=Kh;tf.findIndex=function(t,e){return ef.operate(rf.createFind(t,e,"index"))};var nf={};Object.defineProperty(nf,"__esModule",{value:!0}),nf.first=void 0;var sf=vs,of=Ka,af=Ic,lf=Mc,uf=mh,cf=be;nf.first=function(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?of.filter(function(e,r){return t(e,r,n)}):cf.identity,af.take(1),r?lf.defaultIfEmpty(e):uf.throwIfEmpty(function(){return new sf.EmptyError}))}};var hf={};Object.defineProperty(hf,"__esModule",{value:!0}),hf.groupBy=void 0;var ff=zt,df=Cn,pf=tr,bf=Ae,yf=Re;hf.groupBy=function(t,e,r,n){return bf.operate(function(i,s){var o;e&&"function"!=typeof e?(r=e.duration,o=e.element,n=e.connector):o=e;var a=new Map,l=function(t){a.forEach(t),t(s)},u=function(t){return l(function(e){return e.error(t)})},c=0,h=!1,f=new yf.OperatorSubscriber(s,function(e){try{var i=t(e),l=a.get(i);if(!l){a.set(i,l=n?n():new pf.Subject);var d=(b=i,y=l,(m=new ff.Observable(function(t){c++;var e=y.subscribe(t);return function(){e.unsubscribe(),0===--c&&h&&f.unsubscribe()}})).key=b,m);if(s.next(d),r){var p=yf.createOperatorSubscriber(l,function(){l.complete(),null==p||p.unsubscribe()},void 0,void 0,function(){return a.delete(i)});f.add(df.innerFrom(r(d)).subscribe(p))}}l.next(o?o(e):e)}catch(t){u(t)}var b,y,m},function(){return l(function(t){return t.complete()})},u,function(){return a.clear()},function(){return h=!0,0===c});i.subscribe(f)})};var mf={};Object.defineProperty(mf,"__esModule",{value:!0}),mf.isEmpty=void 0;var vf=Ae,gf=Re;mf.isEmpty=function(){return vf.operate(function(t,e){t.subscribe(gf.createOperatorSubscriber(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})};var wf={},_f={},Sf=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(_f,"__esModule",{value:!0}),_f.takeLast=void 0;var Ef=En,Of=Ae,xf=Re;_f.takeLast=function(t){return t<=0?function(){return Ef.EMPTY}:Of.operate(function(e,r){var n=[];e.subscribe(xf.createOperatorSubscriber(r,function(e){n.push(e),t<n.length&&n.shift()},function(){var t,e;try{for(var i=Sf(n),s=i.next();!s.done;s=i.next()){var o=s.value;r.next(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}r.complete()},void 0,function(){n=null}))})},Object.defineProperty(wf,"__esModule",{value:!0}),wf.last=void 0;var Tf=vs,kf=Ka,Pf=_f,Af=mh,Mf=Mc,jf=be;wf.last=function(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?kf.filter(function(e,r){return t(e,r,n)}):jf.identity,Pf.takeLast(1),r?Mf.defaultIfEmpty(e):Af.throwIfEmpty(function(){return new Tf.EmptyError}))}};var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.materialize=void 0;var Rf=Sn,Cf=Ae,If=Re;Lf.materialize=function(){return Cf.operate(function(t,e){t.subscribe(If.createOperatorSubscriber(e,function(t){e.next(Rf.Notification.createNext(t))},function(){e.next(Rf.Notification.createComplete()),e.complete()},function(t){e.next(Rf.Notification.createError(t)),e.complete()}))})};var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.max=void 0;var Df=gu,Nf=Ut;Ff.max=function(t){return Df.reduce(Nf.isFunction(t)?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e})};var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.flatMap=void 0;var zf=_o;Bf.flatMap=zf.mergeMap;var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.mergeMapTo=void 0;var Uf=_o,$f=Ut;Wf.mergeMapTo=function(t,e,r){return void 0===r&&(r=1/0),$f.isFunction(e)?Uf.mergeMap(function(){return t},e,r):("number"==typeof e&&(r=e),Uf.mergeMap(function(){return t},r))};var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.mergeScan=void 0;var Hf=Ae,qf=So;Gf.mergeScan=function(t,e,r){return void 0===r&&(r=1/0),Hf.operate(function(n,i){var s=e;return qf.mergeInternals(n,i,function(e,r){return t(s,e,r)},r,function(t){s=t},!1,void 0,function(){return s=null})})};var Vf={},Yf={},Zf=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Kf=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.merge=void 0;var Qf=Ae,Xf=Ba,Jf=wo,td=xn,ed=jn;Yf.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=td.popScheduler(t),n=td.popNumber(t,1/0);return t=Xf.argsOrArgArray(t),Qf.operate(function(e,i){Jf.mergeAll(n)(ed.from(Kf([e],Zf(t)),r)).subscribe(i)})};var rd=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},nd=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.mergeWith=void 0;var id=Yf;Vf.mergeWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return id.merge.apply(void 0,nd([],rd(t)))};var sd={};Object.defineProperty(sd,"__esModule",{value:!0}),sd.min=void 0;var od=gu,ad=Ut;sd.min=function(t){return od.reduce(ad.isFunction(t)?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e})};var ld={};Object.defineProperty(ld,"__esModule",{value:!0}),ld.multicast=void 0;var ud=ke,cd=Ut,hd=hc;ld.multicast=function(t,e){var r=cd.isFunction(t)?t:function(){return t};return cd.isFunction(e)?hd.connect(e,{connector:r}):function(t){return new ud.ConnectableObservable(t,r)}};var fd={},dd=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},pd=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(fd,"__esModule",{value:!0}),fd.onErrorResumeNext=fd.onErrorResumeNextWith=void 0;var bd=Ba,yd=Na;function md(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=bd.argsOrArgArray(t);return function(t){return yd.onErrorResumeNext.apply(void 0,pd([t],dd(r)))}}fd.onErrorResumeNextWith=md,fd.onErrorResumeNext=md;var vd={};Object.defineProperty(vd,"__esModule",{value:!0}),vd.pairwise=void 0;var gd=Ae,wd=Re;vd.pairwise=function(){return gd.operate(function(t,e){var r,n=!1;t.subscribe(wd.createOperatorSubscriber(e,function(t){var i=r;r=t,n&&e.next([i,t]),n=!0}))})};var _d={};Object.defineProperty(_d,"__esModule",{value:!0}),_d.pluck=void 0;var Sd=Is;_d.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return Sd.map(function(e){for(var n=e,i=0;i<r;i++){var s=null==n?void 0:n[t[i]];if(void 0===s)return;n=s}return n})};var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.publish=void 0;var Od=tr,xd=ld,Td=hc;Ed.publish=function(t){return t?function(e){return Td.connect(t)(e)}:function(t){return xd.multicast(new Od.Subject)(t)}};var kd={};Object.defineProperty(kd,"__esModule",{value:!0}),kd.publishBehavior=void 0;var Pd=fr,Ad=ke;kd.publishBehavior=function(t){return function(e){var r=new Pd.BehaviorSubject(t);return new Ad.ConnectableObservable(e,function(){return r})}};var Md={};Object.defineProperty(Md,"__esModule",{value:!0}),Md.publishLast=void 0;var jd=wr,Ld=ke;Md.publishLast=function(){return function(t){var e=new jd.AsyncSubject;return new Ld.ConnectableObservable(t,function(){return e})}};var Rd={};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.publishReplay=void 0;var Cd=br,Id=ld,Fd=Ut;Rd.publishReplay=function(t,e,r,n){r&&!Fd.isFunction(r)&&(n=r);var i=Fd.isFunction(r)?r:void 0;return function(r){return Id.multicast(new Cd.ReplaySubject(t,e,n),i)(r)}};var Dd={},Nd=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Bd=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.raceWith=void 0;var zd=rl,Wd=Ae,Ud=be;Dd.raceWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?Wd.operate(function(e,r){zd.raceInit(Bd([e],Nd(t)))(r)}):Ud.identity};var $d={};Object.defineProperty($d,"__esModule",{value:!0}),$d.repeat=void 0;var Gd=En,Hd=Ae,qd=Re,Vd=Cn,Yd=Oa;$d.repeat=function(t){var e,r,n=1/0;return null!=t&&("object"==typeof t?(e=t.count,n=void 0===e?1/0:e,r=t.delay):n=t),n<=0?function(){return Gd.EMPTY}:Hd.operate(function(t,e){var i,s=0,o=function(){if(null==i||i.unsubscribe(),i=null,null!=r){var t="number"==typeof r?Yd.timer(r):Vd.innerFrom(r(s)),n=qd.createOperatorSubscriber(e,function(){n.unsubscribe(),a()});t.subscribe(n)}else a()},a=function(){var r=!1;i=t.subscribe(qd.createOperatorSubscriber(e,void 0,function(){++s<n?i?o():r=!0:e.complete()})),r&&o()};a()})};var Zd={};Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.repeatWhen=void 0;var Kd=Cn,Qd=tr,Xd=Ae,Jd=Re;Zd.repeatWhen=function(t){return Xd.operate(function(e,r){var n,i,s=!1,o=!1,a=!1,l=function(){return a&&o&&(r.complete(),!0)},u=function(){a=!1,n=e.subscribe(Jd.createOperatorSubscriber(r,void 0,function(){a=!0,!l()&&(i||(i=new Qd.Subject,Kd.innerFrom(t(i)).subscribe(Jd.createOperatorSubscriber(r,function(){n?u():s=!0},function(){o=!0,l()}))),i).next()})),s&&(n.unsubscribe(),n=null,s=!1,u())};u()})};var tp={};Object.defineProperty(tp,"__esModule",{value:!0}),tp.retry=void 0;var ep=Ae,rp=Re,np=be,ip=Oa,sp=Cn;tp.retry=function(t){var e;void 0===t&&(t=1/0);var r=(e=t&&"object"==typeof t?t:{count:t}).count,n=void 0===r?1/0:r,i=e.delay,s=e.resetOnSuccess,o=void 0!==s&&s;return n<=0?np.identity:ep.operate(function(t,e){var r,s=0,a=function(){var l=!1;r=t.subscribe(rp.createOperatorSubscriber(e,function(t){o&&(s=0),e.next(t)},void 0,function(t){if(s++<n){var o=function(){r?(r.unsubscribe(),r=null,a()):l=!0};if(null!=i){var u="number"==typeof i?ip.timer(i):sp.innerFrom(i(t,s)),c=rp.createOperatorSubscriber(e,function(){c.unsubscribe(),o()},function(){e.complete()});u.subscribe(c)}else o()}else e.error(t)})),l&&(r.unsubscribe(),r=null,a())};a()})};var op={};Object.defineProperty(op,"__esModule",{value:!0}),op.retryWhen=void 0;var ap=Cn,lp=tr,up=Ae,cp=Re;op.retryWhen=function(t){return up.operate(function(e,r){var n,i,s=!1,o=function(){n=e.subscribe(cp.createOperatorSubscriber(r,void 0,void 0,function(e){i||(i=new lp.Subject,ap.innerFrom(t(i)).subscribe(cp.createOperatorSubscriber(r,function(){return n?o():s=!0}))),i&&i.next(e)})),s&&(n.unsubscribe(),n=null,s=!1,o())};o()})};var hp={};Object.defineProperty(hp,"__esModule",{value:!0}),hp.sample=void 0;var fp=Cn,dp=Ae,pp=ae,bp=Re;hp.sample=function(t){return dp.operate(function(e,r){var n=!1,i=null;e.subscribe(bp.createOperatorSubscriber(r,function(t){n=!0,i=t})),fp.innerFrom(t).subscribe(bp.createOperatorSubscriber(r,function(){if(n){n=!1;var t=i;i=null,r.next(t)}},pp.noop))})};var yp={};Object.defineProperty(yp,"__esModule",{value:!0}),yp.sampleTime=void 0;var mp=Jr,vp=hp,gp=Ea;yp.sampleTime=function(t,e){return void 0===e&&(e=mp.asyncScheduler),vp.sample(gp.interval(t,e))};var wp={};Object.defineProperty(wp,"__esModule",{value:!0}),wp.scan=void 0;var _p=Ae,Sp=wu;wp.scan=function(t,e){return _p.operate(Sp.scanInternals(t,e,arguments.length>=2,!0))};var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.sequenceEqual=void 0;var Op=Ae,xp=Re,Tp=Cn;Ep.sequenceEqual=function(t,e){return void 0===e&&(e=function(t,e){return t===e}),Op.operate(function(r,n){var i={buffer:[],complete:!1},s={buffer:[],complete:!1},o=function(t){n.next(t),n.complete()},a=function(t,r){var i=xp.createOperatorSubscriber(n,function(n){var i=r.buffer,s=r.complete;0===i.length?s?o(!1):t.buffer.push(n):!e(n,i.shift())&&o(!1)},function(){t.complete=!0;var e=r.complete,n=r.buffer;e&&o(0===n.length),null==i||i.unsubscribe()});return i};r.subscribe(a(i,s)),Tp.innerFrom(t).subscribe(a(s,i))})};var kp={},Pp=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Ap=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(kp,"__esModule",{value:!0}),kp.share=void 0;var Mp=Cn,jp=tr,Lp=Wt,Rp=Ae;function Cp(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==e){if(!1!==e){var i=new Lp.SafeSubscriber({next:function(){i.unsubscribe(),t()}});return Mp.innerFrom(e.apply(void 0,Ap([],Pp(r)))).subscribe(i)}}else t()}kp.share=function(t){void 0===t&&(t={});var e=t.connector,r=void 0===e?function(){return new jp.Subject}:e,n=t.resetOnError,i=void 0===n||n,s=t.resetOnComplete,o=void 0===s||s,a=t.resetOnRefCountZero,l=void 0===a||a;return function(t){var e,n,s,a=0,u=!1,c=!1,h=function(){null==n||n.unsubscribe(),n=void 0},f=function(){h(),e=s=void 0,u=c=!1},d=function(){var t=e;f(),null==t||t.unsubscribe()};return Rp.operate(function(t,p){a++,c||u||h();var b=s=null!=s?s:r();p.add(function(){0!==--a||c||u||(n=Cp(d,l))}),b.subscribe(p),!e&&a>0&&(e=new Lp.SafeSubscriber({next:function(t){return b.next(t)},error:function(t){c=!0,h(),n=Cp(f,i,t),b.error(t)},complete:function(){u=!0,h(),n=Cp(f,o),b.complete()}}),Mp.innerFrom(t).subscribe(e))})(t)}};var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.shareReplay=void 0;var Fp=br,Dp=kp;Ip.shareReplay=function(t,e,r){var n,i,s,o,a=!1;return t&&"object"==typeof t?(n=t.bufferSize,o=void 0===n?1/0:n,i=t.windowTime,e=void 0===i?1/0:i,a=void 0!==(s=t.refCount)&&s,r=t.scheduler):o=null!=t?t:1/0,Dp.share({connector:function(){return new Fp.ReplaySubject(o,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})};var Np={};Object.defineProperty(Np,"__esModule",{value:!0}),Np.single=void 0;var Bp=vs,zp=Ps,Wp=Ts,Up=Ae,$p=Re;Np.single=function(t){return Up.operate(function(e,r){var n,i=!1,s=!1,o=0;e.subscribe($p.createOperatorSubscriber(r,function(a){s=!0,t&&!t(a,o++,e)||(i&&r.error(new zp.SequenceError("Too many matching values")),i=!0,n=a)},function(){i?(r.next(n),r.complete()):r.error(s?new Wp.NotFoundError("No matching values"):new Bp.EmptyError)}))})};var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.skip=void 0;var Hp=Ka;Gp.skip=function(t){return Hp.filter(function(e,r){return t<=r})};var qp={};Object.defineProperty(qp,"__esModule",{value:!0}),qp.skipLast=void 0;var Vp=be,Yp=Ae,Zp=Re;qp.skipLast=function(t){return t<=0?Vp.identity:Yp.operate(function(e,r){var n=new Array(t),i=0;return e.subscribe(Zp.createOperatorSubscriber(r,function(e){var s=i++;if(s<t)n[s]=e;else{var o=s%t,a=n[o];n[o]=e,r.next(a)}})),function(){n=null}})};var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.skipUntil=void 0;var Qp=Ae,Xp=Re,Jp=Cn,tb=ae;Kp.skipUntil=function(t){return Qp.operate(function(e,r){var n=!1,i=Xp.createOperatorSubscriber(r,function(){null==i||i.unsubscribe(),n=!0},tb.noop);Jp.innerFrom(t).subscribe(i),e.subscribe(Xp.createOperatorSubscriber(r,function(t){return n&&r.next(t)}))})};var eb={};Object.defineProperty(eb,"__esModule",{value:!0}),eb.skipWhile=void 0;var rb=Ae,nb=Re;eb.skipWhile=function(t){return rb.operate(function(e,r){var n=!1,i=0;e.subscribe(nb.createOperatorSubscriber(r,function(e){return(n||(n=!t(e,i++)))&&r.next(e)}))})};var ib={};Object.defineProperty(ib,"__esModule",{value:!0}),ib.startWith=void 0;var sb=vo,ob=xn,ab=Ae;ib.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ob.popScheduler(t);return ab.operate(function(e,n){(r?sb.concat(t,e,r):sb.concat(t,e)).subscribe(n)})};var lb={},ub={};Object.defineProperty(ub,"__esModule",{value:!0}),ub.switchMap=void 0;var cb=Cn,hb=Ae,fb=Re;ub.switchMap=function(t,e){return hb.operate(function(r,n){var i=null,s=0,o=!1,a=function(){return o&&!i&&n.complete()};r.subscribe(fb.createOperatorSubscriber(n,function(r){null==i||i.unsubscribe();var o=0,l=s++;cb.innerFrom(t(r,l)).subscribe(i=fb.createOperatorSubscriber(n,function(t){return n.next(e?e(r,t,l,o++):t)},function(){i=null,a()}))},function(){o=!0,a()}))})},Object.defineProperty(lb,"__esModule",{value:!0}),lb.switchAll=void 0;var db=ub,pb=be;lb.switchAll=function(){return db.switchMap(pb.identity)};var bb={};Object.defineProperty(bb,"__esModule",{value:!0}),bb.switchMapTo=void 0;var yb=ub,mb=Ut;bb.switchMapTo=function(t,e){return mb.isFunction(e)?yb.switchMap(function(){return t},e):yb.switchMap(function(){return t})};var vb={};Object.defineProperty(vb,"__esModule",{value:!0}),vb.switchScan=void 0;var gb=ub,wb=Ae;vb.switchScan=function(t,e){return wb.operate(function(r,n){var i=e;return gb.switchMap(function(e,r){return t(i,e,r)},function(t,e){return i=e,e})(r).subscribe(n),function(){i=null}})};var _b={};Object.defineProperty(_b,"__esModule",{value:!0}),_b.takeUntil=void 0;var Sb=Ae,Eb=Re,Ob=Cn,xb=ae;_b.takeUntil=function(t){return Sb.operate(function(e,r){Ob.innerFrom(t).subscribe(Eb.createOperatorSubscriber(r,function(){return r.complete()},xb.noop)),!r.closed&&e.subscribe(r)})};var Tb={};Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.takeWhile=void 0;var kb=Ae,Pb=Re;Tb.takeWhile=function(t,e){return void 0===e&&(e=!1),kb.operate(function(r,n){var i=0;r.subscribe(Pb.createOperatorSubscriber(n,function(r){var s=t(r,i++);(s||e)&&n.next(r),!s&&n.complete()}))})};var Ab={};Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.tap=void 0;var Mb=Ut,jb=Ae,Lb=Re,Rb=be;Ab.tap=function(t,e,r){var n=Mb.isFunction(t)||e||r?{next:t,error:e,complete:r}:t;return n?jb.operate(function(t,e){var r;null===(r=n.subscribe)||void 0===r||r.call(n);var i=!0;t.subscribe(Lb.createOperatorSubscriber(e,function(t){var r;null===(r=n.next)||void 0===r||r.call(n,t),e.next(t)},function(){var t;i=!1,null===(t=n.complete)||void 0===t||t.call(n),e.complete()},function(t){var r;i=!1,null===(r=n.error)||void 0===r||r.call(n,t),e.error(t)},function(){var t,e;i&&(null===(t=n.unsubscribe)||void 0===t||t.call(n)),null===(e=n.finalize)||void 0===e||e.call(n)}))}):Rb.identity};var Cb={};Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.throttle=void 0;var Ib=Ae,Fb=Re,Db=Cn;Cb.throttle=function(t,e){return Ib.operate(function(r,n){var i=null!=e?e:{},s=i.leading,o=void 0===s||s,a=i.trailing,l=void 0!==a&&a,u=!1,c=null,h=null,f=!1,d=function(){null==h||h.unsubscribe(),h=null,l&&(y(),f&&n.complete())},p=function(){h=null,f&&n.complete()},b=function(e){return h=Db.innerFrom(t(e)).subscribe(Fb.createOperatorSubscriber(n,d,p))},y=function(){if(u){u=!1;var t=c;c=null,n.next(t),!f&&b(t)}};r.subscribe(Fb.createOperatorSubscriber(n,function(t){u=!0,c=t,(!h||h.closed)&&(o?y():b(t))},function(){f=!0,(!(l&&u&&h)||h.closed)&&n.complete()}))})};var Nb={};Object.defineProperty(Nb,"__esModule",{value:!0}),Nb.throttleTime=void 0;var Bb=Jr,zb=Cb,Wb=Oa;Nb.throttleTime=function(t,e,r){void 0===e&&(e=Bb.asyncScheduler);var n=Wb.timer(t,e);return zb.throttle(function(){return n},r)};var Ub={};Object.defineProperty(Ub,"__esModule",{value:!0}),Ub.TimeInterval=Ub.timeInterval=void 0;var $b=Jr,Gb=Ae,Hb=Re;Ub.timeInterval=function(t){return void 0===t&&(t=$b.asyncScheduler),Gb.operate(function(e,r){var n=t.now();e.subscribe(Hb.createOperatorSubscriber(r,function(e){var i=t.now(),s=i-n;n=i,r.next(new qb(e,s))}))})};var qb=function(t,e){this.value=t,this.interval=e};Ub.TimeInterval=qb;var Vb={};Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.timeoutWith=void 0;var Yb=Jr,Zb=js,Kb=Ms;Vb.timeoutWith=function(t,e,r){var n,i,s;if(r=null!=r?r:Yb.async,Zb.isValidDate(t)?n=t:"number"==typeof t&&(i=t),!e)throw new TypeError("No observable provided to switch to");if(s=function(){return e},null==n&&null==i)throw new TypeError("No timeout provided.");return Kb.timeout({first:n,each:i,scheduler:r,with:s})};var Qb={};Object.defineProperty(Qb,"__esModule",{value:!0}),Qb.timestamp=void 0;var Xb=yr,Jb=Is;Qb.timestamp=function(t){return void 0===t&&(t=Xb.dateTimestampProvider),Jb.map(function(e){return{value:e,timestamp:t.now()}})};var ty={};Object.defineProperty(ty,"__esModule",{value:!0}),ty.window=void 0;var ey=tr,ry=Ae,ny=Re,iy=ae,sy=Cn;ty.window=function(t){return ry.operate(function(e,r){var n=new ey.Subject;r.next(n.asObservable());var i=function(t){n.error(t),r.error(t)};return e.subscribe(ny.createOperatorSubscriber(r,function(t){return null==n?void 0:n.next(t)},function(){n.complete(),r.complete()},i)),sy.innerFrom(t).subscribe(ny.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new ey.Subject)},iy.noop,i)),function(){null==n||n.unsubscribe(),n=null}})};var oy={},ay=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(oy,"__esModule",{value:!0}),oy.windowCount=void 0;var ly=tr,uy=Ae,cy=Re;oy.windowCount=function(t,e){void 0===e&&(e=0);var r=e>0?e:t;return uy.operate(function(e,n){var i=[new ly.Subject],s=0;n.next(i[0].asObservable()),e.subscribe(cy.createOperatorSubscriber(n,function(e){var o,a;try{for(var l=ay(i),u=l.next();!u.done;u=l.next()){u.value.next(e)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}var c=s-t+1;if(c>=0&&c%r===0&&i.shift().complete(),++s%r===0){var h=new ly.Subject;i.push(h),n.next(h.asObservable())}},function(){for(;i.length>0;)i.shift().complete();n.complete()},function(t){for(;i.length>0;)i.shift().error(t);n.error(t)},function(){i=null}))})};var hy={};Object.defineProperty(hy,"__esModule",{value:!0}),hy.windowTime=void 0;var fy=tr,dy=Jr,py=$t,by=Ae,yy=Re,my=Vt,vy=xn,gy=Si;hy.windowTime=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=null!==(e=vy.popScheduler(n))&&void 0!==e?e:dy.asyncScheduler,o=null!==(r=n[0])&&void 0!==r?r:null,a=n[1]||1/0;return by.operate(function(e,r){var n=[],i=!1,l=function(t){var e=t.window,r=t.subs;e.complete(),r.unsubscribe(),my.arrRemove(n,t),i&&u()},u=function(){if(n){var e=new py.Subscription;r.add(e);var i=new fy.Subject,o={window:i,subs:e,seen:0};n.push(o),r.next(i.asObservable()),gy.executeSchedule(e,s,function(){return l(o)},t)}};null!==o&&o>=0?gy.executeSchedule(r,s,u,o,!0):i=!0,u();var c=function(t){return n.slice().forEach(t)},h=function(t){c(function(e){var r=e.window;return t(r)}),t(r),r.unsubscribe()};return e.subscribe(yy.createOperatorSubscriber(r,function(t){c(function(e){e.window.next(t),a<=++e.seen&&l(e)})},function(){return h(function(t){return t.complete()})},function(t){return h(function(e){return e.error(t)})})),function(){n=null}})};var wy={},_y=X&&X.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(wy,"__esModule",{value:!0}),wy.windowToggle=void 0;var Sy=tr,Ey=$t,Oy=Ae,xy=Cn,Ty=Re,ky=ae,Py=Vt;wy.windowToggle=function(t,e){return Oy.operate(function(r,n){var i=[],s=function(t){for(;0<i.length;)i.shift().error(t);n.error(t)};xy.innerFrom(t).subscribe(Ty.createOperatorSubscriber(n,function(t){var r=new Sy.Subject;i.push(r);var o,a=new Ey.Subscription;try{o=xy.innerFrom(e(t))}catch(t){return void s(t)}n.next(r.asObservable()),a.add(o.subscribe(Ty.createOperatorSubscriber(n,function(){Py.arrRemove(i,r),r.complete(),a.unsubscribe()},ky.noop,s)))},ky.noop)),r.subscribe(Ty.createOperatorSubscriber(n,function(t){var e,r,n=i.slice();try{for(var s=_y(n),o=s.next();!o.done;o=s.next()){o.value.next(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},s,function(){for(;0<i.length;)i.shift().unsubscribe()}))})};var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.windowWhen=void 0;var My=tr,jy=Ae,Ly=Re,Ry=Cn;Ay.windowWhen=function(t){return jy.operate(function(e,r){var n,i,s=function(t){n.error(t),r.error(t)},o=function(){var e;null==i||i.unsubscribe(),null==n||n.complete(),n=new My.Subject,r.next(n.asObservable());try{e=Ry.innerFrom(t())}catch(t){return void s(t)}e.subscribe(i=Ly.createOperatorSubscriber(r,o,o,s))};o(),e.subscribe(Ly.createOperatorSubscriber(r,function(t){return n.next(t)},function(){n.complete(),r.complete()},s,function(){null==i||i.unsubscribe(),n=null}))})};var Cy={},Iy=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Fy=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.withLatestFrom=void 0;var Dy=Ae,Ny=Re,By=Cn,zy=be,Wy=ae,Uy=xn;Cy.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Uy.popResultSelector(t);return Dy.operate(function(e,n){for(var i=t.length,s=new Array(i),o=t.map(function(){return!1}),a=!1,l=function(e){By.innerFrom(t[e]).subscribe(Ny.createOperatorSubscriber(n,function(t){s[e]=t,a||o[e]||(o[e]=!0,(a=o.every(zy.identity))&&(o=null))},Wy.noop))},u=0;u<i;u++)l(u);e.subscribe(Ny.createOperatorSubscriber(n,function(t){if(a){var e=Fy([t],Iy(s));n.next(r?r.apply(void 0,Fy([],Iy(e))):e)}}))})};var $y={};Object.defineProperty($y,"__esModule",{value:!0}),$y.zipAll=void 0;var Gy=bl,Hy=mu;$y.zipAll=function(t){return Hy.joinAllInternals(Gy.zip,t)};var qy={},Vy={},Yy=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Zy=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.zip=void 0;var Ky=bl,Qy=Ae;Vy.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Qy.operate(function(e,r){Ky.zip.apply(void 0,Zy([e],Yy(t))).subscribe(r)})};var Xy=X&&X.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Jy=X&&X.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(qy,"__esModule",{value:!0}),qy.zipWith=void 0;var tm=Vy;function em(t,e,r,n){return new(r||(r=Promise))(function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,a)}l((n=n.apply(t,e||[])).next())})}qy.zipWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tm.zip.apply(void 0,Jy([],Xy(t)))},function(t){var e=X&&X.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=X&&X.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var n=zt;Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return n.Observable}});var i=ke;Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var s=de;Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return s.observable}});var o=qe;Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return o.animationFrames}});var a=tr;Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return a.Subject}});var l=fr;Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var u=br;Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return u.ReplaySubject}});var c=wr;Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return c.AsyncSubject}});var h=Er;Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return h.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return h.asapScheduler}});var f=Jr;Object.defineProperty(t,"async",{enumerable:!0,get:function(){return f.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return f.asyncScheduler}});var d=tn;Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return d.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return d.queueScheduler}});var p=ln;Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return p.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return p.animationFrameScheduler}});var b=yn;Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return b.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return b.VirtualAction}});var y=Hr;Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return y.Scheduler}});var m=$t;Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return m.Subscription}});var v=Wt;Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return v.Subscriber}});var g=Sn;Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return g.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return g.NotificationKind}});var w=pe;Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return w.pipe}});var _=ae;Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return _.noop}});var S=be;Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return S.identity}});var E=ps;Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return E.isObservable}});var O=ms;Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return O.lastValueFrom}});var x=_s;Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return x.firstValueFrom}});var T=Os;Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return T.ArgumentOutOfRangeError}});var k=vs;Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return k.EmptyError}});var P=Ts;Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return P.NotFoundError}});var A=er;Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return A.ObjectUnsubscribedError}});var M=Ps;Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return M.SequenceError}});var j=Ms;Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return j.TimeoutError}});var L=Gt;Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return L.UnsubscriptionError}});var R=Ls;Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return R.bindCallback}});var C=Qs;Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return C.bindNodeCallback}});var I=Js;Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return I.combineLatest}});var F=vo;Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return F.concat}});var D=Do;Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return D.connectable}});var N=No;Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return N.defer}});var B=En;Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return B.empty}});var z=Ho;Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return z.forkJoin}});var W=jn;Object.defineProperty(t,"from",{enumerable:!0,get:function(){return W.from}});var U=Jo;Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return U.fromEvent}});var $=ha;Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return $.fromEventPattern}});var G=ba;Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return G.generate}});var H=_a;Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return H.iif}});var q=Ea;Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return q.interval}});var V=ja;Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return V.merge}});var Y=Da;Object.defineProperty(t,"never",{enumerable:!0,get:function(){return Y.never}});var Z=On;Object.defineProperty(t,"of",{enumerable:!0,get:function(){return Z.of}});var K=Na;Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return K.onErrorResumeNext}});var Q=qa;Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return Q.pairs}});var J=Ya;Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return J.partition}});var tt=rl;Object.defineProperty(t,"race",{enumerable:!0,get:function(){return tt.race}});var et=ll;Object.defineProperty(t,"range",{enumerable:!0,get:function(){return et.range}});var rt=hs;Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return rt.throwError}});var nt=Oa;Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return nt.timer}});var it=hl;Object.defineProperty(t,"using",{enumerable:!0,get:function(){return it.using}});var st=bl;Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return st.zip}});var ot=Ln;Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return ot.scheduled}});var at=En;Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return at.EMPTY}});var lt=Da;Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return lt.NEVER}}),r(Ol,t);var ut=re;Object.defineProperty(t,"config",{enumerable:!0,get:function(){return ut.config}});var ct=xl;Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return ct.audit}});var ht=Al;Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return ht.auditTime}});var ft=Rl;Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return ft.buffer}});var dt=Nl;Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return dt.bufferCount}});var pt=$l;Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return pt.bufferTime}});var bt=Xl;Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return bt.bufferToggle}});var yt=ou;Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return yt.bufferWhen}});var mt=hu;Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return mt.catchError}});var vt=bu;Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return vt.combineAll}});var gt=yu;Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return gt.combineLatestAll}});var wt=Iu;Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return wt.combineLatestWith}});var _t=go;Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return _t.concatAll}});var St=Yu;Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return St.concatMap}});var Et=Qu;Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return Et.concatMapTo}});var Ot=tc;Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return Ot.concatWith}});var xt=hc;Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return xt.connect}});var Tt=gc;Object.defineProperty(t,"count",{enumerable:!0,get:function(){return Tt.count}});var kt=_c;Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return kt.debounce}});var Pt=Tc;Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return Pt.debounceTime}});var At=Mc;Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return At.defaultIfEmpty}});var Mt=Rc;Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return Mt.delay}});var jt=Cc;Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return jt.delayWhen}});var Lt=th;Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return Lt.dematerialize}});var Rt=ih;Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return Rt.distinct}});var Ct=uh;Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return Ct.distinctUntilChanged}});var It=ph;Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return It.distinctUntilKeyChanged}});var Ft=yh;Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return Ft.elementAt}});var Dt=kh;Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return Dt.endWith}});var Nt=Lh;Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Nt.every}});var Bt=Ih;Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return Bt.exhaust}});var Ut=Fh;Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return Ut.exhaustAll}});var Ht=Dh;Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return Ht.exhaustMap}});var qt=Hh;Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return qt.expand}});var Vt=Ka;Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return Vt.filter}});var Yt=Yh;Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return Yt.finalize}});var Zt=Kh;Object.defineProperty(t,"find",{enumerable:!0,get:function(){return Zt.find}});var Kt=tf;Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return Kt.findIndex}});var Qt=nf;Object.defineProperty(t,"first",{enumerable:!0,get:function(){return Qt.first}});var Xt=hf;Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Xt.groupBy}});var Jt=Bc;Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return Jt.ignoreElements}});var te=mf;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return te.isEmpty}});var ee=wf;Object.defineProperty(t,"last",{enumerable:!0,get:function(){return ee.last}});var ne=Is;Object.defineProperty(t,"map",{enumerable:!0,get:function(){return ne.map}});var ie=$c;Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return ie.mapTo}});var se=Lf;Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return se.materialize}});var oe=Ff;Object.defineProperty(t,"max",{enumerable:!0,get:function(){return oe.max}});var le=wo;Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return le.mergeAll}});var ue=Bf;Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return ue.flatMap}});var ce=_o;Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ce.mergeMap}});var he=Wf;Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return he.mergeMapTo}});var fe=Gf;Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return fe.mergeScan}});var ye=Vf;Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return ye.mergeWith}});var me=sd;Object.defineProperty(t,"min",{enumerable:!0,get:function(){return me.min}});var ve=ld;Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ve.multicast}});var ge=_i;Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ge.observeOn}});var we=fd;Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return we.onErrorResumeNextWith}});var _e=vd;Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return _e.pairwise}});var Se=_d;Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return Se.pluck}});var Ee=Ed;Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return Ee.publish}});var Oe=kd;Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return Oe.publishBehavior}});var xe=Md;Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return xe.publishLast}});var Te=Rd;Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return Te.publishReplay}});var Ae=Dd;Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return Ae.raceWith}});var Me=gu;Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return Me.reduce}});var je=$d;Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return je.repeat}});var Le=Zd;Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return Le.repeatWhen}});var Re=tp;Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return Re.retry}});var Ce=op;Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return Ce.retryWhen}});var Ie=Pe;Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return Ie.refCount}});var Fe=hp;Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Fe.sample}});var De=yp;Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return De.sampleTime}});var Ne=wp;Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Ne.scan}});var Be=Ep;Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Be.sequenceEqual}});var ze=kp;Object.defineProperty(t,"share",{enumerable:!0,get:function(){return ze.share}});var We=Ip;Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return We.shareReplay}});var Ue=Np;Object.defineProperty(t,"single",{enumerable:!0,get:function(){return Ue.single}});var $e=Gp;Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return $e.skip}});var Ge=qp;Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return Ge.skipLast}});var He=Kp;Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return He.skipUntil}});var Ve=eb;Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Ve.skipWhile}});var Ye=ib;Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Ye.startWith}});var Ze=Ti;Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Ze.subscribeOn}});var Ke=lb;Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Ke.switchAll}});var Qe=ub;Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Qe.switchMap}});var Xe=bb;Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Xe.switchMapTo}});var Je=vb;Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Je.switchScan}});var rr=Ic;Object.defineProperty(t,"take",{enumerable:!0,get:function(){return rr.take}});var nr=_f;Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return nr.takeLast}});var ir=_b;Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return ir.takeUntil}});var sr=Tb;Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return sr.takeWhile}});var or=Ab;Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return or.tap}});var ar=Cb;Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return ar.throttle}});var lr=Nb;Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return lr.throttleTime}});var ur=mh;Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return ur.throwIfEmpty}});var cr=Ub;Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return cr.timeInterval}});var hr=Ms;Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return hr.timeout}});var dr=Vb;Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return dr.timeoutWith}});var pr=Qb;Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return pr.timestamp}});var yr=vu;Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return yr.toArray}});var mr=ty;Object.defineProperty(t,"window",{enumerable:!0,get:function(){return mr.window}});var vr=oy;Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return vr.windowCount}});var gr=hy;Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return gr.windowTime}});var _r=wy;Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return _r.windowToggle}});var Sr=Ay;Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return Sr.windowWhen}});var Or=Cy;Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return Or.withLatestFrom}});var xr=$y;Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return xr.zipAll}});var Tr=qy;Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return Tr.zipWith}})}(Bt),"function"==typeof SuppressedError&&SuppressedError;var rm={},nm={},im={};Object.defineProperty(im,"__esModule",{value:!0}),im.AsyncProvider=void 0;im.AsyncProvider=class{#t;constructor(t){this.#t=t}read(t,e){const r=[];this.#t.onError(t=>{!function(t,e){t(e)}(e,t)}),this.#t.onEntry(t=>{r.push(t)}),this.#t.onEnd(()=>{!function(t,e){t(null,e)}(e,r)}),this.#t.read(t)}};var sm={};Object.defineProperty(sm,"__esModule",{value:!0}),sm.StreamProvider=void 0;const om=s;sm.StreamProvider=class{#t;#e;constructor(t){this.#t=t,this.#e=this.#r()}read(t){return this.#t.onError(t=>{this.#e.emit("error",t)}),this.#t.onEntry(t=>{this.#e.push(t)}),this.#t.onEnd(()=>{this.#e.push(null)}),this.#t.read(t),this.#e}#r(){return new om.Readable({objectMode:!0,read:()=>{},destroy:()=>{this.#t.isDestroyed||this.#t.destroy()}})}};var am={};Object.defineProperty(am,"__esModule",{value:!0}),am.SyncProvider=void 0;am.SyncProvider=class{#t;constructor(t){this.#t=t}read(t){return this.#t.read(t)}},function(t){var e=X&&X.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=X&&X.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(im,t),r(sm,t),r(am,t)}(nm);var lm={},um={},cm={},hm={},fm={},dm={},pm={};function bm(t,e){t(e)}function ym(t,e){t(null,e)}Object.defineProperty(pm,"__esModule",{value:!0}),pm.read=void 0,pm.read=function(t,e,r){e.fs.lstat(t,(n,i)=>{null===n?i.isSymbolicLink()&&e.followSymbolicLink?e.fs.stat(t,(t,n)=>{if(null!==t)return e.throwErrorOnBrokenSymbolicLink?void bm(r,t):void ym(r,i);e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),ym(r,n)}):ym(r,i):bm(r,n)})};var mm={};Object.defineProperty(mm,"__esModule",{value:!0}),mm.read=void 0,mm.read=function(t,e){const r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{const r=e.fs.statSync(t);return e.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw t}};var vm={},gm={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const e=a;t.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:{...t.FILE_SYSTEM_ADAPTER,...e}}}(gm),Object.defineProperty(vm,"__esModule",{value:!0}),vm.Settings=void 0;const wm=gm;vm.Settings=class{followSymbolicLink;fs;markSymbolicLink;throwErrorOnBrokenSymbolicLink;constructor(t={}){this.followSymbolicLink=t.followSymbolicLink??!0,this.fs=wm.createFileSystemAdapter(t.fs),this.markSymbolicLink=t.markSymbolicLink??!1,this.throwErrorOnBrokenSymbolicLink=t.throwErrorOnBrokenSymbolicLink??!0}},Object.defineProperty(dm,"__esModule",{value:!0}),dm.statSync=dm.stat=void 0;const _m=pm,Sm=mm,Em=vm;function Om(t={}){return t instanceof Em.Settings?t:new Em.Settings(t)}dm.stat=function(t,e,r){"function"!=typeof e?_m.read(t,Om(e),r):_m.read(t,Om(),e)},dm.statSync=function(t,e){const r=Om(e);return Sm.read(t,r)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.statSync=t.stat=void 0;var e=dm;Object.defineProperty(t,"stat",{enumerable:!0,get:function(){return e.stat}}),Object.defineProperty(t,"statSync",{enumerable:!0,get:function(){return e.statSync}});var r=vm;Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return r.Settings}})}(fm);var xm={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const e=a;t.FILE_SYSTEM_ADAPTER={lstat:e.lstat,stat:e.stat,lstatSync:e.lstatSync,statSync:e.statSync,readdir:e.readdir,readdirSync:e.readdirSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:{...t.FILE_SYSTEM_ADAPTER,...e}}}(xm),Object.defineProperty(hm,"__esModule",{value:!0}),hm.Settings=void 0;const Tm=o,km=fm,Pm=xm;hm.Settings=class{followSymbolicLinks;fs;pathSegmentSeparator;stats;throwErrorOnBrokenSymbolicLink;fsStatSettings;constructor(t={}){this.followSymbolicLinks=t.followSymbolicLinks??!1,this.fs=Pm.createFileSystemAdapter(t.fs),this.pathSegmentSeparator=t.pathSegmentSeparator??Tm.sep,this.stats=t.stats??!1,this.throwErrorOnBrokenSymbolicLink=t.throwErrorOnBrokenSymbolicLink??!0,this.fsStatSettings=new km.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}};var Am={};
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Mm;var jm=function(t,e){let r,n,i,s=!0;Array.isArray(t)?(r=[],n=t.length):(i=Object.keys(t),r={},n=i.length);function o(t){function n(){e&&e(t,r),e=null}s?Lm(n):n()}function a(t,e,i){r[t]=i,(0===--n||e)&&o(e)}n?i?i.forEach(function(e){t[e](function(t,r){a(e,t,r)})}):t.forEach(function(t,e){t(function(t,r){a(e,t,r)})}):o(null);s=!1};
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const Lm="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:X):t=>(Mm||(Mm=Promise.resolve())).then(t).catch(t=>setTimeout(()=>{throw t},0));var Rm={},Cm={};Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.DirentFromStats=Cm.createDirentFromStats=void 0;const Im=a,Fm=Symbol("stats");Cm.createDirentFromStats=function(t,e){return new Dm(t,e)};class Dm extends Im.Dirent{[Fm];constructor(t,e){super(t,null),this[Fm]=e}}Cm.DirentFromStats=Dm;for(const t of Reflect.ownKeys(Im.Dirent.prototype)){const e=t;"constructor"!==e&&(Dm.prototype[e]=function(){return this[Fm][e]()})}Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.fs=void 0,Rm.fs=Cm;var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.joinPathSegments=void 0,Nm.joinPathSegments=function(t,e,r){return t.endsWith(r)?t+e:t+r+e},Object.defineProperty(Am,"__esModule",{value:!0}),Am.read=void 0;const Bm=fm,zm=jm,Wm=Rm,Um=Nm;function $m(t,e){const r=function(t,e){if(e.stats)return r=>{Bm.stat(t.path,e.fsStatSettings,r)};if(e.followSymbolicLinks&&t.dirent.isSymbolicLink())return r=>{e.fs.stat(t.path,r)};return}(t,e);if(void 0!==r)return n=>{r((r,i)=>{null===r?(e.stats&&(t.stats=i),e.followSymbolicLinks&&(t.dirent=Wm.fs.createDirentFromStats(t.name,i)),n(null,t)):n(e.throwErrorOnBrokenSymbolicLink?r:null)})}}function Gm(t,e){t(e)}function Hm(t,e){t(null,e)}Am.read=function(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,i)=>{if(null!==n)return void Gm(r,n);const s=i.map(r=>({dirent:r,name:r.name,path:Um.joinPathSegments(t,r.name,e.pathSegmentSeparator)}));if(!e.stats&&!e.followSymbolicLinks)return void Hm(r,s);const o=function(t,e){const r=[];for(const n of t){const t=$m(n,e);void 0!==t&&r.push(t)}return r}(s,e);zm(o,t=>{null===t?Hm(r,s):Gm(r,t)})})};var qm={};Object.defineProperty(qm,"__esModule",{value:!0}),qm.read=void 0;const Vm=fm,Ym=Rm,Zm=Nm;qm.read=function(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(r=>{const n={dirent:r,name:r.name,path:Zm.joinPathSegments(t,r.name,e.pathSegmentSeparator)};if(e.stats&&(n.stats=Vm.statSync(n.path,e.fsStatSettings)),e.followSymbolicLinks&&n.dirent.isSymbolicLink())try{const t=n.stats??e.fs.statSync(n.path);n.dirent=Ym.fs.createDirentFromStats(n.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return n})},Object.defineProperty(cm,"__esModule",{value:!0}),cm.scandirSync=cm.scandir=void 0;const Km=hm,Qm=Am,Xm=qm;function Jm(t={}){return t instanceof Km.Settings?t:new Km.Settings(t)}cm.scandir=function(t,e,r){"function"!=typeof e?Qm.read(t,Jm(e),r):Qm.read(t,Jm(),e)},cm.scandirSync=function(t,e){const r=Jm(e);return Xm.read(t,r)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.scandirSync=t.scandir=void 0;var e=cm;Object.defineProperty(t,"scandir",{enumerable:!0,get:function(){return e.scandir}}),Object.defineProperty(t,"scandirSync",{enumerable:!0,get:function(){return e.scandirSync}});var r=hm;Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return r.Settings}})}(um),Object.defineProperty(lm,"__esModule",{value:!0}),lm.Settings=void 0;const tv=o,ev=um;lm.Settings=class{basePath;concurrency;deepFilter;entryFilter;errorFilter;pathSegmentSeparator;fsScandirSettings;constructor(t={}){this.basePath=t.basePath??void 0,this.concurrency=t.concurrency??Number.POSITIVE_INFINITY,this.deepFilter=t.deepFilter??null,this.entryFilter=t.entryFilter??null,this.errorFilter=t.errorFilter??null,this.pathSegmentSeparator=t.pathSegmentSeparator??tv.sep,this.fsScandirSettings=new ev.Settings({followSymbolicLinks:t.followSymbolicLinks,fs:t.fs,pathSegmentSeparator:this.pathSegmentSeparator,stats:t.stats,throwErrorOnBrokenSymbolicLink:t.throwErrorOnBrokenSymbolicLink})}};var rv={},nv={},iv={exports:{}};var sv=function(t){var e=new t,r=e;return{get:function(){var n=e;return n.next?e=n.next:(e=new t,r=e),n.next=null,n},release:function(t){r.next=t,r=t}}};function ov(t,e,r){if("function"==typeof t&&(r=e,e=t,t=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=sv(lv),i=null,s=null,o=0,a=null,l={push:function(c,h){var f=n.get();f.context=t,f.release=u,f.value=c,f.callback=h||av,f.errorHandler=a,o>=r||l.paused?s?(s.next=f,s=f):(i=f,s=f,l.saturated()):(o++,e.call(t,f.value,f.worked))},drain:av,saturated:av,pause:function(){l.paused=!0},paused:!1,get concurrency(){return r},set concurrency(t){if(!(t>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=t,!l.paused)for(;i&&o<r;)o++,u()},running:function(){return o},resume:function(){if(!l.paused)return;if(l.paused=!1,null===i)return o++,void u();for(;i&&o<r;)o++,u()},idle:function(){return 0===o&&0===l.length()},length:function(){var t=i,e=0;for(;t;)t=t.next,e++;return e},getQueue:function(){var t=i,e=[];for(;t;)e.push(t.value),t=t.next;return e},unshift:function(c,h){var f=n.get();f.context=t,f.release=u,f.value=c,f.callback=h||av,f.errorHandler=a,o>=r||l.paused?i?(f.next=i,i=f):(i=f,s=f,l.saturated()):(o++,e.call(t,f.value,f.worked))},empty:av,kill:function(){i=null,s=null,l.drain=av},killAndDrain:function(){i=null,s=null,l.drain(),l.drain=av},error:function(t){a=t}};return l;function u(a){a&&n.release(a);var u=i;u&&o<=r?l.paused?o--:(s===i&&(s=null),i=u.next,u.next=null,e.call(t,u.value,u.worked),null===s&&l.empty()):0===--o&&l.drain()}}function av(){}function lv(){this.value=null,this.callback=av,this.next=null,this.release=av,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,r){var n=t.callback,i=t.errorHandler,s=t.value;t.value=null,t.callback=av,t.errorHandler&&i(e,s),n.call(t.context,e,r),t.release(t)}}iv.exports=ov,iv.exports.promise=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=null);var n=ov(t,function(t,r){e.call(this,t).then(function(t){r(null,t)},r)},r),i=n.push,s=n.unshift;return n.push=function(t){var e=new Promise(function(e,r){i(t,function(t,n){t?r(t):e(n)})});return e.catch(av),e},n.unshift=function(t){var e=new Promise(function(e,r){s(t,function(t,n){t?r(t):e(n)})});return e.catch(av),e},n.drained=function(){if(n.idle())return new Promise(function(t){t()});var t=n.drain,e=new Promise(function(e){n.drain=function(){t(),e()}});return e},n};var uv=iv.exports,cv={};Object.defineProperty(cv,"__esModule",{value:!0}),cv.joinPathSegments=cv.replacePathSegmentSeparator=cv.isAppliedFilter=cv.isFatalError=void 0,cv.isFatalError=function(t,e){return null===t.errorFilter||!t.errorFilter(e)},cv.isAppliedFilter=function(t,e){return null===t||t(e)},cv.replacePathSegmentSeparator=function(t,e){return t.split(/[/\\]/).join(e)},cv.joinPathSegments=function(t,e,r){return""===t?e:t.endsWith(r)?t+e:t+r+e},Object.defineProperty(nv,"__esModule",{value:!0}),nv.AsyncReader=void 0;const hv=l,fv=uv,dv=cv;class pv{#n=new hv.EventEmitter;onEntry(t){this.#n.on("entry",t)}onError(t){this.#n.once("error",t)}onEnd(t){this.#n.once("end",t)}_emitEntry(t){this.#n.emit("entry",t)}_emitEnd(){this.#n.emit("end")}_emitError(t){this.#n.emit("error",t)}}nv.AsyncReader=class extends pv{#i=!1;#s=!1;#o;#a;#l;constructor(t,e){super();const r=fv(this.#u.bind(this),e.concurrency);r.drain=()=>{this.#i||this._emitEnd()},this.#o=t,this.#a=e,this.#l=r}read(t){this.#i=!1,this.#s=!1;const e=dv.replacePathSegmentSeparator(t,this.#a.pathSegmentSeparator);this.#c(e,this.#a.basePath)}get isDestroyed(){return this.#s}destroy(){this.#s||(this.#s=!0,this.#l.killAndDrain())}#c(t,e){this.#l.push({directory:t,base:e},t=>{null!==t&&this.#h(t)})}#u(t,e){this.#o.scandir(t.directory,this.#a.fsScandirSettings,(r,n)=>{if(null===r){for(const e of n)this.#f(e,t.base);e(null,void 0)}else e(r,void 0)})}#h(t){!this.#s&&dv.isFatalError(this.#a,t)&&(this.#i=!0,this.#s=!0,this._emitError(t))}#f(t,e){if(this.#s||this.#i)return;const r=t.path;void 0!==e&&(t.path=dv.joinPathSegments(e,t.name,this.#a.pathSegmentSeparator)),dv.isAppliedFilter(this.#a.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&dv.isAppliedFilter(this.#a.deepFilter,t)&&this.#c(r,void 0===e?void 0:t.path)}};var bv={};Object.defineProperty(bv,"__esModule",{value:!0}),bv.SyncReader=void 0;const yv=cv;bv.SyncReader=class{#o;#a;#l=new Set;#d=[];constructor(t,e){this.#o=t,this.#a=e}read(t){const e=yv.replacePathSegmentSeparator(t,this.#a.pathSegmentSeparator);return this.#c(e,this.#a.basePath),this.#p(),this.#d}#c(t,e){this.#l.add({directory:t,base:e})}#p(){for(const t of this.#l.values())this.#b(t.directory,t.base)}#b(t,e){try{const r=this.#o.scandirSync(t,this.#a.fsScandirSettings);for(const t of r)this.#f(t,e)}catch(t){this.#h(t)}}#h(t){if(yv.isFatalError(this.#a,t))throw t}#f(t,e){const r=t.path;void 0!==e&&(t.path=yv.joinPathSegments(e,t.name,this.#a.pathSegmentSeparator)),yv.isAppliedFilter(this.#a.entryFilter,t)&&this.#y(t),t.dirent.isDirectory()&&yv.isAppliedFilter(this.#a.deepFilter,t)&&this.#c(r,void 0===e?void 0:t.path)}#y(t){this.#d.push(t)}},function(t){var e=X&&X.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=X&&X.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(nv,t),r(bv,t)}(rv);var mv={};Object.defineProperty(mv,"__esModule",{value:!0}),mv.FileSystemAdapter=void 0;const vv=um;mv.FileSystemAdapter=class{scandir=vv.scandir;scandirSync=vv.scandirSync},Object.defineProperty(rm,"__esModule",{value:!0}),rm.walkStream=rm.walkSync=rm.walk=void 0;const gv=nm,wv=lm,_v=rv,Sv=new mv.FileSystemAdapter;function Ev(t={}){return t instanceof wv.Settings?t:new wv.Settings(t)}rm.walk=function(t,e,r){const n="function"==typeof e,i=n?e:r,s=n?Ev():Ev(e),o=new _v.AsyncReader(Sv,s);new gv.AsyncProvider(o).read(t,i)},rm.walkSync=function(t,e){const r=Ev(e),n=new _v.SyncReader(Sv,r);return new gv.SyncProvider(n).read(t)},rm.walkStream=function(t,e){const r=Ev(e),n=new _v.AsyncReader(Sv,r);return new gv.StreamProvider(n).read(t)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.walkSync=t.walkStream=t.walk=void 0;var e=rm;Object.defineProperty(t,"walk",{enumerable:!0,get:function(){return e.walk}}),Object.defineProperty(t,"walkStream",{enumerable:!0,get:function(){return e.walkStream}}),Object.defineProperty(t,"walkSync",{enumerable:!0,get:function(){return e.walkSync}});var r=lm;Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return r.Settings}})}({});var Ov="object"==typeof process&&process&&"win32"===process.platform?{sep:"\\"}:{sep:"/"},xv=Tv;function Tv(t,e,r){t instanceof RegExp&&(t=kv(t,r)),e instanceof RegExp&&(e=kv(e,r));var n=Pv(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function kv(t,e){var r=e.match(t);return r?r[0]:null}function Pv(t,e,r){var n,i,s,o,a,l=r.indexOf(t),u=r.indexOf(e,l+1),c=l;if(l>=0&&u>0){if(t===e)return[l,u];for(n=[],s=r.length;c>=0&&!a;)c==l?(n.push(c),l=r.indexOf(t,c+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<s&&(s=i,o=u),u=r.indexOf(e,c+1)),c=l<u&&l>=0?l:u;n.length&&(a=[s,o])}return a}Tv.range=Pv;var Av=xv,Mv=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return $v(function(t){return t.split("\\\\").join(jv).split("\\{").join(Lv).split("\\}").join(Rv).split("\\,").join(Cv).split("\\.").join(Iv)}(t),!0).map(Dv)},jv="\0SLASH"+Math.random()+"\0",Lv="\0OPEN"+Math.random()+"\0",Rv="\0CLOSE"+Math.random()+"\0",Cv="\0COMMA"+Math.random()+"\0",Iv="\0PERIOD"+Math.random()+"\0";function Fv(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Dv(t){return t.split(jv).join("\\").split(Lv).join("{").split(Rv).join("}").split(Cv).join(",").split(Iv).join(".")}function Nv(t){if(!t)return[""];var e=[],r=Av("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Nv(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Bv(t){return"{"+t+"}"}function zv(t){return/^-?0\d/.test(t)}function Wv(t,e){return t<=e}function Uv(t,e){return t>=e}function $v(t,e){var r=[],n=Av("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?$v(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l,u,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||h,d=n.body.indexOf(",")>=0;if(!f&&!d)return n.post.match(/,.*\}/)?$v(t=n.pre+"{"+n.body+Rv+n.post):[t];if(f)l=n.body.split(/\.\./);else if(1===(l=Nv(n.body)).length&&1===(l=$v(l[0],!1).map(Bv)).length)return s.map(function(t){return n.pre+l[0]+t});if(f){var p=Fv(l[0]),b=Fv(l[1]),y=Math.max(l[0].length,l[1].length),m=3==l.length?Math.abs(Fv(l[2])):1,v=Wv;b<p&&(m*=-1,v=Uv);var g=l.some(zv);u=[];for(var w=p;v(w,b);w+=m){var _;if(h)"\\"===(_=String.fromCharCode(w))&&(_="");else if(_=String(w),g){var S=y-_.length;if(S>0){var E=new Array(S+1).join("0");_=w<0?"-"+E+_.slice(1):E+_}}u.push(_)}}else{u=[];for(var O=0;O<l.length;O++)u.push.apply(u,$v(l[O],!1))}for(O=0;O<u.length;O++)for(o=0;o<s.length;o++){a=i+u[O]+s[o];(!e||f||a)&&r.push(a)}}return r}const Gv=(t,e,r={})=>(ig(e),!(!r.nocomment&&"#"===e.charAt(0))&&new lg(e,r).match(t));var Hv=Gv;const qv=Ov;Gv.sep=qv.sep;const Vv=Symbol("globstar **");Gv.GLOBSTAR=Vv;const Yv=Mv,Zv={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Kv="[^/]",Qv=Kv+"*?",Xv=t=>t.split("").reduce((t,e)=>(t[e]=!0,t),{}),Jv=Xv("().*{}+?[]^$\\!"),tg=Xv("[.("),eg=/\/+/;Gv.filter=(t,e={})=>(r,n,i)=>Gv(r,t,e);const rg=(t,e={})=>{const r={};return Object.keys(t).forEach(e=>r[e]=t[e]),Object.keys(e).forEach(t=>r[t]=e[t]),r};Gv.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return Gv;const e=Gv,r=(r,n,i)=>e(r,n,rg(t,i));return r.Minimatch=class extends e.Minimatch{constructor(e,r){super(e,rg(t,r))}},r.Minimatch.defaults=r=>e.defaults(rg(t,r)).Minimatch,r.filter=(r,n)=>e.filter(r,rg(t,n)),r.defaults=r=>e.defaults(rg(t,r)),r.makeRe=(r,n)=>e.makeRe(r,rg(t,n)),r.braceExpand=(r,n)=>e.braceExpand(r,rg(t,n)),r.match=(r,n,i)=>e.match(r,n,rg(t,i)),r},Gv.braceExpand=(t,e)=>ng(t,e);const ng=(t,e={})=>(ig(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Yv(t)),ig=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},sg=Symbol("subparse");Gv.makeRe=(t,e)=>new lg(t,e||{}).makeRe(),Gv.match=(t,e,r={})=>{const n=new lg(e,r);return t=t.filter(t=>n.match(t)),n.options.nonull&&!t.length&&t.push(e),t};const og=t=>t.replace(/\\([^-\]])/g,"$1"),ag=t=>t.replace(/[[\]\\]/g,"\\$&");let lg=class{constructor(t,e){ig(t),e||(e={}),this.options=e,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,r),r=this.globParts=r.map(t=>t.split(eg)),this.debug(this.pattern,r),r=r.map((t,e,r)=>t.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(t=>-1===t.indexOf(!1)),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var l,u=e[s],c=t[i];if(this.debug(e,u,c),!1===u)return!1;if(u===Vv){this.debug("GLOBSTAR",[e,u,c]);var h=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;h<o;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,f,d),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,o,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,f),h!==o))}if("string"==typeof u?(l=c===u,this.debug("string match",u,c,l)):(l=c.match(u),this.debug("pattern match",u,c,l)),!l)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&""===t[i];throw new Error("wtf?")}braceExpand(){return ng(this.pattern,this.options)}parse(t,e){ig(t);const r=this.options;if("**"===t){if(!r.noglobstar)return Vv;t="*"}if(""===t)return"";let n="",i=!1,s=!1;const o=[],a=[];let l,u,c,h,f=!1,d=-1,p=-1,b="."===t.charAt(0),y=r.dot||b;const m=t=>"."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=()=>{if(l){switch(l){case"*":n+=Qv,i=!0;break;case"?":n+=Kv,i=!0;break;default:n+="\\"+l}this.debug("clearStateChar %j %j",l,n),l=!1}};for(let e,h=0;h<t.length&&(e=t.charAt(h));h++)if(this.debug("%s\t%s %s %j",t,h,n,e),s){if("/"===e)return!1;Jv[e]&&(n+="\\"),n+=e,s=!1}else switch(e){case"/":return!1;case"\\":if(f&&"-"===t.charAt(h+1)){n+=e;continue}v(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,h,n,e),f){this.debug("  in class"),"!"===e&&h===p+1&&(e="^"),n+=e;continue}this.debug("call clearStateChar %j",l),v(),l=e,r.noext&&v();continue;case"(":{if(f){n+="(";continue}if(!l){n+="\\(";continue}const e={type:l,start:h-1,reStart:n.length,open:Zv[l].open,close:Zv[l].close};this.debug(this.pattern,"\t",e),o.push(e),n+=e.open,0===e.start&&"!"!==e.type&&(b=!0,n+=m(t.slice(h+1))),this.debug("plType %j %j",l,n),l=!1;continue}case")":{const t=o[o.length-1];if(f||!t){n+="\\)";continue}o.pop(),v(),i=!0,c=t,n+=c.close,"!"===c.type&&a.push(Object.assign(c,{reEnd:n.length}));continue}case"|":{const e=o[o.length-1];if(f||!e){n+="\\|";continue}v(),n+="|",0===e.start&&"!"!==e.type&&(b=!0,n+=m(t.slice(h+1)));continue}case"[":if(v(),f){n+="\\"+e;continue}f=!0,p=h,d=n.length,n+=e;continue;case"]":if(h===p+1||!f){n+="\\"+e;continue}u=t.substring(p+1,h);try{RegExp("["+ag(og(u))+"]"),n+=e}catch(t){n=n.substring(0,d)+"(?:$.)"}i=!0,f=!1;continue;default:v(),!Jv[e]||"^"===e&&f||(n+="\\"),n+=e}for(f&&(u=t.slice(p+1),h=this.parse(u,sg),n=n.substring(0,d)+"\\["+h[0],i=i||h[1]),c=o.pop();c;c=o.pop()){let t;t=n.slice(c.reStart+c.open.length),this.debug("setting tail",n,c),t=t.replace(/((?:\\{2}){0,64})(\\?)\|/g,(t,e,r)=>(r||(r="\\"),e+e+r+"|")),this.debug("tail=%j\n   %s",t,t,c,n);const e="*"===c.type?Qv:"?"===c.type?Kv:"\\"+c.type;i=!0,n=n.slice(0,c.reStart)+e+"\\("+t}v(),s&&(n+="\\\\");const g=tg[n.charAt(0)];for(let t=a.length-1;t>-1;t--){const r=a[t],i=n.slice(0,r.reStart),s=n.slice(r.reStart,r.reEnd-8);let o=n.slice(r.reEnd);const l=n.slice(r.reEnd-8,r.reEnd)+o,u=i.split(")").length,c=i.split("(").length-u;let h=o;for(let t=0;t<c;t++)h=h.replace(/\)[+*?]?/,"");o=h;n=i+s+o+(""===o&&e!==sg?"(?:$|\\/)":"")+l}if(""!==n&&i&&(n="(?=.)"+n),g&&(n=(b?"":y?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+n),e===sg)return[n,i];if(r.nocase&&!i&&(i=t.toUpperCase()!==t.toLowerCase()),!i)return t.replace(/\\(.)/g,"$1");const w=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",w),{_glob:t,_src:n})}catch(t){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?Qv:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"";let i=t.map(t=>(t=t.map(t=>"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===Vv?Vv:t._src).reduce((t,e)=>(t[t.length-1]===Vv&&e===Vv||t.push(e),t),[]),t.forEach((e,n)=>{e===Vv&&t[n-1]!==Vv&&(0===n?t.length>1?t[n+1]="(?:\\/|"+r+"\\/)?"+t[n+1]:t[n]=r:n===t.length-1?t[n-1]+="(?:\\/|"+r+")?":(t[n-1]+="(?:\\/|\\/"+r+"\\/)"+t[n+1],t[n+1]=Vv))}),t.filter(t=>t!==Vv).join("/"))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;"/"!==qv.sep&&(t=t.split(qv.sep).join("/")),t=t.split(eg),this.debug(this.pattern,"split",t);const n=this.set;let i;this.debug(this.pattern,"set",n);for(let e=t.length-1;e>=0&&(i=t[e],!i);e--);for(let s=0;s<n.length;s++){const o=n[s];let a=t;r.matchBase&&1===o.length&&(a=[i]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return Gv.defaults(t).Minimatch}};Gv.Minimatch=lg;var ug=mg;const cg=n,{EventEmitter:hg}=u,{Minimatch:fg}=Hv,{resolve:dg}=i;function pg(t,e){return new Promise((r,n)=>{(e?cg.stat:cg.lstat)(t,(n,i)=>{if(n)if("ENOENT"===n.code)r(e?pg(t,!1):null);else r(null);else r(i)})})}async function*bg(t,e,r,n,i,s){let o=await function(t,e){return new Promise((r,n)=>{cg.readdir(t,{withFileTypes:!0},(t,i)=>{if(t)switch(t.code){case"ENOTDIR":e?n(t):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;default:n(t)}else r(i)})})}(e+t,s);for(const s of o){let o=s.name;void 0===o&&(o=s,n=!0);const a=t+"/"+o,l=a.slice(1),u=e+"/"+l;let c=null;(n||r)&&(c=await pg(u,r)),c||void 0===s.name||(c=s),null===c&&(c={isDirectory:()=>!1}),c.isDirectory()?i(l)||(yield{relative:l,absolute:u,stats:c},yield*bg(a,e,r,n,i,!1)):yield{relative:l,absolute:u,stats:c}}}class yg extends hg{constructor(t,e,r){if(super(),"function"==typeof e&&(r=e,e=null),this.options=function(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}(e||{}),this.matchers=[],this.options.pattern){const t=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=t.map(t=>new fg(t,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){const t=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=t.map(t=>new fg(t,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){const t=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=t.map(t=>new fg(t,{dot:!0}))}this.iterator=async function*(t,e,r,n){yield*bg("",t,e,r,n,!0)}(dg(t||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,r&&(this._matches=[],this.on("match",t=>this._matches.push(this.options.absolute?t.absolute:t.relative)),this.on("error",t=>r(t)),this.on("end",()=>r(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(t){return this.skipMatchers.some(e=>e.match(t))}_fileMatches(t,e){const r=t+(e?"/":"");return(0===this.matchers.length||this.matchers.some(t=>t.match(r)))&&!this.ignoreMatchers.some(t=>t.match(r))&&(!this.options.nodir||!e)}_next(){this.paused||this.aborted?this.inactive=!0:this.iterator.next().then(t=>{if(t.done)this.emit("end");else{const e=t.value.stats.isDirectory();if(this._fileMatches(t.value.relative,e)){let r=t.value.relative,n=t.value.absolute;this.options.mark&&e&&(r+="/",n+="/"),this.options.stat?this.emit("match",{relative:r,absolute:n,stat:t.value.stats}):this.emit("match",{relative:r,absolute:n})}this._next(this.iterator)}}).catch(t=>{this.abort(),this.emit("error",t),t.code||this.options.silent||console.error(t)})}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}}function mg(t,e,r){return new yg(t,e,r)}function vg(t,...e){return(...r)=>t(...e,...r)}function gg(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}mg.ReaddirGlob=yg;var wg="function"==typeof queueMicrotask&&queueMicrotask,_g="function"==typeof setImmediate&&setImmediate,Sg="object"==typeof process&&"function"==typeof process.nextTick;function Eg(t){setTimeout(t,0)}function Og(t){return(e,...r)=>t(()=>e(...r))}var xg=Og(wg?queueMicrotask:_g?setImmediate:Sg?process.nextTick:Eg);function Tg(t){return Ag(t)?function(...e){const r=e.pop();return kg(t.apply(this,e),r)}:gg(function(e,r){var n;try{n=t.apply(this,e)}catch(t){return r(t)}if(n&&"function"==typeof n.then)return kg(n,r);r(null,n)})}function kg(t,e){return t.then(t=>{Pg(e,null,t)},t=>{Pg(e,t&&(t instanceof Error||t.message)?t:new Error(t))})}function Pg(t,e,r){try{t(e,r)}catch(t){xg(t=>{throw t},t)}}function Ag(t){return"AsyncFunction"===t[Symbol.toStringTag]}function Mg(t){if("function"!=typeof t)throw new Error("expected a function");return Ag(t)?Tg(t):t}function jg(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise((n,i)=>{r[e-1]=(t,...e)=>{if(t)return i(t);n(e.length>1?e:e[0])},t.apply(this,r)})}}function Lg(t){return function(e,...r){return jg(function(n){var i=this;return t(e,(t,e)=>{Mg(t).apply(i,r.concat(e))},n)})}}function Rg(t,e,r,n){e=e||[];var i=[],s=0,o=Mg(r);return t(e,(t,e,r)=>{var n=s++;o(t,(t,e)=>{i[n]=e,r(t)})},t=>{n(t,i)})}function Cg(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}const Ig={};function Fg(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function Dg(t){if(Cg(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,n,i,s=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}(t);return s?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(s):(r=(e=t)?Object.keys(e):[],n=-1,i=r.length,function t(){var s=r[++n];return"__proto__"===s?t():n<i?{value:e[s],key:s}:null})}function Ng(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function Bg(t,e,r,n){let i=!1,s=!1,o=!1,a=0,l=0;function u(){a>=e||o||i||(o=!0,t.next().then(({value:t,done:e})=>{if(!s&&!i){if(o=!1,e)return i=!0,void(a<=0&&n(null));a++,r(t,l,c),l++,u()}}).catch(h))}function c(t,e){if(a-=1,!s)return t?h(t):!1===t?(i=!0,void(s=!0)):e===Ig||i&&a<=0?(i=!0,n(null)):void u()}function h(t){s||(o=!1,i=!0,n(t))}u()}var zg=t=>(e,r,n)=>{if(n=Fg(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if("AsyncGenerator"===e[Symbol.toStringTag])return Bg(e,t,r,n);if(function(t){return"function"==typeof t[Symbol.asyncIterator]}(e))return Bg(e[Symbol.asyncIterator](),t,r,n);var i=Dg(e),s=!1,o=!1,a=0,l=!1;function u(t,e){if(!o)if(a-=1,t)s=!0,n(t);else if(!1===t)s=!0,o=!0;else{if(e===Ig||s&&a<=0)return s=!0,n(null);l||c()}}function c(){for(l=!0;a<t&&!s;){var e=i();if(null===e)return s=!0,void(a<=0&&n(null));a+=1,r(e.value,e.key,Ng(u))}l=!1}c()};var Wg=jg(function(t,e,r,n){return zg(e)(t,Mg(r),n)},4);function Ug(t,e,r){r=Fg(r);var n=0,i=0,{length:s}=t,o=!1;function a(t,e){!1===t&&(o=!0),!0!==o&&(t?r(t):++i!==s&&e!==Ig||r(null))}for(0===s&&r(null);n<s;n++)e(t[n],n,Ng(a))}function $g(t,e,r){return Wg(t,1/0,e,r)}var Gg=jg(function(t,e,r){return(Cg(t)?Ug:$g)(t,Mg(e),r)},3);var Hg=jg(function(t,e,r){return Rg(Gg,t,e,r)},3),qg=Lg(Hg);var Vg=jg(function(t,e,r){return Wg(t,1,e,r)},3);var Yg=jg(function(t,e,r){return Rg(Vg,t,e,r)},3),Zg=Lg(Yg);const Kg=Symbol("promiseCallback");function Qg(){let t,e;function r(r,...n){if(r)return e(r);t(n.length>1?n:n[0])}return r[Kg]=new Promise((r,n)=>{t=r,e=n}),r}function Xg(t,e,r){"number"!=typeof e&&(r=e,e=null),r=Fg(r||Qg());var n=Object.keys(t).length;if(!n)return r(null);e||(e=n);var i={},s=0,o=!1,a=!1,l=Object.create(null),u=[],c=[],h={};function f(t,e){u.push(()=>function(t,e){if(a)return;var n=Ng((e,...n)=>{if(s--,!1!==e)if(n.length<2&&([n]=n),e){var u={};if(Object.keys(i).forEach(t=>{u[t]=i[t]}),u[t]=n,a=!0,l=Object.create(null),o)return;r(e,u)}else i[t]=n,(l[t]||[]).forEach(t=>t()),d();else o=!0});s++;var u=Mg(e[e.length-1]);e.length>1?u(i,n):u(n)}(t,e))}function d(){if(!o){if(0===u.length&&0===s)return r(null,i);for(;u.length&&s<e;){u.shift()()}}}function p(e){var r=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)&&i.indexOf(e)>=0&&r.push(n)}),r}return Object.keys(t).forEach(e=>{var r=t[e];if(!Array.isArray(r))return f(e,[r]),void c.push(e);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return f(e,r),void c.push(e);h[e]=i,n.forEach(s=>{if(!t[s])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+s+"` in "+n.join(", "));!function(t,e){var r=l[t];r||(r=l[t]=[]);r.push(e)}(s,()=>{0===--i&&f(e,r)})})}),function(){var t=0;for(;c.length;)t++,p(c.pop()).forEach(t=>{0===--h[t]&&c.push(t)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),r[Kg]}var Jg=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,tw=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,ew=/,/,rw=/(=.+)?(\s*)$/;function nw(t,e){var r={};return Object.keys(t).forEach(e=>{var n,i=t[e],s=Ag(i),o=!s&&1===i.length||s&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[e]=n.concat(n.length>0?a:i);else if(o)r[e]=i;else{if(n=function(t){const e=function(t){let e="",r=0,n=t.indexOf("*/");for(;r<t.length;)if("/"===t[r]&&"/"===t[r+1]){let e=t.indexOf("\n",r);r=-1===e?t.length:e}else if(-1!==n&&"/"===t[r]&&"*"===t[r+1]){let i=t.indexOf("*/",r);-1!==i?(r=i+2,n=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}(t.toString());let r=e.match(Jg);if(r||(r=e.match(tw)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,n]=r;return n.replace(/\s/g,"").split(ew).map(t=>t.replace(rw,"").trim())}(i),0===i.length&&!s&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");s||n.pop(),r[e]=n.concat(a)}function a(t,e){var r=n.map(e=>t[e]);r.push(e),Mg(i)(...r)}}),Xg(r,e)}class iw{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):sw(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):sw(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function sw(t,e){t.length=1,t.head=t.tail=e}function ow(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var n=Mg(t),i=0,s=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(t,e){return t?e?void(o[t]=o[t].filter(t=>t!==e)):o[t]=[]:Object.keys(o).forEach(t=>o[t]=[])}function l(t,...e){o[t].forEach(t=>t(...e))}var u=!1;function c(t,e,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,s;function o(t,...e){return t?r?s(t):i():e.length<=1?i(e[0]):void i(e)}b.started=!0;var a=b._createTaskItem(t,r?o:n||o);if(e?b._tasks.unshift(a):b._tasks.push(a),u||(u=!0,xg(()=>{u=!1,b.process()})),r||!n)return new Promise((t,e)=>{i=t,s=e})}function h(t){return function(e,...r){i-=1;for(var n=0,o=t.length;n<o;n++){var a=t[n],u=s.indexOf(a);0===u?s.shift():u>0&&s.splice(u,1),a.callback(e,...r),null!=e&&l("error",e,a.data)}i<=b.concurrency-b.buffer&&l("unsaturated"),b.idle()&&l("drain"),b.process()}}function f(t){return!(0!==t.length||!b.idle())&&(xg(()=>l("drain")),!0)}const d=t=>e=>{if(!e)return new Promise((e,r)=>{!function(t,e){const r=(...n)=>{a(t,r),e(...n)};o[t].push(r)}(t,(t,n)=>{if(t)return r(t);e(n)})});a(t),function(t,e){o[t].push(e)}(t,e)};var p=!1,b={_tasks:new iw,_createTaskItem:(t,e)=>({data:t,callback:e}),*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!1,!1,e))}return c(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!1,!0,e))}return c(t,!1,!0,e)},kill(){a(),b._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!0,!1,e))}return c(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!0,!0,e))}return c(t,!0,!0,e)},remove(t){b._tasks.remove(t)},process(){if(!p){for(p=!0;!b.paused&&i<b.concurrency&&b._tasks.length;){var t=[],e=[],r=b._tasks.length;b.payload&&(r=Math.min(r,b.payload));for(var o=0;o<r;o++){var a=b._tasks.shift();t.push(a),s.push(a),e.push(a.data)}i+=1,0===b._tasks.length&&l("empty"),i===b.concurrency&&l("saturated");var u=Ng(h(t));n(e,u)}p=!1}},length:()=>b._tasks.length,running:()=>i,workersList:()=>s,idle:()=>b._tasks.length+i===0,pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,xg(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),b}function aw(t,e){return ow(t,1,e)}function lw(t,e,r){return ow(t,e,r)}var uw=jg(function(t,e,r,n){n=Fg(n);var i=Mg(r);return Vg(t,(t,r,n)=>{i(e,t,(t,r)=>{e=r,n(t)})},t=>n(t,e))},4);function cw(...t){var e=t.map(Mg);return function(...t){var r=this,n=t[t.length-1];return"function"==typeof n?t.pop():n=Qg(),uw(e,t,(t,e,n)=>{e.apply(r,t.concat((t,...e)=>{n(t,e)}))},(t,e)=>n(t,...e)),n[Kg]}}function hw(...t){return cw(...t.reverse())}var fw=jg(function(t,e,r,n){return Rg(zg(e),t,r,n)},4);var dw=jg(function(t,e,r,n){var i=Mg(r);return fw(t,e,(t,e)=>{i(t,(t,...r)=>t?e(t):e(t,r))},(t,e)=>{for(var r=[],i=0;i<e.length;i++)e[i]&&(r=r.concat(...e[i]));return n(t,r)})},4);var pw=jg(function(t,e,r){return dw(t,1/0,e,r)},3);var bw=jg(function(t,e,r){return dw(t,1,e,r)},3);function yw(...t){return function(...e){return e.pop()(null,...t)}}function mw(t,e){return(r,n,i,s)=>{var o,a=!1;const l=Mg(i);r(n,(r,n,i)=>{l(r,(n,s)=>n||!1===n?i(n):t(s)&&!o?(a=!0,o=e(!0,r),i(null,Ig)):void i())},t=>{if(t)return s(t);s(null,a?o:e(!1))})}}var vw=jg(function(t,e,r){return mw(t=>t,(t,e)=>e)(Gg,t,e,r)},3);var gw=jg(function(t,e,r,n){return mw(t=>t,(t,e)=>e)(zg(e),t,r,n)},4);var ww=jg(function(t,e,r){return mw(t=>t,(t,e)=>e)(zg(1),t,e,r)},3);function _w(t){return(e,...r)=>Mg(e)(...r,(e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach(e=>console[t](e)))})}var Sw=_w("dir");var Ew=jg(function(t,e,r){r=Ng(r);var n,i=Mg(t),s=Mg(e);function o(t,...e){if(t)return r(t);!1!==t&&(n=e,s(...e,a))}function a(t,e){return t?r(t):!1!==t?e?void i(o):r(null,...n):void 0}return a(null,!0)},3);function Ow(t,e,r){const n=Mg(e);return Ew(t,(...t)=>{const e=t.pop();n(...t,(t,r)=>e(t,!r))},r)}function xw(t){return(e,r,n)=>t(e,n)}var Tw=jg(function(t,e,r){return Gg(t,xw(Mg(e)),r)},3);var kw=jg(function(t,e,r,n){return zg(e)(t,xw(Mg(r)),n)},4);var Pw=jg(function(t,e,r){return kw(t,1,e,r)},3);function Aw(t){return Ag(t)?t:function(...e){var r=e.pop(),n=!0;e.push((...t)=>{n?xg(()=>r(...t)):r(...t)}),t.apply(this,e),n=!1}}var Mw=jg(function(t,e,r){return mw(t=>!t,t=>!t)(Gg,t,e,r)},3);var jw=jg(function(t,e,r,n){return mw(t=>!t,t=>!t)(zg(e),t,r,n)},4);var Lw=jg(function(t,e,r){return mw(t=>!t,t=>!t)(Vg,t,e,r)},3);function Rw(t,e,r,n){var i=new Array(e.length);t(e,(t,e,n)=>{r(t,(t,r)=>{i[e]=!!r,n(t)})},t=>{if(t)return n(t);for(var r=[],s=0;s<e.length;s++)i[s]&&r.push(e[s]);n(null,r)})}function Cw(t,e,r,n){var i=[];t(e,(t,e,n)=>{r(t,(r,s)=>{if(r)return n(r);s&&i.push({index:e,value:t}),n(r)})},t=>{if(t)return n(t);n(null,i.sort((t,e)=>t.index-e.index).map(t=>t.value))})}function Iw(t,e,r,n){return(Cg(e)?Rw:Cw)(t,e,Mg(r),n)}var Fw=jg(function(t,e,r){return Iw(Gg,t,e,r)},3);var Dw=jg(function(t,e,r,n){return Iw(zg(e),t,r,n)},4);var Nw=jg(function(t,e,r){return Iw(Vg,t,e,r)},3);var Bw=jg(function(t,e){var r=Ng(e),n=Mg(Aw(t));return function t(e){if(e)return r(e);!1!==e&&n(t)}()},2);var zw=jg(function(t,e,r,n){var i=Mg(r);return fw(t,e,(t,e)=>{i(t,(r,n)=>r?e(r):e(r,{key:n,val:t}))},(t,e)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,s=0;s<e.length;s++)if(e[s]){var{key:o}=e[s],{val:a}=e[s];i.call(r,o)?r[o].push(a):r[o]=[a]}return n(t,r)})},4);function Ww(t,e,r){return zw(t,1/0,e,r)}function Uw(t,e,r){return zw(t,1,e,r)}var $w=_w("log");var Gw=jg(function(t,e,r,n){n=Fg(n);var i={},s=Mg(r);return zg(e)(t,(t,e,r)=>{s(t,e,(t,n)=>{if(t)return r(t);i[e]=n,r(t)})},t=>n(t,i))},4);function Hw(t,e,r){return Gw(t,1/0,e,r)}function qw(t,e,r){return Gw(t,1,e,r)}function Vw(t,e=t=>t){var r=Object.create(null),n=Object.create(null),i=Mg(t),s=gg((t,s)=>{var o=e(...t);o in r?xg(()=>s(null,...r[o])):o in n?n[o].push(s):(n[o]=[s],i(...t,(t,...e)=>{t||(r[o]=e);var i=n[o];delete n[o];for(var s=0,a=i.length;s<a;s++)i[s](t,...e)}))});return s.memo=r,s.unmemoized=t,s}var Yw=Og(Sg?process.nextTick:_g?setImmediate:Eg),Zw=jg((t,e,r)=>{var n=Cg(e)?[]:{};t(e,(t,e,r)=>{Mg(t)((t,...i)=>{i.length<2&&([i]=i),n[e]=i,r(t)})},t=>r(t,n))},3);function Kw(t,e){return Zw(Gg,t,e)}function Qw(t,e,r){return Zw(zg(e),t,r)}function Xw(t,e){var r=Mg(t);return ow((t,e)=>{r(t[0],e)},e,1)}class Jw{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&r_(this.heap[t],this.heap[e=e_(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=t_(t))<this.heap.length&&(e+1<this.heap.length&&r_(this.heap[e+1],this.heap[e])&&(e+=1),!r_(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let t=e_(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function t_(t){return 1+(t<<1)}function e_(t){return(t+1>>1)-1}function r_(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function n_(t,e){var r=Xw(t,e),{push:n,pushAsync:i}=r;function s(t,e){return Array.isArray(t)?t.map(t=>({data:t,priority:e})):{data:t,priority:e}}return r._tasks=new Jw,r._createTaskItem=({data:t,priority:e},r)=>({data:t,priority:e,callback:r}),r.push=function(t,e=0,r){return n(s(t,e),r)},r.pushAsync=function(t,e=0,r){return i(s(t,e),r)},delete r.unshift,delete r.unshiftAsync,r}var i_=jg(function(t,e){if(e=Fg(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)Mg(t[r])(e)},2);function s_(t,e,r,n){var i=[...t].reverse();return uw(i,e,r,n)}function o_(t){var e=Mg(t);return gg(function(t,r){return t.push((t,...e)=>{let n={};if(t&&(n.error=t),e.length>0){var i=e;e.length<=1&&([i]=e),n.value=i}r(null,n)}),e.apply(this,t)})}function a_(t){var e;return Array.isArray(t)?e=t.map(o_):(e={},Object.keys(t).forEach(r=>{e[r]=o_.call(this,t[r])})),e}function l_(t,e,r,n){const i=Mg(r);return Iw(t,e,(t,e)=>{i(t,(t,r)=>{e(t,!r)})},n)}var u_=jg(function(t,e,r){return l_(Gg,t,e,r)},3);var c_=jg(function(t,e,r,n){return l_(zg(e),t,r,n)},4);var h_=jg(function(t,e,r){return l_(Vg,t,e,r)},3);function f_(t){return function(){return t}}function d_(t,e,r){var n={times:5,intervalFunc:f_(0)};if(arguments.length<3&&"function"==typeof t?(r=e||Qg(),e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||5,t.intervalFunc="function"==typeof e.interval?e.interval:f_(+e.interval||0),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||5}}(n,t),r=r||Qg()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var i=Mg(e),s=1;return function t(){i((e,...i)=>{!1!==e&&(e&&s++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(t,n.intervalFunc(s-1)):r(e,...i))})}(),r[Kg]}function p_(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;Ag(e)&&(r+=1);var n=Mg(e);return gg((e,i)=>{function s(t){n(...e,t)}return(e.length<r-1||null==i)&&(e.push(i),i=Qg()),t?d_(t,s,i):d_(s,i),i[Kg]})}function b_(t,e){return Zw(Vg,t,e)}var y_=jg(function(t,e,r){return mw(Boolean,t=>t)(Gg,t,e,r)},3);var m_=jg(function(t,e,r,n){return mw(Boolean,t=>t)(zg(e),t,r,n)},4);var v_=jg(function(t,e,r){return mw(Boolean,t=>t)(Vg,t,e,r)},3);var g_=jg(function(t,e,r){var n=Mg(e);return Hg(t,(t,e)=>{n(t,(r,n)=>{if(r)return e(r);e(r,{value:t,criteria:n})})},(t,e)=>{if(t)return r(t);r(null,e.sort(i).map(t=>t.value))});function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}},3);function w_(t,e,r){var n=Mg(t);return gg((i,s)=>{var o,a=!1;i.push((...t)=>{a||(s(...t),clearTimeout(o))}),o=setTimeout(function(){var e=t.name||"anonymous",n=new Error('Callback function "'+e+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,s(n)},e),n(...i)})}function __(t,e,r,n){var i=Mg(r);return fw(function(t){for(var e=Array(t);t--;)e[t]=t;return e}(t),e,i,n)}function S_(t,e,r){return __(t,1/0,e,r)}function E_(t,e,r){return __(t,1,e,r)}function O_(t,e,r,n){arguments.length<=3&&"function"==typeof e&&(n=r,r=e,e=Array.isArray(t)?[]:{}),n=Fg(n||Qg());var i=Mg(r);return Gg(t,(t,r,n)=>{i(e,t,r,n)},t=>n(t,e)),n[Kg]}var x_=jg(function(t,e){var r,n=null;return Pw(t,(t,e)=>{Mg(t)((t,...i)=>{if(!1===t)return e(t);i.length<2?[r]=i:r=i,n=t,e(t?null:{})})},()=>e(n,r))});function T_(t){return(...e)=>(t.unmemoized||t)(...e)}var k_=jg(function(t,e,r){r=Ng(r);var n=Mg(e),i=Mg(t),s=[];function o(t,...e){if(t)return r(t);s=e,!1!==t&&i(a)}function a(t,e){return t?r(t):!1!==t?e?void n(o):r(null,...s):void 0}return i(a)},3);function P_(t,e,r){const n=Mg(t);return k_(t=>n((e,r)=>t(e,!r)),e,r)}var A_=jg(function(t,e){if(e=Fg(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(e){Mg(t[r++])(...e,Ng(i))}function i(i,...s){if(!1!==i)return i||r===t.length?e(i,...s):void n(s)}n([])}),M_={apply:vg,applyEach:qg,applyEachSeries:Zg,asyncify:Tg,auto:Xg,autoInject:nw,cargo:aw,cargoQueue:lw,compose:hw,concat:pw,concatLimit:dw,concatSeries:bw,constant:yw,detect:vw,detectLimit:gw,detectSeries:ww,dir:Sw,doUntil:Ow,doWhilst:Ew,each:Tw,eachLimit:kw,eachOf:Gg,eachOfLimit:Wg,eachOfSeries:Vg,eachSeries:Pw,ensureAsync:Aw,every:Mw,everyLimit:jw,everySeries:Lw,filter:Fw,filterLimit:Dw,filterSeries:Nw,forever:Bw,groupBy:Ww,groupByLimit:zw,groupBySeries:Uw,log:$w,map:Hg,mapLimit:fw,mapSeries:Yg,mapValues:Hw,mapValuesLimit:Gw,mapValuesSeries:qw,memoize:Vw,nextTick:Yw,parallel:Kw,parallelLimit:Qw,priorityQueue:n_,queue:Xw,race:i_,reduce:uw,reduceRight:s_,reflect:o_,reflectAll:a_,reject:u_,rejectLimit:c_,rejectSeries:h_,retry:d_,retryable:p_,seq:cw,series:b_,setImmediate:xg,some:y_,someLimit:m_,someSeries:v_,sortBy:g_,timeout:w_,times:S_,timesLimit:__,timesSeries:E_,transform:O_,tryEach:x_,unmemoize:T_,until:P_,waterfall:A_,whilst:k_,all:Mw,allLimit:jw,allSeries:Lw,any:y_,anyLimit:m_,anySeries:v_,find:vw,findLimit:gw,findSeries:ww,flatMap:pw,flatMapLimit:dw,flatMapSeries:bw,forEach:Tw,forEachSeries:Pw,forEachLimit:kw,forEachOf:Gg,forEachOfSeries:Vg,forEachOfLimit:Wg,inject:uw,foldl:uw,foldr:s_,select:Fw,selectLimit:Dw,selectSeries:Nw,wrapSync:Tg,during:k_,doDuring:Ew},j_=tt(Object.freeze({__proto__:null,all:Mw,allLimit:jw,allSeries:Lw,any:y_,anyLimit:m_,anySeries:v_,apply:vg,applyEach:qg,applyEachSeries:Zg,asyncify:Tg,auto:Xg,autoInject:nw,cargo:aw,cargoQueue:lw,compose:hw,concat:pw,concatLimit:dw,concatSeries:bw,constant:yw,default:M_,detect:vw,detectLimit:gw,detectSeries:ww,dir:Sw,doDuring:Ew,doUntil:Ow,doWhilst:Ew,during:k_,each:Tw,eachLimit:kw,eachOf:Gg,eachOfLimit:Wg,eachOfSeries:Vg,eachSeries:Pw,ensureAsync:Aw,every:Mw,everyLimit:jw,everySeries:Lw,filter:Fw,filterLimit:Dw,filterSeries:Nw,find:vw,findLimit:gw,findSeries:ww,flatMap:pw,flatMapLimit:dw,flatMapSeries:bw,foldl:uw,foldr:s_,forEach:Tw,forEachLimit:kw,forEachOf:Gg,forEachOfLimit:Wg,forEachOfSeries:Vg,forEachSeries:Pw,forever:Bw,groupBy:Ww,groupByLimit:zw,groupBySeries:Uw,inject:uw,log:$w,map:Hg,mapLimit:fw,mapSeries:Yg,mapValues:Hw,mapValuesLimit:Gw,mapValuesSeries:qw,memoize:Vw,nextTick:Yw,parallel:Kw,parallelLimit:Qw,priorityQueue:n_,queue:Xw,race:i_,reduce:uw,reduceRight:s_,reflect:o_,reflectAll:a_,reject:u_,rejectLimit:c_,rejectSeries:h_,retry:d_,retryable:p_,select:Fw,selectLimit:Dw,selectSeries:Nw,seq:cw,series:b_,setImmediate:xg,some:y_,someLimit:m_,someSeries:v_,sortBy:g_,timeout:w_,times:S_,timesLimit:__,timesSeries:E_,transform:O_,tryEach:x_,unmemoize:T_,until:P_,waterfall:A_,whilst:k_,wrapSync:Tg})),L_={exports:{}},R_=c,C_=process.cwd,I_=null,F_=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return I_||(I_=C_.call(process)),I_};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var D_=process.chdir;process.chdir=function(t){I_=null,D_.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,D_)}var N_=function(t){R_.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,r,n){t.open(e,R_.O_WRONLY|R_.O_SYMLINK,r,function(e,i){e?n&&n(e):t.fchmod(i,r,function(e){t.close(i,function(t){n&&n(e||t)})})})},t.lchmodSync=function(e,r){var n,i=t.openSync(e,R_.O_WRONLY|R_.O_SYMLINK,r),s=!0;try{n=t.fchmodSync(i,r),s=!1}finally{if(s)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return n}}(t);t.lutimes||function(t){R_.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,r,n,i){t.open(e,R_.O_SYMLINK,function(e,s){e?i&&i(e):t.futimes(s,r,n,function(e){t.close(s,function(t){i&&i(e||t)})})})},t.lutimesSync=function(e,r,n){var i,s=t.openSync(e,R_.O_SYMLINK),o=!0;try{i=t.futimesSync(s,r,n),o=!1}finally{if(o)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return i}):t.futimes&&(t.lutimes=function(t,e,r,n){n&&process.nextTick(n)},t.lutimesSync=function(){})}(t);t.chown=n(t.chown),t.fchown=n(t.fchown),t.lchown=n(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=i(t.chownSync),t.fchownSync=i(t.fchownSync),t.lchownSync=i(t.lchownSync),t.chmodSync=r(t.chmodSync),t.fchmodSync=r(t.fchmodSync),t.lchmodSync=r(t.lchmodSync),t.stat=s(t.stat),t.fstat=s(t.fstat),t.lstat=s(t.lstat),t.statSync=o(t.statSync),t.fstatSync=o(t.fstatSync),t.lstatSync=o(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,r){r&&process.nextTick(r)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,e,r,n){n&&process.nextTick(n)},t.lchownSync=function(){});"win32"===F_&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function r(r,n,i){var s=Date.now(),o=0;e(r,n,function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code||"EBUSY"===l.code)&&Date.now()-s<6e4)return setTimeout(function(){t.stat(n,function(t,s){t&&"ENOENT"===t.code?e(r,n,a):i(l)})},o),void(o<100&&(o+=10));i&&i(l)})}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.rename));function e(e){return e?function(r,n,i){return e.call(t,r,n,function(t){a(t)&&(t=null),i&&i.apply(this,arguments)})}:e}function r(e){return e?function(r,n){try{return e.call(t,r,n)}catch(t){if(!a(t))throw t}}:e}function n(e){return e?function(r,n,i,s){return e.call(t,r,n,i,function(t){a(t)&&(t=null),s&&s.apply(this,arguments)})}:e}function i(e){return e?function(r,n,i){try{return e.call(t,r,n,i)}catch(t){if(!a(t))throw t}}:e}function s(e){return e?function(r,n,i){function s(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?e.call(t,r,n,s):e.call(t,r,s)}:e}function o(e){return e?function(r,n){var i=n?e.call(t,r,n):e.call(t,r);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:e}function a(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read="function"!=typeof t.read?t.read:function(e){function r(r,n,i,s,o,a){var l;if(a&&"function"==typeof a){var u=0;l=function(c,h,f){if(c&&"EAGAIN"===c.code&&u<10)return u++,e.call(t,r,n,i,s,o,l);a.apply(this,arguments)}}return e.call(t,r,n,i,s,o,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(l=t.readSync,function(e,r,n,i,s){for(var o=0;;)try{return l.call(t,e,r,n,i,s)}catch(t){if("EAGAIN"===t.code&&o<10){o++;continue}throw t}});var l};var B_=h.Stream,z_=function(t){return{ReadStream:function e(r,n){if(!(this instanceof e))return new e(r,n);B_.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,n=n||{};for(var s=Object.keys(n),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=n[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){i._read()});t.open(this.path,this.flags,this.mode,function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()})},WriteStream:function e(r,n){if(!(this instanceof e))return new e(r,n);B_.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var i=Object.keys(n),s=0,o=i.length;s<o;s++){var a=i[s];this[a]=n[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};var W_=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:U_(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e},U_=Object.getPrototypeOf||function(t){return t.__proto__};var $_,G_,H_=n,q_=N_,V_=z_,Y_=W_,Z_=f;function K_(t,e){Object.defineProperty(t,$_,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?($_=Symbol.for("graceful-fs.queue"),G_=Symbol.for("graceful-fs.previous")):($_="___graceful-fs.queue",G_="___graceful-fs.previous");var Q_=function(){};if(Z_.debuglog?Q_=Z_.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Q_=function(){var t=Z_.format.apply(Z_,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!H_[$_]){var X_=X[$_]||[];K_(H_,X_),H_.close=function(t){function e(e,r){return t.call(H_,e,function(t){t||nS(),"function"==typeof r&&r.apply(this,arguments)})}return Object.defineProperty(e,G_,{value:t}),e}(H_.close),H_.closeSync=function(t){function e(e){t.apply(H_,arguments),nS()}return Object.defineProperty(e,G_,{value:t}),e}(H_.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Q_(H_[$_]),d.equal(H_[$_].length,0)})}X[$_]||K_(X,H_[$_]);var J_,tS=eS(Y_(H_));function eS(t){q_(t),t.gracefulify=eS,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,n){"function"==typeof r&&(n=r,r=null);return function t(r,n,i,s){return e(r,n,function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof i&&i.apply(this,arguments):rS([t,[r,n,i],e,s||Date.now(),Date.now()])})}(t,r,n)};var r=t.writeFile;t.writeFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,s,o){return r(e,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):rS([t,[e,n,i,s],r,o||Date.now(),Date.now()])})}(t,e,n,i)};var n=t.appendFile;n&&(t.appendFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,s,o){return n(e,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):rS([t,[e,r,i,s],n,o||Date.now(),Date.now()])})}(t,e,r,i)});var i=t.copyFile;i&&(t.copyFile=function(t,e,r,n){"function"==typeof r&&(n=r,r=0);return function t(e,r,n,s,o){return i(e,r,n,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):rS([t,[e,r,n,s],i,o||Date.now(),Date.now()])})}(t,e,r,n)});var s=t.readdir;t.readdir=function(t,e,r){"function"==typeof e&&(r=e,e=null);var n=o.test(process.version)?function(t,e,r,n){return s(t,i(t,e,r,n))}:function(t,e,r,n){return s(t,e,i(t,e,r,n))};return n(t,e,r);function i(t,e,r,i){return function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof r&&r.call(this,s,o)):rS([n,[t,e,r],s,i||Date.now(),Date.now()])}}};var o=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var a=V_(t);f=a.ReadStream,d=a.WriteStream}var l=t.ReadStream;l&&(f.prototype=Object.create(l.prototype),f.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())})});var u=t.WriteStream;u&&(d.prototype=Object.create(u.prototype),d.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))})}),Object.defineProperty(t,"ReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0});var c=f;Object.defineProperty(t,"FileReadStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var h=d;function f(t,e){return this instanceof f?(l.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function d(t,e){return this instanceof d?(u.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var p=t.open;function b(t,e,r,n){return"function"==typeof r&&(n=r,r=null),function t(e,r,n,i,s){return p(e,r,n,function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):rS([t,[e,r,n,i],o,s||Date.now(),Date.now()])})}(t,e,r,n)}return t.open=b,t}function rS(t){Q_("ENQUEUE",t[0].name,t[1]),H_[$_].push(t),iS()}function nS(){for(var t=Date.now(),e=0;e<H_[$_].length;++e)H_[$_][e].length>2&&(H_[$_][e][3]=t,H_[$_][e][4]=t);iS()}function iS(){if(clearTimeout(J_),J_=void 0,0!==H_[$_].length){var t=H_[$_].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(void 0===i)Q_("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){Q_("TIMEOUT",e.name,r);var o=r.pop();"function"==typeof o&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1);a>=Math.min(1.2*l,100)?(Q_("RETRY",e.name,r),e.apply(null,r.concat([i]))):H_[$_].push(t)}void 0===J_&&(J_=setTimeout(iS,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!H_.__patched&&(tS=eS(H_),H_.__patched=!0);const sS=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;sS.writable=t=>sS(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,sS.readable=t=>sS(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,sS.duplex=t=>sS.writable(t)&&sS.readable(t),sS.transform=t=>sS.duplex(t)&&"function"==typeof t._transform;var oS,aS,lS,uS,cS,hS=sS,fS={exports:{}},dS={exports:{}};function pS(){if(oS)return dS.exports;return oS=1,"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?dS.exports={nextTick:function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return process.nextTick(function(){t.apply(null,i)})}}}:dS.exports=process,dS.exports}function bS(){return cS?uS:(cS=1,uS=h)}var yS,mS={exports:{}};function vS(){return yS||(yS=1,function(t,e){var r=p,n=r.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),i(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(mS,mS.exports)),mS.exports}var gS,wS={};function _S(){if(gS)return wS;function t(t){return Object.prototype.toString.call(t)}return gS=1,wS.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},wS.isBoolean=function(t){return"boolean"==typeof t},wS.isNull=function(t){return null===t},wS.isNullOrUndefined=function(t){return null==t},wS.isNumber=function(t){return"number"==typeof t},wS.isString=function(t){return"string"==typeof t},wS.isSymbol=function(t){return"symbol"==typeof t},wS.isUndefined=function(t){return void 0===t},wS.isRegExp=function(e){return"[object RegExp]"===t(e)},wS.isObject=function(t){return"object"==typeof t&&null!==t},wS.isDate=function(e){return"[object Date]"===t(e)},wS.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},wS.isFunction=function(t){return"function"==typeof t},wS.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},wS.isBuffer=p.Buffer.isBuffer,wS}var SS,ES,OS={exports:{}},xS={exports:{}};function TS(){if(ES)return OS.exports;ES=1;try{var t=require("util");if("function"!=typeof t.inherits)throw"";OS.exports=t.inherits}catch(t){OS.exports=(SS||(SS=1,"function"==typeof Object.create?xS.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:xS.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}),xS.exports)}return OS.exports}var kS,PS,AS,MS,jS,LS,RS,CS,IS,FS={exports:{}};function DS(){return kS||(kS=1,function(t){var e=vS().Buffer,r=f;function n(t,e,r){t.copy(e,r)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return e.alloc(0);for(var r=e.allocUnsafe(t>>>0),i=this.head,s=0;i;)n(i.data,r,s),s+=i.data.length,i=i.next;return r},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})}(FS)),FS.exports}function NS(){if(AS)return PS;AS=1;var t=pS();function e(t,e){t.emit("error",e)}return PS={destroy:function(r,n){var i=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(n?n(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(e,this,r)):t.nextTick(e,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(r){!n&&r?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,t.nextTick(e,i,r)):t.nextTick(e,i,r):n&&n(r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}function BS(){if(RS)return LS;RS=1;var t=pS();function e(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}LS=p;var r,n=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:t.nextTick;p.WritableState=d;var i=Object.create(_S());i.inherits=TS();var s={deprecate:jS?MS:(jS=1,MS=f.deprecate)},o=bS(),a=vS().Buffer,l=(void 0!==X?X:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,c=NS();function h(){}function d(i,s){r=r||zS(),i=i||{};var o=s instanceof r;this.objectMode=!!i.objectMode,o&&(this.objectMode=this.objectMode||!!i.writableObjectMode);var a=i.highWaterMark,l=i.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:o&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===i.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,r){var i=e._writableState,s=i.sync,o=i.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),r)!function(e,r,n,i,s){--r.pendingcb,n?(t.nextTick(s,i),t.nextTick(w,e,r),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),w(e,r))}(e,i,s,r,o);else{var a=v(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||m(e,i),s?n(y,e,i,a,o):y(e,i,a,o)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function p(t){if(r=r||zS(),!(u.call(p,this)||this instanceof r))return new p(t);this._writableState=new d(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function b(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function y(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),w(t,e)}function m(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var i=r.bufferedRequestCount,s=new Array(i),o=r.corkedRequestsFree;o.entry=n;for(var a=0,l=!0;n;)s[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;s.allBuffers=l,b(t,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(b(t,r,!1,r.objectMode?1:u.length,u,c,h),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function v(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function g(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),w(t,e)})}function w(e,r){var n=v(r);return n&&(!function(e,r){r.prefinished||r.finalCalled||("function"==typeof e._final?(r.pendingcb++,r.finalCalled=!0,t.nextTick(g,e,r)):(r.prefinished=!0,e.emit("prefinish")))}(e,r),0===r.pendingcb&&(r.finished=!0,e.emit("finish"))),n}return i.inherits(p,o),d.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(d.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===p&&(t&&t._writableState instanceof d)}})):u=function(t){return t instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,r,n){var i,s=this._writableState,o=!1,u=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof l);return u&&!a.isBuffer(e)&&(e=function(t){return a.from(t)}(e)),"function"==typeof r&&(n=r,r=null),u?r="buffer":r||(r=s.defaultEncoding),"function"!=typeof n&&(n=h),s.ended?function(e,r){var n=new Error("write after end");e.emit("error",n),t.nextTick(r,n)}(this,n):(u||function(e,r,n,i){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||r.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),t.nextTick(i,o),s=!1),s}(this,s,e,n))&&(s.pendingcb++,o=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=a.from(e,r));return e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var l=e.objectMode?1:n.length;e.length+=l;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,l,n,i,s);return u}(this,s,u,e,r,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||m(this,t))},p.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),p.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,r,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,r=null):"function"==typeof r&&(n=r,r=null),null!=e&&this.write(e,r),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,r,n){r.ending=!0,w(e,r),n&&(r.finished?t.nextTick(n):e.once("finish",n));r.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),p.prototype.destroy=c.destroy,p.prototype._undestroy=c.undestroy,p.prototype._destroy=function(t,e){this.end(),e(t)},LS}function zS(){if(IS)return CS;IS=1;var t=pS(),e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};CS=l;var r=Object.create(_S());r.inherits=TS();var n=KS(),i=BS();r.inherits(l,n);for(var s=e(i.prototype),o=0;o<s.length;o++){var a=s[o];l.prototype[a]||(l.prototype[a]=i.prototype[a])}function l(t){if(!(this instanceof l))return new l(t);n.call(this,t),i.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||t.nextTick(c,this)}function c(t){t.end()}return Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(e,r){this.push(null),this.end(),t.nextTick(r,e)},CS}var WS,US,$S,GS,HS,qS,VS,YS={};function ZS(){if(WS)return YS;WS=1;var t=vS().Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof n&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,n=4;break;case"utf8":this.fillLast=i,n=4;break;case"base64":this.text=a,this.end=l,n=3;break;default:return this.write=u,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function n(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function c(t){return t&&t.length?this.write(t):""}return YS.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var s=n(e[i]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},YS}function KS(){if($S)return US;$S=1;var t=pS();US=m;var e,r=function(){if(lS)return aS;lS=1;var t={}.toString;return aS=Array.isArray||function(e){return"[object Array]"==t.call(e)}}();m.ReadableState=y,u.EventEmitter;var n=function(t,e){return t.listeners(e).length},i=bS(),s=vS().Buffer,o=(void 0!==X?X:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var a=Object.create(_S());a.inherits=TS();var l=f,c=void 0;c=l&&l.debuglog?l.debuglog("stream"):function(){};var h,d=DS(),p=NS();a.inherits(m,i);var b=["error","close","destroy","pause","resume"];function y(t,r){t=t||{};var n=r instanceof(e=e||zS());this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=ZS().StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function m(t){if(e=e||zS(),!(this instanceof m))return new m(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),i.call(this)}function v(t,e,r,n,i){var a,l=t._readableState;null===e?(l.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,S(t)}(t,l)):(i||(a=function(t,e){var r;n=e,s.isBuffer(n)||n instanceof o||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(l,e)),a?t.emit("error",a):l.objectMode||e&&e.length>0?("string"==typeof e||l.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),n?l.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):g(t,l,e,!0):l.ended?t.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(e=l.decoder.write(e),l.objectMode||0!==e.length?g(t,l,e,!1):O(t,l)):g(t,l,e,!1))):n||(l.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(l)}function g(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&S(t)),O(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=p.destroy,m.prototype._undestroy=p.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=s.from(t,e),e=""),r=!0),v(this,t,e,!1,r)},m.prototype.unshift=function(t){return v(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return h||(h=ZS().StringDecoder),this._readableState.decoder=new h(t),this._readableState.encoding=t,this};var w=8388608;function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(e){var r=e._readableState;r.needReadable=!1,r.emittedReadable||(c("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?t.nextTick(E,e):E(e))}function E(t){c("emit readable"),t.emit("readable"),P(t)}function O(e,r){r.readingMore||(r.readingMore=!0,t.nextTick(x,e,r))}function x(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(c("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function T(t){c("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(c("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),P(t),e.flowing&&!e.reading&&t.read(0)}function P(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function A(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),0===(t-=o)){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=s.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function M(e){var r=e._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');r.endEmitted||(r.ended=!0,t.nextTick(j,r,e))}function j(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function L(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}return m.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):S(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&M(this),null;var n,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),e.ended||e.reading?c("reading or ended",i=!1):i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(r,e))),null===(n=t>0?A(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,i){var s=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,c("pipe count=%d opts=%j",o.pipesCount,i);var a=(!i||!1!==i.end)&&e!==process.stdout&&e!==process.stderr?u:v;function l(t,r){c("onunpipe"),t===s&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",y),e.removeListener("finish",m),e.removeListener("drain",h),e.removeListener("error",b),e.removeListener("unpipe",l),s.removeListener("end",u),s.removeListener("end",v),s.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function u(){c("onend"),e.end()}o.endEmitted?t.nextTick(a):s.once("end",a),e.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&n(t,"data")&&(e.flowing=!0,P(t))}}(s);e.on("drain",h);var f=!1;var d=!1;function p(t){c("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(c("false write response, pause",o.awaitDrain),o.awaitDrain++,d=!0),s.pause())}function b(t){c("onerror",t),v(),e.removeListener("error",b),0===n(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",y),v()}function v(){c("unpipe"),s.unpipe(e)}return s.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(e,"error",b),e.once("close",y),e.once("finish",m),e.emit("pipe",s),o.flowing||(c("pipe resume"),s.resume()),e},m.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=L(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},m.prototype.on=function(e,r){var n=i.prototype.on.call(this,e,r);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&S(this):t.nextTick(T,this))}return n},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,function(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(k,e,r))}(this,e)),this},m.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(c("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<b.length;s++)t.on(b[s],this.emit.bind(this,b[s]));return this._read=function(e){c("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=A,US}function QS(){if(HS)return GS;HS=1,GS=n;var t=zS(),e=Object.create(_S());function r(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(e){if(!(this instanceof n))return new n(e);t.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){s(t,e,r)}):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}return e.inherits=TS(),e.inherits(n,t),n.prototype.push=function(e,r){return this._transformState.needTransform=!1,t.prototype.push.call(this,e,r)},n.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},n.prototype._destroy=function(e,r){var n=this;t.prototype._destroy.call(this,e,function(t){r(t),n.emit("close")})},GS}!function(t,e){var r=h;"disable"===process.env.READABLE_STREAM&&r?(t.exports=r,(e=t.exports=r.Readable).Readable=r.Readable,e.Writable=r.Writable,e.Duplex=r.Duplex,e.Transform=r.Transform,e.PassThrough=r.PassThrough,e.Stream=r):((e=t.exports=KS()).Stream=r||e,e.Readable=e,e.Writable=BS(),e.Duplex=zS(),e.Transform=QS(),e.PassThrough=function(){if(VS)return qS;VS=1,qS=r;var t=QS(),e=Object.create(_S());function r(e){if(!(this instanceof r))return new r(e);t.call(this,e)}return e.inherits=TS(),e.inherits(r,t),r.prototype._transform=function(t,e,r){r(null,t)},qS}())}(fS,fS.exports);var XS=fS.exports.PassThrough,JS=f,tE=XS,eE={Readable:nE,Writable:iE};function rE(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function nE(t,e){if(!(this instanceof nE))return new nE(t,e);tE.call(this,e),rE(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function iE(t,e){if(!(this instanceof iE))return new iE(t,e);tE.call(this,e),rE(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */JS.inherits(nE,tE),JS.inherits(iE,tE);var sE=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&"\\"===t[3]){var i=t[2];"?"!==i&&"."!==i||"\\\\"!==t.slice(0,2)||(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return!1!==e&&""===s[s.length-1]&&s.pop(),n+s.join("/")};var oE=function(t){return t};var aE=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},lE=aE,uE=Math.max;var cE=function(t,e,r){return e=uE(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=uE(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),lE(t,this,a)}};var hE=function(t){return function(){return t}},fE="object"==typeof X&&X&&X.Object===Object&&X,dE=fE,pE="object"==typeof self&&self&&self.Object===Object&&self,bE=dE||pE||Function("return this")(),yE=bE.Symbol,mE=yE,vE=Object.prototype,gE=vE.hasOwnProperty,wE=vE.toString,_E=mE?mE.toStringTag:void 0;var SE=function(t){var e=gE.call(t,_E),r=t[_E];try{t[_E]=void 0;var n=!0}catch(t){}var i=wE.call(t);return n&&(e?t[_E]=r:delete t[_E]),i},EE=Object.prototype.toString;var OE=SE,xE=function(t){return EE.call(t)},TE=yE?yE.toStringTag:void 0;var kE=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":TE&&TE in Object(t)?OE(t):xE(t)};var PE=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},AE=kE,ME=PE;var jE,LE=function(t){if(!ME(t))return!1;var e=AE(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},RE=bE["__core-js_shared__"],CE=(jE=/[^.]+$/.exec(RE&&RE.keys&&RE.keys.IE_PROTO||""))?"Symbol(src)_1."+jE:"";var IE=function(t){return!!CE&&CE in t},FE=Function.prototype.toString;var DE=LE,NE=IE,BE=PE,zE=function(t){if(null!=t){try{return FE.call(t)}catch(t){}try{return t+""}catch(t){}}return""},WE=/^\[object .+?Constructor\]$/,UE=Function.prototype,$E=Object.prototype,GE=UE.toString,HE=$E.hasOwnProperty,qE=RegExp("^"+GE.call(HE).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var VE=function(t){return!(!BE(t)||NE(t))&&(DE(t)?qE:WE).test(zE(t))},YE=function(t,e){return null==t?void 0:t[e]};var ZE=function(t,e){var r=YE(t,e);return VE(r)?r:void 0},KE=ZE,QE=function(){try{var t=KE(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),XE=hE,JE=QE,tO=JE?function(t,e){return JE(t,"toString",{configurable:!0,enumerable:!1,value:XE(e),writable:!0})}:oE,eO=Date.now;var rO=function(t){var e=0,r=0;return function(){var n=eO(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},nO=rO(tO),iO=oE,sO=cE,oO=nO;var aO=function(t,e){return oO(sO(t,e,iO),t+"")};var lO=function(t,e){return t===e||t!=t&&e!=e};var uO=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},cO=LE,hO=uO;var fO=function(t){return null!=t&&hO(t.length)&&!cO(t)},dO=/^(?:0|[1-9]\d*)$/;var pO=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&dO.test(t))&&t>-1&&t%1==0&&t<e},bO=lO,yO=fO,mO=pO,vO=PE;var gO=function(t,e,r){if(!vO(r))return!1;var n=typeof e;return!!("number"==n?yO(r)&&mO(e,r.length):"string"==n&&e in r)&&bO(r[e],t)};var wO=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var _O=function(t){return null!=t&&"object"==typeof t},SO=kE,EO=_O;var OO=function(t){return EO(t)&&"[object Arguments]"==SO(t)},xO=_O,TO=Object.prototype,kO=TO.hasOwnProperty,PO=TO.propertyIsEnumerable,AO=OO(function(){return arguments}())?OO:function(t){return xO(t)&&kO.call(t,"callee")&&!PO.call(t,"callee")},MO=Array.isArray,jO={exports:{}};var LO=function(){return!1};!function(t,e){var r=bE,n=LO,i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i?r.Buffer:void 0,a=(o?o.isBuffer:void 0)||n;t.exports=a}(jO,jO.exports);var RO=jO.exports,CO=kE,IO=uO,FO=_O,DO={};DO["[object Float32Array]"]=DO["[object Float64Array]"]=DO["[object Int8Array]"]=DO["[object Int16Array]"]=DO["[object Int32Array]"]=DO["[object Uint8Array]"]=DO["[object Uint8ClampedArray]"]=DO["[object Uint16Array]"]=DO["[object Uint32Array]"]=!0,DO["[object Arguments]"]=DO["[object Array]"]=DO["[object ArrayBuffer]"]=DO["[object Boolean]"]=DO["[object DataView]"]=DO["[object Date]"]=DO["[object Error]"]=DO["[object Function]"]=DO["[object Map]"]=DO["[object Number]"]=DO["[object Object]"]=DO["[object RegExp]"]=DO["[object Set]"]=DO["[object String]"]=DO["[object WeakMap]"]=!1;var NO=function(t){return FO(t)&&IO(t.length)&&!!DO[CO(t)]};var BO=function(t){return function(e){return t(e)}},zO={exports:{}};!function(t,e){var r=fE,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,s=i&&i.exports===n&&r.process,o=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=o}(zO,zO.exports);var WO=zO.exports,UO=NO,$O=BO,GO=WO&&WO.isTypedArray,HO=GO?$O(GO):UO,qO=wO,VO=AO,YO=MO,ZO=RO,KO=pO,QO=HO,XO=Object.prototype.hasOwnProperty;var JO=function(t,e){var r=YO(t),n=!r&&VO(t),i=!r&&!n&&ZO(t),s=!r&&!n&&!i&&QO(t),o=r||n||i||s,a=o?qO(t.length,String):[],l=a.length;for(var u in t)!e&&!XO.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||KO(u,l))||a.push(u);return a},tx=Object.prototype;var ex=PE,rx=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||tx)},nx=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},ix=Object.prototype.hasOwnProperty;var sx=JO,ox=function(t){if(!ex(t))return nx(t);var e=rx(t),r=[];for(var n in t)("constructor"!=n||!e&&ix.call(t,n))&&r.push(n);return r},ax=fO;var lx,ux,cx=aO,hx=lO,fx=gO,dx=function(t){return ax(t)?sx(t,!0):ox(t)},px=Object.prototype,bx=px.hasOwnProperty,yx=cx(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&fx(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=dx(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(void 0===c||hx(c,px[u])&&!bx.call(t,u))&&(t[u]=s[u])}return t}),mx=yx,vx={exports:{}},gx={exports:{}};function wx(){if(ux)return lx;ux=1;class t extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let r=0;r<t.length;r++)e+=`    ${t[r].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}return lx={AggregateError:t,ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,r)=>t.slice(e,r),Error:Error,FunctionPrototypeCall:(t,e,...r)=>t.call(e,...r),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,r)=>Object.defineProperty(t,e,r),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise:Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,r)=>t.then(e,r),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String:String,StringPrototypeSlice:(t,e,r)=>t.slice(e,r),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,r)=>t.set(e,r),Boolean:Boolean,Uint8Array:Uint8Array},lx}var _x,Sx,Ex,Ox,xx={exports:{}};function Tx(){return Sx||(Sx=1,_x={format:(t,...e)=>t.replace(/%([sdifj])/g,function(...[t,r]){const n=e.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"===r&&"object"==typeof n){return`${n.constructor!==Object?n.constructor.name:""} {}`.trim()}return n.toString()}),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),_x}function kx(){if(Ox)return Ex;Ox=1;const{format:t,inspect:e}=Tx(),{AggregateError:r}=wx(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,a={};function l(t,e){if(!t)throw new a.ERR_INTERNAL_ASSERTION(e)}function u(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function c(e,r,n){n||(n=Error);class s extends n{constructor(...n){super(function(e,r,n){if("function"==typeof r)return l(r.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${r.length}).`),r(...n);const i=(r.match(/%[dfijoOs]/g)||[]).length;return l(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?r:t(r,...n)}(e,r,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(s.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),s.prototype.code=e,s.prototype[i]=!0,a[e]=s}function h(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class f extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new a.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}return c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(t,r,n)=>{l("string"==typeof t,"'name' must be a string"),Array.isArray(r)||(r=[r]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";const a=[],u=[],c=[];for(const t of r)l("string"==typeof t,"All expected entries have to be of type string"),s.includes(t)?a.push(t.toLowerCase()):o.test(t)?u.push(t):(l("object"!==t,'The value "object" should be written as "Object"'),c.push(t));if(u.length>0){const t=a.indexOf("object");-1!==t&&(a.splice(a,t,1),u.push("Object"))}if(a.length>0){switch(a.length){case 1:i+=`of type ${a[0]}`;break;case 2:i+=`one of type ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();i+=`one of type ${a.join(", ")}, or ${t}`}}(u.length>0||c.length>0)&&(i+=" or ")}if(u.length>0){switch(u.length){case 1:i+=`an instance of ${u[0]}`;break;case 2:i+=`an instance of ${u[0]} or ${u[1]}`;break;default:{const t=u.pop();i+=`an instance of ${u.join(", ")}, or ${t}`}}c.length>0&&(i+=" or ")}switch(c.length){case 0:break;case 1:c[0].toLowerCase()!==c[0]&&(i+="an "),i+=`${c[0]}`;break;case 2:i+=`one of ${c[0]} or ${c[1]}`;break;default:{const t=c.pop();i+=`one of ${c.join(", ")}, or ${t}`}}if(null==n)i+=`. Received ${n}`;else if("function"==typeof n&&n.name)i+=`. Received function ${n.name}`;else if("object"==typeof n){var h;if(null!==(h=n.constructor)&&void 0!==h&&h.name)i+=`. Received an instance of ${n.constructor.name}`;else{i+=`. Received ${e(n,{depth:-1})}`}}else{let t=e(n,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),i+=`. Received type ${typeof n} (${t})`}return i},TypeError),c("ERR_INVALID_ARG_VALUE",(t,r,n="is invalid")=>{let i=e(r);i.length>128&&(i=i.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${i}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;return`Expected ${t} to be returned from the "${e}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),c("ERR_MISSING_ARGS",(...t)=>{let e;l(t.length>0,"At least one arg needs to be specified");const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(t=>`"${t}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}}return`${e} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(t,r,n)=>{let i;if(l(r,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32)i=u(String(n));else if("bigint"==typeof n){i=String(n);const t=BigInt(2)**BigInt(32);(n>t||n<-t)&&(i=u(i)),i+="n"}else i=e(n);return`The value of "${t}" is out of range. It must be ${r}. Received ${i}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ex={AbortError:f,aggregateTwoErrors:h(function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new n([e,t],e.message);return r.code=e.code,r}return t||e}),hideStackFrames:h,codes:a}}
/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */const Px=new WeakMap,Ax=new WeakMap;function Mx(t){const e=Px.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function jx(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function Lx(t,e){Px.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(e);for(let t=0;t<r.length;++t){const e=r[t];e in this||Object.defineProperty(this,e,Rx(e))}}function Rx(t){return{get(){return Mx(this).event[t]},set(e){Mx(this).event[t]=e},configurable:!0,enumerable:!0}}function Cx(t){return{value(){const e=Mx(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function Ix(t){if(null==t||t===Object.prototype)return Lx;let e=Ax.get(t);return null==e&&(e=function(t,e){const r=Object.keys(e);if(0===r.length)return t;function n(e,r){t.call(this,e,r)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){const s=r[i];if(!(s in t.prototype)){const t="function"==typeof Object.getOwnPropertyDescriptor(e,s).value;Object.defineProperty(n.prototype,s,t?Cx(s):Rx(s))}}return n}(Ix(Object.getPrototypeOf(t)),t),Ax.set(t,e)),e}function Fx(t){return Mx(t).immediateStopped}function Dx(t,e){Mx(t).passiveListener=e}Lx.prototype={get type(){return Mx(this).event.type},get target(){return Mx(this).eventTarget},get currentTarget(){return Mx(this).currentTarget},composedPath(){const t=Mx(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Mx(this).eventPhase},stopPropagation(){const t=Mx(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=Mx(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(Mx(this).event.bubbles)},get cancelable(){return Boolean(Mx(this).event.cancelable)},preventDefault(){jx(Mx(this))},get defaultPrevented(){return Mx(this).canceled},get composed(){return Boolean(Mx(this).event.composed)},get timeStamp(){return Mx(this).timeStamp},get srcElement(){return Mx(this).eventTarget},get cancelBubble(){return Mx(this).stopped},set cancelBubble(t){if(!t)return;const e=Mx(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!Mx(this).canceled},set returnValue(t){t||jx(Mx(this))},initEvent(){}},Object.defineProperty(Lx.prototype,"constructor",{value:Lx,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(Lx.prototype,window.Event.prototype),Ax.set(window.Event.prototype,Lx));const Nx=new WeakMap;function Bx(t){return null!==t&&"object"==typeof t}function zx(t){const e=Nx.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function Wx(t,e){Object.defineProperty(t,`on${e}`,function(t){return{get(){let e=zx(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||Bx(e)||(e=null);const r=zx(this);let n=null,i=r.get(t);for(;null!=i;)3===i.listenerType?null!==n?n.next=i.next:null!==i.next?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(null!==e){const i={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(t,i):n.next=i}},configurable:!0,enumerable:!0}}(e))}function Ux(t){function e(){$x.call(this)}e.prototype=Object.create($x.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)Wx(e.prototype,t[r]);return e}function $x(){if(!(this instanceof $x)){if(1===arguments.length&&Array.isArray(arguments[0]))return Ux(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return Ux(t)}throw new TypeError("Cannot call a class as a function")}Nx.set(this,new Map)}$x.prototype={addEventListener(t,e,r){if(null==e)return;if("function"!=typeof e&&!Bx(e))throw new TypeError("'listener' should be a function or an object.");const n=zx(this),i=Bx(r),s=(i?Boolean(r.capture):Boolean(r))?1:2,o={listener:e,listenerType:s,passive:i&&Boolean(r.passive),once:i&&Boolean(r.once),next:null};let a=n.get(t);if(void 0===a)return void n.set(t,o);let l=null;for(;null!=a;){if(a.listener===e&&a.listenerType===s)return;l=a,a=a.next}l.next=o},removeEventListener(t,e,r){if(null==e)return;const n=zx(this),i=(Bx(r)?Boolean(r.capture):Boolean(r))?1:2;let s=null,o=n.get(t);for(;null!=o;){if(o.listener===e&&o.listenerType===i)return void(null!==s?s.next=o.next:null!==o.next?n.set(t,o.next):n.delete(t));s=o,o=o.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');const e=zx(this),r=t.type;let n=e.get(r);if(null==n)return!0;const i=function(t,e){return new(Ix(Object.getPrototypeOf(e)))(t,e)}(this,t);let s=null;for(;null!=n;){if(n.once?null!==s?s.next=n.next:null!==n.next?e.set(r,n.next):e.delete(r):s=n,Dx(i,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,i)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(i);if(Fx(i))break;n=n.next}return Dx(i,null),function(t,e){Mx(t).eventPhase=e}(i,0),function(t,e){Mx(t).currentTarget=e}(i,null),!i.defaultPrevented}},Object.defineProperty($x.prototype,"constructor",{value:$x,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf($x.prototype,window.EventTarget.prototype);class Gx extends $x{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const t=Hx.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}Wx(Gx.prototype,"abort");const Hx=new WeakMap;Object.defineProperties(Gx.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Gx.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class qx{constructor(){Vx.set(this,function(){const t=Object.create(Gx.prototype);return $x.call(t),Hx.set(t,!1),t}())}get signal(){return Yx(this)}abort(){var t;t=Yx(this),!1===Hx.get(t)&&(Hx.set(t,!0),t.dispatchEvent({type:"abort"}))}}const Vx=new WeakMap;function Yx(t){const e=Vx.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(qx.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(qx.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var Zx,Kx=tt(Object.freeze({__proto__:null,AbortController:qx,AbortSignal:Gx,default:qx}));function Qx(){return Zx||(Zx=1,function(t){const e=p,{format:r,inspect:n}=Tx(),{codes:{ERR_INVALID_ARG_TYPE:i}}=kx(),{kResistStopPropagation:s,AggregateError:o,SymbolDispose:a}=wx(),l=globalThis.AbortSignal||Kx.AbortSignal,c=globalThis.AbortController||Kx.AbortController,h=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||e.Blob,d=void 0!==f?function(t){return t instanceof f}:function(t){return!1},b=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new i(e,"AbortSignal",t)};t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}},promisify:t=>new Promise((e,r)=>{t((t,...n)=>t?r(t):e(...n))}),debuglog:()=>function(){},format:r,inspect:n,types:{isAsyncFunction:t=>t instanceof h,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:d,deprecate:(t,e)=>t,addAbortListener:u.addAbortListener||function(t,e){if(void 0===t)throw new i("signal","AbortSignal",t);let r;return b(t,"signal"),((t,e)=>{if("function"!=typeof t)throw new i(e,"Function",t)})(e,"listener"),t.aborted?queueMicrotask(()=>e()):(t.addEventListener("abort",e,{__proto__:null,once:!0,[s]:!0}),r=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[a](){var t;null===(t=r)||void 0===t||t()}}},AbortSignalAny:l.any||function(t){if(1===t.length)return t[0];const e=new c,r=()=>e.abort();return t.forEach(t=>{b(t,"signals"),t.addEventListener("abort",r,{once:!0})}),e.signal.addEventListener("abort",()=>{t.forEach(t=>t.removeEventListener("abort",r))},{once:!0}),e.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(xx)),xx.exports}var Xx,Jx,tT={};function eT(){if(Jx)return Xx;Jx=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:c,String:h,StringPrototypeToUpperCase:f,StringPrototypeTrim:d}=wx(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:g}}=kx(),{normalizeEncoding:w}=Qx(),{isAsyncFunction:_,isArrayBufferView:S}=Qx().types,E={};const O=/^[0-7]+$/;const x=p((t,e,r=a,n=o)=>{if("number"!=typeof t)throw new y(e,"number",t);if(!i(t))throw new v(e,"an integer",t);if(t<r||t>n)throw new v(e,`>= ${r} && <= ${n}`,t)}),T=p((t,e,r=-2147483648,n=2147483647)=>{if("number"!=typeof t)throw new y(e,"number",t);if(!i(t))throw new v(e,"an integer",t);if(t<r||t>n)throw new v(e,`>= ${r} && <= ${n}`,t)}),k=p((t,e,r=!1)=>{if("number"!=typeof t)throw new y(e,"number",t);if(!i(t))throw new v(e,"an integer",t);const n=r?1:0,s=4294967295;if(t<n||t>s)throw new v(e,`>= ${n} && <= ${s}`,t)});function P(t,e){if("string"!=typeof t)throw new y(e,"string",t)}const A=p((t,i,s)=>{if(!e(s,t)){const e=r(n(s,t=>"string"==typeof t?`'${t}'`:h(t)),", ");throw new m(i,t,"must be one of: "+e)}});function M(t,e){if("boolean"!=typeof t)throw new y(e,"boolean",t)}function j(t,e,r){return null!=t&&u(t,e)?t[e]:r}const L=p((e,r,n=null)=>{const i=j(n,"allowArray",!1),s=j(n,"allowFunction",!1);if(!j(n,"nullable",!1)&&null===e||!i&&t(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new y(r,"Object",e)}),R=p((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new y(e,"a dictionary",t)}),C=p((e,r,n=0)=>{if(!t(e))throw new y(r,"Array",e);if(e.length<n){throw new m(r,e,`must be longer than ${n}`)}});const I=p((t,e="buffer")=>{if(!S(t))throw new y(e,["Buffer","TypedArray","DataView"],t)});const F=p((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new y(e,"AbortSignal",t)}),D=p((t,e)=>{if("function"!=typeof t)throw new y(e,"Function",t)}),N=p((t,e)=>{if("function"!=typeof t||_(t))throw new y(e,"Function",t)}),B=p((t,e)=>{if(void 0!==t)throw new y(e,"undefined",t)});const z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(t,e){if(void 0===t||!c(z,t))throw new m(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Xx={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,r){if(void 0===t&&(t=r),"string"==typeof t){if(null===c(O,t))throw new m(e,t,"must be a 32-bit unsigned integer or an octal string");t=l(t,8)}return k(t,e),t},validateArray:C,validateStringArray:function(t,e){C(t,e);for(let r=0;r<t.length;r++)P(t[r],`${e}[${r}]`)},validateBooleanArray:function(t,e){C(t,e);for(let r=0;r<t.length;r++)M(t[r],`${e}[${r}]`)},validateAbortSignalArray:function(t,e){C(t,e);for(let r=0;r<t.length;r++){const n=t[r],i=`${e}[${r}]`;if(null==n)throw new y(i,"AbortSignal",n);F(n,i)}},validateBoolean:M,validateBuffer:I,validateDictionary:R,validateEncoding:function(t,e){const r=w(e),n=t.length;if("hex"===r&&n%2!=0)throw new m("encoding",e,`is invalid for data of length ${n}`)},validateFunction:D,validateInt32:T,validateInteger:x,validateNumber:function(t,e,r=void 0,n){if("number"!=typeof t)throw new y(e,"number",t);if(null!=r&&t<r||null!=n&&t>n||(null!=r||null!=n)&&s(t))throw new v(e,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,t)},validateObject:L,validateOneOf:A,validatePlainFunction:N,validatePort:function(t,e="Port",r=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===d(t).length||+t!==+t>>>0||t>65535||0===t&&!r)throw new b(e,t,r);return 0|t},validateSignalName:function(t,e="signal"){if(P(t,e),void 0===E[t]){if(void 0!==E[f(t)])throw new g(t+" (signals must use all capital letters)");throw new g(t)}},validateString:P,validateUint32:k,validateUndefined:B,validateUnion:function(t,n,i){if(!e(i,t))throw new y(n,`('${r(i,"|")}')`,t)},validateAbortSignal:F,validateLinkHeaderValue:function(e){if("string"==typeof e)return W(e,"hints"),e;if(t(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];W(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new m("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}},Xx}var rT,nT,iT,sT,oT,aT,lT,uT,cT,hT={exports:{}};function fT(){return nT?rT:(nT=1,rT=X.process)}function dT(){if(sT)return iT;sT=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=wx(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),s=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function c(t,e=!1){var r;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(r=t._readableState)||void 0===r?void 0:r.readable)||t._writableState&&!t._readableState)}function h(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function f(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function d(t){return!(!t||f(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function p(t){return!(!t||f(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function b(t){return!(!t||f(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function y(t){if(!f(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[n]||null!=i&&i.destroyed)}function m(t){if(!h(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function v(t,e){if(!c(t))return null;const r=t._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===e&&!0===r.ended&&0===r.length))}function g(t){return t&&null!=t[s]?t[s]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!y(t)&&(c(t)&&t.readable&&!v(t))}function w(t){return t&&null!=t[o]?t[o]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!y(t)&&(h(t)&&t.writable&&!m(t))}function _(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function S(t){return"boolean"==typeof t._sent100&&_(t)}return iT={isDestroyed:y,kIsDestroyed:n,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[a])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:a,isErrored:function(t){var e,r,n,s,o,a,l,u,c,h;return!(!t||!(null!==(e=null!==(r=null!==(n=null!==(s=null!==(o=null!==(a=t[i])&&void 0!==a?a:t.readableErrored)&&void 0!==o?o:t.writableErrored)&&void 0!==s?s:null===(l=t._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=t._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(c=t._readableState)||void 0===c?void 0:c.errored)&&void 0!==e?e:null===(h=t._writableState)||void 0===h?void 0:h.errored))},kIsErrored:i,isReadable:g,kIsReadable:s,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:o,isClosed:function(t){if(!f(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,r=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==e?void 0:e.closed)||(null==r?void 0:r.closed):"boolean"==typeof t._closed&&_(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return f(t)?!!y(t)||(!1===(null==e?void 0:e.readable)||!g(t))&&(!1===(null==e?void 0:e.writable)||!w(t)):null},isIterable:function(r,n){return null!=r&&(!0===n?"function"==typeof r[t]:!1===n?"function"==typeof r[e]:"function"==typeof r[t]||"function"==typeof r[e])},isReadableNodeStream:c,isReadableStream:d,isReadableEnded:function(t){if(!c(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:v,isReadableErrored:function(t){var e,r;return f(t)?t.readableErrored?t.readableErrored:null!==(e=null===(r=t._readableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isNodeStream:f,isWebStream:function(t){return d(t)||p(t)||b(t)},isWritable:w,isWritableNodeStream:h,isWritableStream:p,isWritableEnded:m,isWritableFinished:function(t,e){if(!h(t))return null;if(!0===t.writableFinished)return!0;const r=t._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===e&&!0===r.ended&&0===r.length))},isWritableErrored:function(t){var e,r;return f(t)?t.writableErrored?t.writableErrored:null!==(e=null===(r=t._writableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:S,willEmitClose:function(t){if(!f(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&S(t)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:b},iT}function pT(){if(oT)return hT.exports;oT=1;const t=fT(),{AbortError:e,codes:r}=kx(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:s,once:o}=Qx(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:c}=eT(),{Promise:h,PromisePrototypeThen:f,SymbolDispose:d}=wx(),{isClosed:p,isReadable:b,isReadableNodeStream:y,isReadableStream:m,isReadableFinished:v,isReadableErrored:g,isWritable:w,isWritableNodeStream:_,isWritableStream:S,isWritableFinished:E,isWritableErrored:O,isNodeStream:x,willEmitClose:T,kIsClosedPromise:k}=dT();let P;const A=()=>{};function M(r,c,h){var M,j;if(2===arguments.length?(h=c,c=s):null==c?c=s:u(c,"options"),l(h,"callback"),a(c.signal,"options.signal"),h=o(h),m(r)||S(r))return function(r,n,i){let s=!1,a=A;if(n.signal)if(a=()=>{s=!0,i.call(r,new e(void 0,{cause:n.signal.reason}))},n.signal.aborted)t.nextTick(a);else{P=P||Qx().addAbortListener;const t=P(n.signal,a),e=i;i=o((...n)=>{t[d](),e.apply(r,n)})}const l=(...e)=>{s||t.nextTick(()=>i.apply(r,e))};return f(r[k].promise,l,l),A}(r,c,h);if(!x(r))throw new n("stream",["ReadableStream","WritableStream","Stream"],r);const L=null!==(M=c.readable)&&void 0!==M?M:y(r),R=null!==(j=c.writable)&&void 0!==j?j:_(r),C=r._writableState,I=r._readableState,F=()=>{r.writable||B()};let D=T(r)&&y(r)===L&&_(r)===R,N=E(r,!1);const B=()=>{N=!0,r.destroyed&&(D=!1),(!D||r.readable&&!L)&&(L&&!z||h.call(r))};let z=v(r,!1);const W=()=>{z=!0,r.destroyed&&(D=!1),(!D||r.writable&&!R)&&(R&&!N||h.call(r))},U=t=>{h.call(r,t)};let $=p(r);const G=()=>{$=!0;const t=O(r)||g(r);return t&&"boolean"!=typeof t?h.call(r,t):L&&!z&&y(r,!0)&&!v(r,!1)?h.call(r,new i):!R||N||E(r,!1)?void h.call(r):h.call(r,new i)},H=()=>{$=!0;const t=O(r)||g(r);if(t&&"boolean"!=typeof t)return h.call(r,t);h.call(r)},q=()=>{r.req.on("finish",B)};!function(t){return t.setHeader&&"function"==typeof t.abort}(r)?R&&!C&&(r.on("end",F),r.on("close",F)):(r.on("complete",B),D||r.on("abort",G),r.req?q():r.on("request",q)),D||"boolean"!=typeof r.aborted||r.on("aborted",G),r.on("end",W),r.on("finish",B),!1!==c.error&&r.on("error",U),r.on("close",G),$?t.nextTick(G):null!=C&&C.errorEmitted||null!=I&&I.errorEmitted?D||t.nextTick(H):(L||D&&!b(r)||!N&&!1!==w(r))&&(R||D&&!w(r)||!z&&!1!==b(r))?I&&r.req&&r.aborted&&t.nextTick(H):t.nextTick(H);const V=()=>{h=A,r.removeListener("aborted",G),r.removeListener("complete",B),r.removeListener("abort",G),r.removeListener("request",q),r.req&&r.req.removeListener("finish",B),r.removeListener("end",F),r.removeListener("close",F),r.removeListener("finish",B),r.removeListener("end",W),r.removeListener("error",U),r.removeListener("close",G)};if(c.signal&&!$){const n=()=>{const t=h;V(),t.call(r,new e(void 0,{cause:c.signal.reason}))};if(c.signal.aborted)t.nextTick(n);else{P=P||Qx().addAbortListener;const t=P(c.signal,n),e=h;h=o((...n)=>{t[d](),e.apply(r,n)})}}return V}return hT.exports=M,hT.exports.finished=function(t,e){var r;let n=!1;return null===e&&(e=s),null!==(r=e)&&void 0!==r&&r.cleanup&&(c(e.cleanup,"cleanup"),n=e.cleanup),new h((r,i)=>{const s=M(t,e,t=>{n&&s(),t?i(t):r()})})},hT.exports}function bT(){if(lT)return aT;lT=1;const t=fT(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=kx(),{Symbol:i}=wx(),{kIsDestroyed:s,isDestroyed:o,isFinished:a,isServerRequest:l}=dT(),u=i("kDestroy"),c=i("kConstruct");function h(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function f(e,r,n){let i=!1;function s(r){if(i)return;i=!0;const s=e._readableState,o=e._writableState;h(r,o,s),o&&(o.closed=!0),s&&(s.closed=!0),"function"==typeof n&&n(r),r?t.nextTick(d,e,r):t.nextTick(p,e)}try{e._destroy(r||null,s)}catch(r){s(r)}}function d(t,e){b(t,e),p(t)}function p(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=r&&r.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function b(t,e){const r=t._readableState,n=t._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function y(e,r,n){const i=e._readableState,s=e._writableState;if(null!=s&&s.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=s&&s.autoDestroy?e.destroy(r):r&&(r.stack,s&&!s.errored&&(s.errored=r),i&&!i.errored&&(i.errored=r),n?t.nextTick(b,e,r):b(e,r))}function m(e){let n=!1;function i(i){if(n)return void y(e,null!=i?i:new r);n=!0;const s=e._readableState,o=e._writableState,a=o||s;s&&(s.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(u,i):i?y(e,i,!0):t.nextTick(v,e)}try{e._construct(e=>{t.nextTick(i,e)})}catch(e){t.nextTick(i,e)}}function v(t){t.emit(c)}function g(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function w(t){t.emit("close")}function _(e,r){e.emit("error",r),t.nextTick(w,e)}return aT={construct:function(e,r){if("function"!=typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(c,r),e.listenerCount(c)>1||t.nextTick(m,e)},destroyer:function(e,r){e&&!o(e)&&(r||a(e)||(r=new n),l(e)?(e.socket=null,e.destroy(r)):g(e)?e.abort():g(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(r):"function"==typeof e.close?e.close():r?t.nextTick(_,e,r):t.nextTick(w,e),e.destroyed||(e[s]=!0))},destroy:function(t,r){const n=this._readableState,i=this._writableState,s=i||n;return null!=i&&i.destroyed||null!=n&&n.destroyed?("function"==typeof r&&r(),this):(h(t,i,n),i&&(i.destroyed=!0),n&&(n.destroyed=!0),s.constructed?f(this,t,r):this.once(u,function(n){f(this,e(n,t),r)}),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:y},aT}function yT(){if(cT)return uT;cT=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=wx(),{EventEmitter:r}=u;function n(t){r.call(this,t)}function i(e,r,n){if("function"==typeof e.prependListener)return e.prependListener(r,n);e._events&&e._events[r]?t(e._events[r])?e._events[r].unshift(n):e._events[r]=[n,e._events[r]]:e.on(r,n)}return e(n.prototype,r.prototype),e(n,r),n.prototype.pipe=function(t,e){const n=this;function s(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",s),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",l),n.on("close",u));let a=!1;function l(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){h(),0===r.listenerCount(this,"error")&&this.emit("error",t)}function h(){n.removeListener("data",s),t.removeListener("drain",o),n.removeListener("end",l),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return i(n,"error",c),i(t,"error",c),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t},uT={Stream:n,prependListener:i}}var mT,vT,gT,wT,_T,ST={exports:{}};function ET(){return mT||(mT=1,function(t){const{SymbolDispose:e}=wx(),{AbortError:r,codes:n}=kx(),{isNodeStream:i,isWebStream:s,kControllerErrorFunction:o}=dT(),a=pT(),{ERR_INVALID_ARG_TYPE:l}=n;let u;t.exports.addAbortSignal=function(e,r){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!i(r)&&!s(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(t,n){if("object"!=typeof t||!("aborted"in t))return n;const s=i(n)?()=>{n.destroy(new r(void 0,{cause:t.reason}))}:()=>{n[o](new r(void 0,{cause:t.reason}))};if(t.aborted)s();else{u=u||Qx().addAbortListener;const r=u(t,s);a(n,r[e])}return n}}(ST)),ST.exports}function OT(){if(gT)return vT;gT=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:n}=wx(),{Buffer:i}=p,{inspect:s}=Qx();return vT=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,r=""+e.data;for(;null!==(e=e.next);)r+=t+e.data;return r}concat(t){if(0===this.length)return i.alloc(0);const e=i.allocUnsafe(t>>>0);let n=this.head,s=0;for(;n;)r(e,n.data,s),s+=n.data.length,n=n.next;return e}consume(t,e){const r=this.head.data;if(t<r.length){const e=r.slice(0,t);return this.head.data=r.slice(t),e}return t===r.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[e](){for(let t=this.head;t;t=t.next)yield t.data}_getString(e){let r="",n=this.head,i=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=t(s,0,e),this.head=n,n.data=t(s,e));break}r+=s,e-=s.length,++i}while(null!==(n=n.next));return this.length-=i,r}_getBuffer(t){const e=i.allocUnsafe(t),s=t;let o=this.head,a=0;do{const i=o.data;if(!(t>i.length)){t===i.length?(r(e,i,s-t),++a,o.next?this.head=o.next:this.head=this.tail=null):(r(e,new n(i.buffer,i.byteOffset,t),s-t),this.head=o,o.data=i.slice(t));break}r(e,i,s-t),t-=i.length,++a}while(null!==(o=o.next));return this.length-=a,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return s(this,{...e,depth:0,customInspect:!1})}}}function xT(){if(_T)return wT;_T=1;const{MathFloor:t,NumberIsInteger:e}=wx(),{validateInteger:r}=eT(),{ERR_INVALID_ARG_VALUE:n}=kx().codes;let i=16384,s=16;function o(t){return t?s:i}return wT={getHighWaterMark:function(r,i,s,a){const l=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(i,a,s);if(null!=l){if(!e(l)||l<0){throw new n(a?`options.${s}`:"options.highWaterMark",l)}return t(l)}return o(r.objectMode)},getDefaultHighWaterMark:o,setDefaultHighWaterMark:function(t,e){r(e,"value",0),t?s=e:i=e}}}var TT,kT,PT,AT,MT,jT,LT,RT,CT,IT,FT,DT,NT,BT,zT,WT,UT,$T,GT,HT,qT,VT,YT,ZT,KT={},QT={exports:{}};function XT(){if(kT)return KT;kT=1;var t=(TT||(TT=1,function(t,e){var r=p,n=r.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),s.prototype=Object.create(n.prototype),i(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(QT,QT.exports)),QT.exports).Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof n&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,n=4;break;case"utf8":this.fillLast=i,n=4;break;case"base64":this.text=a,this.end=l,n=3;break;default:return this.write=u,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function n(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function c(t){return t&&t.length?this.write(t):""}return KT.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var s=n(e[i]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},KT}function JT(){if(AT)return PT;AT=1;const t=fT(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=wx(),{Buffer:i}=p,{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:o}=kx().codes;return PT=function(a,l,u){let c,h;if("string"==typeof l||l instanceof i)return new a({objectMode:!0,...u,read(){this.push(l),this.push(null)}});if(l&&l[r])h=!0,c=l[r]();else{if(!l||!l[n])throw new s("iterable",["Iterable"],l);h=!1,c=l[n]()}const f=new a({objectMode:!0,highWaterMark:1,...u});let d=!1;return f._read=function(){d||(d=!0,async function(){for(;;){try{const{value:t,done:e}=h?await c.next():c.next();if(e)f.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw d=!1,new o;if(f.push(e))continue;d=!1}}catch(t){f.destroy(t)}break}}())},f._destroy=function(r,n){e(async function(t){const e=null!=t,r="function"==typeof c.throw;if(e&&r){const{value:e,done:r}=await c.throw(t);if(await e,r)return}if("function"==typeof c.return){const{value:t}=await c.return();await t}}(r),()=>t.nextTick(n,r),e=>t.nextTick(n,e||r))},f},PT}function tk(){if(jT)return MT;jT=1;const t=fT(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:a,Promise:l,SafeSet:c,SymbolAsyncDispose:h,SymbolAsyncIterator:f,Symbol:d}=wx();MT=q,q.ReadableState=H;const{EventEmitter:b}=u,{Stream:y,prependListener:m}=yT(),{Buffer:v}=p,{addAbortSignal:g}=ET(),w=pT();let _=Qx().debuglog("stream",t=>{_=t});const S=OT(),E=bT(),{getHighWaterMark:O,getDefaultHighWaterMark:x}=xT(),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:M,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:j},AbortError:L}=kx(),{validateObject:R}=eT(),C=d("kPaused"),{StringDecoder:I}=XT(),F=JT();a(q.prototype,y.prototype),a(q,y);const D=()=>{},{errorOrDestroy:N}=E,B=1,z=16,W=32,U=2048,$=4096;function G(t){return{enumerable:!1,get(){return 0!==(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function H(t,e,r){"boolean"!=typeof r&&(r=e instanceof nk()),this.state=U|$|z|W,t&&t.objectMode&&(this.state|=B),r&&t&&t.readableObjectMode&&(this.state|=B),this.highWaterMark=t?O(this,t,"readableHighWaterMark",r):x(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[C]=null,t&&!1===t.emitClose&&(this.state&=~U),t&&!1===t.autoDestroy&&(this.state&=~$),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new I(t.encoding),this.encoding=t.encoding)}function q(t){if(!(this instanceof q))return new q(t);const e=this instanceof nk();this._readableState=new H(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&g(t.signal,this)),y.call(this,t),E.construct(this,()=>{this._readableState.needReadable&&X(this,this._readableState)})}function V(t,e,r,n){_("readableAddChunk",e);const i=t._readableState;let s;if(0===(i.state&B)&&("string"==typeof e?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=v.from(e,r).toString(i.encoding):(e=v.from(e,r),r=""))):e instanceof v?r="":y._isUint8Array(e)?(e=y._uint8ArrayToBuffer(e),r=""):null!=e&&(s=new k("chunk",["string","Buffer","Uint8Array"],e))),s)N(t,s);else if(null===e)i.state&=-9,function(t,e){if(_("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?K(t):(e.needReadable=!1,e.emittedReadable=!0,Q(t))}(t,i);else if(0!==(i.state&B)||e&&e.length>0)if(n)if(4&i.state)N(t,new j);else{if(i.destroyed||i.errored)return!1;Y(t,i,e,!0)}else if(i.ended)N(t,new M);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||0!==e.length?Y(t,i,e,!1):X(t,i)):Y(t,i,e,!1)}else n||(i.state&=-9,X(t,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Y(t,e,r,n){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(65536&e.state?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),64&e.state&&K(t)),X(t,e)}s(H.prototype,{objectMode:G(B),ended:G(2),endEmitted:G(4),reading:G(8),constructed:G(z),sync:G(W),needReadable:G(64),emittedReadable:G(128),readableListening:G(256),resumeScheduled:G(512),errorEmitted:G(1024),emitClose:G(U),autoDestroy:G($),destroyed:G(8192),closed:G(16384),closeEmitted:G(32768),multiAwaitDrain:G(65536),readingMore:G(1<<17),dataEmitted:G(1<<18)}),q.prototype.destroy=E.destroy,q.prototype._undestroy=E.undestroy,q.prototype._destroy=function(t,e){e(t)},q.prototype[b.captureRejectionSymbol]=function(t){this.destroy(t)},q.prototype[h]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new L,this.destroy(t)),new l((e,r)=>w(this,n=>n&&n!==t?r(n):e(null)))},q.prototype.push=function(t,e){return V(this,t,e,!1)},q.prototype.unshift=function(t,e){return V(this,t,e,!0)},q.prototype.isPaused=function(){const t=this._readableState;return!0===t[C]||!1===t.flowing},q.prototype.setEncoding=function(t){const e=new I(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const t of r)n+=e.write(t);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function Z(t,e){return t<=0||0===e.length&&e.ended?0:0!==(e.state&B)?1:n(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function K(e){const r=e._readableState;_("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(_("emitReadable",r.flowing),r.emittedReadable=!0,t.nextTick(Q,e))}function Q(t){const e=t._readableState;_("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,nt(t)}function X(e,r){!r.readingMore&&r.constructed&&(r.readingMore=!0,t.nextTick(J,e,r))}function J(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const r=e.length;if(_("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function tt(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[C]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function et(t){_("readable nexttick read 0"),t.read(0)}function rt(t,e){_("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),nt(t),e.flowing&&!e.reading&&t.read(0)}function nt(t){const e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function it(t,e){"function"!=typeof t.read&&(t=q.wrap(t,{objectMode:!0}));const r=async function*(t,e){let r,n=D;function i(e){this===t?(n(),n=D):n=e}t.on("readable",i);const s=w(t,{writable:!1},t=>{r=t?T(r,t):null,n(),n=D});try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(r)throw r;if(null===r)return;await new l(i)}}}catch(t){throw r=T(r,t),r}finally{!r&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==r&&!t._readableState.autoDestroy?(t.off("readable",i),s()):E.destroyer(t,null)}}(t,e);return r.stream=t,r}function st(t,e){if(0===e.length)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ot(e){const r=e._readableState;_("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,t.nextTick(at,r,e))}function at(e,r){if(_("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,r.emit("end"),r.writable&&!1===r.allowHalfOpen)t.nextTick(lt,r);else if(e.autoDestroy){const t=r._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&r.destroy()}}function lt(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let ut;function ct(){return void 0===ut&&(ut={}),ut}return q.prototype.read=function(t){_("read",t),void 0===t?t=NaN:r(t)||(t=i(t,10));const e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new A("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?ot(this):K(this),null;if(0===(t=Z(t,e))&&e.ended)return 0===e.length&&ot(this),null;let s,o=!!(64&e.state);if(_("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&(o=!0,_("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),e.state|=8|W,0===e.length&&(e.state|=64);try{this._read(e.highWaterMark)}catch(t){N(this,t)}e.state&=~W,e.reading||(t=Z(n,e))}return s=t>0?st(t,e):null,null===s?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&ot(this)),null===s||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",s)),s},q.prototype._read=function(t){throw new P("_read()")},q.prototype.pipe=function(e,r){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new c(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),_("pipe count=%d opts=%j",i.pipes.length,r);const s=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?a:y;function o(t,r){_("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){_("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),l&&e.removeListener("drain",l);e.removeListener("error",d),e.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",y),n.removeListener("data",f),u=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function a(){_("onend"),e.end()}let l;i.endEmitted?t.nextTick(s):n.once("end",s),e.on("unpipe",o);let u=!1;function h(){u||(1===i.pipes.length&&i.pipes[0]===e?(_("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(_("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),l||(l=function(t,e){return function(){const r=t._readableState;r.awaitDrainWriters===e?(_("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(_("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(n,e),e.on("drain",l))}function f(t){_("ondata");const r=e.write(t);_("dest.write",r),!1===r&&h()}function d(t){if(_("onerror",t),y(),e.removeListener("error",d),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?N(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",b),y()}function b(){_("onfinish"),e.removeListener("close",p),y()}function y(){_("unpipe"),n.unpipe(e)}return n.on("data",f),m(e,"error",d),e.once("close",p),e.once("finish",b),e.emit("pipe",n),!0===e.writableNeedDrain?h():i.flowing||(_("pipe resume"),n.resume()),e},q.prototype.unpipe=function(t){const r=this._readableState;if(0===r.pipes.length)return this;if(!t){const t=r.pipes;r.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const n=e(r.pipes,t);return-1===n||(r.pipes.splice(n,1),0===r.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},q.prototype.on=function(e,r){const n=y.prototype.on.call(this,e,r),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,_("on readable",i.length,i.reading),i.length?K(this):i.reading||t.nextTick(et,this))),n},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(e,r){const n=y.prototype.removeListener.call(this,e,r);return"readable"===e&&t.nextTick(tt,this),n},q.prototype.off=q.prototype.removeListener,q.prototype.removeAllListeners=function(e){const r=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||t.nextTick(tt,this),r},q.prototype.resume=function(){const e=this._readableState;return e.flowing||(_("resume"),e.flowing=!e.readableListening,function(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(rt,e,r))}(this,e)),e[C]=!1,this},q.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[C]=!0,this},q.prototype.wrap=function(t){let e=!1;t.on("data",r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",t=>{N(this,t)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const r=o(t);for(let e=1;e<r.length;e++){const n=r[e];void 0===this[n]&&"function"==typeof t[n]&&(this[n]=t[n].bind(t))}return this},q.prototype[f]=function(){return it(this)},q.prototype.iterator=function(t){return void 0!==t&&R(t,"options"),it(this,t)},s(q.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),s(H.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[C]},set(t){this[C]=!!t}}}),q._fromList=st,q.from=function(t,e){return F(q,t,e)},q.fromWeb=function(t,e){return ct().newStreamReadableFromReadableStream(t,e)},q.toWeb=function(t,e){return ct().newReadableStreamFromStreamReadable(t,e)},q.wrap=function(t,e){var r,n;return new q({objectMode:null===(r=null!==(n=t.readableObjectMode)&&void 0!==n?n:t.objectMode)||void 0===r||r,...e,destroy(e,r){E.destroyer(t,e),r(e)}}).wrap(t)},MT}function ek(){if(RT)return LT;RT=1;const t=fT(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:c}=wx();LT=R,R.WritableState=j;const{EventEmitter:h}=u,f=yT().Stream,{Buffer:d}=p,b=bT(),{addAbortSignal:y}=ET(),{getHighWaterMark:m,getDefaultHighWaterMark:v}=xT(),{ERR_INVALID_ARG_TYPE:g,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:k}=kx().codes,{errorOrDestroy:P}=b;function A(){}o(R.prototype,f.prototype),o(R,f);const M=l("kOnFinished");function j(t,e,r){"boolean"!=typeof r&&(r=e instanceof nk()),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?m(this,t,"writableHighWaterMark",r):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const n=!(!t||!1!==t.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,L(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[M]=[]}function L(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function R(t){const e=this instanceof nk();if(!e&&!n(R,this))return new R(t);this._writableState=new j(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&y(t.signal,this)),f.call(this,t),b.construct(this,()=>{const t=this._writableState;t.writing||W(this,t),G(this,t)})}function C(e,r,n,i){const s=e._writableState;if("function"==typeof n)i=n,n=s.defaultEncoding;else{if(n){if("buffer"!==n&&!d.isEncoding(n))throw new k(n)}else n=s.defaultEncoding;"function"!=typeof i&&(i=A)}if(null===r)throw new x;if(!s.objectMode)if("string"==typeof r)!1!==s.decodeStrings&&(r=d.from(r,n),n="buffer");else if(r instanceof d)n="buffer";else{if(!f._isUint8Array(r))throw new g("chunk",["string","Buffer","Uint8Array"],r);r=f._uint8ArrayToBuffer(r),n="buffer"}let o;return s.ending?o=new T:s.destroyed&&(o=new E("write")),o?(t.nextTick(i,o),P(e,o,!0),o):(s.pendingcb++,function(t,e,r,n,i){const s=e.objectMode?1:r.length;e.length+=s;const o=e.length<e.highWaterMark;o||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&"buffer"!==n&&(e.allBuffers=!1),e.allNoop&&i!==A&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1);return o&&!e.errored&&!e.destroyed}(e,s,r,n,i))}function I(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new E("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function F(t,e,r,n){--e.pendingcb,n(r),z(e),P(t,r)}function D(e,r){const n=e._writableState,i=n.sync,s=n.writecb;"function"==typeof s?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,r?(r.stack,n.errored||(n.errored=r),e._readableState&&!e._readableState.errored&&(e._readableState.errored=r),i?t.nextTick(F,e,n,r,s):F(e,n,r,s)):(n.buffered.length>n.bufferedIndex&&W(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===s?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:s,stream:e,state:n},t.nextTick(N,n.afterWriteTickInfo)):B(e,n,1,s))):P(e,new _)}function N({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,B(t,e,r,n)}function B(t,e,r,n){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&z(e),G(t,e)}function z(t){if(t.writing)return;for(let r=t.bufferedIndex;r<t.buffered.length;++r){var e;const{chunk:n,callback:i}=t.buffered[r],s=t.objectMode?1:n.length;t.length-=s,i(null!==(e=t.errored)&&void 0!==e?e:new E("write"))}const r=t[M].splice(0);for(let e=0;e<r.length;e++){var n;r[e](null!==(n=t.errored)&&void 0!==n?n:new E("end"))}L(t)}function W(t,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed)return;const{buffered:n,bufferedIndex:i,objectMode:s}=r,o=n.length-i;if(!o)return;let a=i;if(r.bufferProcessing=!0,o>1&&t._writev){r.pendingcb-=o-1;const i=r.allNoop?A:t=>{for(let e=a;e<n.length;++e)n[e].callback(t)},s=r.allNoop&&0===a?n:e(n,a);s.allBuffers=r.allBuffers,I(t,r,!0,r.length,s,"",i),L(r)}else{do{const{chunk:e,encoding:i,callback:o}=n[a];n[a++]=null;I(t,r,!1,s?1:e.length,e,i,o)}while(a<n.length&&!r.writing);a===n.length?L(r):a>256?(n.splice(0,a),r.bufferedIndex=0):r.bufferedIndex=a}r.bufferProcessing=!1}function U(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function $(e,r){r.prefinished||r.finalCalled||("function"!=typeof e._final||r.destroyed?(r.prefinished=!0,e.emit("prefinish")):(r.finalCalled=!0,function(e,r){let n=!1;function i(i){if(n)P(e,null!=i?i:_());else if(n=!0,r.pendingcb--,i){const t=r[M].splice(0);for(let e=0;e<t.length;e++)t[e](i);P(e,i,r.sync)}else U(r)&&(r.prefinished=!0,e.emit("prefinish"),r.pendingcb++,t.nextTick(H,e,r))}r.sync=!0,r.pendingcb++;try{e._final(i)}catch(t){i(t)}r.sync=!1}(e,r)))}function G(e,r,n){U(r)&&($(e,r),0===r.pendingcb&&(n?(r.pendingcb++,t.nextTick((t,e)=>{U(e)?H(t,e):e.pendingcb--},e,r)):U(r)&&(r.pendingcb++,H(e,r))))}function H(t,e){e.pendingcb--,e.finished=!0;const r=e[M].splice(0);for(let t=0;t<r.length;t++)r[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}j.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(j.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),i(R,c,{__proto__:null,value:function(t){return!!n(this,t)||this===R&&(t&&t._writableState instanceof j)}}),R.prototype.pipe=function(){P(this,new S)},R.prototype.write=function(t,e,r){return!0===C(this,t,e,r)},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||W(this,t))},R.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=a(t)),!d.isEncoding(t))throw new k(t);return this._writableState.defaultEncoding=t,this},R.prototype._write=function(t,e,r){if(!this._writev)throw new w("_write()");this._writev([{chunk:t,encoding:e}],r)},R.prototype._writev=null,R.prototype.end=function(e,n,i){const s=this._writableState;let o;if("function"==typeof e?(i=e,e=null,n=null):"function"==typeof n&&(i=n,n=null),null!=e){const t=C(this,e,n);t instanceof r&&(o=t)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new O("end"):s.destroyed&&(o=new E("end")):(s.ending=!0,G(this,s,!0),s.ended=!0)),"function"==typeof i&&(o||s.finished?t.nextTick(i,o):s[M].push(i)),this},s(R.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const q=b.destroy;let V;function Y(){return void 0===V&&(V={}),V}return R.prototype.destroy=function(e,r){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[M].length)&&t.nextTick(z,n),q.call(this,e,r),this},R.prototype._undestroy=b.undestroy,R.prototype._destroy=function(t,e){e(t)},R.prototype[h.captureRejectionSymbol]=function(t){this.destroy(t)},R.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},R.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)},LT}function rk(){if(IT)return CT;IT=1;const t=fT(),e=p,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:c}=dT(),h=pT(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:b}}=kx(),{destroyer:y}=bT(),m=nk(),v=tk(),g=ek(),{createDeferredPromise:w}=Qx(),_=JT(),S=globalThis.Blob||e.Blob,E=void 0!==S?function(t){return t instanceof S}:function(t){return!1},O=globalThis.AbortController||Kx.AbortController,{FunctionPrototypeCall:x}=wx();class T extends m{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function k(t){const e=t.readable&&"function"!=typeof t.readable.read?v.wrap(t.readable):t.readable,i=t.writable;let s,o,a,l,u,c=!!r(e),d=!!n(i);function p(t){const e=l;l=null,e?e(t):t&&u.destroy(t)}return u=new T({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==i||!i.writableObjectMode),readable:c,writable:d}),d&&(h(i,t=>{d=!1,t&&y(e,t),p(t)}),u._write=function(t,e,r){i.write(t,e)?r():s=r},u._final=function(t){i.end(),o=t},i.on("drain",function(){if(s){const t=s;s=null,t()}}),i.on("finish",function(){if(o){const t=o;o=null,t()}})),c&&(h(e,t=>{c=!1,t&&y(e,t),p(t)}),e.on("readable",function(){if(a){const t=a;a=null,t()}}),e.on("end",function(){u.push(null)}),u._read=function(){for(;;){const t=e.read();if(null===t)return void(a=u._read);if(!u.push(t))return}}),u._destroy=function(t,r){t||null===l||(t=new f),a=null,s=null,o=null,null===l?r(t):(l=r,y(i,t),y(e,t))},u}return CT=function e(r,n){if(l(r))return r;if(o(r))return k({readable:r});if(a(r))return k({writable:r});if(s(r))return k({writable:!1,readable:!1});if(u(r))return k({readable:v.fromWeb(r)});if(c(r))return k({writable:g.fromWeb(r)});if("function"==typeof r){const{value:e,write:s,final:o,destroy:a}=function(e){let{promise:r,resolve:n}=w();const i=new O,s=i.signal,o=e(async function*(){for(;;){const e=r;r=null;const{chunk:i,done:o,cb:a}=await e;if(t.nextTick(a),o)return;if(s.aborted)throw new f(void 0,{cause:s.reason});({promise:r,resolve:n}=w()),yield i}}(),{signal:s});return{value:o,write(t,e,r){const i=n;n=null,i({chunk:t,done:!1,cb:r})},final(t){const e=n;n=null,e({done:!0,cb:t})},destroy(t,e){i.abort(),e(t)}}}(r);if(i(e))return _(T,e,{objectMode:!0,write:s,final:o,destroy:a});const l=null==e?void 0:e.then;if("function"==typeof l){let r;const n=x(l,e,t=>{if(null!=t)throw new b("nully","body",t)},t=>{y(r,t)});return r=new T({objectMode:!0,readable:!1,write:s,final(e){o(async()=>{try{await n,t.nextTick(e,null)}catch(r){t.nextTick(e,r)}})},destroy:a})}throw new b("Iterable, AsyncIterable or AsyncFunction",n,e)}if(E(r))return e(r.arrayBuffer());if(i(r))return _(T,r,{objectMode:!0,writable:!1});if(u(null==r?void 0:r.readable)&&c(null==r?void 0:r.writable))return T.fromWeb(r);if("object"==typeof(null==r?void 0:r.writable)||"object"==typeof(null==r?void 0:r.readable)){return k({readable:null!=r&&r.readable?o(null==r?void 0:r.readable)?null==r?void 0:r.readable:e(r.readable):void 0,writable:null!=r&&r.writable?a(null==r?void 0:r.writable)?null==r?void 0:r.writable:e(r.writable):void 0})}const h=null==r?void 0:r.then;if("function"==typeof h){let t;return x(h,r,e=>{null!=e&&t.push(e),t.push(null)},e=>{y(t,e)}),t=new T({objectMode:!0,writable:!1,read(){}})}throw new d(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],r)},CT}function nk(){if(DT)return FT;DT=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=wx();FT=o;const i=tk(),s=ek();n(o.prototype,i.prototype),n(o,i);{const t=r(s.prototype);for(let e=0;e<t.length;e++){const r=t[e];o.prototype[r]||(o.prototype[r]=s.prototype[r])}}function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),s.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let a,l;function u(){return void 0===a&&(a={}),a}return t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),o.fromWeb=function(t,e){return u().newStreamDuplexFromReadableWritablePair(t,e)},o.toWeb=function(t){return u().newReadableWritablePairFromDuplex(t)},o.from=function(t){return l||(l=rk()),l(t,"body")},FT}function ik(){if(BT)return NT;BT=1;const{ObjectSetPrototypeOf:t,Symbol:e}=wx();NT=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=kx().codes,n=nk(),{getHighWaterMark:i}=xT();t(o.prototype,n.prototype),t(o,n);const s=e("kCallback");function o(t){if(!(this instanceof o))return new o(t);const e=t?i(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),n.call(this,t),this._readableState.sync=!1,this[s]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function a(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush((e,r)=>{e?t?t(e):this.destroy(e):(null!=r&&this.push(r),this.push(null),t&&t())})}function l(){this._final!==a&&a.call(this)}return o.prototype._final=a,o.prototype._transform=function(t,e,n){throw new r("_transform()")},o.prototype._write=function(t,e,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(t,e,(t,e)=>{t?r(t):(null!=e&&this.push(e),i.ended||o===n.length||n.length<n.highWaterMark?r():this[s]=r)})},o.prototype._read=function(){if(this[s]){const t=this[s];this[s]=null,t()}},NT}function sk(){if(WT)return zT;WT=1;const{ObjectSetPrototypeOf:t}=wx();zT=r;const e=ik();function r(t){if(!(this instanceof r))return new r(t);e.call(this,t)}return t(r.prototype,e.prototype),t(r,e),r.prototype._transform=function(t,e,r){r(null,t)},zT}function ok(){if($T)return UT;$T=1;const t=fT(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=wx(),s=pT(),{once:o}=Qx(),a=bT(),l=nk(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:f,ERR_STREAM_DESTROYED:d,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:b}=kx(),{validateFunction:y,validateAbortSignal:m}=eT(),{isIterable:v,isReadable:g,isReadableNodeStream:w,isNodeStream:_,isTransformStream:S,isWebStream:E,isReadableStream:O,isReadableFinished:x}=dT(),T=globalThis.AbortController||Kx.AbortController;let k,P,A;function M(t,e,r){let n=!1;t.on("close",()=>{n=!0});return{destroy:e=>{n||(n=!0,a.destroyer(t,e||new d("pipe")))},cleanup:s(t,{readable:e,writable:r},t=>{n=!t})}}function j(t){if(v(t))return t;if(w(t))return async function*(t){P||(P=tk());yield*P.prototype[n].call(t)}(t);throw new c("val",["Readable","Iterable","AsyncIterable"],t)}async function L(t,e,n,{end:i}){let o,a=null;const l=t=>{if(t&&(o=t),a){const t=a;a=null,t()}},c=()=>new r((t,e)=>{o?e(o):a=()=>{o?e(o):t()}});e.on("drain",l);const h=s(e,{readable:!1},l);try{e.writableNeedDrain&&await c();for await(const r of t)e.write(r)||await c();i&&(e.end(),await c()),n()}catch(t){n(o!==t?u(o,t):t)}finally{h(),e.off("drain",l)}}async function R(t,e,r,{end:n}){S(e)&&(e=e.writable);const i=e.getWriter();try{for await(const e of t)await i.ready,i.write(e).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(t){try{await i.abort(t),r(t)}catch(t){r(t)}}}function C(r,n,s){if(1===r.length&&e(r[0])&&(r=r[0]),r.length<2)throw new f("streams");const o=new T,a=o.signal,u=null==s?void 0:s.signal,d=[];function p(){B(new b)}let y,x,P;m(u,"options.signal"),A=A||Qx().addAbortListener,u&&(y=A(u,p));const C=[];let F,D=0;function N(t){B(t,0===--D)}function B(e,r){var s;if(!e||x&&"ERR_STREAM_PREMATURE_CLOSE"!==x.code||(x=e),x||r){for(;C.length;)C.shift()(x);null===(s=y)||void 0===s||s[i](),o.abort(),r&&(x||d.forEach(t=>t()),t.nextTick(n,x,P))}}for(let U=0;U<r.length;U++){const $=r[U],G=U<r.length-1,H=U>0,q=G||!1!==(null==s?void 0:s.end),V=U===r.length-1;if(_($)){if(q){const{destroy:Z,cleanup:K}=M($,G,H);C.push(Z),g($)&&V&&d.push(K)}function Y(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&N(t)}$.on("error",Y),g($)&&V&&d.push(()=>{$.removeListener("error",Y)})}if(0===U)if("function"==typeof $){if(F=$({signal:a}),!v(F))throw new h("Iterable, AsyncIterable or Stream","source",F)}else F=v($)||w($)||S($)?$:l.from($);else if("function"==typeof $){var z;if(S(F))F=j(null===(z=F)||void 0===z?void 0:z.readable);else F=j(F);if(F=$(F,{signal:a}),G){if(!v(F,!0))throw new h("AsyncIterable",`transform[${U-1}]`,F)}else{var W;k||(k=sk());const Q=new k({objectMode:!0}),X=null===(W=F)||void 0===W?void 0:W.then;if("function"==typeof X)D++,X.call(F,e=>{P=e,null!=e&&Q.write(e),q&&Q.end(),t.nextTick(N)},e=>{Q.destroy(e),t.nextTick(N,e)});else if(v(F,!0))D++,L(F,Q,N,{end:q});else{if(!O(F)&&!S(F))throw new h("AsyncIterable or Promise","destination",F);{const et=F.readable||F;D++,L(et,Q,N,{end:q})}}F=Q;const{destroy:J,cleanup:tt}=M(F,!1,!0);C.push(J),V&&d.push(tt)}}else if(_($)){if(w(F)){D+=2;const rt=I(F,$,N,{end:q});g($)&&V&&d.push(rt)}else if(S(F)||O(F)){const nt=F.readable||F;D++,L(nt,$,N,{end:q})}else{if(!v(F))throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);D++,L(F,$,N,{end:q})}F=$}else if(E($)){if(w(F))D++,R(j(F),$,N,{end:q});else if(O(F)||v(F))D++,R(F,$,N,{end:q});else{if(!S(F))throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);D++,R(F.readable,$,N,{end:q})}F=$}else F=l.from($)}return(null!=a&&a.aborted||null!=u&&u.aborted)&&t.nextTick(p),F}function I(e,r,n,{end:i}){let o=!1;if(r.on("close",()=>{o||n(new p)}),e.pipe(r,{end:!1}),i){function a(){o=!0,r.end()}x(e)?t.nextTick(a):e.once("end",a)}else n();return s(e,{readable:!0,writable:!1},t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)}),s(r,{readable:!1,writable:!0},n)}return UT={pipelineImpl:C,pipeline:function(...t){return C(t,o(function(t){return y(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}}function ak(){if(HT)return GT;HT=1;const{pipeline:t}=ok(),e=nk(),{destroyer:r}=bT(),{isNodeStream:n,isReadable:i,isWritable:s,isWebStream:o,isTransformStream:a,isWritableStream:l,isReadableStream:u}=dT(),{AbortError:c,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:f}}=kx(),d=pT();return GT=function(...p){if(0===p.length)throw new f("streams");if(1===p.length)return e.from(p[0]);const b=[...p];if("function"==typeof p[0]&&(p[0]=e.from(p[0])),"function"==typeof p[p.length-1]){const t=p.length-1;p[t]=e.from(p[t])}for(let t=0;t<p.length;++t)if(n(p[t])||o(p[t])){if(t<p.length-1&&!(i(p[t])||u(p[t])||a(p[t])))throw new h(`streams[${t}]`,b[t],"must be readable");if(t>0&&!(s(p[t])||l(p[t])||a(p[t])))throw new h(`streams[${t}]`,b[t],"must be writable")}let y,m,v,g,w;const _=p[0],S=t(p,function(t){const e=g;g=null,e?e(t):t?w.destroy(t):O||E||w.destroy()}),E=!!(s(_)||l(_)||a(_)),O=!!(i(S)||u(S)||a(S));if(w=new e({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==S||!S.readableObjectMode),writable:E,readable:O}),E){if(n(_))w._write=function(t,e,r){_.write(t,e)?r():y=r},w._final=function(t){_.end(),m=t},_.on("drain",function(){if(y){const t=y;y=null,t()}});else if(o(_)){const t=(a(_)?_.writable:_).getWriter();w._write=async function(e,r,n){try{await t.ready,t.write(e).catch(()=>{}),n()}catch(t){n(t)}},w._final=async function(e){try{await t.ready,t.close().catch(()=>{}),m=e}catch(t){e(t)}}}const t=a(S)?S.readable:S;d(t,()=>{if(m){const t=m;m=null,t()}})}if(O)if(n(S))S.on("readable",function(){if(v){const t=v;v=null,t()}}),S.on("end",function(){w.push(null)}),w._read=function(){for(;;){const t=S.read();if(null===t)return void(v=w._read);if(!w.push(t))return}};else if(o(S)){const t=(a(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{const{value:e,done:r}=await t.read();if(!w.push(e))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(t,e){t||null===g||(t=new c),v=null,y=null,m=null,null===g?e(t):(g=e,n(S)&&r(S,t))},w},GT}function lk(){if(YT)return VT;YT=1;const{ArrayPrototypePop:t,Promise:e}=wx(),{isIterable:r,isNodeStream:n,isWebStream:i}=dT(),{pipelineImpl:s}=ok(),{finished:o}=pT();return uk(),VT={finished:o,pipeline:function(...o){return new e((e,a)=>{let l,u;const c=o[o.length-1];if(c&&"object"==typeof c&&!n(c)&&!r(c)&&!i(c)){const e=t(o);l=e.signal,u=e.end}s(o,(t,r)=>{t?a(t):e(r)},{signal:l,end:u})})}},VT}function uk(){if(ZT)return gx.exports;ZT=1;const{Buffer:t}=p,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=wx(),{promisify:{custom:i}}=Qx(),{streamReturningOperators:s,promiseReturningOperators:o}=function(){if(qT)return tT;qT=1;const t=globalThis.AbortController||Kx.AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:s}=kx(),{validateAbortSignal:o,validateInteger:a,validateObject:l}=eT(),u=wx().Symbol("kWeak"),c=wx().Symbol("kResistStopPropagation"),{finished:h}=pT(),f=ak(),{addAbortSignalNoValidate:d}=ET(),{isWritable:p,isNodeStream:b}=dT(),{deprecate:y}=Qx(),{ArrayPrototypePush:m,Boolean:v,MathFloor:g,Number:w,NumberIsNaN:_,Promise:S,PromiseReject:E,PromiseResolve:O,PromisePrototypeThen:x,Symbol:T}=wx(),k=T("kEmpty"),P=T("kEof");function A(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal");let n=1;null!=(null==e?void 0:e.concurrency)&&(n=g(e.concurrency));let i=n-1;return null!=(null==e?void 0:e.highWaterMark)&&(i=g(e.highWaterMark)),a(n,"options.concurrency",1),a(i,"options.highWaterMark",0),i+=n,async function*(){const r=Qx().AbortSignalAny([null==e?void 0:e.signal].filter(v)),o=this,a=[],l={signal:r};let u,c,h=!1,f=0;function d(){h=!0,p()}function p(){f-=1,b()}function b(){c&&!h&&f<n&&a.length<i&&(c(),c=null)}!async function(){try{for await(let e of o){if(h)return;if(r.aborted)throw new s;try{if(e=t(e,l),e===k)continue;e=O(e)}catch(t){e=E(t)}f+=1,x(e,p,d),a.push(e),u&&(u(),u=null),!h&&(a.length>=i||f>=n)&&await new S(t=>{c=t})}a.push(P)}catch(t){const e=E(t);x(e,p,d),a.push(e)}finally{h=!0,u&&(u(),u=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===P)return;if(r.aborted)throw new s;t!==k&&(yield t),a.shift(),b()}await new S(t=>{u=t})}}finally{h=!0,c&&(c(),c=null)}}.call(this)}async function M(t,e=void 0){for await(const r of j.call(this,t,e))return!0;return!1}function j(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return A.call(this,async function(e,r){return await t(e,r)?e:k},e)}class L extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function R(t){if(t=w(t),_(t))return 0;if(t<0)throw new i("number",">= 0",t);return t}return tT.streamReturningOperators={asIndexedPairs:y(function(t=void 0){return null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal"),async function*(){let e=0;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s({cause:t.signal.reason});yield[e++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=R(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new s;t--<=0&&(yield r)}}.call(this)},filter:j,flatMap:function(t,e){const r=A.call(this,t,e);return async function*(){for await(const t of r)yield*t}.call(this)},map:A,take:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=R(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new s;if(t-- >0&&(yield r),t<=0)return}}.call(this)},compose:function(t,r){if(null!=r&&l(r,"options"),null!=(null==r?void 0:r.signal)&&o(r.signal,"options.signal"),b(t)&&!p(t))throw new e("stream",t,"must be writable");const n=f(this,t);return null!=r&&r.signal&&d(r.signal,n),n}},tT.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return!await M.call(this,async(...e)=>!await t(...e),e)},forEach:async function(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);for await(const r of A.call(this,async function(e,r){return await t(e,r),k},e));},reduce:async function(e,n,i){var a;if("function"!=typeof e)throw new r("reducer",["Function","AsyncFunction"],e);null!=i&&l(i,"options"),null!=(null==i?void 0:i.signal)&&o(i.signal,"options.signal");let f=arguments.length>1;if(null!=i&&null!==(a=i.signal)&&void 0!==a&&a.aborted){const t=new s(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(t)),t}const d=new t,p=d.signal;if(null!=i&&i.signal){const t={once:!0,[u]:this,[c]:!0};i.signal.addEventListener("abort",()=>d.abort(),t)}let b=!1;try{for await(const t of this){var y;if(b=!0,null!=i&&null!==(y=i.signal)&&void 0!==y&&y.aborted)throw new s;f?n=await e(n,t,{signal:p}):(n=t,f=!0)}if(!b&&!f)throw new L}finally{d.abort()}return n},toArray:async function(t){null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s(void 0,{cause:t.signal.reason});m(e,n)}return e},some:M,find:async function(t,e){for await(const r of j.call(this,t,e))return r}},tT}(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=kx(),l=ak(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=xT(),{pipeline:h}=ok(),{destroyer:f}=bT(),d=pT(),b=lk(),y=dT(),m=gx.exports=yT().Stream;m.isDestroyed=y.isDestroyed,m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.isWritable=y.isWritable,m.Readable=tk();for(const g of r(s)){const w=s[g];function _(...t){if(new.target)throw a();return m.Readable.from(n(w,this,t))}e(_,"name",{__proto__:null,value:w.name}),e(_,"length",{__proto__:null,value:w.length}),e(m.Readable.prototype,g,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const S of r(o)){const E=o[S];function O(...t){if(new.target)throw a();return n(E,this,t)}e(O,"name",{__proto__:null,value:E.name}),e(O,"length",{__proto__:null,value:E.length}),e(m.Readable.prototype,S,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}m.Writable=ek(),m.Duplex=nk(),m.Transform=ik(),m.PassThrough=sk(),m.pipeline=h;const{addAbortSignal:v}=ET();return m.addAbortSignal=v,m.finished=d,m.destroy=f,m.compose=l,m.setDefaultHighWaterMark=u,m.getDefaultHighWaterMark=c,e(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),e(h,i,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),e(d,i,{__proto__:null,enumerable:!0,get:()=>b.finished}),m.Stream=m,m._isUint8Array=function(t){return t instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return t.from(e.buffer,e.byteOffset,e.byteLength)},gx.exports}!function(t){const e=h;if(e&&"disable"===process.env.READABLE_STREAM){const r=e.promises;t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}else{const e=uk(),r=lk(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}t.exports.default=t.exports}(vx);var ck=vx.exports,hk={exports:{}};var fk=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},dk=AO,pk=MO,bk=yE?yE.isConcatSpreadable:void 0;var yk=fk,mk=function(t){return pk(t)||dk(t)||!!(bk&&t&&t[bk])};var vk=function t(e,r,n,i,s){var o=-1,a=e.length;for(n||(n=mk),s||(s=[]);++o<a;){var l=e[o];r>0&&n(l)?r>1?t(l,r-1,n,i,s):yk(s,l):i||(s[s.length]=l)}return s},gk=vk;var wk=function(t){return(null==t?0:t.length)?gk(t,1):[]},_k=ZE(Object,"create"),Sk=_k;var Ek=function(){this.__data__=Sk?Sk(null):{},this.size=0};var Ok=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xk=_k,Tk=Object.prototype.hasOwnProperty;var kk=function(t){var e=this.__data__;if(xk){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Tk.call(e,t)?e[t]:void 0},Pk=_k,Ak=Object.prototype.hasOwnProperty;var Mk=_k;var jk=Ek,Lk=Ok,Rk=kk,Ck=function(t){var e=this.__data__;return Pk?void 0!==e[t]:Ak.call(e,t)},Ik=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Mk&&void 0===e?"__lodash_hash_undefined__":e,this};function Fk(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fk.prototype.clear=jk,Fk.prototype.delete=Lk,Fk.prototype.get=Rk,Fk.prototype.has=Ck,Fk.prototype.set=Ik;var Dk=Fk;var Nk=function(){this.__data__=[],this.size=0},Bk=lO;var zk=function(t,e){for(var r=t.length;r--;)if(Bk(t[r][0],e))return r;return-1},Wk=zk,Uk=Array.prototype.splice;var $k=function(t){var e=this.__data__,r=Wk(e,t);return!(r<0)&&(r==e.length-1?e.pop():Uk.call(e,r,1),--this.size,!0)},Gk=zk;var Hk=function(t){var e=this.__data__,r=Gk(e,t);return r<0?void 0:e[r][1]},qk=zk;var Vk=zk;var Yk=function(t,e){var r=this.__data__,n=Vk(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Zk=Nk,Kk=$k,Qk=Hk,Xk=function(t){return qk(this.__data__,t)>-1},Jk=Yk;function tP(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tP.prototype.clear=Zk,tP.prototype.delete=Kk,tP.prototype.get=Qk,tP.prototype.has=Xk,tP.prototype.set=Jk;var eP=tP,rP=ZE(bE,"Map"),nP=Dk,iP=eP,sP=rP;var oP=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var aP=function(t,e){var r=t.__data__;return oP(e)?r["string"==typeof e?"string":"hash"]:r.map},lP=aP;var uP=aP;var cP=aP;var hP=aP;var fP=function(){this.size=0,this.__data__={hash:new nP,map:new(sP||iP),string:new nP}},dP=function(t){var e=lP(this,t).delete(t);return this.size-=e?1:0,e},pP=function(t){return uP(this,t).get(t)},bP=function(t){return cP(this,t).has(t)},yP=function(t,e){var r=hP(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function mP(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mP.prototype.clear=fP,mP.prototype.delete=dP,mP.prototype.get=pP,mP.prototype.has=bP,mP.prototype.set=yP;var vP=mP,gP=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wP=function(t){return this.__data__.has(t)};function _P(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new vP;++e<r;)this.add(t[e])}_P.prototype.add=_P.prototype.push=gP,_P.prototype.has=wP;var SP=_P;var EP=function(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1};var OP=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1},xP=EP,TP=function(t){return t!=t},kP=OP;var PP=function(t,e,r){return e==e?kP(t,e,r):xP(t,TP,r)};var AP=function(t,e){return!!(null==t?0:t.length)&&PP(t,e,0)>-1};var MP=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1};var jP=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i};var LP=function(t,e){return t.has(e)},RP=SP,CP=AP,IP=MP,FP=jP,DP=BO,NP=LP;var BP=function(t,e,r,n){var i=-1,s=CP,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;r&&(e=FP(e,DP(r))),n?(s=IP,o=!1):e.length>=200&&(s=NP,o=!1,e=new RP(e));t:for(;++i<a;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,o&&h==h){for(var f=u;f--;)if(e[f]===h)continue t;l.push(c)}else s(e,h,n)||l.push(c)}return l},zP=fO,WP=_O;var UP=function(t){return WP(t)&&zP(t)},$P=BP,GP=vk,HP=UP,qP=aO(function(t,e){return HP(t)?$P(t,GP(e,1,HP,!0)):[]});var VP=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},YP=ZE(bE,"Set"),ZP=function(){},KP=YP&&1/VP(new YP([,-0]))[1]==1/0?function(t){return new YP(t)}:ZP,QP=SP,XP=AP,JP=MP,tA=LP,eA=KP,rA=VP;var nA=function(t,e,r){var n=-1,i=XP,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=JP;else if(s>=200){var u=e?null:eA(t);if(u)return rA(u);o=!1,i=tA,l=new QP}else l=e?[]:a;t:for(;++n<s;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,o&&h==h){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),a.push(c)}else i(l,h,r)||(l!==a&&l.push(h),a.push(c))}return a},iA=vk,sA=nA,oA=UP,aA=aO(function(t){return sA(iA(t,1,oA,!0))});var lA=function(t,e){return function(r){return t(e(r))}},uA=lA(Object.getPrototypeOf,Object),cA=kE,hA=uA,fA=_O,dA=Function.prototype,pA=Object.prototype,bA=dA.toString,yA=pA.hasOwnProperty,mA=bA.call(Object);var vA=function(t){if(!fA(t)||"[object Object]"!=cA(t))return!1;var e=hA(t);if(null===e)return!0;var r=yA.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&bA.call(r)==mA},gA={},wA={},_A={};Object.defineProperty(_A,"__esModule",{value:!0}),_A.assertValidPattern=void 0;_A.assertValidPattern=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};var SA={},EA={};Object.defineProperty(EA,"__esModule",{value:!0}),EA.parseClass=void 0;const OA={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},xA=t=>t.replace(/[[\]\\-]/g,"\\$&"),TA=t=>t.join("");EA.parseClass=(t,e)=>{const r=e;if("["!==t.charAt(r))throw new Error("not in a brace expression");const n=[],i=[];let s=r+1,o=!1,a=!1,l=!1,u=!1,c=r,h="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==r+1){if("]"===e&&o&&!l){c=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,u]]of Object.entries(OA))if(t.startsWith(e,s)){if(h)return["$.",!1,t.length-r,!0];s+=e.length,u?i.push(o):n.push(o),a=a||l;continue t}l=!1,h?(e>h?n.push(xA(h)+"-"+xA(e)):e===h&&n.push(xA(e)),h="",s++):t.startsWith("-]",s+1)?(n.push(xA(e+"-")),s+=2):t.startsWith("-",s+1)?(h=e,s+=2):(n.push(xA(e)),s++)}else l=!0,s++}else u=!0,s++}if(c<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(0===i.length&&1===n.length&&/^\\?.$/.test(n[0])&&!u){const t=2===n[0].length?n[0].slice(-1):n[0];return[(f=t,f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,c-r,!1]}var f;const d="["+(u?"^":"")+TA(n)+"]",p="["+(u?"":"^")+TA(i)+"]";return[n.length&&i.length?"("+d+"|"+p+")":n.length?d:p,a,c-r,!0]};var kA={};Object.defineProperty(kA,"__esModule",{value:!0}),kA.unescape=void 0;kA.unescape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Object.defineProperty(SA,"__esModule",{value:!0}),SA.AST=void 0;const PA=EA,AA=kA,MA=new Set(["!","?","+","*","@"]),jA=t=>MA.has(t),LA="(?!\\.)",RA=new Set(["[","."]),CA=new Set(["..","."]),IA=new Set("().*{}+?[]^$\\!"),FA=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),DA="[^/]",NA=DA+"*?",BA=DA+"+?";SA.AST=class t{type;#m;#v;#g=!1;#w=[];#_;#S;#E;#O=!1;#x;#T;#k=!1;constructor(t,e,r={}){this.type=t,t&&(this.#v=!0),this.#_=e,this.#m=this.#_?this.#_.#m:this,this.#x=this.#m===this?r:this.#m.#x,this.#E=this.#m===this?[]:this.#m.#E,"!"!==t||this.#m.#O||this.#E.push(this),this.#S=this.#_?this.#_.#w.length:0}get hasMagic(){if(void 0!==this.#v)return this.#v;for(const t of this.#w)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#v=!0;return this.#v}toString(){return void 0!==this.#T?this.#T:this.type?this.#T=this.type+"("+this.#w.map(t=>String(t)).join("|")+")":this.#T=this.#w.map(t=>String(t)).join("")}#P(){if(this!==this.#m)throw new Error("should only call on root");if(this.#O)return this;let t;for(this.toString(),this.#O=!0;t=this.#E.pop();){if("!"!==t.type)continue;let e=t,r=e.#_;for(;r;){for(let n=e.#S+1;!r.type&&n<r.#w.length;n++)for(const e of t.#w){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(r.#w[n])}e=r,r=e.#_}}return this}push(...e){for(const r of e)if(""!==r){if("string"!=typeof r&&!(r instanceof t&&r.#_===this))throw new Error("invalid part: "+r);this.#w.push(r)}}toJSON(){const t=null===this.type?this.#w.slice().map(t=>"string"==typeof t?t:t.toJSON()):[this.type,...this.#w.map(t=>t.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#m||this.#m.#O&&"!"===this.#_?.type)&&t.push({}),t}isStart(){if(this.#m===this)return!0;if(!this.#_?.isStart())return!1;if(0===this.#S)return!0;const e=this.#_;for(let r=0;r<this.#S;r++){const n=e.#w[r];if(!(n instanceof t&&"!"===n.type))return!1}return!0}isEnd(){if(this.#m===this)return!0;if("!"===this.#_?.type)return!0;if(!this.#_?.isEnd())return!1;if(!this.type)return this.#_?.isEnd();const t=this.#_?this.#_.#w.length:0;return this.#S===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(e){const r=new t(this.type,e);for(const t of this.#w)r.copyIn(t);return r}static#A(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(null===r.type){let u=n,c="";for(;u<e.length;){const n=e.charAt(u++);if(s||"\\"===n)s=!s,c+=n;else if(o)u===a+1?"^"!==n&&"!"!==n||(l=!0):"]"!==n||u===a+2&&l||(o=!1),c+=n;else if("["!==n){if(!i.noext&&jA(n)&&"("===e.charAt(u)){r.push(c),c="";const s=new t(n,r);u=t.#A(e,s,u,i),r.push(s);continue}c+=n}else o=!0,a=u,l=!1,c+=n}return r.push(c),u}let u=n+1,c=new t(null,r);const h=[];let f="";for(;u<e.length;){const n=e.charAt(u++);if(s||"\\"===n)s=!s,f+=n;else if(o)u===a+1?"^"!==n&&"!"!==n||(l=!0):"]"!==n||u===a+2&&l||(o=!1),f+=n;else if("["!==n){if(jA(n)&&"("===e.charAt(u)){c.push(f),f="";const r=new t(n,c);c.push(r),u=t.#A(e,r,u,i);continue}if("|"!==n){if(")"===n)return""===f&&0===r.#w.length&&(r.#k=!0),c.push(f),f="",r.push(...h,c),u;f+=n}else c.push(f),f="",h.push(c),c=new t(null,r)}else o=!0,a=u,l=!1,f+=n}return r.type=null,r.#v=void 0,r.#w=[e.substring(n-1)],u}static fromGlob(e,r={}){const n=new t(null,void 0,r);return t.#A(e,n,0,r),n}toMMPattern(){if(this!==this.#m)return this.#m.toMMPattern();const t=this.toString(),[e,r,n,i]=this.toRegExpSource();if(!(n||this.#v||this.#x.nocase&&!this.#x.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const s=(this.#x.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}get options(){return this.#x}toRegExpSource(e){const r=e??!!this.#x.dot;if(this.#m===this&&this.#P(),!this.type){const n=this.isStart()&&this.isEnd(),i=this.#w.map(r=>{const[i,s,o,a]="string"==typeof r?t.#M(r,this.#v,n):r.toRegExpSource(e);return this.#v=this.#v||o,this.#g=this.#g||a,i}).join("");let s="";if(this.isStart()&&"string"==typeof this.#w[0]){if(!(1===this.#w.length&&CA.has(this.#w[0]))){const t=RA,n=r&&t.has(i.charAt(0))||i.startsWith("\\.")&&t.has(i.charAt(2))||i.startsWith("\\.\\.")&&t.has(i.charAt(4)),o=!r&&!e&&t.has(i.charAt(0));s=n?"(?!(?:^|/)\\.\\.?(?:$|/))":o?LA:""}}let o="";this.isEnd()&&this.#m.#O&&"!"===this.#_?.type&&(o="(?:$|\\/)");return[s+i+o,(0,AA.unescape)(i),this.#v=!!this.#v,this.#g]}const n="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let s=this.#j(r);if(this.isStart()&&this.isEnd()&&!s&&"!"!==this.type){const t=this.toString();return this.#w=[t],this.type=null,this.#v=void 0,[t,(0,AA.unescape)(this.toString()),!1,!1]}let o=!n||e||r?"":this.#j(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if("!"===this.type&&this.#k)a=(this.isStart()&&!r?LA:"")+BA;else{a=i+s+("!"===this.type?"))"+(!this.isStart()||r||e?"":LA)+NA+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`)}return[a,(0,AA.unescape)(s),this.#v=!!this.#v,this.#g]}#j(t){return this.#w.map(e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,n,i,s]=e.toRegExpSource(t);return this.#g=this.#g||s,r}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")}static#M(t,e,r=!1){let n=!1,i="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(n)n=!1,i+=(IA.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[r,n,a,l]=(0,PA.parseClass)(t,o);if(a){i+=r,s=s||n,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?i+=FA(a):(i+=DA,e=!0):(i+=r&&"*"===t?BA:NA,e=!0)}else o===t.length-1?i+="\\\\":n=!0}return[i,(0,AA.unescape)(t),!!e,s]}};var zA={};Object.defineProperty(zA,"__esModule",{value:!0}),zA.escape=void 0;zA.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),function(t){var e=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const r=e(Mv),n=_A,i=SA,s=zA,o=kA;t.minimatch=(t,e,r={})=>((0,n.assertValidPattern)(e),!(!r.nocomment&&"#"===e.charAt(0))&&new L(e,r).match(t));const a=/^\*+([^+@!?\*\[\(]*)$/,l=t=>e=>!e.startsWith(".")&&e.endsWith(t),u=t=>e=>e.endsWith(t),c=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),h=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),f=/^\*+\.\*+$/,d=t=>!t.startsWith(".")&&t.includes("."),p=t=>"."!==t&&".."!==t&&t.includes("."),b=/^\.\*+$/,y=t=>"."!==t&&".."!==t&&t.startsWith("."),m=/^\*+$/,v=t=>0!==t.length&&!t.startsWith("."),g=t=>0!==t.length&&"."!==t&&".."!==t,w=/^\?+([^+@!?\*\[\(]*)?$/,_=([t,e=""])=>{const r=x([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},S=([t,e=""])=>{const r=T([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},E=([t,e=""])=>{const r=T([t]);return e?t=>r(t)&&t.endsWith(e):r},O=([t,e=""])=>{const r=x([t]);return e?t=>r(t)&&t.endsWith(e):r},x=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},T=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},k="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",P={sep:"\\"},A={sep:"/"};t.sep="win32"===k?P.sep:A.sep,t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR;t.filter=(e,r={})=>n=>(0,t.minimatch)(n,e,r),t.minimatch.filter=t.filter;const M=(t,e={})=>Object.assign({},t,e);t.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return t.minimatch;const r=t.minimatch;return Object.assign((t,n,i={})=>r(t,n,M(e,i)),{Minimatch:class extends r.Minimatch{constructor(t,r={}){super(t,M(e,r))}static defaults(t){return r.defaults(M(e,t)).Minimatch}},AST:class extends r.AST{constructor(t,r,n={}){super(t,r,M(e,n))}static fromGlob(t,n={}){return r.AST.fromGlob(t,M(e,n))}},unescape:(t,n={})=>r.unescape(t,M(e,n)),escape:(t,n={})=>r.escape(t,M(e,n)),filter:(t,n={})=>r.filter(t,M(e,n)),defaults:t=>r.defaults(M(e,t)),makeRe:(t,n={})=>r.makeRe(t,M(e,n)),braceExpand:(t,n={})=>r.braceExpand(t,M(e,n)),match:(t,n,i={})=>r.match(t,n,M(e,i)),sep:r.sep,GLOBSTAR:t.GLOBSTAR})},t.minimatch.defaults=t.defaults;t.braceExpand=(t,e={})=>((0,n.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,r.default)(t)),t.minimatch.braceExpand=t.braceExpand;t.makeRe=(t,e={})=>new L(t,e).makeRe(),t.minimatch.makeRe=t.makeRe;t.match=(t,e,r={})=>{const n=new L(e,r);return t=t.filter(t=>n.match(t)),n.options.nonull&&!t.length&&t.push(e),t},t.minimatch.match=t.match;const j=/[?*]|[+@!]\(.*?\)|\[|\]/;class L{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,n.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||k,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map(t=>this.slashSplit(t));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let n=this.globParts.map((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&j.test(t[2])||j.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map(t=>this.parse(t))];if(r)return[t[0],...t.slice(1).map(t=>this.parse(t))]}return t.map(t=>this.parse(t))});if(this.debug(this.pattern,n),this.set=n.filter(t=>-1===t.indexOf(!1)),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t})}levelOneOptimize(t){return t.map(t=>0===(t=t.reduce((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)},[])).length?[""]:t)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const n=t[r];1===r&&""===n&&""===t[0]||("."!==n&&""!==n||(e=!0,t.splice(r,1),r--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const n=t[r-1];n&&"."!==n&&".."!==n&&"**"!==n&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let n=-1;for(;-1!==(n=r.indexOf("**",n+1));){let i=n;for(;"**"===r[i+1];)i++;i>n&&r.splice(n+1,i-n);let s=r[n+1];const o=r[n+2],a=r[n+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(n,1);const l=r.slice(0);l[n]="**",t.push(l),n--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const n=r[t];1===t&&""===n&&""===r[0]||("."!==n&&""!==n||(e=!0,r.splice(t,1),t--))}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let i=0;for(;-1!==(i=r.indexOf("..",i+1));){const t=r[i-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===i&&"**"===r[i+1]?["."]:[];r.splice(i-1,2,...t),0===r.length&&r.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const n=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);if(n){t[e]=[],t[r]=n;break}}return t.filter(t=>t.length)}partsMatch(t,e,r=!1){let n=0,i=0,s=[],o="";for(;n<t.length&&i<e.length;)if(t[n]===e[i])s.push("b"===o?e[i]:t[n]),n++,i++;else if(r&&"**"===t[n]&&e[i]===t[n+1])s.push(t[n]),n++;else if(r&&"**"===e[i]&&t[n]===e[i+1])s.push(e[i]),i++;else if("*"!==t[n]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i]){if("*"!==e[i]||!t[n]||!this.options.dot&&t[n].startsWith(".")||"**"===t[n])return!1;if("a"===o)return!1;o="b",s.push(e[i]),n++,i++}else{if("b"===o)return!1;o="a",s.push(t[n]),n++,i++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(e,r,n=!1){const i=this.options;if(this.isWindows){const t="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),n=!t&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof r[0]&&/^[a-z]:$/i.test(r[0]),s=n?3:t?0:void 0,o=!i&&""===r[0]&&""===r[1]&&"?"===r[2]&&"string"==typeof r[3]&&/^[a-z]:$/i.test(r[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[t,n]=[e[s],r[o]];t.toLowerCase()===n.toLowerCase()&&(r[o]=t,o>s?r=r.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,u=r.length;o<l&&a<u;o++,a++){this.debug("matchOne loop");var c=r[a],h=e[o];if(this.debug(r,c,h),!1===c)return!1;if(c===t.GLOBSTAR){this.debug("GLOBSTAR",[r,c,h]);var f=o,d=a+1;if(d===u){for(this.debug("** at the end");o<l;o++)if("."===e[o]||".."===e[o]||!i.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<l;){var p=e[f];if(this.debug("\nglobstar while",e,f,r,d,p),this.matchOne(e.slice(f),r.slice(d),n))return this.debug("globstar found match!",f,l,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,f,r,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,r,d),f!==l))}let s;if("string"==typeof c?(s=h===c,this.debug("string match",c,h,s)):(s=c.test(h),this.debug("pattern match",c,h,s)),!s)return!1}if(o===l&&a===u)return!0;if(o===l)return n;if(a===u)return o===l-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,n.assertValidPattern)(e);const r=this.options;if("**"===e)return t.GLOBSTAR;if(""===e)return"";let s,o=null;(s=e.match(m))?o=r.dot?g:v:(s=e.match(a))?o=(r.nocase?r.dot?h:c:r.dot?u:l)(s[1]):(s=e.match(w))?o=(r.nocase?r.dot?S:_:r.dot?E:O)(s):(s=e.match(f))?o=r.dot?p:d:(s=e.match(b))&&(o=y);const x=i.AST.fromGlob(e,this.options).toMMPattern();return o&&"object"==typeof x&&Reflect.defineProperty(x,"test",{value:o}),x}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const r=this.options,n=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(r.nocase?["i"]:[]);let s=e.map(e=>{const r=e.map(e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))i.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===t.GLOBSTAR?t.GLOBSTAR:e._src});return r.forEach((e,i)=>{const s=r[i+1],o=r[i-1];e===t.GLOBSTAR&&o!==t.GLOBSTAR&&(void 0===o?void 0!==s&&s!==t.GLOBSTAR?r[i+1]="(?:\\/|"+n+"\\/)?"+s:r[i]=n:void 0===s?r[i-1]=o+"(?:\\/|"+n+")?":s!==t.GLOBSTAR&&(r[i-1]=o+"(?:\\/|\\/"+n+"\\/)"+s,r[i+1]=t.GLOBSTAR))}),r.filter(e=>e!==t.GLOBSTAR).join("/")}).join("|");const[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const n=this.slashSplit(t);this.debug(this.pattern,"split",n);const i=this.set;this.debug(this.pattern,"set",i);let s=n[n.length-1];if(!s)for(let t=n.length-2;!s&&t>=0;t--)s=n[t];for(let t=0;t<i.length;t++){const o=i[t];let a=n;r.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=L;var R=SA;Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return R.AST}});var C=zA;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return C.escape}});var I=kA;Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return I.unescape}}),t.minimatch.AST=i.AST,t.minimatch.Minimatch=L,t.minimatch.escape=s.escape,t.minimatch.unescape=o.unescape}(wA);var WA={},UA={},$A={};Object.defineProperty($A,"__esModule",{value:!0}),$A.LRUCache=void 0;const GA="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,HA=new Set,qA="object"==typeof process&&process?process:{},VA=(t,e,r,n)=>{"function"==typeof qA.emitWarning?qA.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let YA=globalThis.AbortController,ZA=globalThis.AbortSignal;if(void 0===YA){ZA=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},YA=class{constructor(){e()}signal=new ZA;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==qA.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,VA("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const KA=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),QA=t=>KA(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?XA:null:null;let XA=class extends Array{constructor(t){super(t),this.fill(0)}},JA=class t{heap;length;static#L=!1;static create(e){const r=QA(e);if(!r)return[];t.#L=!0;const n=new t(e,r);return t.#L=!1,n}constructor(e,r){if(!t.#L)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},tM=class t{#R;#C;#I;#F;#D;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#B;#z;#W;#U;#$;#G;#H;#q;#V;#Y;#Z;#K;#Q;#X;#J;#tt;#et;static unsafeExposeInternals(t){return{starts:t.#Q,ttls:t.#X,sizes:t.#K,keyMap:t.#W,keyList:t.#U,valList:t.#$,next:t.#G,prev:t.#H,get head(){return t.#q},get tail(){return t.#V},free:t.#Y,isBackgroundFetch:e=>t.#rt(e),backgroundFetch:(e,r,n,i)=>t.#nt(e,r,n,i),moveToTail:e=>t.#it(e),indexes:e=>t.#st(e),rindexes:e=>t.#ot(e),isStale:e=>t.#at(e)}}get max(){return this.#R}get maxSize(){return this.#C}get calculatedSize(){return this.#z}get size(){return this.#B}get fetchMethod(){return this.#D}get memoMethod(){return this.#N}get dispose(){return this.#I}get disposeAfter(){return this.#F}constructor(e){const{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:u,disposeAfter:c,noDisposeOnSet:h,noUpdateTTL:f,maxSize:d=0,maxEntrySize:p=0,sizeCalculation:b,fetchMethod:y,memoMethod:m,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:g,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:_,ignoreFetchAbort:S}=e;if(0!==r&&!KA(r))throw new TypeError("max option must be a nonnegative integer");const E=r?QA(r):Array;if(!E)throw new Error("invalid max value: "+r);if(this.#R=r,this.#C=d,this.maxEntrySize=p||this.#C,this.sizeCalculation=b,this.sizeCalculation){if(!this.#C&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==m&&"function"!=typeof m)throw new TypeError("memoMethod must be a function if defined");if(this.#N=m,void 0!==y&&"function"!=typeof y)throw new TypeError("fetchMethod must be a function if specified");if(this.#D=y,this.#tt=!!y,this.#W=new Map,this.#U=new Array(r).fill(void 0),this.#$=new Array(r).fill(void 0),this.#G=new E(r),this.#H=new E(r),this.#q=0,this.#V=0,this.#Y=JA.create(r),this.#B=0,this.#z=0,"function"==typeof u&&(this.#I=u),"function"==typeof c?(this.#F=c,this.#Z=[]):(this.#F=void 0,this.#Z=void 0),this.#J=!!this.#I,this.#et=!!this.#F,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!S,0!==this.maxEntrySize){if(0!==this.#C&&!KA(this.#C))throw new TypeError("maxSize must be a positive integer if specified");if(!KA(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#lt()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!g,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=KA(i)||0===i?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!KA(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#ut()}if(0===this.#R&&0===this.ttl&&0===this.#C)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#R&&!this.#C){const e="LRU_CACHE_UNBOUNDED";if((t=>!HA.has(t))(e)){HA.add(e);VA("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,t)}}}getRemainingTTL(t){return this.#W.has(t)?1/0:0}#ut(){const t=new XA(this.#R),e=new XA(this.#R);this.#X=t,this.#Q=e,this.#ct=(r,n,i=GA.now())=>{if(e[r]=0!==n?i:0,t[r]=n,0!==n&&this.ttlAutopurge){const t=setTimeout(()=>{this.#at(r)&&this.#ht(this.#U[r],"expire")},n+1);t.unref&&t.unref()}},this.#ft=r=>{e[r]=0!==t[r]?GA.now():0},this.#dt=(i,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;i.ttl=o,i.start=a,i.now=r||n();const l=i.now-a;i.remainingTTL=o-l}};let r=0;const n=()=>{const t=GA.now();if(this.ttlResolution>0){r=t;const e=setTimeout(()=>r=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=i=>{const s=this.#W.get(i);if(void 0===s)return 0;const o=t[s],a=e[s];if(!o||!a)return 1/0;return o-((r||n())-a)},this.#at=i=>{const s=e[i],o=t[i];return!!o&&!!s&&(r||n())-s>o}}#ft=()=>{};#dt=()=>{};#ct=()=>{};#at=()=>!1;#lt(){const t=new XA(this.#R);this.#z=0,this.#K=t,this.#pt=e=>{this.#z-=t[e],t[e]=0},this.#bt=(t,e,r,n)=>{if(this.#rt(e))return 0;if(!KA(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(e,t),!KA(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#yt=(e,r,n)=>{if(t[e]=r,this.#C){const r=this.#C-t[e];for(;this.#z>r;)this.#mt(!0)}this.#z+=t[e],n&&(n.entrySize=r,n.totalCalculatedSize=this.#z)}}#pt=t=>{};#yt=(t,e,r)=>{};#bt=(t,e,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#st({allowStale:t=this.allowStale}={}){if(this.#B)for(let e=this.#V;this.#vt(e)&&(!t&&this.#at(e)||(yield e),e!==this.#q);)e=this.#H[e]}*#ot({allowStale:t=this.allowStale}={}){if(this.#B)for(let e=this.#q;this.#vt(e)&&(!t&&this.#at(e)||(yield e),e!==this.#V);)e=this.#G[e]}#vt(t){return void 0!==t&&this.#W.get(this.#U[t])===t}*entries(){for(const t of this.#st())void 0===this.#$[t]||void 0===this.#U[t]||this.#rt(this.#$[t])||(yield[this.#U[t],this.#$[t]])}*rentries(){for(const t of this.#ot())void 0===this.#$[t]||void 0===this.#U[t]||this.#rt(this.#$[t])||(yield[this.#U[t],this.#$[t]])}*keys(){for(const t of this.#st()){const e=this.#U[t];void 0===e||this.#rt(this.#$[t])||(yield e)}}*rkeys(){for(const t of this.#ot()){const e=this.#U[t];void 0===e||this.#rt(this.#$[t])||(yield e)}}*values(){for(const t of this.#st()){void 0===this.#$[t]||this.#rt(this.#$[t])||(yield this.#$[t])}}*rvalues(){for(const t of this.#ot()){void 0===this.#$[t]||this.#rt(this.#$[t])||(yield this.#$[t])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const r of this.#st()){const n=this.#$[r],i=this.#rt(n)?n.__staleWhileFetching:n;if(void 0!==i&&t(i,this.#U[r],this))return this.get(this.#U[r],e)}}forEach(t,e=this){for(const r of this.#st()){const n=this.#$[r],i=this.#rt(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#U[r],this)}}rforEach(t,e=this){for(const r of this.#ot()){const n=this.#$[r],i=this.#rt(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#U[r],this)}}purgeStale(){let t=!1;for(const e of this.#ot({allowStale:!0}))this.#at(e)&&(this.#ht(this.#U[e],"expire"),t=!0);return t}info(t){const e=this.#W.get(t);if(void 0===e)return;const r=this.#$[e],n=this.#rt(r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(this.#X&&this.#Q){const t=this.#X[e],r=this.#Q[e];if(t&&r){const e=t-(GA.now()-r);i.ttl=e,i.start=Date.now()}}return this.#K&&(i.size=this.#K[e]),i}dump(){const t=[];for(const e of this.#st({allowStale:!0})){const r=this.#U[e],n=this.#$[e],i=this.#rt(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const s={value:i};if(this.#X&&this.#Q){s.ttl=this.#X[e];const t=GA.now()-this.#Q[e];s.start=Math.floor(Date.now()-t)}this.#K&&(s.size=this.#K[e]),t.unshift([r,s])}return t}load(t){this.clear();for(const[e,r]of t){if(r.start){const t=Date.now()-r.start;r.start=GA.now()-t}this.set(e,r.value,r)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const u=this.#bt(t,e,r.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#ht(t,"set"),this;let c=0===this.#B?void 0:this.#W.get(t);if(void 0===c)c=0===this.#B?this.#V:0!==this.#Y.length?this.#Y.pop():this.#B===this.#R?this.#mt(!1):this.#B,this.#U[c]=t,this.#$[c]=e,this.#W.set(t,c),this.#G[this.#V]=c,this.#H[c]=this.#V,this.#V=c,this.#B++,this.#yt(c,u,a),a&&(a.set="add"),l=!1;else{this.#it(c);const r=this.#$[c];if(e!==r){if(this.#tt&&this.#rt(r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||s||(this.#J&&this.#I?.(e,t,"set"),this.#et&&this.#Z?.push([e,t,"set"]))}else s||(this.#J&&this.#I?.(r,t,"set"),this.#et&&this.#Z?.push([r,t,"set"]));if(this.#pt(c),this.#yt(c,u,a),this.#$[c]=e,a){a.set="replace";const t=r&&this.#rt(r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===n||this.#X||this.#ut(),this.#X&&(l||this.#ct(c,n,i),a&&this.#dt(a,c)),!s&&this.#et&&this.#Z){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}return this}pop(){try{for(;this.#B;){const t=this.#$[this.#q];if(this.#mt(!0),this.#rt(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#et&&this.#Z){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}}}#mt(t){const e=this.#q,r=this.#U[e],n=this.#$[e];return this.#tt&&this.#rt(n)?n.__abortController.abort(new Error("evicted")):(this.#J||this.#et)&&(this.#J&&this.#I?.(n,r,"evict"),this.#et&&this.#Z?.push([n,r,"evict"])),this.#pt(e),t&&(this.#U[e]=void 0,this.#$[e]=void 0,this.#Y.push(e)),1===this.#B?(this.#q=this.#V=0,this.#Y.length=0):this.#q=this.#G[e],this.#W.delete(r),this.#B--,e}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=e,i=this.#W.get(t);if(void 0!==i){const t=this.#$[i];if(this.#rt(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#at(i))return r&&this.#ft(i),n&&(n.has="hit",this.#dt(n,i)),!0;n&&(n.has="stale",this.#dt(n,i))}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,n=this.#W.get(t);if(void 0===n||!r&&this.#at(n))return;const i=this.#$[n];return this.#rt(i)?i.__staleWhileFetching:i}#nt(t,e,r,n){const i=void 0===e?void 0:this.#$[e];if(this.#rt(i))return i;const s=new YA,{signal:o}=r;o?.addEventListener("abort",()=>s.abort(o.reason),{signal:s.signal});const a={signal:s.signal,options:r,context:n},l=(n,i=!1)=>{const{aborted:o}=s.signal,l=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,l&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!l&&!i)return u(s.signal.reason);const h=c;return this.#$[e]===c&&(void 0===n?h.__staleWhileFetching?this.#$[e]=h.__staleWhileFetching:this.#ht(t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,n,a.options))),n},u=n=>{const{aborted:i}=s.signal,o=i&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,u=c;if(this.#$[e]===c){!l||void 0===u.__staleWhileFetching?this.#ht(t,"fetch"):o||(this.#$[e]=u.__staleWhileFetching)}if(a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw n};r.status&&(r.status.fetchDispatched=!0);const c=new Promise((e,n)=>{const o=this.#D?.(t,i,a);o&&o instanceof Promise&&o.then(t=>e(void 0===t?void 0:t),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))})}).then(l,t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),u(t))),h=Object.assign(c,{__abortController:s,__staleWhileFetching:i,__returned:void 0});return void 0===e?(this.set(t,h,{...a.options,status:void 0}),e=this.#W.get(t)):this.#$[e]=h,h}#rt(t){if(!this.#tt)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof YA}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:p,forceRefresh:b=!1,status:y,signal:m}=e;if(!this.#tt)return y&&(y.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});const v={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:f,status:y,signal:m};let g=this.#W.get(t);if(void 0===g){y&&(y.fetch="miss");const e=this.#nt(t,g,v,p);return e.__returned=e}{const e=this.#$[g];if(this.#rt(e)){const t=r&&void 0!==e.__staleWhileFetching;return y&&(y.fetch="inflight",t&&(y.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const i=this.#at(g);if(!b&&!i)return y&&(y.fetch="hit"),this.#it(g),n&&this.#ft(g),y&&this.#dt(y,g),e;const s=this.#nt(t,g,v,p),o=void 0!==s.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",o&&i&&(y.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const r=await this.fetch(t,e);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(t,e={}){const r=this.#N;if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:i,...s}=e,o=this.get(t,s);if(!i&&void 0!==o)return o;const a=r(t,o,{options:s,context:n});return this.set(t,a,s),a}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:s}=e,o=this.#W.get(t);if(void 0!==o){const e=this.#$[o],a=this.#rt(e);return s&&this.#dt(s,o),this.#at(o)?(s&&(s.get="stale"),a?(s&&r&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),r?e.__staleWhileFetching:void 0):(i||this.#ht(t,"expire"),s&&r&&(s.returnedStale=!0),r?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(this.#it(o),n&&this.#ft(o),e))}s&&(s.get="miss")}#gt(t,e){this.#H[e]=t,this.#G[t]=e}#it(t){t!==this.#V&&(t===this.#q?this.#q=this.#G[t]:this.#gt(this.#H[t],this.#G[t]),this.#gt(this.#V,t),this.#V=t)}delete(t){return this.#ht(t,"delete")}#ht(t,e){let r=!1;if(0!==this.#B){const n=this.#W.get(t);if(void 0!==n)if(r=!0,1===this.#B)this.#wt(e);else{this.#pt(n);const r=this.#$[n];if(this.#rt(r)?r.__abortController.abort(new Error("deleted")):(this.#J||this.#et)&&(this.#J&&this.#I?.(r,t,e),this.#et&&this.#Z?.push([r,t,e])),this.#W.delete(t),this.#U[n]=void 0,this.#$[n]=void 0,n===this.#V)this.#V=this.#H[n];else if(n===this.#q)this.#q=this.#G[n];else{const t=this.#H[n];this.#G[t]=this.#G[n];const e=this.#G[n];this.#H[e]=this.#H[n]}this.#B--,this.#Y.push(n)}}if(this.#et&&this.#Z?.length){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}return r}clear(){return this.#wt("delete")}#wt(t){for(const e of this.#ot({allowStale:!0})){const r=this.#$[e];if(this.#rt(r))r.__abortController.abort(new Error("deleted"));else{const n=this.#U[e];this.#J&&this.#I?.(r,n,t),this.#et&&this.#Z?.push([r,n,t])}}if(this.#W.clear(),this.#$.fill(void 0),this.#U.fill(void 0),this.#X&&this.#Q&&(this.#X.fill(0),this.#Q.fill(0)),this.#K&&this.#K.fill(0),this.#q=0,this.#V=0,this.#Y.length=0,this.#z=0,this.#B=0,this.#et&&this.#Z){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}}};$A.LRUCache=tM;var eM={};!function(t){var e=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Minipass=t.isWritable=t.isReadable=t.isStream=void 0;const r="object"==typeof process&&process?process:{stdout:null,stderr:null},n=l,i=e(s),o=m;t.isStream=e=>!!e&&"object"==typeof e&&(e instanceof G||e instanceof i.default||(0,t.isReadable)(e)||(0,t.isWritable)(e));t.isReadable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==i.default.Writable.prototype.pipe;t.isWritable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const a=Symbol("EOF"),u=Symbol("maybeEmitEnd"),c=Symbol("emittedEnd"),h=Symbol("emittingEnd"),f=Symbol("emittedError"),d=Symbol("closed"),p=Symbol("read"),b=Symbol("flush"),y=Symbol("flushChunk"),v=Symbol("encoding"),g=Symbol("decoder"),w=Symbol("flowing"),_=Symbol("paused"),S=Symbol("resume"),E=Symbol("buffer"),O=Symbol("pipes"),x=Symbol("bufferLength"),T=Symbol("bufferPush"),k=Symbol("bufferShift"),P=Symbol("objectMode"),A=Symbol("destroyed"),M=Symbol("error"),j=Symbol("emitData"),L=Symbol("emitEnd"),R=Symbol("emitEnd2"),C=Symbol("async"),I=Symbol("abort"),F=Symbol("aborted"),D=Symbol("signal"),N=Symbol("dataListeners"),B=Symbol("discarded"),z=t=>Promise.resolve().then(t),W=t=>t();class U{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[S](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $ extends U{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class G extends n.EventEmitter{[w]=!1;[_]=!1;[O]=[];[E]=[];[P];[v];[C];[g];[a]=!1;[c]=!1;[h]=!1;[d]=!1;[f]=null;[x]=0;[A]=!1;[D];[F]=!1;[N]=0;[B]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");e.objectMode?(this[P]=!0,this[v]=null):(t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding)(e)?(this[v]=e.encoding,this[P]=!1):(this[P]=!1,this[v]=null),this[C]=!!e.async,this[g]=this[v]?new o.StringDecoder(this[v]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[E]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[O]});const{signal:r}=e;r&&(this[D]=r,r.aborted?this[I]():r.addEventListener("abort",()=>this[I]()))}get bufferLength(){return this[x]}get encoding(){return this[v]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[P]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[C]}set async(t){this[C]=this[C]||!!t}[I](){this[F]=!0,this.emit("abort",this[D]?.reason),this.destroy(this[D]?.reason)}get aborted(){return this[F]}set aborted(t){}write(t,e,r){if(this[F])return!1;if(this[a])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const n=this[C]?z:W;if(!this[P]&&!Buffer.isBuffer(t))if(i=t,!Buffer.isBuffer(i)&&ArrayBuffer.isView(i))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var i;return this[P]?(this[w]&&0!==this[x]&&this[b](!0),this[w]?this.emit("data",t):this[T](t),0!==this[x]&&this.emit("readable"),r&&n(r),this[w]):t.length?("string"!=typeof t||e===this[v]&&!this[g]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[v]&&(t=this[g].write(t)),this[w]&&0!==this[x]&&this[b](!0),this[w]?this.emit("data",t):this[T](t),0!==this[x]&&this.emit("readable"),r&&n(r),this[w]):(0!==this[x]&&this.emit("readable"),r&&n(r),this[w])}read(t){if(this[A])return null;if(this[B]=!1,0===this[x]||0===t||t&&t>this[x])return this[u](),null;this[P]&&(t=null),this[E].length>1&&!this[P]&&(this[E]=[this[v]?this[E].join(""):Buffer.concat(this[E],this[x])]);const e=this[p](t||null,this[E][0]);return this[u](),e}[p](t,e){if(this[P])this[k]();else{const r=e;t===r.length||null===t?this[k]():"string"==typeof r?(this[E][0]=r.slice(t),e=r.slice(0,t),this[x]-=t):(this[E][0]=r.subarray(t),e=r.subarray(0,t),this[x]-=t)}return this.emit("data",e),this[E].length||this[a]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[a]=!0,this.writable=!1,!this[w]&&this[_]||this[u](),this}[S](){this[A]||(this[N]||this[O].length||(this[B]=!0),this[_]=!1,this[w]=!0,this.emit("resume"),this[E].length?this[b]():this[a]?this[u]():this.emit("drain"))}resume(){return this[S]()}pause(){this[w]=!1,this[_]=!0,this[B]=!1}get destroyed(){return this[A]}get flowing(){return this[w]}get paused(){return this[_]}[T](t){this[P]?this[x]+=1:this[x]+=t.length,this[E].push(t)}[k](){return this[P]?this[x]-=1:this[x]-=this[E][0].length,this[E].shift()}[b](t=!1){do{}while(this[y](this[k]())&&this[E].length);t||this[E].length||this[a]||this.emit("drain")}[y](t){return this.emit("data",t),this[w]}pipe(t,e){if(this[A])return t;this[B]=!1;const n=this[c];return e=e||{},t===r.stdout||t===r.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,n?e.end&&t.end():(this[O].push(e.proxyErrors?new $(this,t,e):new U(this,t,e)),this[C]?z(()=>this[S]()):this[S]()),t}unpipe(t){const e=this[O].find(e=>e.dest===t);e&&(1===this[O].length?(this[w]&&0===this[N]&&(this[w]=!1),this[O]=[]):this[O].splice(this[O].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[B]=!1,this[N]++,this[O].length||this[w]||this[S]();else if("readable"===t&&0!==this[x])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[c])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[f]){const t=e;this[C]?z(()=>t.call(this,this[f])):t.call(this,this[f])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[N]=this.listeners("data").length,0!==this[N]||this[B]||this[O].length||(this[w]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[N]=0,this[B]||this[O].length||(this[w]=!1)),e}get emittedEnd(){return this[c]}[u](){this[h]||this[c]||this[A]||0!==this[E].length||!this[a]||(this[h]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[h]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==A&&this[A])return!1;if("data"===t)return!(!this[P]&&!r)&&(this[C]?(z(()=>this[j](r)),!0):this[j](r));if("end"===t)return this[L]();if("close"===t){if(this[d]=!0,!this[c]&&!this[A])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[f]=r,super.emit(M,r);const t=!(this[D]&&!this.listeners("error").length)&&super.emit("error",r);return this[u](),t}if("resume"===t){const t=super.emit("resume");return this[u](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const n=super.emit(t,...e);return this[u](),n}[j](t){for(const e of this[O])!1===e.dest.write(t)&&this.pause();const e=!this[B]&&super.emit("data",t);return this[u](),e}[L](){return!this[c]&&(this[c]=!0,this.readable=!1,this[C]?(z(()=>this[R]()),!0):this[R]())}[R](){if(this[g]){const t=this[g].end();if(t){for(const e of this[O])e.dest.write(t);this[B]||super.emit("data",t)}}for(const t of this[O])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[P]||(t.dataLength=0);const e=this.promise();return this.on("data",e=>{t.push(e),this[P]||(t.dataLength+=e.length)}),await e,t}async concat(){if(this[P])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[v]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(A,()=>e(new Error("stream destroyed"))),this.on("error",t=>e(t)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[B]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[a])return e();let n,i;const s=t=>{this.off("data",o),this.off("end",l),this.off(A,u),e(),i(t)},o=t=>{this.off("error",s),this.off("end",l),this.off(A,u),this.pause(),n({value:t,done:!!this[a]})},l=()=>{this.off("error",s),this.off("data",o),this.off(A,u),e(),n({done:!0,value:void 0})},u=()=>s(new Error("stream destroyed"));return new Promise((t,e)=>{i=e,n=t,this.once(A,u),this.once("error",s),this.once("end",l),this.once("data",o)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[B]=!1;let t=!1;const e=()=>(this.pause(),this.off(M,e),this.off(A,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(M,e),this.once(A,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[A])return t?this.emit("error",t):this.emit(A),this;this[A]=!0,this[B]=!0,this[E].length=0,this[x]=0;return"function"!=typeof this.close||this[d]||this.close(),t?this.emit("error",t):this.emit(A),this}static get isStream(){return t.isStream}}t.Minipass=G}(eM);var rM=X&&X.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),nM=X&&X.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iM=X&&X.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&rM(e,t,r);return nM(e,t),e};Object.defineProperty(UA,"__esModule",{value:!0}),UA.PathScurry=UA.Path=UA.PathScurryDarwin=UA.PathScurryPosix=UA.PathScurryWin32=UA.PathScurryBase=UA.PathPosix=UA.PathWin32=UA.PathBase=UA.ChildrenCache=UA.ResolveCache=void 0;const sM=$A,oM=o,aM=b,lM=n,uM=iM(a),cM=lM.realpathSync.native,hM=y,fM=eM,dM={lstatSync:lM.lstatSync,readdir:lM.readdir,readdirSync:lM.readdirSync,readlinkSync:lM.readlinkSync,realpathSync:cM,promises:{lstat:hM.lstat,readdir:hM.readdir,readlink:hM.readlink,realpath:hM.realpath}},pM=t=>t&&t!==dM&&t!==uM?{...dM,...t,promises:{...dM.promises,...t.promises||{}}}:dM,bM=/^\\\\\?\\([a-z]:)\\?$/i,yM=/[\\\/]/,mM=10,vM=15,gM=-16,wM=128,_M=256,SM=512,EM=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?mM:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,OM=new Map,xM=t=>{const e=OM.get(t);if(e)return e;const r=t.normalize("NFKD");return OM.set(t,r),r},TM=new Map,kM=t=>{const e=TM.get(t);if(e)return e;const r=xM(t.toLowerCase());return TM.set(t,r),r};let PM=class extends sM.LRUCache{constructor(){super({max:256})}};UA.ResolveCache=PM;let AM=class extends sM.LRUCache{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}};UA.ChildrenCache=AM;const MM=Symbol("PathScurry setAsCwd");let jM=class{name;root;roots;parent;nocase;isCWD=!1;#o;#_t;get dev(){return this.#_t}#St;get mode(){return this.#St}#Et;get nlink(){return this.#Et}#Ot;get uid(){return this.#Ot}#xt;get gid(){return this.#xt}#Tt;get rdev(){return this.#Tt}#kt;get blksize(){return this.#kt}#Pt;get ino(){return this.#Pt}#B;get size(){return this.#B}#At;get blocks(){return this.#At}#Mt;get atimeMs(){return this.#Mt}#jt;get mtimeMs(){return this.#jt}#Lt;get ctimeMs(){return this.#Lt}#Rt;get birthtimeMs(){return this.#Rt}#Ct;get atime(){return this.#Ct}#It;get mtime(){return this.#It}#Ft;get ctime(){return this.#Ft}#Dt;get birthtime(){return this.#Dt}#Nt;#Bt;#zt;#Wt;#Ut;#$t;#Gt;#Ht;#qt;#Vt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,r,n,i,s,o){this.name=t,this.#Nt=i?kM(t):xM(t),this.#Gt=1023&e,this.nocase=i,this.roots=n,this.root=r||this,this.#Ht=s,this.#zt=o.fullpath,this.#Ut=o.relative,this.#$t=o.relativePosix,this.parent=o.parent,this.parent?this.#o=this.parent.#o:this.#o=pM(o.fs)}depth(){return void 0!==this.#Bt?this.#Bt:this.parent?this.#Bt=this.parent.depth()+1:this.#Bt=0}childrenCache(){return this.#Ht}resolve(t){if(!t)return this;const e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#Yt(r):this.#Yt(r)}#Yt(t){let e=this;for(const r of t)e=e.child(r);return e}children(){const t=this.#Ht.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#Ht.set(this,e),this.#Gt&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),n=this.nocase?kM(t):xM(t);for(const t of r)if(t.#Nt===n)return t;const i=this.parent?this.sep:"",s=this.#zt?this.#zt+i+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:s});return this.canReaddir()||(o.#Gt|=wM),r.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Ut)return this.#Ut;const t=this.name,e=this.parent;if(!e)return this.#Ut=this.name;const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#$t)return this.#$t;const t=this.name,e=this.parent;if(!e)return this.#$t=this.fullpathPosix();const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#zt)return this.#zt;const t=this.name,e=this.parent;if(!e)return this.#zt=this.name;const r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#zt=r}fullpathPosix(){if(void 0!==this.#Wt)return this.#Wt;if("/"===this.sep)return this.#Wt=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#Wt=`//?/${t}`:this.#Wt=t}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return this.#Wt=r}isUnknown(){return 0===(this.#Gt&vM)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8===(this.#Gt&vM)}isDirectory(){return 4===(this.#Gt&vM)}isCharacterDevice(){return 2===(this.#Gt&vM)}isBlockDevice(){return 6===(this.#Gt&vM)}isFIFO(){return 1===(this.#Gt&vM)}isSocket(){return 12===(this.#Gt&vM)}isSymbolicLink(){return(this.#Gt&mM)===mM}lstatCached(){return 32&this.#Gt?this:void 0}readlinkCached(){return this.#qt}realpathCached(){return this.#Vt}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#qt)return!0;if(!this.parent)return!1;const t=this.#Gt&vM;return!(0!==t&&t!==mM||this.#Gt&_M||this.#Gt&wM)}calledReaddir(){return!!(16&this.#Gt)}isENOENT(){return!!(this.#Gt&wM)}isNamed(t){return this.nocase?this.#Nt===kM(t):this.#Nt===xM(t)}async readlink(){const t=this.#qt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#o.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#qt=e}catch(t){return void this.#Zt(t.code)}}readlinkSync(){const t=this.#qt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#o.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#qt=e}catch(t){return void this.#Zt(t.code)}}#Kt(t){this.#Gt|=16;for(let e=t.provisional;e<t.length;e++){const r=t[e];r&&r.#Qt()}}#Qt(){this.#Gt&wM||(this.#Gt=(this.#Gt|wM)&gM,this.#Xt())}#Xt(){const t=this.children();t.provisional=0;for(const e of t)e.#Qt()}#Jt(){this.#Gt|=SM,this.#te()}#te(){if(64&this.#Gt)return;let t=this.#Gt;4===(t&vM)&&(t&=gM),this.#Gt=64|t,this.#Xt()}#ee(t=""){"ENOTDIR"===t||"EPERM"===t?this.#te():"ENOENT"===t?this.#Qt():this.children().provisional=0}#re(t=""){if("ENOTDIR"===t){this.parent.#te()}else"ENOENT"===t&&this.#Qt()}#Zt(t=""){let e=this.#Gt;e|=_M,"ENOENT"===t&&(e|=wM),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=gM),this.#Gt=e,"ENOTDIR"===t&&this.parent&&this.parent.#te()}#ne(t,e){return this.#ie(t,e)||this.#se(t,e)}#se(t,e){const r=EM(t),n=this.newChild(t.name,r,{parent:this}),i=n.#Gt&vM;return 4!==i&&i!==mM&&0!==i&&(n.#Gt|=64),e.unshift(n),e.provisional++,n}#ie(t,e){for(let r=e.provisional;r<e.length;r++){const n=e[r];if((this.nocase?kM(t.name):xM(t.name))===n.#Nt)return this.#oe(t,n,r,e)}}#oe(t,e,r,n){const i=e.name;return e.#Gt=e.#Gt&gM|EM(t),i!==t.name&&(e.name=t.name),r!==n.provisional&&(r===n.length-1?n.pop():n.splice(r,1),n.unshift(e)),n.provisional++,e}async lstat(){if(0===(this.#Gt&wM))try{return this.#ae(await this.#o.promises.lstat(this.fullpath())),this}catch(t){this.#re(t.code)}}lstatSync(){if(0===(this.#Gt&wM))try{return this.#ae(this.#o.lstatSync(this.fullpath())),this}catch(t){this.#re(t.code)}}#ae(t){const{atime:e,atimeMs:r,birthtime:n,birthtimeMs:i,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:u,gid:c,ino:h,mode:f,mtime:d,mtimeMs:p,nlink:b,rdev:y,size:m,uid:v}=t;this.#Ct=e,this.#Mt=r,this.#Dt=n,this.#Rt=i,this.#kt=s,this.#At=o,this.#Ft=a,this.#Lt=l,this.#_t=u,this.#xt=c,this.#Pt=h,this.#St=f,this.#It=d,this.#jt=p,this.#Et=b,this.#Tt=y,this.#B=m,this.#Ot=v;const g=EM(t);this.#Gt=this.#Gt&gM|g|32,0!==g&&4!==g&&g!==mM&&(this.#Gt|=64)}#le=[];#ue=!1;#ce(t){this.#ue=!1;const e=this.#le.slice();this.#le.length=0,e.forEach(e=>e(null,t))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask(()=>t(null,[])));const r=this.children();if(this.calledReaddir()){const n=r.slice(0,r.provisional);return void(e?t(null,n):queueMicrotask(()=>t(null,n)))}if(this.#le.push(t),this.#ue)return;this.#ue=!0;const n=this.fullpath();this.#o.readdir(n,{withFileTypes:!0},(t,e)=>{if(t)this.#ee(t.code),r.provisional=0;else{for(const t of e)this.#ne(t,r);this.#Kt(r)}this.#ce(r.slice(0,r.provisional))})}#he;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#he)await this.#he;else{let r=()=>{};this.#he=new Promise(t=>r=t);try{for(const r of await this.#o.promises.readdir(e,{withFileTypes:!0}))this.#ne(r,t);this.#Kt(t)}catch(e){this.#ee(e.code),t.provisional=0}this.#he=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of this.#o.readdirSync(e,{withFileTypes:!0}))this.#ne(r,t);this.#Kt(t)}catch(e){this.#ee(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#Gt)return!1;const t=vM&this.#Gt;return 0===t||4===t||t===mM}shouldWalk(t,e){return!(4&~this.#Gt)&&!(704&this.#Gt)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#Vt)return this.#Vt;if(!(896&this.#Gt))try{const t=await this.#o.promises.realpath(this.fullpath());return this.#Vt=this.resolve(t)}catch(t){this.#Jt()}}realpathSync(){if(this.#Vt)return this.#Vt;if(!(896&this.#Gt))try{const t=this.#o.realpathSync(this.fullpath());return this.#Vt=this.resolve(t)}catch(t){this.#Jt()}}[MM](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let r=[],n=this;for(;n&&n.parent;)e.add(n),n.#Ut=r.join(this.sep),n.#$t=r.join("/"),n=n.parent,r.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#Ut=void 0,n.#$t=void 0,n=n.parent}};UA.PathBase=jM;let LM=class t extends jM{sep="\\";splitSep=yM;constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}newChild(e,r=0,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(t){return oM.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(bM,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new IM(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(bM,"$1\\"))===e}};UA.PathWin32=LM;let RM=class t extends jM{splitSep="/";sep="/";constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(e,r=0,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};UA.PathPosix=RM;let CM=class{root;rootPath;roots;cwd;#fe;#de;#Ht;nocase;#o;constructor(t=process.cwd(),e,r,{nocase:n,childrenCacheSize:i=16384,fs:s=dM}={}){this.#o=pM(s),(t instanceof URL||t.startsWith("file://"))&&(t=(0,aM.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#fe=new PM,this.#de=new PM,this.#Ht=new AM(i);const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===n)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#o),this.roots[this.rootPath]=this.root;let l=this.root,u=a.length-1;const c=e.sep;let h=this.rootPath,f=!1;for(const t of a){const e=u--;l=l.child(t,{relative:new Array(e).fill("..").join(c),relativePosix:new Array(e).fill("..").join("/"),fullpath:h+=(f?"":c)+t}),f=!0}this.cwd=l}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#Ht}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#fe.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpath();return this.#fe.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#de.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpathPosix();return this.#de.set(e,n),n}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map(t=>t.name)}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map(t=>t.name):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB((t,u)=>{if(t)return e(t);let c=u.length;if(!c)return e();const h=()=>{0===--c&&e()};for(const t of u)i&&!i(t)||o.push(r?t:t.fullpath()),n&&t.isSymbolicLink()?t.realpath().then(t=>t?.isUnknown()?t.lstat():t).then(t=>t?.shouldWalk(a,s)?l(t,h):h()):t.shouldWalk(a,s)?l(t,h):h()},!0)},u=t;return new Promise((t,e)=>{l(u,r=>{if(r)return e(r);t(o)})})}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){i&&!i(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e;i&&!i(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){i&&!i(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new fM.Minipass({objectMode:!0});i&&!i(t)||o.write(r?t:t.fullpath());const a=new Set,l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const h=(e,d,p=!1)=>{if(e)return o.emit("error",e);if(n&&!p){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then(t=>t?.isUnknown()?t.lstat():t));if(t.length)return void Promise.all(t).then(()=>h(null,d,!0))}for(const e of d)!e||i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",c):f||c()};let f=!0;e.readdirCB(h,!0),f=!1}};return c(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof jM||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new fM.Minipass({objectMode:!0}),a=new Set;i&&!i(t)||o.write(r?t:t.fullpath());const l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const c=e.readdirSync();for(const e of c)i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of c){let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",c)};return c(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[MM](e)}};UA.PathScurryBase=CM;let IM=class extends CM{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,oM.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return oM.win32.parse(t).root.toUpperCase()}newRoot(t){return new LM(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}};UA.PathScurryWin32=IM;let FM=class extends CM{sep="/";constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,oM.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new RM(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}};UA.PathScurryPosix=FM;let DM=class extends FM{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}};UA.PathScurryDarwin=DM,UA.Path="win32"===process.platform?LM:RM,UA.PathScurry="win32"===process.platform?IM:"darwin"===process.platform?DM:FM;var NM={};Object.defineProperty(NM,"__esModule",{value:!0}),NM.Pattern=void 0;const BM=wA;NM.Pattern=class t{#pe;#be;#ye;length;#me;#ve;#ge;#we;#_e;#Se;#Ee=!0;constructor(t,e,r,n){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#pe=t,this.#be=e,this.#ye=r,this.#me=n,0===this.#ye)if(this.isUNC()){const[t,e,r,n,...i]=this.#pe,[s,o,a,l,...u]=this.#be;""===i[0]&&(i.shift(),u.shift());const c=[t,e,r,n,""].join("/"),h=[s,o,a,l,""].join("/");this.#pe=[c,...i],this.#be=[h,...u],this.length=this.#pe.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#pe,[r,...n]=this.#be;""===e[0]&&(e.shift(),n.shift());const i=t+"/",s=r+"/";this.#pe=[i,...e],this.#be=[s,...n],this.length=this.#pe.length}}pattern(){return this.#pe[this.#ye]}isString(){return"string"==typeof this.#pe[this.#ye]}isGlobstar(){return this.#pe[this.#ye]===BM.GLOBSTAR}isRegExp(){return this.#pe[this.#ye]instanceof RegExp}globString(){return this.#ge=this.#ge||(0===this.#ye?this.isAbsolute()?this.#be[0]+this.#be.slice(1).join("/"):this.#be.join("/"):this.#be.slice(this.#ye).join("/"))}hasMore(){return this.length>this.#ye+1}rest(){return void 0!==this.#ve?this.#ve:this.hasMore()?(this.#ve=new t(this.#pe,this.#be,this.#ye+1,this.#me),this.#ve.#Se=this.#Se,this.#ve.#_e=this.#_e,this.#ve.#we=this.#we,this.#ve):this.#ve=null}isUNC(){const t=this.#pe;return void 0!==this.#_e?this.#_e:this.#_e="win32"===this.#me&&0===this.#ye&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#pe;return void 0!==this.#we?this.#we:this.#we="win32"===this.#me&&0===this.#ye&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#pe;return void 0!==this.#Se?this.#Se:this.#Se=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#pe[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#ye?t:""}checkFollowGlobstar(){return!(0===this.#ye||!this.isGlobstar()||!this.#Ee)}markFollowGlobstar(){return!(0===this.#ye||!this.isGlobstar()||!this.#Ee)&&(this.#Ee=!1,!0)}};var zM={},WM={};Object.defineProperty(WM,"__esModule",{value:!0}),WM.Ignore=void 0;const UM=wA,$M=NM,GM="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";WM.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:r,noext:n,noglobstar:i,platform:s=GM}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=s,this.mmopts={dot:!0,nobrace:e,nocase:r,noext:n,noglobstar:i,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new UM.Minimatch(t,this.mmopts);for(let t=0;t<e.set.length;t++){const r=e.set[t],n=e.globParts[t];if(!r||!n)throw new Error("invalid pattern object");for(;"."===r[0]&&"."===n[0];)r.shift(),n.shift();const i=new $M.Pattern(r,n,0,this.platform),s=new UM.Minimatch(i.globString(),this.mmopts),o="**"===n[n.length-1],a=i.isAbsolute();a?this.absolute.push(s):this.relative.push(s),o&&(a?this.absoluteChildren.push(s):this.relativeChildren.push(s))}}ignored(t){const e=t.fullpath(),r=`${e}/`,n=t.relative()||".",i=`${n}/`;for(const t of this.relative)if(t.match(n)||t.match(i))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}};var HM={};Object.defineProperty(HM,"__esModule",{value:!0}),HM.Processor=HM.SubWalks=HM.MatchRecord=HM.HasWalkedCache=void 0;const qM=wA;let VM=class t{store;constructor(t=new Map){this.store=t}copy(){return new t(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),n=this.store.get(r);n?n.add(e.globString()):this.store.set(r,new Set([e.globString()]))}};HM.HasWalkedCache=VM;let YM=class{store=new Map;add(t,e,r){const n=(e?2:0)|(r?1:0),i=this.store.get(t);this.store.set(t,void 0===i?n:n&i)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(2&e),!!(1&e)])}};HM.MatchRecord=YM;let ZM=class{store=new Map;add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find(t=>t.globString()===e.globString())||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}};HM.SubWalks=ZM;HM.Processor=class t{hasWalkedCache;matches=new YM;subwalks=new ZM;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new VM}processPatterns(t,e){this.patterns=e;const r=e.map(e=>[t,e]);for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),n=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const n=e.rest();if(!n){this.matches.add(t,!0,!1);continue}e=n}if(t.isENOENT())continue;let i,s,o=!1;for(;"string"==typeof(i=e.pattern())&&(s=e.rest());){const r=t.resolve(i);t=r,e=s,o=!0}if(i=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"==typeof i){const e=".."===i||""===i||"."===i;this.matches.add(t.resolve(i),n,e);continue}if(i===qM.GLOBSTAR){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=s?.pattern(),i=s?.rest();if(s&&(""!==r&&"."!==r||i)){if(".."===r){const e=t.parent||t;i?this.hasWalkedCache.hasWalked(e,i)||this.subwalks.add(e,i):this.matches.add(e,n,!0)}}else this.matches.add(t,n,""===r||"."===r)}else i instanceof RegExp&&this.subwalks.add(t,e)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),n=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),i=e.pattern(),s=e.rest();i===qM.GLOBSTAR?n.testGlobstar(t,e,s,r):i instanceof RegExp?n.testRegExp(t,i,s,r):n.testString(t,i,s,r)}return n}testGlobstar(t,e,r,n){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),n);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),n)}}testRegExp(t,e,r,n){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}testString(t,e,r,n){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}},Object.defineProperty(zM,"__esModule",{value:!0}),zM.GlobStream=zM.GlobWalker=zM.GlobUtil=void 0;const KM=eM,QM=WM,XM=HM;let JM=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#Oe=[];#xe;#Te;signal;maxDepth;includeChildMatches;constructor(t,e,r){if(this.patterns=t,this.path=e,this.opts=r,this.#Te=r.posix||"win32"!==r.platform?"/":"\\",this.includeChildMatches=!1!==r.includeChildMatches,(r.ignore||!this.includeChildMatches)&&(this.#xe=((t,e)=>"string"==typeof t?new QM.Ignore([t],e):Array.isArray(t)?new QM.Ignore(t,e):t)(r.ignore??[],r),!this.includeChildMatches&&"function"!=typeof this.#xe.add)){throw new Error("cannot ignore child matches, ignore lacks add() method.")}this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",()=>{this.#Oe.length=0}))}#ke(t){return this.seen.has(t)||!!this.#xe?.ignored?.(t)}#Pe(t){return!!this.#xe?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#Oe.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#Oe.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=await n.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(n,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#ke(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=n.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(n,e)}matchFinish(t,e){if(this.#ke(t))return;if(!this.includeChildMatches&&this.#xe?.add){const e=`${t.relativePosix()}/**`;this.#xe.add(e)}const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#Te:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+n)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+this.#Te)?"."+this.#Te:"";this.matchEmit(e?r+e+n:"."+n)}}async match(t,e,r){const n=await this.matchCheck(t,r);n&&this.matchFinish(n,e)}matchSync(t,e,r){const n=this.matchCheckSync(t,r);n&&this.matchFinish(n,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new XM.Processor(this.opts),r)}walkCB2(t,e,r,n){if(this.#Pe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||(i++,this.match(t,e,n).then(()=>s()));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,s):t.readdirCB((e,n)=>this.walkCB3(t,n,r,s),!0)}s()}walkCB3(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||(i++,this.match(t,e,n).then(()=>s()));for(const[t,e]of r.subwalks.entries())i++,this.walkCB2(t,e,r.child(),s);s()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new XM.Processor(this.opts),r)}walkCB2Sync(t,e,r,n){if(this.#Pe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2Sync(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||this.matchSync(t,e,n);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,s)}s()}walkCB3Sync(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||this.matchSync(t,e,n);for(const[t,e]of r.subwalks.entries())i++,this.walkCB2Sync(t,e,r.child(),s);s()}};zM.GlobUtil=JM;zM.GlobWalker=class extends JM{matches=new Set;constructor(t,e,r){super(t,e,r)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};zM.GlobStream=class extends JM{results;constructor(t,e,r){super(t,e,r),this.results=new KM.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}},Object.defineProperty(WA,"__esModule",{value:!0}),WA.Glob=void 0;const tj=wA,ej=b,rj=UA,nj=NM,ij=zM,sj="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";let oj=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,ej.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map(t=>t.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(t=>t.includes("/")?t:`./**/${t}`)}if(this.pattern=t,this.platform=e.platform||sj,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?rj.PathScurryWin32:"darwin"===e.platform?rj.PathScurryDarwin:e.platform?rj.PathScurryPosix:rj.PathScurry;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},i=this.pattern.map(t=>new tj.Minimatch(t,n)),[s,o]=i.reduce((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t),[[],[]]);this.patterns=s.map((t,e)=>{const r=o[e];if(!r)throw new Error("invalid pattern object");return new nj.Pattern(t,r,0,this.platform)})}async walk(){return[...await new ij.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new ij.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new ij.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new ij.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};WA.Glob=oj;var aj={};Object.defineProperty(aj,"__esModule",{value:!0}),aj.hasMagic=void 0;const lj=wA;aj.hasMagic=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new lj.Minimatch(r,e).hasMagic())return!0;return!1},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.globIterate=t.globIterateSync=t.globSync=t.globStream=t.globStreamSync=t.Ignore=t.hasMagic=t.Glob=t.unescape=t.escape=void 0;const e=wA,r=WA,n=aj;var i=wA;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return i.unescape}});var s=WA;Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return s.Glob}});var o=aj;Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return o.hasMagic}});var a=WM;function l(t,e={}){return new r.Glob(t,e).streamSync()}function u(t,e={}){return new r.Glob(t,e).stream()}function c(t,e={}){return new r.Glob(t,e).walkSync()}async function h(t,e={}){return new r.Glob(t,e).walk()}function f(t,e={}){return new r.Glob(t,e).iterateSync()}function d(t,e={}){return new r.Glob(t,e).iterate()}Object.defineProperty(t,"Ignore",{enumerable:!0,get:function(){return a.Ignore}}),t.globStreamSync=l,t.globStream=u,t.globSync=c,t.globIterateSync=f,t.globIterate=d,t.streamSync=l,t.stream=Object.assign(u,{sync:l}),t.iterateSync=f,t.iterate=Object.assign(d,{sync:f}),t.sync=Object.assign(c,{stream:l,iterate:f}),t.glob=Object.assign(h,{glob:h,globSync:c,sync:t.sync,globStream:u,stream:t.stream,globStreamSync:l,streamSync:t.streamSync,globIterate:d,iterate:t.iterate,globIterateSync:f,iterateSync:t.iterateSync,Glob:r.Glob,hasMagic:n.hasMagic,escape:e.escape,unescape:e.unescape}),t.glob.glob=t.glob}(gA);var uj=tS,cj=i,hj=wk,fj=qP,dj=aA,pj=vA,bj=gA,yj=hk.exports={},mj=/[\/\\]/g;yj.exists=function(){var t=cj.join.apply(cj,arguments);return uj.existsSync(t)},yj.expand=function(...t){var e=pj(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(0===r.length)return[];var n=function(t,e){var r=[];return hj(t).forEach(function(t){var n=0===t.indexOf("!");n&&(t=t.slice(1));var i=e(t);r=n?fj(r,i):dj(r,i)}),r}(r,function(t){return bj.sync(t,e)});return e.filter&&(n=n.filter(function(t){t=cj.join(e.cwd||"",t);try{return"function"==typeof e.filter?e.filter(t):uj.statSync(t)[e.filter]()}catch(t){return!1}})),n},yj.expandMapping=function(t,e,r){r=Object.assign({rename:function(t,e){return cj.join(t||"",e)}},r);var n=[],i={};return yj.expand(r,t).forEach(function(t){var s=t;r.flatten&&(s=cj.basename(s)),r.ext&&(s=s.replace(/(\.[^\/]*)?$/,r.ext));var o=r.rename(e,s,r);r.cwd&&(t=cj.join(r.cwd,t)),o=o.replace(mj,"/"),t=t.replace(mj,"/"),i[o]?i[o].src.push(t):(n.push({src:[t],dest:o}),i[o]=n[n.length-1])}),n},yj.normalizeFilesArray=function(t){var e=[];return t.forEach(function(t){("src"in t||"dest"in t)&&e.push(t)}),0===e.length?[]:e=_(e).chain().forEach(function(t){"src"in t&&t.src&&(Array.isArray(t.src)?t.src=hj(t.src):t.src=[t.src])}).map(function(t){var e=Object.assign({},t);if(delete e.src,delete e.dest,t.expand)return yj.expandMapping(t.src,t.dest,e).map(function(e){var r=Object.assign({},t);return r.orig=Object.assign({},t),r.src=e.src,r.dest=e.dest,["expand","cwd","flatten","rename","ext"].forEach(function(t){delete r[t]}),r});var r=Object.assign({},t);return r.orig=Object.assign({},t),"src"in r&&Object.defineProperty(r,"src",{enumerable:!0,get:function r(){var n;return"result"in r||(n=t.src,n=Array.isArray(n)?hj(n):[n],r.result=yj.expand(e,n)),r.result}}),"dest"in r&&(r.dest=t.dest),r}).flatten().value()};var vj=hk.exports,gj=tS,wj=i,_j=hS,Sj=eE,Ej=sE,Oj=mx;h.Stream;var xj=ck.PassThrough,Tj=L_.exports={};Tj.file=vj,Tj.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(t){r.push(t),n+=t.length}),t.on("end",function(){var t=Buffer.alloc(n),i=0;r.forEach(function(e){e.copy(t,i),i+=e.length}),e(null,t)})},Tj.dateify=function(t){return(t=t||new Date)instanceof Date||(t="string"==typeof t?new Date(t):new Date),t},Tj.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},Oj(...n)},Tj.isStream=function(t){return _j(t)},Tj.lazyReadStream=function(t){return new Sj.Readable(function(){return gj.createReadStream(t)})},Tj.normalizeInputSource=function(t){return null===t?Buffer.alloc(0):"string"==typeof t?Buffer.from(t):Tj.isStream(t)?t.pipe(new xj):t},Tj.sanitizePath=function(t){return Ej(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},Tj.trailingSlashIt=function(t){return"/"!==t.slice(-1)?t+"/":t},Tj.unixifyPath=function(t){return Ej(t,!1).replace(/^\w+:/,"")},Tj.walkdir=function(t,e,r){var n=[];"function"==typeof e&&(r=e,e=t),gj.readdir(t,function(i,s){var o,a,l=0;if(i)return r(i);!function i(){if(!(o=s[l++]))return r(null,n);a=wj.join(t,o),gj.stat(a,function(t,s){n.push({path:a,relative:wj.relative(e,a).replace(/\\/g,"/"),stats:s}),s&&s.isDirectory()?Tj.walkdir(a,e,function(t,e){if(t)return r(t);e.forEach(function(t){n.push(t)}),i()}):i()})}()})};var kj=L_.exports,Pj={exports:{}};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
!function(t){const e={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function r(t,r){Error.captureStackTrace(this,this.constructor),this.message=e[t]||t,this.code=t,this.data=r}f.inherits(r,Error),t.exports=r}(Pj);var Aj=Pj.exports,Mj=n,jj=ug,Lj=j_,Rj=i,Cj=kj,Ij=f.inherits,Fj=Aj,Dj=ck.Transform,Nj="win32"===process.platform,Bj=function(t,e){if(!(this instanceof Bj))return new Bj(t,e);"string"!=typeof t&&(e=t,t="zip"),e=this.options=Cj.defaults(e,{highWaterMark:1048576,statConcurrency:4}),Dj.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=Lj.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=Lj.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */Ij(Bj,Dj),Bj.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()},Bj.prototype._append=function(t,e){var r={source:null,filepath:t};(e=e||{}).name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof Mj.Stats?(r=this._updateQueueTaskWithStats(r,e.stats))&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r)):this._statQueue.push(r)},Bj.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)},Bj.prototype._maybeFinalize=function(){return!(this._state.finalizing||this._state.finalized||this._state.aborted)&&(!!(this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle())&&(this._finalize(),!0))},Bj.prototype._moduleAppend=function(t,e,r){this._state.aborted?r():this._module.append(t,e,function(t){if(this._task=null,this._state.aborted)this._shutdown();else{if(t)return this.emit("error",t),void setImmediate(r);this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}}.bind(this))},Bj.prototype._moduleFinalize=function(){"function"==typeof this._module.finalize?this._module.finalize():"function"==typeof this._module.end?this._module.end():this.emit("error",new Fj("NOENDMETHOD"))},Bj.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0},Bj.prototype._moduleSupports=function(t){return!(!this._module.supports||!this._module.supports[t])&&this._module.supports[t]},Bj.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1},Bj.prototype._normalizeEntryData=function(t,e){t=Cj.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&!1===t.stats&&(t.stats=e);var r="directory"===t.type;return t.name&&("string"==typeof t.prefix&&""!==t.prefix&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=Cj.sanitizePath(t.name),"symlink"!==t.type&&"/"===t.name.slice(-1)?(r=!0,t.type="directory"):r&&(t.name+="/")),"number"==typeof t.mode?t.mode&=Nj?511:4095:t.stats&&null===t.mode?(t.mode=Nj?511&t.stats.mode:4095&t.stats.mode,Nj&&r&&(t.mode=493)):null===t.mode&&(t.mode=r?493:420),t.stats&&null===t.date?t.date=t.stats.mtime:t.date=Cj.dateify(t.date),t},Bj.prototype._onModuleError=function(t){this.emit("error",t)},Bj.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()},Bj.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};this._state.finalizing||this._state.finalized||this._state.aborted?r():(this._task=t,this._moduleAppend(t.source,t.data,r))},Bj.prototype._onStatQueueTask=function(t,e){this._state.finalizing||this._state.finalized||this._state.aborted?e():Mj.lstat(t.filepath,function(r,n){if(this._state.aborted)setImmediate(e);else{if(r)return this._entriesCount--,this.emit("warning",r),void setImmediate(e);(t=this._updateQueueTaskWithStats(t,n))&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}}.bind(this))},Bj.prototype._shutdown=function(){this._moduleUnpipe(),this.end()},Bj.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)},Bj.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=Cj.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=Cj.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=Cj.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else{if(!e.isSymbolicLink()||!this._moduleSupports("symlink"))return e.isDirectory()?this.emit("warning",new Fj("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new Fj("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new Fj("ENTRYNOTSUPPORTED",t.data)),null;var r=Mj.readlinkSync(t.filepath),n=Rj.dirname(t.filepath);t.data.type="symlink",t.data.linkname=Rj.relative(n,Rj.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}return t.data=this._normalizeEntryData(t.data,e),t},Bj.prototype.abort=function(){return this._state.aborted||this._state.finalized||this._abort(),this},Bj.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new Fj("QUEUECLOSED")),this;if("string"!=typeof(e=this._normalizeEntryData(e)).name||0===e.name.length)return this.emit("error",new Fj("ENTRYNAMEREQUIRED")),this;if("directory"===e.type&&!this._moduleSupports("directory"))return this.emit("error",new Fj("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=Cj.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else{if(!Cj.isStream(t))return this.emit("error",new Fj("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;e.sourceType="stream"}return this._entriesCount++,this._queue.push({data:e,source:t}),this},Bj.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new Fj("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new Fj("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,!1===e?e="":"string"!=typeof e&&(e=t);var n=!1;"function"==typeof r?(n=r,r={}):"object"!=typeof r&&(r={});var i=jj(t,{stat:!0,dot:!0});return i.on("error",function(t){this.emit("error",t)}.bind(this)),i.on("match",function(s){i.pause();var o=!1,a=Object.assign({},r);a.name=s.relative,a.prefix=e,a.stats=s.stat,a.callback=i.resume.bind(i);try{if(n)if(!1===(a=n(a)))o=!0;else if("object"!=typeof a)throw new Fj("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}catch(t){return void this.emit("error",t)}o?i.resume():this._append(s.absolute,a)}.bind(this)),i.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},Bj.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new Fj("QUEUECLOSED")),this):"string"!=typeof t||0===t.length?(this.emit("error",new Fj("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)},Bj.prototype.glob=function(t,e,r){this._pending++,e=Cj.defaults(e,{stat:!0,pattern:t});var n=jj(e.cwd||".",e);return n.on("error",function(t){this.emit("error",t)}.bind(this)),n.on("match",function(t){n.pause();var e=Object.assign({},r);e.callback=n.resume.bind(n),e.stats=t.stat,e.name=t.relative,this._append(t.absolute,e)}.bind(this)),n.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},Bj.prototype.finalize=function(){if(this._state.aborted){var t=new Fj("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new Fj("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(t,e){var n;r._module.on("end",function(){n||t()}),r._module.on("error",function(t){n=!0,e(t)})})},Bj.prototype.setFormat=function(t){return this._format?(this.emit("error",new Fj("FORMATSET")),this):(this._format=t,this)},Bj.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new Fj("ABORTED")),this):this._state.module?(this.emit("error",new Fj("MODULESET")),this):(this._module=t,this._modulePipe(),this)},Bj.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new Fj("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new Fj("SYMLINKFILEPATHREQUIRED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new Fj("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new Fj("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={type:"symlink"};return n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer","number"==typeof r&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this},Bj.prototype.pointer=function(){return this._pointer},Bj.prototype.use=function(t){return this._streams.push(t),this};var zj=Bj,Wj={exports:{}},Uj={exports:{}},$j=Uj.exports=function(){};$j.prototype.getName=function(){},$j.prototype.getSize=function(){},$j.prototype.getLastModifiedDate=function(){},$j.prototype.isDirectory=function(){};var Gj=Uj.exports,Hj={exports:{}},qj={exports:{}},Vj={exports:{}},Yj=Vj.exports={};Yj.dateToDos=function(t,e){var r=(e=e||!1)?t.getFullYear():t.getUTCFullYear();return r<1980?2162688:r>=2044?2141175677:r-1980<<25|(e?t.getMonth():t.getUTCMonth())+1<<21|(e?t.getDate():t.getUTCDate())<<16|(e?t.getHours():t.getUTCHours())<<11|(e?t.getMinutes():t.getUTCMinutes())<<5|(e?t.getSeconds():t.getUTCSeconds())/2},Yj.dosToDate=function(t){return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)},Yj.fromDosTime=function(t){return Yj.dosToDate(t.readUInt32LE(0))},Yj.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e},Yj.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((65535&t)>>>0,0),e},Yj.getShortBytesValue=function(t,e){return t.readUInt16LE(e)},Yj.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((4294967295&t)>>>0,0),e},Yj.getLongBytesValue=function(t,e){return t.readUInt32LE(e)},Yj.toDosTime=function(t){return Yj.getLongBytes(Yj.dateToDos(t))};var Zj=Vj.exports,Kj=Zj,Qj=qj.exports=function(){return this instanceof Qj?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new Qj};Qj.prototype.encode=function(){return Kj.getShortBytes((this.descriptor?8:0)|(this.utf8?2048:0)|(this.encryption?1:0)|(this.strongEncryption?64:0))},Qj.prototype.parse=function(t,e){var r=Kj.getShortBytesValue(t,e),n=new Qj;return n.useDataDescriptor(!!(8&r)),n.useUTF8ForNames(!!(2048&r)),n.useStrongEncryption(!!(64&r)),n.useEncryption(!!(1&r)),n.setSlidingDictionarySize(2&r?8192:4096),n.setNumberOfShannonFanoTrees(4&r?3:2),n},Qj.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t},Qj.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees},Qj.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t},Qj.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize},Qj.prototype.useDataDescriptor=function(t){this.descriptor=t},Qj.prototype.usesDataDescriptor=function(){return this.descriptor},Qj.prototype.useEncryption=function(t){this.encryption=t},Qj.prototype.usesEncryption=function(){return this.encryption},Qj.prototype.useStrongEncryption=function(t){this.strongEncryption=t},Qj.prototype.usesStrongEncryption=function(){return this.strongEncryption},Qj.prototype.useUTF8ForNames=function(t){this.utf8=t},Qj.prototype.usesUTF8ForNames=function(){return this.utf8};var Xj=qj.exports,Jj={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1},tL=f.inherits,eL=sE,rL=Gj,nL=Xj,iL={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420},sL=Jj,oL=Zj,aL=Hj.exports=function(t){if(!(this instanceof aL))return new aL(t);rL.call(this),this.platform=sL.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new nL,this.crc=0,this.time=-1,this.minver=sL.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};tL(aL,rL),aL.prototype.getCentralDirectoryExtra=function(){return this.getExtra()},aL.prototype.getComment=function(){return null!==this.comment?this.comment:""},aL.prototype.getCompressedSize=function(){return this.csize},aL.prototype.getCrc=function(){return this.crc},aL.prototype.getExternalAttributes=function(){return this.exattr},aL.prototype.getExtra=function(){return null!==this.extra?this.extra:sL.EMPTY},aL.prototype.getGeneralPurposeBit=function(){return this.gpb},aL.prototype.getInternalAttributes=function(){return this.inattr},aL.prototype.getLastModifiedDate=function(){return this.getTime()},aL.prototype.getLocalFileDataExtra=function(){return this.getExtra()},aL.prototype.getMethod=function(){return this.method},aL.prototype.getName=function(){return this.name},aL.prototype.getPlatform=function(){return this.platform},aL.prototype.getSize=function(){return this.size},aL.prototype.getTime=function(){return-1!==this.time?oL.dosToDate(this.time):-1},aL.prototype.getTimeDos=function(){return-1!==this.time?this.time:0},aL.prototype.getUnixMode=function(){return this.platform!==sL.PLATFORM_UNIX?0:this.getExternalAttributes()>>sL.SHORT_SHIFT&sL.SHORT_MASK},aL.prototype.getVersionNeededToExtract=function(){return this.minver},aL.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t},aL.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t},aL.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t},aL.prototype.setExternalAttributes=function(t){this.exattr=t>>>0},aL.prototype.setExtra=function(t){this.extra=t},aL.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof nL))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t},aL.prototype.setInternalAttributes=function(t){this.inattr=t},aL.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t},aL.prototype.setName=function(t,e=!1){t=eL(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t},aL.prototype.setPlatform=function(t){this.platform=t},aL.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t},aL.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=oL.dateToDos(t,e)},aL.prototype.setUnixMode=function(t){var e=0;e|=(t|=this.isDirectory()?sL.S_IFDIR:sL.S_IFREG)<<sL.SHORT_SHIFT|(this.isDirectory()?sL.S_DOS_D:sL.S_DOS_A),this.setExternalAttributes(e),this.mode=t&sL.MODE_MASK,this.platform=sL.PLATFORM_UNIX},aL.prototype.setVersionNeededToExtract=function(t){this.minver=t},aL.prototype.isDirectory=function(){return"/"===this.getName().slice(-1)},aL.prototype.isUnixSymlink=function(){return(this.getUnixMode()&iL.FILE_TYPE_FLAG)===iL.LINK_FLAG},aL.prototype.isZip64=function(){return this.csize>sL.ZIP64_MAGIC||this.size>sL.ZIP64_MAGIC};var lL=Hj.exports,uL={exports:{}},cL={exports:{}};h.Stream;var hL=ck.PassThrough,fL=hS;(cL.exports={}).normalizeInputSource=function(t){if(null===t)return Buffer.alloc(0);if("string"==typeof t)return Buffer.from(t);if(fL(t)&&!t._readableState){var e=new hL;return t.pipe(e),e}return t};var dL=cL.exports,pL=f.inherits,bL=hS,yL=ck.Transform,mL=Gj,vL=dL,gL=uL.exports=function(t){if(!(this instanceof gL))return new gL(t);yL.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};pL(gL,yL),gL.prototype._appendBuffer=function(t,e,r){},gL.prototype._appendStream=function(t,e,r){},gL.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)},gL.prototype._finish=function(t){},gL.prototype._normalizeEntry=function(t){},gL.prototype._transform=function(t,e,r){r(null,t)},gL.prototype.entry=function(t,e,r){if(e=e||null,"function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),t instanceof mL)if(this._archive.finish||this._archive.finished)r(new Error("unacceptable entry after finish"));else{if(!this._archive.processing){if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=vL.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else{if(!bL(e))return this._archive.processing=!1,void r(new Error("input source must be valid Stream or Buffer instance"));this._appendStream(t,e,r)}return this}r(new Error("already processing an entry"))}else r(new Error("not a valid instance of ArchiveEntry"))},gL.prototype.finish=function(){this._archive.processing?this._archive.finish=!0:this._finish()},gL.prototype.getBytesWritten=function(){return this.offset},gL.prototype.write=function(t,e){return t&&(this.offset+=t.length),yL.prototype.write.call(this,t,e)};var wL,_L=uL.exports,SL={exports:{}},EL={};wL=function(t){t.version="1.2.2";var e=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),r=function(t){var e=0,r=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)i[n]=t[n];for(n=0;256!=n;++n)for(r=t[n],e=256+n;e<4096;e+=256)r=i[e]=r>>>8^t[255&r];var s=[];for(n=1;16!=n;++n)s[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return s}(e),n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],l=r[5],u=r[6],c=r[7],h=r[8],f=r[9],d=r[10],p=r[11],b=r[12],y=r[13],m=r[14];t.table=e,t.bstr=function(t,r){for(var n=-1^r,i=0,s=t.length;i<s;)n=n>>>8^e[255&(n^t.charCodeAt(i++))];return~n},t.buf=function(t,r){for(var v=-1^r,g=t.length-15,w=0;w<g;)v=m[t[w++]^255&v]^y[t[w++]^v>>8&255]^b[t[w++]^v>>16&255]^p[t[w++]^v>>>24]^d[t[w++]]^f[t[w++]]^h[t[w++]]^c[t[w++]]^u[t[w++]]^l[t[w++]]^a[t[w++]]^o[t[w++]]^s[t[w++]]^i[t[w++]]^n[t[w++]]^e[t[w++]];for(g+=15;w<g;)v=v>>>8^e[255&(v^t[w++])];return~v},t.str=function(t,r){for(var n=-1^r,i=0,s=t.length,o=0,a=0;i<s;)(o=t.charCodeAt(i++))<128?n=n>>>8^e[255&(n^o)]:o<2048?n=(n=n>>>8^e[255&(n^(192|o>>6&31))])>>>8^e[255&(n^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&t.charCodeAt(i++),n=(n=(n=(n=n>>>8^e[255&(n^(240|o>>8&7))])>>>8^e[255&(n^(128|o>>2&63))])>>>8^e[255&(n^(128|a>>6&15|(3&o)<<4))])>>>8^e[255&(n^(128|63&a))]):n=(n=(n=n>>>8^e[255&(n^(224|o>>12&15))])>>>8^e[255&(n^(128|o>>6&63))])>>>8^e[255&(n^(128|63&o))];return~n}},"undefined"==typeof DO_NOT_EXPORT_CRC?wL(EL):wL({});const{Transform:OL}=ck,xL=EL;var TL=class extends OL{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(t,e,r){t&&(this.checksum=xL.buf(t,this.checksum)>>>0,this.rawSize+=t.length),r(null,t)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};const{DeflateRaw:kL}=v,PL=EL;var AL={CRC32Stream:TL,DeflateCRC32Stream:class extends kL{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(t,e){return t&&(this.compressedSize+=t.length),super.push(t,e)}_transform(t,e,r){t&&(this.checksum=PL.buf(t,this.checksum)>>>0,this.rawSize+=t.length),super._transform(t,e,r)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(t=!1){return t?this.compressedSize:this.rawSize}}},ML=f.inherits,jL=EL,{CRC32Stream:LL}=AL,{DeflateCRC32Stream:RL}=AL,CL=_L,IL=Jj,FL=Zj,DL=SL.exports=function(t){if(!(this instanceof DL))return new DL(t);t=this.options=this._defaults(t),CL.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};ML(DL,CL),DL.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()},DL.prototype._appendBuffer=function(t,e,r){0===e.length&&t.setMethod(IL.METHOD_STORED);var n=t.getMethod();return n===IL.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(jL.buf(e)>>>0)),this._writeLocalFileHeader(t),n===IL.METHOD_STORED?(this.write(e),this._afterAppend(t),void r(null,t)):n===IL.METHOD_DEFLATED?void this._smartStream(t,r).end(e):void r(new Error("compression method "+n+" not implemented"))},DL.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(IL.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(t){n.emit("error",t),n.end()}),e.pipe(n)},DL.prototype._defaults=function(t){return"object"!=typeof t&&(t={}),"object"!=typeof t.zlib&&(t.zlib={}),"number"!=typeof t.zlib.level&&(t.zlib.level=IL.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t},DL.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()},DL.prototype._normalizeEntry=function(t){-1===t.getMethod()&&t.setMethod(IL.METHOD_DEFLATED),t.getMethod()===IL.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(IL.MIN_VERSION_DATA_DESCRIPTOR)),-1===t.getTime()&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}},DL.prototype._smartStream=function(t,e){var r=t.getMethod()===IL.METHOD_DEFLATED?new RL(this.options.zlib):new LL,n=null;return r.once("end",function(){var i=r.digest().readUInt32BE(0);t.setCrc(i),t.setSize(r.size()),t.setCompressedSize(r.size(!0)),this._afterAppend(t),e(n,t)}.bind(this)),r.once("error",function(t){n=t}),r.pipe(this,{end:!1}),r},DL.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=IL.ZIP64_MAGIC_SHORT,e=IL.ZIP64_MAGIC,r=IL.ZIP64_MAGIC),this.write(FL.getLongBytes(IL.SIG_EOCD)),this.write(IL.SHORT_ZERO),this.write(IL.SHORT_ZERO),this.write(FL.getShortBytes(t)),this.write(FL.getShortBytes(t)),this.write(FL.getLongBytes(e)),this.write(FL.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(FL.getShortBytes(i)),this.write(n)},DL.prototype._writeCentralDirectoryZip64=function(){this.write(FL.getLongBytes(IL.SIG_ZIP64_EOCD)),this.write(FL.getEightBytes(44)),this.write(FL.getShortBytes(IL.MIN_VERSION_ZIP64)),this.write(FL.getShortBytes(IL.MIN_VERSION_ZIP64)),this.write(IL.LONG_ZERO),this.write(IL.LONG_ZERO),this.write(FL.getEightBytes(this._entries.length)),this.write(FL.getEightBytes(this._entries.length)),this.write(FL.getEightBytes(this._archive.centralLength)),this.write(FL.getEightBytes(this._archive.centralOffset)),this.write(FL.getLongBytes(IL.SIG_ZIP64_EOCD_LOC)),this.write(IL.LONG_ZERO),this.write(FL.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(FL.getLongBytes(1))},DL.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>IL.ZIP64_MAGIC){i=IL.ZIP64_MAGIC,s=IL.ZIP64_MAGIC,n=IL.ZIP64_MAGIC,t.setVersionNeededToExtract(IL.MIN_VERSION_ZIP64);var o=Buffer.concat([FL.getShortBytes(IL.ZIP64_EXTRA_ID),FL.getShortBytes(24),FL.getEightBytes(t.getSize()),FL.getEightBytes(t.getCompressedSize()),FL.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(FL.getLongBytes(IL.SIG_CFH)),this.write(FL.getShortBytes(t.getPlatform()<<8|IL.VERSION_MADEBY)),this.write(FL.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(FL.getShortBytes(r)),this.write(FL.getLongBytes(t.getTimeDos())),this.write(FL.getLongBytes(t.getCrc())),this.write(FL.getLongBytes(s)),this.write(FL.getLongBytes(i));var a=t.getName(),l=t.getComment(),u=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(FL.getShortBytes(a.length)),this.write(FL.getShortBytes(u.length)),this.write(FL.getShortBytes(l.length)),this.write(IL.SHORT_ZERO),this.write(FL.getShortBytes(t.getInternalAttributes())),this.write(FL.getLongBytes(t.getExternalAttributes())),this.write(FL.getLongBytes(n)),this.write(a),this.write(u),this.write(l)},DL.prototype._writeDataDescriptor=function(t){this.write(FL.getLongBytes(IL.SIG_DD)),this.write(FL.getLongBytes(t.getCrc())),t.isZip64()?(this.write(FL.getEightBytes(t.getCompressedSize())),this.write(FL.getEightBytes(t.getSize()))):(this.write(FL.getLongBytes(t.getCompressedSize())),this.write(FL.getLongBytes(t.getSize())))},DL.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(IL.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(FL.getLongBytes(IL.SIG_LFH)),this.write(FL.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(FL.getShortBytes(r)),this.write(FL.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(IL.LONG_ZERO),this.write(IL.LONG_ZERO),this.write(IL.LONG_ZERO)):(this.write(FL.getLongBytes(t.getCrc())),this.write(FL.getLongBytes(t.getCompressedSize())),this.write(FL.getLongBytes(t.getSize()))),this.write(FL.getShortBytes(n.length)),this.write(FL.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset},DL.prototype.getComment=function(t){return null!==this._archive.comment?this._archive.comment:""},DL.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>IL.ZIP64_MAGIC_SHORT||this._archive.centralLength>IL.ZIP64_MAGIC||this._archive.centralOffset>IL.ZIP64_MAGIC},DL.prototype.setComment=function(t){this._archive.comment=t};var NL={ArchiveEntry:Gj,ZipArchiveEntry:lL,ArchiveOutputStream:_L,ZipArchiveOutputStream:SL.exports},BL=f.inherits,zL=NL.ZipArchiveOutputStream,WL=NL.ZipArchiveEntry,UL=kj,$L=Wj.exports=function(t){if(!(this instanceof $L))return new $L(t);(t=this.options=t||{}).zlib=t.zlib||{},zL.call(this,t),"number"==typeof t.level&&t.level>=0&&(t.zlib.level=t.level,delete t.level),t.forceZip64||"number"!=typeof t.zlib.level||0!==t.zlib.level||(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};BL($L,zL),$L.prototype._normalizeFileData=function(t){var e="directory"===(t=UL.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""})).type,r="symlink"===t.type;return t.name&&(t.name=UL.sanitizePath(t.name),r||"/"!==t.name.slice(-1)?e&&(t.name+="/"):(e=!0,t.type="directory")),(e||r)&&(t.store=!0),t.date=UL.dateify(t.date),t},$L.prototype.entry=function(t,e,r){if("function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),"file"===(e=this._normalizeFileData(e)).type||"directory"===e.type||"symlink"===e.type)if("string"==typeof e.name&&0!==e.name.length){if("symlink"!==e.type||"string"==typeof e.linkname){var n=new WL(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),"symlink"===e.type&&"number"!=typeof e.mode&&(e.mode=40960),"number"==typeof e.mode&&("symlink"===e.type&&(e.mode|=40960),n.setUnixMode(e.mode)),"symlink"===e.type&&"string"==typeof e.linkname&&(t=Buffer.from(e.linkname)),zL.prototype.entry.call(this,n,t,r)}r(new Error("entry linkname must be a non-empty string value when type equals symlink"))}else r(new Error("entry name must be a non-empty string value"));else r(new Error(e.type+" entries not currently supported"))},$L.prototype.finalize=function(){this.finish()};var GL=Wj.exports,HL=kj,qL=function(t){if(!(this instanceof qL))return new qL(t);t=this.options=HL.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new GL(t)};
/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */qL.prototype.append=function(t,e,r){this.engine.entry(t,e,r)},qL.prototype.finalize=function(){this.engine.finalize()},qL.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},qL.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)},qL.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};var VL=qL,YL={};const ZL=class{constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};var KL=class{constructor(t){this.hwm=t||16,this.head=new ZL(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){const e=this.head;this.head=e.next=new ZL(2*this.head.buffer.length),this.head.push(t)}}shift(){0!==this.length&&this.length--;const t=this.tail.shift();if(void 0===t&&this.tail.next){const t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return t}peek(){const t=this.tail.peek();return void 0===t&&this.tail.next?this.tail.next.peek():t}isEmpty(){return 0===this.length}};function QL(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}var XL={isBuffer:function(t){return Buffer.isBuffer(t)||t instanceof Uint8Array},isEncoding:function(t){return Buffer.isEncoding(t)},alloc:function(t,e,r){return Buffer.alloc(t,e,r)},allocUnsafe:function(t){return Buffer.allocUnsafe(t)},allocUnsafeSlow:function(t){return Buffer.allocUnsafeSlow(t)},byteLength:function(t,e){return Buffer.byteLength(t,e)},compare:function(t,e){return Buffer.compare(t,e)},concat:function(t,e){return Buffer.concat(t,e)},copy:function(t,e,r,n,i){return QL(t).copy(e,r,n,i)},equals:function(t,e){return QL(t).equals(e)},fill:function(t,e,r,n,i){return QL(t).fill(e,r,n,i)},from:function(t,e,r){return Buffer.from(t,e,r)},includes:function(t,e,r,n){return QL(t).includes(e,r,n)},indexOf:function(t,e,r,n){return QL(t).indexOf(e,r,n)},lastIndexOf:function(t,e,r,n){return QL(t).lastIndexOf(e,r,n)},swap16:function(t){return QL(t).swap16()},swap32:function(t){return QL(t).swap32()},swap64:function(t){return QL(t).swap64()},toBuffer:QL,toString:function(t,e,r,n){return QL(t).toString(e,r,n)},write:function(t,e,r,n,i){return QL(t).write(e,r,n,i)},writeDoubleLE:function(t,e,r){return QL(t).writeDoubleLE(e,r)},writeFloatLE:function(t,e,r){return QL(t).writeFloatLE(e,r)},writeUInt32LE:function(t,e,r){return QL(t).writeUInt32LE(e,r)},writeInt32LE:function(t,e,r){return QL(t).writeInt32LE(e,r)},readDoubleLE:function(t,e){return QL(t).readDoubleLE(e)},readFloatLE:function(t,e){return QL(t).readFloatLE(e)},readUInt32LE:function(t,e){return QL(t).readUInt32LE(e)},readInt32LE:function(t,e){return QL(t).readInt32LE(e)},writeDoubleBE:function(t,e,r){return QL(t).writeDoubleBE(e,r)},writeFloatBE:function(t,e,r){return QL(t).writeFloatBE(e,r)},writeUInt32BE:function(t,e,r){return QL(t).writeUInt32BE(e,r)},writeInt32BE:function(t,e,r){return QL(t).writeInt32BE(e,r)},readDoubleBE:function(t,e){return QL(t).readDoubleBE(e)},readFloatBE:function(t,e){return QL(t).readFloatBE(e)},readUInt32BE:function(t,e){return QL(t).readUInt32BE(e)},readInt32BE:function(t,e){return QL(t).readInt32BE(e)}};const JL=XL;const tR=XL;const eR=class{constructor(t){this.encoding=t}get remaining(){return 0}decode(t){return JL.toString(t,this.encoding)}flush(){return""}},rR=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(t){if(0===this.bytesNeeded){let e=!0;for(let r=Math.max(0,t.byteLength-4),n=t.byteLength;r<n&&e;r++)e=t[r]<=127;if(e)return tR.toString(t,"utf8")}let e="";for(let r=0,n=t.byteLength;r<n;r++){const n=t[r];0!==this.bytesNeeded?n<this.lowerBoundary||n>this.upperBoundary?(this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e+="�"):(this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|63&n,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(e+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)):n<=127?e+=String.fromCharCode(n):(this.bytesSeen=1,n>=194&&n<=223?(this.bytesNeeded=2,this.codePoint=31&n):n>=224&&n<=239?(224===n?this.lowerBoundary=160:237===n&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=15&n):n>=240&&n<=244?(240===n&&(this.lowerBoundary=144),244===n&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=7&n):e+="�")}return e}flush(){const t=this.bytesNeeded>0?"�":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,t}};const{EventEmitter:nR}=u,iR=new Error("Stream was destroyed"),sR=new Error("Premature close"),oR=KL,aR=class{constructor(t="utf8"){switch(this.encoding=function(t){switch(t=t.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}(t),this.encoding){case"utf8":this.decoder=new rR;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new eR(this.encoding)}}get remaining(){return this.decoder.remaining}push(t){return"string"==typeof t?t:this.decoder.decode(t)}write(t){return this.push(t)}end(t){let e="";return t&&(e=this.push(t)),e+=this.decoder.flush(),e}},lR="undefined"==typeof queueMicrotask?t=>X.process.nextTick(t):queueMicrotask,uR=536870911,cR=1^uR,hR=2^uR,fR=32,dR=64,pR=128,bR=256,yR=1024,mR=2048,vR=4096,gR=8192,wR=16384,_R=32768,SR=131072,ER=131328,OR=16^uR,xR=536805375,TR=768^uR,kR=536838143,PR=536739839,AR=1<<18,MR=2<<18,jR=4<<18,LR=8<<18,RR=16<<18,CR=32<<18,IR=64<<18,FR=128<<18,DR=256<<18,NR=512<<18,BR=1024<<18,zR=535822335,WR=503316479,UR=268435455,$R=262160,GR=536608751,HR=8404992,qR=14,VR=15,YR=8405006,ZR=33587200,KR=33587215,QR=2359296,XR=270794767,JR=Symbol.asyncIterator||Symbol("asyncIterator");class tC{constructor(t,{highWaterMark:e=16384,map:r=null,mapWritable:n,byteLength:i,byteLengthWritable:s}={}){this.stream=t,this.queue=new oR,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||OC,this.map=n||r,this.afterWrite=aC.bind(this),this.afterUpdateNextTick=cC.bind(this)}get ended(){return 0!==(this.stream._duplexState&CR)}push(t){return!(142606350&this.stream._duplexState)&&(null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=LR,!0):(this.stream._duplexState|=6291456,!1))}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=534773759),t}end(t){"function"==typeof t?this.stream.once("finish",t):null!=t&&this.push(t),this.stream._duplexState=(this.stream._duplexState|NR)&zR}autoBatch(t,e){const r=[],n=this.stream;for(r.push(t);(n._duplexState&XR)===QR;)r.push(n._writableState.shift());if(0!==(n._duplexState&VR))return e(null);n._writev(r,e)}update(){const t=this.stream;t._duplexState|=MR;do{for(;(t._duplexState&XR)===LR;){const e=this.shift();t._duplexState|=67371008,t._write(e,this.afterWrite)}1310720&t._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=536346623}updateNonPrimary(){const t=this.stream;if((144965647&t._duplexState)===NR)return t._duplexState=t._duplexState|AR,void t._final(sC.bind(this));4!==(t._duplexState&qR)?1===(t._duplexState&KR)&&(t._duplexState=(t._duplexState|$R)&cR,t._open(hC.bind(this))):0===(t._duplexState&ZR)&&(t._duplexState|=$R,t._destroy(oC.bind(this)))}continueUpdate(){return 0!==(this.stream._duplexState&FR)&&(this.stream._duplexState&=WR,!0)}updateCallback(){(35127311&this.stream._duplexState)===jR?this.update():this.updateNextTick()}updateNextTick(){0===(this.stream._duplexState&FR)&&(this.stream._duplexState|=FR,0===(this.stream._duplexState&MR)&&lR(this.afterUpdateNextTick))}}class eC{constructor(t,{highWaterMark:e=16384,map:r=null,mapReadable:n,byteLength:i,byteLengthReadable:s}={}){this.stream=t,this.queue=new oR,this.highWaterMark=0===e?1:e,this.buffered=0,this.readAhead=e>0,this.error=null,this.pipeline=null,this.byteLength=s||i||OC,this.map=n||r,this.pipeTo=null,this.afterRead=lC.bind(this),this.afterUpdateNextTick=uC.bind(this)}get ended(){return 0!==(this.stream._duplexState&wR)}pipe(t,e){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof e&&(e=null),this.stream._duplexState|=512,this.pipeTo=t,this.pipeline=new nC(this.stream,t,e),e&&this.stream.on("error",xC),EC(t))t._writableState.pipeline=this.pipeline,e&&t.on("error",xC),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{const e=this.pipeline.done.bind(this.pipeline,t),r=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",e),t.on("close",r),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",iC.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){const e=this.stream;return null===t?(this.highWaterMark=0,e._duplexState=536805311&e._duplexState|1024,!1):null!==this.map&&null===(t=this.map(t))?(e._duplexState&=xR,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(t),this.queue.push(t),e._duplexState=(e._duplexState|pR)&xR,this.buffered<this.highWaterMark)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=536862591),t}unshift(t){const e=[null!==this.map?this.map(t):t];for(;this.buffered>0;)e.push(this.shift());for(let t=0;t<e.length-1;t++){const r=e[t];this.buffered+=this.byteLength(r),this.queue.push(r)}this.push(e[e.length-1])}read(){const t=this.stream;if((16527&t._duplexState)===pR){const e=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=TR),0!==(t._duplexState&mR)&&t.emit("data",e),e}return!1===this.readAhead&&(t._duplexState|=SR,this.updateNextTick()),null}drain(){const t=this.stream;for(;(16527&t._duplexState)===pR&&768&t._duplexState;){const e=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=TR),0!==(t._duplexState&mR)&&t.emit("data",e)}}update(){const t=this.stream;t._duplexState|=fR;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&t._duplexState)===SR;)t._duplexState|=65552,t._read(this.afterRead),this.drain();4224==(12431&t._duplexState)&&(t._duplexState|=gR,t.emit("readable")),80&t._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=536870879}updateNonPrimary(){const t=this.stream;(1167&t._duplexState)===yR&&(t._duplexState=536869887&t._duplexState|16384,t.emit("end"),(t._duplexState&YR)===HR&&(t._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!==(t._duplexState&qR)?1===(t._duplexState&KR)&&(t._duplexState=(t._duplexState|$R)&cR,t._open(hC.bind(this))):0===(t._duplexState&ZR)&&(t._duplexState|=$R,t._destroy(oC.bind(this)))}continueUpdate(){return 0!==(this.stream._duplexState&_R)&&(this.stream._duplexState&=kR,!0)}updateCallback(){(32879&this.stream._duplexState)===dR?this.update():this.updateNextTick()}updateNextTickIfOpen(){32769&this.stream._duplexState||(this.stream._duplexState|=_R,0===(this.stream._duplexState&fR)&&lR(this.afterUpdateNextTick))}updateNextTick(){0===(this.stream._duplexState&_R)&&(this.stream._duplexState|=_R,0===(this.stream._duplexState&fR)&&lR(this.afterUpdateNextTick))}}class rC{constructor(t){this.data=null,this.afterTransform=fC.bind(t),this.afterFinal=null}}class nC{constructor(t,e,r){this.from=t,this.to=e,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,e){e&&(this.error=e),t!==this.to||(this.to=null,null===this.from)?t!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0===(t._duplexState&wR)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!==(this.from._duplexState&wR)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function iC(){this.stream._duplexState|=512,this.updateCallback()}function sC(t){const e=this.stream;t&&e.destroy(t),0===(e._duplexState&qR)&&(e._duplexState|=CR,e.emit("finish")),(e._duplexState&YR)===HR&&(e._duplexState|=4),e._duplexState&=402391039,0===(e._duplexState&MR)?this.update():this.updateNextTick()}function oC(t){const e=this.stream;t||this.error===iR||(t=this.error),t&&e.emit("error",t),e._duplexState|=8,e.emit("close");const r=e._readableState,n=e._writableState;if(null!==r&&null!==r.pipeline&&r.pipeline.done(e,t),null!==n){for(;null!==n.drains&&n.drains.length>0;)n.drains.shift().resolve(!1);null!==n.pipeline&&n.pipeline.done(e,t)}}function aC(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=469499903,null!==this.drains&&function(t){for(let e=0;e<t.length;e++)0===--t[e].writes&&(t.shift().resolve(!0),e--)}(this.drains),(6553615&e._duplexState)===RR&&(e._duplexState&=532676607,(e._duplexState&IR)===IR&&e.emit("drain")),this.updateCallback()}function lC(t){t&&this.stream.destroy(t),this.stream._duplexState&=OR,!1===this.readAhead&&0===(this.stream._duplexState&bR)&&(this.stream._duplexState&=PR),this.updateCallback()}function uC(){0===(this.stream._duplexState&fR)&&(this.stream._duplexState&=kR,this.update())}function cC(){0===(this.stream._duplexState&MR)&&(this.stream._duplexState&=WR,this.update())}function hC(t){const e=this.stream;t&&e.destroy(t),4&e._duplexState||(17423&e._duplexState||(e._duplexState|=dR),142606351&e._duplexState||(e._duplexState|=jR),e.emit("open")),e._duplexState&=GR,null!==e._writableState&&e._writableState.updateCallback(),null!==e._readableState&&e._readableState.updateCallback()}function fC(t,e){null!=e&&this.push(e),this._writableState.afterWrite(t)}function dC(t){null!==this._readableState&&("data"===t&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===t&&(this._duplexState|=vR,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===t&&(this._duplexState|=IR,this._writableState.updateNextTick())}class pC extends nR{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",TC.bind(this))),this.on("newListener",dC)}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return!!(8&this._duplexState)}get destroying(){return 0!==(this._duplexState&qR)}destroy(t){0===(this._duplexState&qR)&&(t||(t=iR),this._duplexState=535822271&this._duplexState|4,null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=t),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=2,this._predestroy(),this._duplexState&=hR,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}let bC=class t extends pC{constructor(t){super(t),this._duplexState|=8519681,this._readableState=new eC(this,t),t&&(!1===this._readableState.readAhead&&(this._duplexState&=PR),t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick(),t.encoding&&this.setEncoding(t.encoding))}setEncoding(t){const e=new aR(t),r=this._readableState.map||_C;return this._readableState.map=function(t){const n=e.push(t);return""===n&&(0!==t.byteLength||e.remaining>0)?null:r(n)},this}_read(t){t(null)}pipe(t,e){return this._readableState.updateNextTick(),this._readableState.pipe(t,e),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTickIfOpen(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(t)}resume(){return this._duplexState|=ER,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?536739583:536870655,this}static _fromAsyncIterator(e,r){let n;const i=new t({...r,read(t){e.next().then(s).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(t){if(!n)return t(null);n.then(t.bind(null,null)).catch(t)}});return i;function s(t){t.done?i.push(null):i.push(t.value)}}static from(e,r){if(function(t){return EC(t)&&t.readable}(e))return e;if(e[JR])return this._fromAsyncIterator(e[JR](),r);Array.isArray(e)||(e=void 0===e?[]:[e]);let n=0;return new t({...r,read(t){this.push(n===e.length?null:e[n++]),t(null)}})}static isBackpressured(t){return!!(17422&t._duplexState)||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return 0===(t._duplexState&bR)}[JR](){const t=this;let e=null,r=null,n=null;return this.on("error",t=>{e=t}),this.on("readable",function(){null!==r&&i(t.read())}),this.on("close",function(){null!==r&&i(null)}),{[JR](){return this},next:()=>new Promise(function(e,s){r=e,n=s;const o=t.read();null!==o?i(o):8&t._duplexState&&i(null)}),return:()=>s(null),throw:t=>s(t)};function i(i){null!==n&&(e?n(e):null===i&&0===(t._duplexState&wR)?n(iR):r({value:i,done:null===i}),n=r=null)}function s(e){return t.destroy(e),new Promise((r,n)=>{if(8&t._duplexState)return r({value:void 0,done:!0});t.once("close",function(){e?n(e):r({value:void 0,done:!0})})})}}},yC=class extends pC{constructor(t){super(t),this._duplexState|=16385,this._writableState=new tC(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=BR}uncork(){this._duplexState&=UR,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}static isBackpressured(t){return!!(146800654&t._duplexState)}static drained(t){if(t.destroyed)return Promise.resolve(!1);const e=t._writableState;var r;const n=((r=t)._writev!==yC.prototype._writev&&r._writev!==mC.prototype._writev?Math.min(1,e.queue.length):e.queue.length)+(t._duplexState&DR?1:0);return 0===n?Promise.resolve(!0):(null===e.drains&&(e.drains=[]),new Promise(t=>{e.drains.push({writes:n,resolve:t})}))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};class mC extends bC{constructor(t){super(t),this._duplexState=1|this._duplexState&SR,this._writableState=new tC(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}cork(){this._duplexState|=BR}uncork(){this._duplexState&=UR,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}let vC=class extends mC{constructor(t){super(t),this._transformState=new rC(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,e){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(null!==this._transformState.data){const e=this._transformState.data;this._transformState.data=null,t(null),this._transform(e,this._transformState.afterTransform)}else t(null)}destroy(t){super.destroy(t),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(t,e){e(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(gC.bind(this))}};function gC(t,e){const r=this._transformState.afterFinal;if(t)return r(t);null!=e&&this.push(e),this.push(null),r(null)}function wC(t,...e){const r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&"function"==typeof r[r.length-1]?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let t=1;t<r.length;t++)s=r[t],EC(i)?i.pipe(s,l):(a(i,!0,t>1,l),i.pipe(s)),i=s;if(n){let t=!1;const e=EC(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",t=>{null===o&&(o=t)}),s.on("finish",()=>{t=!0,e||n(o)}),e&&s.on("close",()=>n(o||(t?null:sR)))}return s;function a(t,e,r,n){t.on("error",n),t.on("close",function(){if(t._readableState&&!t._readableState.ended)return n(sR);if(r&&t._writableState&&!t._writableState.ended)return n(sR)})}function l(t){if(t&&!o){o=t;for(const e of r)e.destroy(t)}}}function _C(t){return t}function SC(t){return!!t._readableState||!!t._writableState}function EC(t){return"number"==typeof t._duplexState&&SC(t)}function OC(t){return function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.byteLength}(t)?t.byteLength:1024}function xC(){}function TC(){this.destroy(new Error("Stream aborted."))}var kC={pipeline:wC,pipelinePromise:function(...t){return new Promise((e,r)=>wC(...t,t=>{if(t)return r(t);e()}))},isStream:SC,isStreamx:EC,isEnded:function(t){return!!t._readableState&&t._readableState.ended},isFinished:function(t){return!!t._writableState&&t._writableState.ended},isDisturbed:function(t){return!!(1&~t._duplexState)||0!==(t._duplexState&ZR)},getStreamError:function(t,e={}){const r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e.all||r!==iR?r:null},Stream:pC,Writable:yC,Readable:bC,Duplex:mC,Transform:vC,PassThrough:class extends vC{}},PC={};const AC=XL,MC="0".charCodeAt(0),jC=AC.from([117,115,116,97,114,0]),LC=AC.from([MC,MC]),RC=AC.from([117,115,116,97,114,32]),CC=AC.from([32,0]),IC=257,FC=263;function DC(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function NC(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function BC(t,e){return(t=t.toString(8)).length>e?"7777777777777777777".slice(0,e)+" ":"0000000000000000000".slice(0,e-t.length)+t+" "}function zC(t,e,r){if(128&(t=t.subarray(e,e+r))[e=0])return function(t){let e;if(128===t[0])e=!0;else{if(255!==t[0])return null;e=!1}const r=[];let n;for(n=t.length-1;n>0;n--){const i=t[n];e?r.push(i):r.push(255-i)}let i=0;const s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}(t);{for(;e<t.length&&32===t[e];)e++;const r=function(t,e,r){return"number"!=typeof t?r:(t=~~t)>=e?e:t>=0||(t+=e)>=0?t:0}(DC(t,32,e,t.length),t.length,t.length);for(;e<r&&0===t[e];)e++;return r===e?0:parseInt(AC.toString(t.subarray(e,r)),8)}}function WC(t,e,r,n){return AC.toString(t.subarray(e,DC(t,0,e,e+r)),n)}function UC(t){const e=AC.byteLength(t);let r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}PC.decodeLongPath=function(t,e){return WC(t,0,t.length,e)},PC.encodePax=function(t){let e="";t.name&&(e+=UC(" path="+t.name+"\n")),t.linkname&&(e+=UC(" linkpath="+t.linkname+"\n"));const r=t.pax;if(r)for(const t in r)e+=UC(" "+t+"="+r[t]+"\n");return AC.from(e)},PC.decodePax=function(t){const e={};for(;t.length;){let r=0;for(;r<t.length&&32!==t[r];)r++;const n=parseInt(AC.toString(t.subarray(0,r)),10);if(!n)return e;const i=AC.toString(t.subarray(r+1,n-1)),s=i.indexOf("=");if(-1===s)return e;e[i.slice(0,s)]=i.slice(s+1),t=t.subarray(n)}return e},PC.encode=function(t){const e=AC.alloc(512);let r=t.name,n="";if(5===t.typeflag&&"/"!==r[r.length-1]&&(r+="/"),AC.byteLength(r)!==r.length)return null;for(;AC.byteLength(r)>100;){const t=r.indexOf("/");if(-1===t)return null;n+=n?"/"+r.slice(0,t):r.slice(0,t),r=r.slice(t+1)}return AC.byteLength(r)>100||AC.byteLength(n)>155||t.linkname&&AC.byteLength(t.linkname)>100?null:(AC.write(e,r),AC.write(e,BC(4095&t.mode,6),100),AC.write(e,BC(t.uid,6),108),AC.write(e,BC(t.gid,6),116),function(t,e,r){t.toString(8).length>11?function(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=255&t,t=Math.floor(t/256)}(t,e,r):AC.write(e,BC(t,11),r)}(t.size,e,124),AC.write(e,BC(t.mtime.getTime()/1e3|0,11),136),e[156]=MC+function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(t.type),t.linkname&&AC.write(e,t.linkname,157),AC.copy(jC,e,IC),AC.copy(LC,e,263),t.uname&&AC.write(e,t.uname,265),t.gname&&AC.write(e,t.gname,297),AC.write(e,BC(t.devmajor||0,6),329),AC.write(e,BC(t.devminor||0,6),337),n&&AC.write(e,n,345),AC.write(e,BC(NC(e),6),148),e)},PC.decode=function(t,e,r){let n=0===t[156]?0:t[156]-MC,i=WC(t,0,100,e);const s=zC(t,100,8),o=zC(t,108,8),a=zC(t,116,8),l=zC(t,124,12),u=zC(t,136,12),c=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(n),h=0===t[157]?null:WC(t,157,100,e),f=WC(t,265,32),d=WC(t,297,32),p=zC(t,329,8),b=zC(t,337,8),y=NC(t);if(256===y)return null;if(y!==zC(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(t){return AC.equals(jC,t.subarray(IC,263))}(t))t[345]&&(i=WC(t,345,155,e)+"/"+i);else if(function(t){return AC.equals(RC,t.subarray(IC,263))&&AC.equals(CC,t.subarray(FC,265))}(t));else if(!r)throw new Error("Invalid tar header: unknown format.");return 0===n&&i&&"/"===i[i.length-1]&&(n=5),{name:i,mode:s,uid:o,gid:a,size:l,mtime:new Date(1e3*u),type:c,linkname:h,uname:f,gname:d,devmajor:p,devminor:b,pax:null}};const{Writable:$C,Readable:GC,getStreamError:HC}=kC,qC=KL,VC=XL,YC=PC,ZC=VC.alloc(0);class KC{constructor(){this.buffered=0,this.shifted=0,this.queue=new qC,this._offset=0}push(t){this.buffered+=t.byteLength,this.queue.push(t)}shiftFirst(t){return 0===this._buffered?null:this._next(t)}shift(t){if(t>this.buffered)return null;if(0===t)return ZC;let e=this._next(t);if(t===e.byteLength)return e;const r=[e];for(;(t-=e.byteLength)>0;)e=this._next(t),r.push(e);return VC.concat(r)}_next(t){const e=this.queue.peek(),r=e.byteLength-this._offset;if(t>=r){const t=this._offset?e.subarray(this._offset,e.byteLength):e;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,t}return this.buffered-=t,this.shifted+=t,e.subarray(this._offset,this._offset+=t)}}class QC extends GC{constructor(t,e,r){super(),this.header=e,this.offset=r,this._parent=t}_read(t){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),t(null)}_predestroy(){this._parent.destroy(HC(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=tI(this.header.size),this._parent._update())}_destroy(t){this._detach(),t(null)}}class XC extends $C{constructor(t){super(t),t||(t={}),this._buffer=new KC,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=JC,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=t.filenameEncoding||"utf-8",this._allowUnknownFormat=!!t.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(t){if(this._locked=!1,t)return this.destroy(t),void this._continueWrite(t);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=YC.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(t){return this._continueWrite(t),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(t){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=YC.decodeLongPath(t,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=YC.decodeLongPath(t,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=YC.decodePax(t);break;case"pax-header":this._pax=null===this._paxGlobal?YC.decodePax(t):Object.assign({},this._paxGlobal,YC.decodePax(t))}}_consumeLongHeader(){this._longHeader=!1,this._missing=tI(this._header.size);const t=this._buffer.shift(this._header.size);try{this._decodeLongHeader(t)}catch(t){return this._continueWrite(t),!1}return!0}_consumeStream(){const t=this._buffer.shiftFirst(this._missing);if(null===t)return!1;this._missing-=t.byteLength;const e=this._stream.push(t);return 0===this._missing?(this._stream.push(null),e&&this._stream._detach(),e&&!1===this._locked):e}_createStream(){return new QC(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const t=this._buffer.shiftFirst(this._missing);null!==t&&(this._missing-=t.byteLength);continue}if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(t){const e=this._callback;this._callback=JC,e(t)}_write(t,e){this._callback=e,this._buffer.push(t),this._update()}_final(t){this._finished=0===this._missing&&0===this._buffer.buffered,t(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(t){this._stream&&this._stream.destroy(HC(this)),t(null)}[Symbol.asyncIterator](){let t=null,e=null,r=null,n=null,i=null;const s=this;return this.on("entry",function(t,s,o){i=o,s.on("error",JC),e?(e({value:s,done:!1}),e=r=null):n=s}),this.on("error",e=>{t=e}),this.on("close",function(){if(o(t),!e)return;t?r(t):e({value:void 0,done:!0});e=r=null}),{[Symbol.asyncIterator](){return this},next:()=>new Promise(a),return:()=>l(null),throw:t=>l(t)};function o(t){if(!i)return;const e=i;i=null,e(t)}function a(i,a){return t?a(t):n?(i({value:n,done:!1}),void(n=null)):(e=i,r=a,o(null),void(s._finished&&e&&(e({value:void 0,done:!0}),e=r=null)))}function l(t){return s.destroy(t),o(t),new Promise((e,r)=>{if(s.destroyed)return e({value:void 0,done:!0});s.once("close",function(){t?r(t):e({value:void 0,done:!0})})})}}}function JC(){}function tI(t){return(t&=511)&&512-t}var eI={exports:{}};const rI={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{eI.exports=require("fs").constants||rI}catch{eI.exports=rI}var nI=eI.exports;const{Readable:iI,Writable:sI,getStreamError:oI}=kC,aI=XL,lI=nI,uI=PC,cI=aI.alloc(1024);class hI extends sI{constructor(t,e,r){super({mapWritable:bI,eagerOpen:!0}),this.written=0,this.header=e,this._callback=r,this._linkname=null,this._isLinkname="symlink"===e.type&&!e.linkname,this._isVoid="file"!==e.type&&"contiguous-file"!==e.type,this._finished=!1,this._pack=t,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(t){this._openCallback=t,this._pack._stream===this&&this._continueOpen()}_continuePack(t){if(null===this._callback)return;const e=this._callback;this._callback=null,e(t)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const t=this._openCallback;if(this._openCallback=null,null!==t){if(this._pack.destroying)return t(new Error("pack stream destroyed"));if(this._pack._finalized)return t(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),t(null)}}_write(t,e){return this._isLinkname?(this._linkname=this._linkname?aI.concat([this._linkname,t]):t,e(null)):this._isVoid?t.byteLength>0?e(new Error("No body allowed for this entry")):e():(this.written+=t.byteLength,this._pack.push(t)?e():void(this._pack._drain=e))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?aI.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),pI(this._pack,this.header.size),this._pack._done(this))}_final(t){if(this.written!==this.header.size)return t(new Error("Size mismatch"));this._finish(),t(null)}_getError(){return oI(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(t){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),t()}}class fI extends iI{constructor(t){super(t),this._drain=dI,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(t,e,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof e&&(r=e,e=null),r||(r=dI),t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=function(t){switch(t&lI.S_IFMT){case lI.S_IFBLK:return"block-device";case lI.S_IFCHR:return"character-device";case lI.S_IFDIR:return"directory";case lI.S_IFIFO:return"fifo";case lI.S_IFLNK:return"symlink"}return"file"}(t.mode)),t.mode||(t.mode="directory"===t.type?493:420),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"==typeof e&&(e=aI.from(e));const n=new hI(this,t,r);return aI.isBuffer(e)?(t.size=e.byteLength,n.write(e),n.end(),n):(n._isVoid,n)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(cI),this.push(null))}_done(t){t===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(t){if(!t.pax){const e=uI.encode(t);if(e)return void this.push(e)}this._encodePax(t)}_encodePax(t){const e=uI.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.byteLength,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(uI.encode(r)),this.push(e),pI(this,e.byteLength),r.size=t.size,r.type=t.type,this.push(uI.encode(r))}_doDrain(){const t=this._drain;this._drain=dI,t()}_predestroy(){const t=oI(this);for(this._stream&&this._stream.destroy(t);this._pending.length;){const e=this._pending.shift();e.destroy(t),e._continueOpen()}this._doDrain()}_read(t){this._doDrain(),t()}}function dI(){}function pI(t,e){(e&=511)&&t.push(cI.subarray(0,512-e))}function bI(t){return aI.isBuffer(t)?t:aI.from(t)}YL.extract=function(t){return new XC(t)},YL.pack=function(t){return new fI(t)};
/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var yI=v,mI=YL,vI=kj,gI=function(t){if(!(this instanceof gI))return new gI(t);"object"!=typeof(t=this.options=vI.defaults(t,{gzip:!1})).gzipOptions&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=mI.pack(t),this.compressor=!1,t.gzip&&(this.compressor=yI.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};gI.prototype._onCompressorError=function(t){this.engine.emit("error",t)},gI.prototype.append=function(t,e,r){var n=this;function i(t,i){t?r(t):n.engine.entry(e,i,function(t){r(t,e)})}if(e.mtime=e.date,"buffer"===e.sourceType)i(null,t);else if("stream"===e.sourceType&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(t){r(t,e)});t.pipe(s)}else"stream"===e.sourceType&&vI.collectStream(t,i)},gI.prototype.finalize=function(){this.engine.finalize()},gI.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},gI.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)},gI.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};var wI=gI;function _I(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const SI=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function EI(t){if(Buffer.isBuffer(t))return t;if("number"==typeof t)return Buffer.alloc(t);if("string"==typeof t)return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function OI(t,e){t=EI(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=-1^e;for(var n=0;n<t.length;n++)r=SI[255&(r^t[n])]^r>>>8;return-1^r}function xI(){return function(t){const e=EI(4);return e.writeInt32BE(t,0),e}(OI.apply(null,arguments))}xI.signed=function(){return OI.apply(null,arguments)},xI.unsigned=function(){return OI.apply(null,arguments)>>>0};var TI=_I(xI),kI=f.inherits,PI=ck.Transform,AI=TI,MI=kj,jI=function(t){if(!(this instanceof jI))return new jI(t);t=this.options=MI.defaults(t,{}),PI.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};
/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */kI(jI,PI),jI.prototype._transform=function(t,e,r){r(null,t)},jI.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)},jI.prototype.append=function(t,e,r){var n=this;function i(t,i){t?r(t):(e.size=i.length||0,e.crc32=AI.unsigned(i),n.files.push(e),r(null,e))}e.crc32=0,"buffer"===e.sourceType?i(null,t):"stream"===e.sourceType&&MI.collectStream(t,i)},jI.prototype.finalize=function(){this._writeStringified(),this.end()};var LI=jI,RI=zj,CI={},II=function(t,e){return II.create(t,e)};
/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */II.create=function(t,e){if(CI[t]){var r=new RI(t,e);return r.setFormat(t),r.setModule(new CI[t](e)),r}throw new Error("create("+t+"): format not registered")},II.registerFormat=function(t,e){if(CI[t])throw new Error("register("+t+"): format already registered");if("function"!=typeof e)throw new Error("register("+t+"): format module invalid");if("function"!=typeof e.prototype.append||"function"!=typeof e.prototype.finalize)throw new Error("register("+t+"): format module missing methods");CI[t]=e},II.isRegisteredFormat=function(t){return!!CI[t]},II.registerFormat("zip",VL),II.registerFormat("tar",wI),II.registerFormat("json",LI);var FI=J(II),DI=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1},NI={"{":"}","(":")","[":"]"},BI=function(t){if("!"===t[0])return!0;for(var e=0,r=-2,n=-2,i=-2,s=-2,o=-2;e<t.length;){if("*"===t[e])return!0;if("?"===t[e+1]&&/[\].+)]/.test(t[e]))return!0;if(-1!==n&&"["===t[e]&&"]"!==t[e+1]&&(n<e&&(n=t.indexOf("]",e)),n>e)){if(-1===o||o>n)return!0;if(-1===(o=t.indexOf("\\",e))||o>n)return!0}if(-1!==i&&"{"===t[e]&&"}"!==t[e+1]&&(i=t.indexOf("}",e))>e&&(-1===(o=t.indexOf("\\",e))||o>i))return!0;if(-1!==s&&"("===t[e]&&"?"===t[e+1]&&/[:!=]/.test(t[e+2])&&")"!==t[e+3]&&(s=t.indexOf(")",e))>e&&(-1===(o=t.indexOf("\\",e))||o>s))return!0;if(-1!==r&&"("===t[e]&&"|"!==t[e+1]&&(r<e&&(r=t.indexOf("|",e)),-1!==r&&")"!==t[r+1]&&(s=t.indexOf(")",r))>r&&(-1===(o=t.indexOf("\\",r))||o>s)))return!0;if("\\"===t[e]){var a=t[e+1];e+=2;var l=NI[a];if(l){var u=t.indexOf(l,e);-1!==u&&(e=u+1)}if("!"===t[e])return!0}else e++}return!1},zI=function(t){if("!"===t[0])return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if("\\"===t[e]){var r=t[e+1];e+=2;var n=NI[r];if(n){var i=t.indexOf(n,e);-1!==i&&(e=i+1)}if("!"===t[e])return!0}else e++}return!1},WI=J(function(t,e){if("string"!=typeof t||""===t)return!1;if(DI(t))return!0;var r=BI;return e&&!1===e.strict&&(r=zI),r(t)});const UI=(t,e,r)=>{const n=t instanceof RegExp?$I(t,r):t,i=e instanceof RegExp?$I(e,r):e,s=null!==n&&null!=i&&GI(n,i,r);return s&&{start:s[0],end:s[1],pre:r.slice(0,s[0]),body:r.slice(s[0]+n.length,s[1]),post:r.slice(s[1]+i.length)}},$I=(t,e)=>{const r=e.match(t);return r?r[0]:null},GI=(t,e,r)=>{let n,i,s,o,a,l=r.indexOf(t),u=r.indexOf(e,l+1),c=l;if(l>=0&&u>0){if(t===e)return[l,u];for(n=[],s=r.length;c>=0&&!a;){if(c===l)n.push(c),l=r.indexOf(t,c+1);else if(1===n.length){const t=n.pop();void 0!==t&&(a=[t,u])}else i=n.pop(),void 0!==i&&i<s&&(s=i,o=u),u=r.indexOf(e,c+1);c=l<u&&l>=0?l:u}n.length&&void 0!==o&&(a=[s,o])}return a},HI="\0SLASH"+Math.random()+"\0",qI="\0OPEN"+Math.random()+"\0",VI="\0CLOSE"+Math.random()+"\0",YI="\0COMMA"+Math.random()+"\0",ZI="\0PERIOD"+Math.random()+"\0",KI=new RegExp(HI,"g"),QI=new RegExp(qI,"g"),XI=new RegExp(VI,"g"),JI=new RegExp(YI,"g"),tF=new RegExp(ZI,"g"),eF=/\\\\/g,rF=/\\{/g,nF=/\\}/g,iF=/\\,/g,sF=/\\./g;function oF(t){return isNaN(t)?t.charCodeAt(0):parseInt(t,10)}function aF(t){return t.replace(KI,"\\").replace(QI,"{").replace(XI,"}").replace(JI,",").replace(tF,".")}function lF(t){if(!t)return[""];const e=[],r=UI("{","}",t);if(!r)return t.split(",");const{pre:n,body:i,post:s}=r,o=n.split(",");o[o.length-1]+="{"+i+"}";const a=lF(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function uF(t){return t?("{}"===t.slice(0,2)&&(t="\\{\\}"+t.slice(2)),pF(function(t){return t.replace(eF,HI).replace(rF,qI).replace(nF,VI).replace(iF,YI).replace(sF,ZI)}(t),!0).map(aF)):[]}function cF(t){return"{"+t+"}"}function hF(t){return/^-?0\d/.test(t)}function fF(t,e){return t<=e}function dF(t,e){return t>=e}function pF(t,e){const r=[],n=UI("{","}",t);if(!n)return[t];const i=n.pre,s=n.post.length?pF(n.post,!1):[""];if(/\$$/.test(n.pre))for(let t=0;t<s.length;t++){const e=i+"{"+n.body+"}"+s[t];r.push(e)}else{const o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=o||a,u=n.body.indexOf(",")>=0;if(!l&&!u)return n.post.match(/,(?!,).*\}/)?pF(t=n.pre+"{"+n.body+VI+n.post):[t];let c,h;if(l)c=n.body.split(/\.\./);else if(c=lF(n.body),1===c.length&&void 0!==c[0]&&(c=pF(c[0],!1).map(cF),1===c.length))return s.map(t=>n.pre+c[0]+t);if(l&&void 0!==c[0]&&void 0!==c[1]){const t=oF(c[0]),e=oF(c[1]),r=Math.max(c[0].length,c[1].length);let n=3===c.length&&void 0!==c[2]?Math.abs(oF(c[2])):1,i=fF;e<t&&(n*=-1,i=dF);const s=c.some(hF);h=[];for(let o=t;i(o,e);o+=n){let t;if(a)t=String.fromCharCode(o),"\\"===t&&(t="");else if(t=String(o),s){const e=r-t.length;if(e>0){const r=new Array(e+1).join("0");t=o<0?"-"+r+t.slice(1):r+t}}h.push(t)}}else{h=[];for(let t=0;t<c.length;t++)h.push.apply(h,pF(c[t],!1))}for(let t=0;t<h.length;t++)for(let n=0;n<s.length;n++){const o=i+h[t]+s[n];(!e||l||o)&&r.push(o)}}return r}const bF=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},yF={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},mF=t=>t.replace(/[[\]\\-]/g,"\\$&"),vF=t=>t.join(""),gF=(t,e)=>{const r=e;if("["!==t.charAt(r))throw new Error("not in a brace expression");const n=[],i=[];let s=r+1,o=!1,a=!1,l=!1,u=!1,c=r,h="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==r+1){if("]"===e&&o&&!l){c=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,u]]of Object.entries(yF))if(t.startsWith(e,s)){if(h)return["$.",!1,t.length-r,!0];s+=e.length,u?i.push(o):n.push(o),a=a||l;continue t}l=!1,h?(e>h?n.push(mF(h)+"-"+mF(e)):e===h&&n.push(mF(e)),h="",s++):t.startsWith("-]",s+1)?(n.push(mF(e+"-")),s+=2):t.startsWith("-",s+1)?(h=e,s+=2):(n.push(mF(e)),s++)}else l=!0,s++}else u=!0,s++}if(c<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(0===i.length&&1===n.length&&/^\\?.$/.test(n[0])&&!u){const t=2===n[0].length?n[0].slice(-1):n[0];return[(f=t,f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,c-r,!1]}var f;const d="["+(u?"^":"")+vF(n)+"]",p="["+(u?"":"^")+vF(i)+"]";return[n.length&&i.length?"("+d+"|"+p+")":n.length?d:p,a,c-r,!0]},wF=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),_F=new Set(["!","?","+","*","@"]),SF=t=>_F.has(t),EF="(?!\\.)",OF=new Set(["[","."]),xF=new Set(["..","."]),TF=new Set("().*{}+?[]^$\\!"),kF=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),PF="[^/]",AF=PF+"*?",MF=PF+"+?";class jF{type;#m;#v;#g=!1;#w=[];#_;#S;#E;#O=!1;#x;#T;#k=!1;constructor(t,e,r={}){this.type=t,t&&(this.#v=!0),this.#_=e,this.#m=this.#_?this.#_.#m:this,this.#x=this.#m===this?r:this.#m.#x,this.#E=this.#m===this?[]:this.#m.#E,"!"!==t||this.#m.#O||this.#E.push(this),this.#S=this.#_?this.#_.#w.length:0}get hasMagic(){if(void 0!==this.#v)return this.#v;for(const t of this.#w)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#v=!0;return this.#v}toString(){return void 0!==this.#T?this.#T:this.type?this.#T=this.type+"("+this.#w.map(t=>String(t)).join("|")+")":this.#T=this.#w.map(t=>String(t)).join("")}#P(){if(this!==this.#m)throw new Error("should only call on root");if(this.#O)return this;let t;for(this.toString(),this.#O=!0;t=this.#E.pop();){if("!"!==t.type)continue;let e=t,r=e.#_;for(;r;){for(let n=e.#S+1;!r.type&&n<r.#w.length;n++)for(const e of t.#w){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(r.#w[n])}e=r,r=e.#_}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof jF&&e.#_===this))throw new Error("invalid part: "+e);this.#w.push(e)}}toJSON(){const t=null===this.type?this.#w.slice().map(t=>"string"==typeof t?t:t.toJSON()):[this.type,...this.#w.map(t=>t.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#m||this.#m.#O&&"!"===this.#_?.type)&&t.push({}),t}isStart(){if(this.#m===this)return!0;if(!this.#_?.isStart())return!1;if(0===this.#S)return!0;const t=this.#_;for(let e=0;e<this.#S;e++){const r=t.#w[e];if(!(r instanceof jF&&"!"===r.type))return!1}return!0}isEnd(){if(this.#m===this)return!0;if("!"===this.#_?.type)return!0;if(!this.#_?.isEnd())return!1;if(!this.type)return this.#_?.isEnd();const t=this.#_?this.#_.#w.length:0;return this.#S===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new jF(this.type,t);for(const t of this.#w)e.copyIn(t);return e}static#A(t,e,r,n){let i=!1,s=!1,o=-1,a=!1;if(null===e.type){let l=r,u="";for(;l<t.length;){const r=t.charAt(l++);if(i||"\\"===r)i=!i,u+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),u+=r;else if("["!==r){if(!n.noext&&SF(r)&&"("===t.charAt(l)){e.push(u),u="";const i=new jF(r,e);l=jF.#A(t,i,l,n),e.push(i);continue}u+=r}else s=!0,o=l,a=!1,u+=r}return e.push(u),l}let l=r+1,u=new jF(null,e);const c=[];let h="";for(;l<t.length;){const r=t.charAt(l++);if(i||"\\"===r)i=!i,h+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),h+=r;else if("["!==r){if(SF(r)&&"("===t.charAt(l)){u.push(h),h="";const e=new jF(r,u);u.push(e),l=jF.#A(t,e,l,n);continue}if("|"!==r){if(")"===r)return""===h&&0===e.#w.length&&(e.#k=!0),u.push(h),h="",e.push(...c,u),l;h+=r}else u.push(h),h="",c.push(u),u=new jF(null,e)}else s=!0,o=l,a=!1,h+=r}return e.type=null,e.#v=void 0,e.#w=[t.substring(r-1)],l}static fromGlob(t,e={}){const r=new jF(null,void 0,e);return jF.#A(t,r,0,e),r}toMMPattern(){if(this!==this.#m)return this.#m.toMMPattern();const t=this.toString(),[e,r,n,i]=this.toRegExpSource();if(!(n||this.#v||this.#x.nocase&&!this.#x.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const s=(this.#x.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}get options(){return this.#x}toRegExpSource(t){const e=t??!!this.#x.dot;if(this.#m===this&&this.#P(),!this.type){const r=this.isStart()&&this.isEnd(),n=this.#w.map(e=>{const[n,i,s,o]="string"==typeof e?jF.#M(e,this.#v,r):e.toRegExpSource(t);return this.#v=this.#v||s,this.#g=this.#g||o,n}).join("");let i="";if(this.isStart()&&"string"==typeof this.#w[0]){if(!(1===this.#w.length&&xF.has(this.#w[0]))){const r=OF,s=e&&r.has(n.charAt(0))||n.startsWith("\\.")&&r.has(n.charAt(2))||n.startsWith("\\.\\.")&&r.has(n.charAt(4)),o=!e&&!t&&r.has(n.charAt(0));i=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?EF:""}}let s="";this.isEnd()&&this.#m.#O&&"!"===this.#_?.type&&(s="(?:$|\\/)");return[i+n+s,wF(n),this.#v=!!this.#v,this.#g]}const r="*"===this.type||"+"===this.type,n="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#j(e);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const t=this.toString();return this.#w=[t],this.type=null,this.#v=void 0,[t,wF(this.toString()),!1,!1]}let s=!r||t||e?"":this.#j(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let o="";if("!"===this.type&&this.#k)o=(this.isStart()&&!e?EF:"")+MF;else{o=n+i+("!"===this.type?"))"+(!this.isStart()||e||t?"":EF)+AF+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,wF(i),this.#v=!!this.#v,this.#g]}#j(t){return this.#w.map(e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,n,i,s]=e.toRegExpSource(t);return this.#g=this.#g||s,r}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")}static#M(t,e,r=!1){let n=!1,i="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(n)n=!1,i+=(TF.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[r,n,a,l]=gF(t,o);if(a){i+=r,s=s||n,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?i+=kF(a):(i+=PF,e=!0):(i+=r&&"*"===t?MF:AF,e=!0)}else o===t.length-1?i+="\\\\":n=!0}return[i,wF(t),!!e,s]}}const LF=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),RF=(t,e,r={})=>(bF(e),!(!r.nocomment&&"#"===e.charAt(0))&&new sD(e,r).match(t)),CF=/^\*+([^+@!?\*\[\(]*)$/,IF=t=>e=>!e.startsWith(".")&&e.endsWith(t),FF=t=>e=>e.endsWith(t),DF=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),NF=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),BF=/^\*+\.\*+$/,zF=t=>!t.startsWith(".")&&t.includes("."),WF=t=>"."!==t&&".."!==t&&t.includes("."),UF=/^\.\*+$/,$F=t=>"."!==t&&".."!==t&&t.startsWith("."),GF=/^\*+$/,HF=t=>0!==t.length&&!t.startsWith("."),qF=t=>0!==t.length&&"."!==t&&".."!==t,VF=/^\?+([^+@!?\*\[\(]*)?$/,YF=([t,e=""])=>{const r=XF([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},ZF=([t,e=""])=>{const r=JF([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},KF=([t,e=""])=>{const r=JF([t]);return e?t=>r(t)&&t.endsWith(e):r},QF=([t,e=""])=>{const r=XF([t]);return e?t=>r(t)&&t.endsWith(e):r},XF=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},JF=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},tD="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";RF.sep="win32"===tD?{sep:"\\"}.sep:{sep:"/"}.sep;const eD=Symbol("globstar **");RF.GLOBSTAR=eD;RF.filter=(t,e={})=>r=>RF(r,t,e);const rD=(t,e={})=>Object.assign({},t,e);RF.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return RF;const e=RF;return Object.assign((r,n,i={})=>e(r,n,rD(t,i)),{Minimatch:class extends e.Minimatch{constructor(e,r={}){super(e,rD(t,r))}static defaults(r){return e.defaults(rD(t,r)).Minimatch}},AST:class extends e.AST{constructor(e,r,n={}){super(e,r,rD(t,n))}static fromGlob(r,n={}){return e.AST.fromGlob(r,rD(t,n))}},unescape:(r,n={})=>e.unescape(r,rD(t,n)),escape:(r,n={})=>e.escape(r,rD(t,n)),filter:(r,n={})=>e.filter(r,rD(t,n)),defaults:r=>e.defaults(rD(t,r)),makeRe:(r,n={})=>e.makeRe(r,rD(t,n)),braceExpand:(r,n={})=>e.braceExpand(r,rD(t,n)),match:(r,n,i={})=>e.match(r,n,rD(t,i)),sep:e.sep,GLOBSTAR:eD})};const nD=(t,e={})=>(bF(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:uF(t));RF.braceExpand=nD;RF.makeRe=(t,e={})=>new sD(t,e).makeRe();RF.match=(t,e,r={})=>{const n=new sD(e,r);return t=t.filter(t=>n.match(t)),n.options.nonull&&!t.length&&t.push(e),t};const iD=/[?*]|[+@!]\(.*?\)|\[|\]/;class sD{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){bF(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||tD,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map(t=>this.slashSplit(t));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let n=this.globParts.map((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&iD.test(t[2])||iD.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map(t=>this.parse(t))];if(r)return[t[0],...t.slice(1).map(t=>this.parse(t))]}return t.map(t=>this.parse(t))});if(this.debug(this.pattern,n),this.set=n.filter(t=>-1===t.indexOf(!1)),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t})}levelOneOptimize(t){return t.map(t=>0===(t=t.reduce((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)},[])).length?[""]:t)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const n=t[r];1===r&&""===n&&""===t[0]||("."!==n&&""!==n||(e=!0,t.splice(r,1),r--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const n=t[r-1];n&&"."!==n&&".."!==n&&"**"!==n&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let n=-1;for(;-1!==(n=r.indexOf("**",n+1));){let i=n;for(;"**"===r[i+1];)i++;i>n&&r.splice(n+1,i-n);let s=r[n+1];const o=r[n+2],a=r[n+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(n,1);const l=r.slice(0);l[n]="**",t.push(l),n--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const n=r[t];1===t&&""===n&&""===r[0]||("."!==n&&""!==n||(e=!0,r.splice(t,1),t--))}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let i=0;for(;-1!==(i=r.indexOf("..",i+1));){const t=r[i-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===i&&"**"===r[i+1]?["."]:[];r.splice(i-1,2,...t),0===r.length&&r.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const n=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);if(n){t[e]=[],t[r]=n;break}}return t.filter(t=>t.length)}partsMatch(t,e,r=!1){let n=0,i=0,s=[],o="";for(;n<t.length&&i<e.length;)if(t[n]===e[i])s.push("b"===o?e[i]:t[n]),n++,i++;else if(r&&"**"===t[n]&&e[i]===t[n+1])s.push(t[n]),n++;else if(r&&"**"===e[i]&&t[n]===e[i+1])s.push(e[i]),i++;else if("*"!==t[n]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i]){if("*"!==e[i]||!t[n]||!this.options.dot&&t[n].startsWith(".")||"**"===t[n])return!1;if("a"===o)return!1;o="b",s.push(e[i]),n++,i++}else{if("b"===o)return!1;o="a",s.push(t[n]),n++,i++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r=!1){const n=this.options;if(this.isWindows){const r="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),n=!r&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),i="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),s=n?3:r?0:void 0,o=!i&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[r,n]=[t[s],e[o]];r.toLowerCase()===n.toLowerCase()&&(e[o]=r,o>s?e=e.slice(o):s>o&&(t=t.slice(s)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,l=e.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var u=e[o],c=t[s];if(this.debug(e,u,c),!1===u)return!1;if(u===eD){this.debug("GLOBSTAR",[e,u,c]);var h=s,f=o+1;if(f===l){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<a;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,f,d),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,a,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,f),h!==a))}let i;if("string"==typeof u?(i=c===u,this.debug("string match",u,c,i)):(i=u.test(c),this.debug("pattern match",u,c,i)),!i)return!1}if(s===a&&o===l)return!0;if(s===a)return r;if(o===l)return s===a-1&&""===t[s];throw new Error("wtf?")}braceExpand(){return nD(this.pattern,this.options)}parse(t){bF(t);const e=this.options;if("**"===t)return eD;if(""===t)return"";let r,n=null;(r=t.match(GF))?n=e.dot?qF:HF:(r=t.match(CF))?n=(e.nocase?e.dot?NF:DF:e.dot?FF:IF)(r[1]):(r=t.match(VF))?n=(e.nocase?e.dot?ZF:YF:e.dot?KF:QF)(r):(r=t.match(BF))?n=e.dot?WF:zF:(r=t.match(UF))&&(n=$F);const i=jF.fromGlob(t,this.options).toMMPattern();return n&&"object"==typeof i&&Reflect.defineProperty(i,"test",{value:n}),i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=new Set(e.nocase?["i"]:[]);let i=t.map(t=>{const e=t.map(t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))n.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===eD?eD:t._src});return e.forEach((t,n)=>{const i=e[n+1],s=e[n-1];t===eD&&s!==eD&&(void 0===s?void 0!==i&&i!==eD?e[n+1]="(?:\\/|"+r+"\\/)?"+i:e[n]=r:void 0===i?e[n-1]=s+"(?:\\/|"+r+")?":i!==eD&&(e[n-1]=s+"(?:\\/|\\/"+r+"\\/)"+i,e[n+1]=eD))}),e.filter(t=>t!==eD).join("/")}).join("|");const[s,o]=t.length>1?["(?:",")"]:["",""];i="^"+s+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...n].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const n=this.slashSplit(t);this.debug(this.pattern,"split",n);const i=this.set;this.debug(this.pattern,"set",i);let s=n[n.length-1];if(!s)for(let t=n.length-2;!s&&t>=0;t--)s=n[t];for(let t=0;t<i.length;t++){const o=i[t];let a=n;r.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return RF.defaults(t).Minimatch}}RF.AST=jF,RF.Minimatch=sD,RF.escape=LF,RF.unescape=wF;const oD="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,aD=new Set,lD="object"==typeof process&&process?process:{},uD=(t,e,r,n)=>{"function"==typeof lD.emitWarning?lD.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let cD=globalThis.AbortController,hD=globalThis.AbortSignal;if(void 0===cD){hD=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},cD=class{constructor(){e()}signal=new hD;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==lD.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,uD("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const fD=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),dD=t=>fD(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?pD:null:null;class pD extends Array{constructor(t){super(t),this.fill(0)}}class bD{heap;length;static#L=!1;static create(t){const e=dD(t);if(!e)return[];bD.#L=!0;const r=new bD(t,e);return bD.#L=!1,r}constructor(t,e){if(!bD.#L)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class yD{#R;#C;#I;#Ae;#F;#D;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#B;#z;#W;#U;#$;#G;#H;#q;#V;#Y;#Z;#K;#Q;#X;#J;#tt;#et;#Me;static unsafeExposeInternals(t){return{starts:t.#Q,ttls:t.#X,sizes:t.#K,keyMap:t.#W,keyList:t.#U,valList:t.#$,next:t.#G,prev:t.#H,get head(){return t.#q},get tail(){return t.#V},free:t.#Y,isBackgroundFetch:e=>t.#rt(e),backgroundFetch:(e,r,n,i)=>t.#nt(e,r,n,i),moveToTail:e=>t.#it(e),indexes:e=>t.#st(e),rindexes:e=>t.#ot(e),isStale:e=>t.#at(e)}}get max(){return this.#R}get maxSize(){return this.#C}get calculatedSize(){return this.#z}get size(){return this.#B}get fetchMethod(){return this.#D}get memoMethod(){return this.#N}get dispose(){return this.#I}get onInsert(){return this.#Ae}get disposeAfter(){return this.#F}constructor(t){const{max:e=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:l,onInsert:u,disposeAfter:c,noDisposeOnSet:h,noUpdateTTL:f,maxSize:d=0,maxEntrySize:p=0,sizeCalculation:b,fetchMethod:y,memoMethod:m,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:g,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:_,ignoreFetchAbort:S}=t;if(0!==e&&!fD(e))throw new TypeError("max option must be a nonnegative integer");const E=e?dD(e):Array;if(!E)throw new Error("invalid max value: "+e);if(this.#R=e,this.#C=d,this.maxEntrySize=p||this.#C,this.sizeCalculation=b,this.sizeCalculation){if(!this.#C&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==m&&"function"!=typeof m)throw new TypeError("memoMethod must be a function if defined");if(this.#N=m,void 0!==y&&"function"!=typeof y)throw new TypeError("fetchMethod must be a function if specified");if(this.#D=y,this.#tt=!!y,this.#W=new Map,this.#U=new Array(e).fill(void 0),this.#$=new Array(e).fill(void 0),this.#G=new E(e),this.#H=new E(e),this.#q=0,this.#V=0,this.#Y=bD.create(e),this.#B=0,this.#z=0,"function"==typeof l&&(this.#I=l),"function"==typeof u&&(this.#Ae=u),"function"==typeof c?(this.#F=c,this.#Z=[]):(this.#F=void 0,this.#Z=void 0),this.#J=!!this.#I,this.#Me=!!this.#Ae,this.#et=!!this.#F,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!S,0!==this.maxEntrySize){if(0!==this.#C&&!fD(this.#C))throw new TypeError("maxSize must be a positive integer if specified");if(!fD(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#lt()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!g,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=fD(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!fD(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#ut()}if(0===this.#R&&0===this.ttl&&0===this.#C)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#R&&!this.#C){const t="LRU_CACHE_UNBOUNDED";if((t=>!aD.has(t))(t)){aD.add(t);uD("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,yD)}}}getRemainingTTL(t){return this.#W.has(t)?1/0:0}#ut(){const t=new pD(this.#R),e=new pD(this.#R);this.#X=t,this.#Q=e,this.#ct=(r,n,i=oD.now())=>{if(e[r]=0!==n?i:0,t[r]=n,0!==n&&this.ttlAutopurge){const t=setTimeout(()=>{this.#at(r)&&this.#ht(this.#U[r],"expire")},n+1);t.unref&&t.unref()}},this.#ft=r=>{e[r]=0!==t[r]?oD.now():0},this.#dt=(i,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;i.ttl=o,i.start=a,i.now=r||n();const l=i.now-a;i.remainingTTL=o-l}};let r=0;const n=()=>{const t=oD.now();if(this.ttlResolution>0){r=t;const e=setTimeout(()=>r=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=i=>{const s=this.#W.get(i);if(void 0===s)return 0;const o=t[s],a=e[s];if(!o||!a)return 1/0;return o-((r||n())-a)},this.#at=i=>{const s=e[i],o=t[i];return!!o&&!!s&&(r||n())-s>o}}#ft=()=>{};#dt=()=>{};#ct=()=>{};#at=()=>!1;#lt(){const t=new pD(this.#R);this.#z=0,this.#K=t,this.#pt=e=>{this.#z-=t[e],t[e]=0},this.#bt=(t,e,r,n)=>{if(this.#rt(e))return 0;if(!fD(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(e,t),!fD(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#yt=(e,r,n)=>{if(t[e]=r,this.#C){const r=this.#C-t[e];for(;this.#z>r;)this.#mt(!0)}this.#z+=t[e],n&&(n.entrySize=r,n.totalCalculatedSize=this.#z)}}#pt=t=>{};#yt=(t,e,r)=>{};#bt=(t,e,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#st({allowStale:t=this.allowStale}={}){if(this.#B)for(let e=this.#V;this.#vt(e)&&(!t&&this.#at(e)||(yield e),e!==this.#q);)e=this.#H[e]}*#ot({allowStale:t=this.allowStale}={}){if(this.#B)for(let e=this.#q;this.#vt(e)&&(!t&&this.#at(e)||(yield e),e!==this.#V);)e=this.#G[e]}#vt(t){return void 0!==t&&this.#W.get(this.#U[t])===t}*entries(){for(const t of this.#st())void 0===this.#$[t]||void 0===this.#U[t]||this.#rt(this.#$[t])||(yield[this.#U[t],this.#$[t]])}*rentries(){for(const t of this.#ot())void 0===this.#$[t]||void 0===this.#U[t]||this.#rt(this.#$[t])||(yield[this.#U[t],this.#$[t]])}*keys(){for(const t of this.#st()){const e=this.#U[t];void 0===e||this.#rt(this.#$[t])||(yield e)}}*rkeys(){for(const t of this.#ot()){const e=this.#U[t];void 0===e||this.#rt(this.#$[t])||(yield e)}}*values(){for(const t of this.#st()){void 0===this.#$[t]||this.#rt(this.#$[t])||(yield this.#$[t])}}*rvalues(){for(const t of this.#ot()){void 0===this.#$[t]||this.#rt(this.#$[t])||(yield this.#$[t])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const r of this.#st()){const n=this.#$[r],i=this.#rt(n)?n.__staleWhileFetching:n;if(void 0!==i&&t(i,this.#U[r],this))return this.get(this.#U[r],e)}}forEach(t,e=this){for(const r of this.#st()){const n=this.#$[r],i=this.#rt(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#U[r],this)}}rforEach(t,e=this){for(const r of this.#ot()){const n=this.#$[r],i=this.#rt(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#U[r],this)}}purgeStale(){let t=!1;for(const e of this.#ot({allowStale:!0}))this.#at(e)&&(this.#ht(this.#U[e],"expire"),t=!0);return t}info(t){const e=this.#W.get(t);if(void 0===e)return;const r=this.#$[e],n=this.#rt(r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(this.#X&&this.#Q){const t=this.#X[e],r=this.#Q[e];if(t&&r){const e=t-(oD.now()-r);i.ttl=e,i.start=Date.now()}}return this.#K&&(i.size=this.#K[e]),i}dump(){const t=[];for(const e of this.#st({allowStale:!0})){const r=this.#U[e],n=this.#$[e],i=this.#rt(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const s={value:i};if(this.#X&&this.#Q){s.ttl=this.#X[e];const t=oD.now()-this.#Q[e];s.start=Math.floor(Date.now()-t)}this.#K&&(s.size=this.#K[e]),t.unshift([r,s])}return t}load(t){this.clear();for(const[e,r]of t){if(r.start){const t=Date.now()-r.start;r.start=oD.now()-t}this.set(e,r.value,r)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const u=this.#bt(t,e,r.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#ht(t,"set"),this;let c=0===this.#B?void 0:this.#W.get(t);if(void 0===c)c=0===this.#B?this.#V:0!==this.#Y.length?this.#Y.pop():this.#B===this.#R?this.#mt(!1):this.#B,this.#U[c]=t,this.#$[c]=e,this.#W.set(t,c),this.#G[this.#V]=c,this.#H[c]=this.#V,this.#V=c,this.#B++,this.#yt(c,u,a),a&&(a.set="add"),l=!1,this.#Me&&this.#Ae?.(e,t,"add");else{this.#it(c);const r=this.#$[c];if(e!==r){if(this.#tt&&this.#rt(r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||s||(this.#J&&this.#I?.(e,t,"set"),this.#et&&this.#Z?.push([e,t,"set"]))}else s||(this.#J&&this.#I?.(r,t,"set"),this.#et&&this.#Z?.push([r,t,"set"]));if(this.#pt(c),this.#yt(c,u,a),this.#$[c]=e,a){a.set="replace";const t=r&&this.#rt(r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update");this.#Me&&this.onInsert?.(e,t,e===r?"update":"replace")}if(0===n||this.#X||this.#ut(),this.#X&&(l||this.#ct(c,n,i),a&&this.#dt(a,c)),!s&&this.#et&&this.#Z){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}return this}pop(){try{for(;this.#B;){const t=this.#$[this.#q];if(this.#mt(!0),this.#rt(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#et&&this.#Z){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}}}#mt(t){const e=this.#q,r=this.#U[e],n=this.#$[e];return this.#tt&&this.#rt(n)?n.__abortController.abort(new Error("evicted")):(this.#J||this.#et)&&(this.#J&&this.#I?.(n,r,"evict"),this.#et&&this.#Z?.push([n,r,"evict"])),this.#pt(e),t&&(this.#U[e]=void 0,this.#$[e]=void 0,this.#Y.push(e)),1===this.#B?(this.#q=this.#V=0,this.#Y.length=0):this.#q=this.#G[e],this.#W.delete(r),this.#B--,e}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=e,i=this.#W.get(t);if(void 0!==i){const t=this.#$[i];if(this.#rt(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#at(i))return r&&this.#ft(i),n&&(n.has="hit",this.#dt(n,i)),!0;n&&(n.has="stale",this.#dt(n,i))}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,n=this.#W.get(t);if(void 0===n||!r&&this.#at(n))return;const i=this.#$[n];return this.#rt(i)?i.__staleWhileFetching:i}#nt(t,e,r,n){const i=void 0===e?void 0:this.#$[e];if(this.#rt(i))return i;const s=new cD,{signal:o}=r;o?.addEventListener("abort",()=>s.abort(o.reason),{signal:s.signal});const a={signal:s.signal,options:r,context:n},l=(n,i=!1)=>{const{aborted:o}=s.signal,l=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,l&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!l&&!i)return u(s.signal.reason);const h=c;return this.#$[e]===c&&(void 0===n?h.__staleWhileFetching?this.#$[e]=h.__staleWhileFetching:this.#ht(t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,n,a.options))),n},u=n=>{const{aborted:i}=s.signal,o=i&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,u=c;if(this.#$[e]===c){!l||void 0===u.__staleWhileFetching?this.#ht(t,"fetch"):o||(this.#$[e]=u.__staleWhileFetching)}if(a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw n};r.status&&(r.status.fetchDispatched=!0);const c=new Promise((e,n)=>{const o=this.#D?.(t,i,a);o&&o instanceof Promise&&o.then(t=>e(void 0===t?void 0:t),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))})}).then(l,t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),u(t))),h=Object.assign(c,{__abortController:s,__staleWhileFetching:i,__returned:void 0});return void 0===e?(this.set(t,h,{...a.options,status:void 0}),e=this.#W.get(t)):this.#$[e]=h,h}#rt(t){if(!this.#tt)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof cD}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:p,forceRefresh:b=!1,status:y,signal:m}=e;if(!this.#tt)return y&&(y.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});const v={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:f,status:y,signal:m};let g=this.#W.get(t);if(void 0===g){y&&(y.fetch="miss");const e=this.#nt(t,g,v,p);return e.__returned=e}{const e=this.#$[g];if(this.#rt(e)){const t=r&&void 0!==e.__staleWhileFetching;return y&&(y.fetch="inflight",t&&(y.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const i=this.#at(g);if(!b&&!i)return y&&(y.fetch="hit"),this.#it(g),n&&this.#ft(g),y&&this.#dt(y,g),e;const s=this.#nt(t,g,v,p),o=void 0!==s.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",o&&i&&(y.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const r=await this.fetch(t,e);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(t,e={}){const r=this.#N;if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:i,...s}=e,o=this.get(t,s);if(!i&&void 0!==o)return o;const a=r(t,o,{options:s,context:n});return this.set(t,a,s),a}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:s}=e,o=this.#W.get(t);if(void 0!==o){const e=this.#$[o],a=this.#rt(e);return s&&this.#dt(s,o),this.#at(o)?(s&&(s.get="stale"),a?(s&&r&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),r?e.__staleWhileFetching:void 0):(i||this.#ht(t,"expire"),s&&r&&(s.returnedStale=!0),r?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(this.#it(o),n&&this.#ft(o),e))}s&&(s.get="miss")}#gt(t,e){this.#H[e]=t,this.#G[t]=e}#it(t){t!==this.#V&&(t===this.#q?this.#q=this.#G[t]:this.#gt(this.#H[t],this.#G[t]),this.#gt(this.#V,t),this.#V=t)}delete(t){return this.#ht(t,"delete")}#ht(t,e){let r=!1;if(0!==this.#B){const n=this.#W.get(t);if(void 0!==n)if(r=!0,1===this.#B)this.#wt(e);else{this.#pt(n);const r=this.#$[n];if(this.#rt(r)?r.__abortController.abort(new Error("deleted")):(this.#J||this.#et)&&(this.#J&&this.#I?.(r,t,e),this.#et&&this.#Z?.push([r,t,e])),this.#W.delete(t),this.#U[n]=void 0,this.#$[n]=void 0,n===this.#V)this.#V=this.#H[n];else if(n===this.#q)this.#q=this.#G[n];else{const t=this.#H[n];this.#G[t]=this.#G[n];const e=this.#G[n];this.#H[e]=this.#H[n]}this.#B--,this.#Y.push(n)}}if(this.#et&&this.#Z?.length){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}return r}clear(){return this.#wt("delete")}#wt(t){for(const e of this.#ot({allowStale:!0})){const r=this.#$[e];if(this.#rt(r))r.__abortController.abort(new Error("deleted"));else{const n=this.#U[e];this.#J&&this.#I?.(r,n,t),this.#et&&this.#Z?.push([r,n,t])}}if(this.#W.clear(),this.#$.fill(void 0),this.#U.fill(void 0),this.#X&&this.#Q&&(this.#X.fill(0),this.#Q.fill(0)),this.#K&&this.#K.fill(0),this.#q=0,this.#V=0,this.#Y.length=0,this.#z=0,this.#B=0,this.#et&&this.#Z){const t=this.#Z;let e;for(;e=t?.shift();)this.#F?.(...e)}}}const mD="object"==typeof process&&process?process:{stdout:null,stderr:null},vD=t=>!!t&&"object"==typeof t&&(t instanceof rN||t instanceof s||gD(t)||wD(t)),gD=t=>!!t&&"object"==typeof t&&t instanceof l.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==s.Writable.prototype.pipe,wD=t=>!!t&&"object"==typeof t&&t instanceof l.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end,_D=Symbol("EOF"),SD=Symbol("maybeEmitEnd"),ED=Symbol("emittedEnd"),OD=Symbol("emittingEnd"),xD=Symbol("emittedError"),TD=Symbol("closed"),kD=Symbol("read"),PD=Symbol("flush"),AD=Symbol("flushChunk"),MD=Symbol("encoding"),jD=Symbol("decoder"),LD=Symbol("flowing"),RD=Symbol("paused"),CD=Symbol("resume"),ID=Symbol("buffer"),FD=Symbol("pipes"),DD=Symbol("bufferLength"),ND=Symbol("bufferPush"),BD=Symbol("bufferShift"),zD=Symbol("objectMode"),WD=Symbol("destroyed"),UD=Symbol("error"),$D=Symbol("emitData"),GD=Symbol("emitEnd"),HD=Symbol("emitEnd2"),qD=Symbol("async"),VD=Symbol("abort"),YD=Symbol("aborted"),ZD=Symbol("signal"),KD=Symbol("dataListeners"),QD=Symbol("discarded"),XD=t=>Promise.resolve().then(t),JD=t=>t();class tN{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[CD](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class eN extends tN{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class rN extends l.EventEmitter{[LD]=!1;[RD]=!1;[FD]=[];[ID]=[];[zD];[MD];[qD];[jD];[_D]=!1;[ED]=!1;[OD]=!1;[TD]=!1;[xD]=null;[DD]=0;[WD]=!1;[ZD];[YD]=!1;[KD]=0;[QD]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");e.objectMode?(this[zD]=!0,this[MD]=null):(t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding)(e)?(this[MD]=e.encoding,this[zD]=!1):(this[zD]=!1,this[MD]=null),this[qD]=!!e.async,this[jD]=this[MD]?new m.StringDecoder(this[MD]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[ID]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[FD]});const{signal:r}=e;r&&(this[ZD]=r,r.aborted?this[VD]():r.addEventListener("abort",()=>this[VD]()))}get bufferLength(){return this[DD]}get encoding(){return this[MD]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[zD]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[qD]}set async(t){this[qD]=this[qD]||!!t}[VD](){this[YD]=!0,this.emit("abort",this[ZD]?.reason),this.destroy(this[ZD]?.reason)}get aborted(){return this[YD]}set aborted(t){}write(t,e,r){if(this[YD])return!1;if(this[_D])throw new Error("write after end");if(this[WD])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const n=this[qD]?XD:JD;if(!this[zD]&&!Buffer.isBuffer(t))if(i=t,!Buffer.isBuffer(i)&&ArrayBuffer.isView(i))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var i;return this[zD]?(this[LD]&&0!==this[DD]&&this[PD](!0),this[LD]?this.emit("data",t):this[ND](t),0!==this[DD]&&this.emit("readable"),r&&n(r),this[LD]):t.length?("string"!=typeof t||e===this[MD]&&!this[jD]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[MD]&&(t=this[jD].write(t)),this[LD]&&0!==this[DD]&&this[PD](!0),this[LD]?this.emit("data",t):this[ND](t),0!==this[DD]&&this.emit("readable"),r&&n(r),this[LD]):(0!==this[DD]&&this.emit("readable"),r&&n(r),this[LD])}read(t){if(this[WD])return null;if(this[QD]=!1,0===this[DD]||0===t||t&&t>this[DD])return this[SD](),null;this[zD]&&(t=null),this[ID].length>1&&!this[zD]&&(this[ID]=[this[MD]?this[ID].join(""):Buffer.concat(this[ID],this[DD])]);const e=this[kD](t||null,this[ID][0]);return this[SD](),e}[kD](t,e){if(this[zD])this[BD]();else{const r=e;t===r.length||null===t?this[BD]():"string"==typeof r?(this[ID][0]=r.slice(t),e=r.slice(0,t),this[DD]-=t):(this[ID][0]=r.subarray(t),e=r.subarray(0,t),this[DD]-=t)}return this.emit("data",e),this[ID].length||this[_D]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[_D]=!0,this.writable=!1,!this[LD]&&this[RD]||this[SD](),this}[CD](){this[WD]||(this[KD]||this[FD].length||(this[QD]=!0),this[RD]=!1,this[LD]=!0,this.emit("resume"),this[ID].length?this[PD]():this[_D]?this[SD]():this.emit("drain"))}resume(){return this[CD]()}pause(){this[LD]=!1,this[RD]=!0,this[QD]=!1}get destroyed(){return this[WD]}get flowing(){return this[LD]}get paused(){return this[RD]}[ND](t){this[zD]?this[DD]+=1:this[DD]+=t.length,this[ID].push(t)}[BD](){return this[zD]?this[DD]-=1:this[DD]-=this[ID][0].length,this[ID].shift()}[PD](t=!1){do{}while(this[AD](this[BD]())&&this[ID].length);t||this[ID].length||this[_D]||this.emit("drain")}[AD](t){return this.emit("data",t),this[LD]}pipe(t,e){if(this[WD])return t;this[QD]=!1;const r=this[ED];return e=e||{},t===mD.stdout||t===mD.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[FD].push(e.proxyErrors?new eN(this,t,e):new tN(this,t,e)),this[qD]?XD(()=>this[CD]()):this[CD]()),t}unpipe(t){const e=this[FD].find(e=>e.dest===t);e&&(1===this[FD].length?(this[LD]&&0===this[KD]&&(this[LD]=!1),this[FD]=[]):this[FD].splice(this[FD].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[QD]=!1,this[KD]++,this[FD].length||this[LD]||this[CD]();else if("readable"===t&&0!==this[DD])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[ED])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[xD]){const t=e;this[qD]?XD(()=>t.call(this,this[xD])):t.call(this,this[xD])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[KD]=this.listeners("data").length,0!==this[KD]||this[QD]||this[FD].length||(this[LD]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[KD]=0,this[QD]||this[FD].length||(this[LD]=!1)),e}get emittedEnd(){return this[ED]}[SD](){this[OD]||this[ED]||this[WD]||0!==this[ID].length||!this[_D]||(this[OD]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[TD]&&this.emit("close"),this[OD]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==WD&&this[WD])return!1;if("data"===t)return!(!this[zD]&&!r)&&(this[qD]?(XD(()=>this[$D](r)),!0):this[$D](r));if("end"===t)return this[GD]();if("close"===t){if(this[TD]=!0,!this[ED]&&!this[WD])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[xD]=r,super.emit(UD,r);const t=!(this[ZD]&&!this.listeners("error").length)&&super.emit("error",r);return this[SD](),t}if("resume"===t){const t=super.emit("resume");return this[SD](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const n=super.emit(t,...e);return this[SD](),n}[$D](t){for(const e of this[FD])!1===e.dest.write(t)&&this.pause();const e=!this[QD]&&super.emit("data",t);return this[SD](),e}[GD](){return!this[ED]&&(this[ED]=!0,this.readable=!1,this[qD]?(XD(()=>this[HD]()),!0):this[HD]())}[HD](){if(this[jD]){const t=this[jD].end();if(t){for(const e of this[FD])e.dest.write(t);this[QD]||super.emit("data",t)}}for(const t of this[FD])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[zD]||(t.dataLength=0);const e=this.promise();return this.on("data",e=>{t.push(e),this[zD]||(t.dataLength+=e.length)}),await e,t}async concat(){if(this[zD])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[MD]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(WD,()=>e(new Error("stream destroyed"))),this.on("error",t=>e(t)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[QD]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[_D])return e();let n,i;const s=t=>{this.off("data",o),this.off("end",a),this.off(WD,l),e(),i(t)},o=t=>{this.off("error",s),this.off("end",a),this.off(WD,l),this.pause(),n({value:t,done:!!this[_D]})},a=()=>{this.off("error",s),this.off("data",o),this.off(WD,l),e(),n({done:!0,value:void 0})},l=()=>s(new Error("stream destroyed"));return new Promise((t,e)=>{i=e,n=t,this.once(WD,l),this.once("error",s),this.once("end",a),this.once("data",o)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[QD]=!1;let t=!1;const e=()=>(this.pause(),this.off(UD,e),this.off(WD,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(UD,e),this.once(WD,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[WD])return t?this.emit("error",t):this.emit(WD),this;this[WD]=!0,this[QD]=!0,this[ID].length=0,this[DD]=0;return"function"!=typeof this.close||this[TD]||this.close(),t?this.emit("error",t):this.emit(WD),this}static get isStream(){return vD}}const nN=n.realpathSync.native,iN={lstatSync:n.lstatSync,readdir:n.readdir,readdirSync:n.readdirSync,readlinkSync:n.readlinkSync,realpathSync:nN,promises:{lstat:y.lstat,readdir:y.readdir,readlink:y.readlink,realpath:y.realpath}},sN=t=>t&&t!==iN&&t!==E?{...iN,...t,promises:{...iN.promises,...t.promises||{}}}:iN,oN=/^\\\\\?\\([a-z]:)\\?$/i,aN=/[\\\/]/,lN=10,uN=15,cN=-16,hN=128,fN=256,dN=512,pN=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?lN:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,bN=new Map,yN=t=>{const e=bN.get(t);if(e)return e;const r=t.normalize("NFKD");return bN.set(t,r),r},mN=new Map,vN=t=>{const e=mN.get(t);if(e)return e;const r=yN(t.toLowerCase());return mN.set(t,r),r};class gN extends yD{constructor(){super({max:256})}}class wN extends yD{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}const _N=Symbol("PathScurry setAsCwd");class SN{name;root;roots;parent;nocase;isCWD=!1;#o;#_t;get dev(){return this.#_t}#St;get mode(){return this.#St}#Et;get nlink(){return this.#Et}#Ot;get uid(){return this.#Ot}#xt;get gid(){return this.#xt}#Tt;get rdev(){return this.#Tt}#kt;get blksize(){return this.#kt}#Pt;get ino(){return this.#Pt}#B;get size(){return this.#B}#At;get blocks(){return this.#At}#Mt;get atimeMs(){return this.#Mt}#jt;get mtimeMs(){return this.#jt}#Lt;get ctimeMs(){return this.#Lt}#Rt;get birthtimeMs(){return this.#Rt}#Ct;get atime(){return this.#Ct}#It;get mtime(){return this.#It}#Ft;get ctime(){return this.#Ft}#Dt;get birthtime(){return this.#Dt}#Nt;#Bt;#zt;#Wt;#Ut;#$t;#Gt;#Ht;#qt;#Vt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,r,n,i,s,o){this.name=t,this.#Nt=i?vN(t):yN(t),this.#Gt=1023&e,this.nocase=i,this.roots=n,this.root=r||this,this.#Ht=s,this.#zt=o.fullpath,this.#Ut=o.relative,this.#$t=o.relativePosix,this.parent=o.parent,this.parent?this.#o=this.parent.#o:this.#o=sN(o.fs)}depth(){return void 0!==this.#Bt?this.#Bt:this.parent?this.#Bt=this.parent.depth()+1:this.#Bt=0}childrenCache(){return this.#Ht}resolve(t){if(!t)return this;const e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#Yt(r):this.#Yt(r)}#Yt(t){let e=this;for(const r of t)e=e.child(r);return e}children(){const t=this.#Ht.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#Ht.set(this,e),this.#Gt&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),n=this.nocase?vN(t):yN(t);for(const t of r)if(t.#Nt===n)return t;const i=this.parent?this.sep:"",s=this.#zt?this.#zt+i+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:s});return this.canReaddir()||(o.#Gt|=hN),r.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Ut)return this.#Ut;const t=this.name,e=this.parent;if(!e)return this.#Ut=this.name;const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#$t)return this.#$t;const t=this.name,e=this.parent;if(!e)return this.#$t=this.fullpathPosix();const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#zt)return this.#zt;const t=this.name,e=this.parent;if(!e)return this.#zt=this.name;const r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#zt=r}fullpathPosix(){if(void 0!==this.#Wt)return this.#Wt;if("/"===this.sep)return this.#Wt=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#Wt=`//?/${t}`:this.#Wt=t}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return this.#Wt=r}isUnknown(){return 0===(this.#Gt&uN)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8===(this.#Gt&uN)}isDirectory(){return 4===(this.#Gt&uN)}isCharacterDevice(){return 2===(this.#Gt&uN)}isBlockDevice(){return 6===(this.#Gt&uN)}isFIFO(){return 1===(this.#Gt&uN)}isSocket(){return 12===(this.#Gt&uN)}isSymbolicLink(){return(this.#Gt&lN)===lN}lstatCached(){return 32&this.#Gt?this:void 0}readlinkCached(){return this.#qt}realpathCached(){return this.#Vt}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#qt)return!0;if(!this.parent)return!1;const t=this.#Gt&uN;return!(0!==t&&t!==lN||this.#Gt&fN||this.#Gt&hN)}calledReaddir(){return!!(16&this.#Gt)}isENOENT(){return!!(this.#Gt&hN)}isNamed(t){return this.nocase?this.#Nt===vN(t):this.#Nt===yN(t)}async readlink(){const t=this.#qt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#o.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#qt=e}catch(t){return void this.#Zt(t.code)}}readlinkSync(){const t=this.#qt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#o.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#qt=e}catch(t){return void this.#Zt(t.code)}}#Kt(t){this.#Gt|=16;for(let e=t.provisional;e<t.length;e++){const r=t[e];r&&r.#Qt()}}#Qt(){this.#Gt&hN||(this.#Gt=(this.#Gt|hN)&cN,this.#Xt())}#Xt(){const t=this.children();t.provisional=0;for(const e of t)e.#Qt()}#Jt(){this.#Gt|=dN,this.#te()}#te(){if(64&this.#Gt)return;let t=this.#Gt;4===(t&uN)&&(t&=cN),this.#Gt=64|t,this.#Xt()}#ee(t=""){"ENOTDIR"===t||"EPERM"===t?this.#te():"ENOENT"===t?this.#Qt():this.children().provisional=0}#re(t=""){if("ENOTDIR"===t){this.parent.#te()}else"ENOENT"===t&&this.#Qt()}#Zt(t=""){let e=this.#Gt;e|=fN,"ENOENT"===t&&(e|=hN),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=cN),this.#Gt=e,"ENOTDIR"===t&&this.parent&&this.parent.#te()}#ne(t,e){return this.#ie(t,e)||this.#se(t,e)}#se(t,e){const r=pN(t),n=this.newChild(t.name,r,{parent:this}),i=n.#Gt&uN;return 4!==i&&i!==lN&&0!==i&&(n.#Gt|=64),e.unshift(n),e.provisional++,n}#ie(t,e){for(let r=e.provisional;r<e.length;r++){const n=e[r];if((this.nocase?vN(t.name):yN(t.name))===n.#Nt)return this.#oe(t,n,r,e)}}#oe(t,e,r,n){const i=e.name;return e.#Gt=e.#Gt&cN|pN(t),i!==t.name&&(e.name=t.name),r!==n.provisional&&(r===n.length-1?n.pop():n.splice(r,1),n.unshift(e)),n.provisional++,e}async lstat(){if(0===(this.#Gt&hN))try{return this.#ae(await this.#o.promises.lstat(this.fullpath())),this}catch(t){this.#re(t.code)}}lstatSync(){if(0===(this.#Gt&hN))try{return this.#ae(this.#o.lstatSync(this.fullpath())),this}catch(t){this.#re(t.code)}}#ae(t){const{atime:e,atimeMs:r,birthtime:n,birthtimeMs:i,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:u,gid:c,ino:h,mode:f,mtime:d,mtimeMs:p,nlink:b,rdev:y,size:m,uid:v}=t;this.#Ct=e,this.#Mt=r,this.#Dt=n,this.#Rt=i,this.#kt=s,this.#At=o,this.#Ft=a,this.#Lt=l,this.#_t=u,this.#xt=c,this.#Pt=h,this.#St=f,this.#It=d,this.#jt=p,this.#Et=b,this.#Tt=y,this.#B=m,this.#Ot=v;const g=pN(t);this.#Gt=this.#Gt&cN|g|32,0!==g&&4!==g&&g!==lN&&(this.#Gt|=64)}#le=[];#ue=!1;#ce(t){this.#ue=!1;const e=this.#le.slice();this.#le.length=0,e.forEach(e=>e(null,t))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask(()=>t(null,[])));const r=this.children();if(this.calledReaddir()){const n=r.slice(0,r.provisional);return void(e?t(null,n):queueMicrotask(()=>t(null,n)))}if(this.#le.push(t),this.#ue)return;this.#ue=!0;const n=this.fullpath();this.#o.readdir(n,{withFileTypes:!0},(t,e)=>{if(t)this.#ee(t.code),r.provisional=0;else{for(const t of e)this.#ne(t,r);this.#Kt(r)}this.#ce(r.slice(0,r.provisional))})}#he;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#he)await this.#he;else{let r=()=>{};this.#he=new Promise(t=>r=t);try{for(const r of await this.#o.promises.readdir(e,{withFileTypes:!0}))this.#ne(r,t);this.#Kt(t)}catch(e){this.#ee(e.code),t.provisional=0}this.#he=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of this.#o.readdirSync(e,{withFileTypes:!0}))this.#ne(r,t);this.#Kt(t)}catch(e){this.#ee(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#Gt)return!1;const t=uN&this.#Gt;return 0===t||4===t||t===lN}shouldWalk(t,e){return!(4&~this.#Gt)&&!(704&this.#Gt)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#Vt)return this.#Vt;if(!(896&this.#Gt))try{const t=await this.#o.promises.realpath(this.fullpath());return this.#Vt=this.resolve(t)}catch(t){this.#Jt()}}realpathSync(){if(this.#Vt)return this.#Vt;if(!(896&this.#Gt))try{const t=this.#o.realpathSync(this.fullpath());return this.#Vt=this.resolve(t)}catch(t){this.#Jt()}}[_N](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let r=[],n=this;for(;n&&n.parent;)e.add(n),n.#Ut=r.join(this.sep),n.#$t=r.join("/"),n=n.parent,r.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#Ut=void 0,n.#$t=void 0,n=n.parent}}class EN extends SN{sep="\\";splitSep=aN;constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}newChild(t,e=0,r={}){return new EN(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return o.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(oN,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new TN(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(oN,"$1\\"))===e}}class ON extends SN{splitSep="/";sep="/";constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,r={}){return new ON(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}}class xN{root;rootPath;roots;cwd;#fe;#de;#Ht;nocase;#o;constructor(t=process.cwd(),e,r,{nocase:n,childrenCacheSize:i=16384,fs:s=iN}={}){this.#o=sN(s),(t instanceof URL||t.startsWith("file://"))&&(t=b.fileURLToPath(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#fe=new gN,this.#de=new gN,this.#Ht=new wN(i);const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===n)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#o),this.roots[this.rootPath]=this.root;let l=this.root,u=a.length-1;const c=e.sep;let h=this.rootPath,f=!1;for(const t of a){const e=u--;l=l.child(t,{relative:new Array(e).fill("..").join(c),relativePosix:new Array(e).fill("..").join("/"),fullpath:h+=(f?"":c)+t}),f=!0}this.cwd=l}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#Ht}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#fe.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpath();return this.#fe.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#de.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpathPosix();return this.#de.set(e,n),n}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map(t=>t.name)}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map(t=>t.name):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB((t,u)=>{if(t)return e(t);let c=u.length;if(!c)return e();const h=()=>{0===--c&&e()};for(const t of u)i&&!i(t)||o.push(r?t:t.fullpath()),n&&t.isSymbolicLink()?t.realpath().then(t=>t?.isUnknown()?t.lstat():t).then(t=>t?.shouldWalk(a,s)?l(t,h):h()):t.shouldWalk(a,s)?l(t,h):h()},!0)},u=t;return new Promise((t,e)=>{l(u,r=>{if(r)return e(r);t(o)})})}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){i&&!i(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e;i&&!i(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){i&&!i(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new rN({objectMode:!0});i&&!i(t)||o.write(r?t:t.fullpath());const a=new Set,l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const h=(e,d,p=!1)=>{if(e)return o.emit("error",e);if(n&&!p){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then(t=>t?.isUnknown()?t.lstat():t));if(t.length)return void Promise.all(t).then(()=>h(null,d,!0))}for(const e of d)!e||i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",c):f||c()};let f=!0;e.readdirCB(h,!0),f=!1}};return c(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof SN||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new rN({objectMode:!0}),a=new Set;i&&!i(t)||o.write(r?t:t.fullpath());const l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const c=e.readdirSync();for(const e of c)i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of c){let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",c)};return c(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[_N](e)}}class TN extends xN{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,o.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return o.win32.parse(t).root.toUpperCase()}newRoot(t){return new EN(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}class kN extends xN{sep="/";constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,o.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new ON(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}class PN extends kN{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}}process.platform;const AN="win32"===process.platform?TN:"darwin"===process.platform?PN:kN;class MN{#pe;#be;#ye;length;#me;#ve;#ge;#we;#_e;#Se;#Ee=!0;constructor(t,e,r,n){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#pe=t,this.#be=e,this.#ye=r,this.#me=n,0===this.#ye)if(this.isUNC()){const[t,e,r,n,...i]=this.#pe,[s,o,a,l,...u]=this.#be;""===i[0]&&(i.shift(),u.shift());const c=[t,e,r,n,""].join("/"),h=[s,o,a,l,""].join("/");this.#pe=[c,...i],this.#be=[h,...u],this.length=this.#pe.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#pe,[r,...n]=this.#be;""===e[0]&&(e.shift(),n.shift());const i=t+"/",s=r+"/";this.#pe=[i,...e],this.#be=[s,...n],this.length=this.#pe.length}}pattern(){return this.#pe[this.#ye]}isString(){return"string"==typeof this.#pe[this.#ye]}isGlobstar(){return this.#pe[this.#ye]===eD}isRegExp(){return this.#pe[this.#ye]instanceof RegExp}globString(){return this.#ge=this.#ge||(0===this.#ye?this.isAbsolute()?this.#be[0]+this.#be.slice(1).join("/"):this.#be.join("/"):this.#be.slice(this.#ye).join("/"))}hasMore(){return this.length>this.#ye+1}rest(){return void 0!==this.#ve?this.#ve:this.hasMore()?(this.#ve=new MN(this.#pe,this.#be,this.#ye+1,this.#me),this.#ve.#Se=this.#Se,this.#ve.#_e=this.#_e,this.#ve.#we=this.#we,this.#ve):this.#ve=null}isUNC(){const t=this.#pe;return void 0!==this.#_e?this.#_e:this.#_e="win32"===this.#me&&0===this.#ye&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#pe;return void 0!==this.#we?this.#we:this.#we="win32"===this.#me&&0===this.#ye&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#pe;return void 0!==this.#Se?this.#Se:this.#Se=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#pe[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#ye?t:""}checkFollowGlobstar(){return!(0===this.#ye||!this.isGlobstar()||!this.#Ee)}markFollowGlobstar(){return!(0===this.#ye||!this.isGlobstar()||!this.#Ee)&&(this.#Ee=!1,!0)}}const jN="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class LN{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:r,noext:n,noglobstar:i,platform:s=jN}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=s,this.mmopts={dot:!0,nobrace:e,nocase:r,noext:n,noglobstar:i,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new sD(t,this.mmopts);for(let t=0;t<e.set.length;t++){const r=e.set[t],n=e.globParts[t];if(!r||!n)throw new Error("invalid pattern object");for(;"."===r[0]&&"."===n[0];)r.shift(),n.shift();const i=new MN(r,n,0,this.platform),s=new sD(i.globString(),this.mmopts),o="**"===n[n.length-1],a=i.isAbsolute();a?this.absolute.push(s):this.relative.push(s),o&&(a?this.absoluteChildren.push(s):this.relativeChildren.push(s))}}ignored(t){const e=t.fullpath(),r=`${e}/`,n=t.relative()||".",i=`${n}/`;for(const t of this.relative)if(t.match(n)||t.match(i))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}}class RN{store;constructor(t=new Map){this.store=t}copy(){return new RN(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),n=this.store.get(r);n?n.add(e.globString()):this.store.set(r,new Set([e.globString()]))}}class CN{store=new Map;add(t,e,r){const n=(e?2:0)|(r?1:0),i=this.store.get(t);this.store.set(t,void 0===i?n:n&i)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(2&e),!!(1&e)])}}class IN{store=new Map;add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find(t=>t.globString()===e.globString())||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}class FN{hasWalkedCache;matches=new CN;subwalks=new IN;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new RN}processPatterns(t,e){this.patterns=e;const r=e.map(e=>[t,e]);for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),n=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const n=e.rest();if(!n){this.matches.add(t,!0,!1);continue}e=n}if(t.isENOENT())continue;let i,s,o=!1;for(;"string"==typeof(i=e.pattern())&&(s=e.rest());){const r=t.resolve(i);t=r,e=s,o=!0}if(i=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"==typeof i){const e=".."===i||""===i||"."===i;this.matches.add(t.resolve(i),n,e);continue}if(i===eD){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=s?.pattern(),i=s?.rest();if(s&&(""!==r&&"."!==r||i)){if(".."===r){const e=t.parent||t;i?this.hasWalkedCache.hasWalked(e,i)||this.subwalks.add(e,i):this.matches.add(e,n,!0)}}else this.matches.add(t,n,""===r||"."===r)}else i instanceof RegExp&&this.subwalks.add(t,e)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new FN(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),n=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),i=e.pattern(),s=e.rest();i===eD?n.testGlobstar(t,e,s,r):i instanceof RegExp?n.testRegExp(t,i,s,r):n.testString(t,i,s,r)}return n}testGlobstar(t,e,r,n){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),n);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),n)}}testRegExp(t,e,r,n){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}testString(t,e,r,n){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}}class DN{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#Oe=[];#xe;#Te;signal;maxDepth;includeChildMatches;constructor(t,e,r){if(this.patterns=t,this.path=e,this.opts=r,this.#Te=r.posix||"win32"!==r.platform?"/":"\\",this.includeChildMatches=!1!==r.includeChildMatches,(r.ignore||!this.includeChildMatches)&&(this.#xe=((t,e)=>"string"==typeof t?new LN([t],e):Array.isArray(t)?new LN(t,e):t)(r.ignore??[],r),!this.includeChildMatches&&"function"!=typeof this.#xe.add)){throw new Error("cannot ignore child matches, ignore lacks add() method.")}this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",()=>{this.#Oe.length=0}))}#ke(t){return this.seen.has(t)||!!this.#xe?.ignored?.(t)}#Pe(t){return!!this.#xe?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#Oe.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#Oe.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=await n.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(n,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#ke(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=n.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(n,e)}matchFinish(t,e){if(this.#ke(t))return;if(!this.includeChildMatches&&this.#xe?.add){const e=`${t.relativePosix()}/**`;this.#xe.add(e)}const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#Te:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+n)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+this.#Te)?"."+this.#Te:"";this.matchEmit(e?r+e+n:"."+n)}}async match(t,e,r){const n=await this.matchCheck(t,r);n&&this.matchFinish(n,e)}matchSync(t,e,r){const n=this.matchCheckSync(t,r);n&&this.matchFinish(n,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new FN(this.opts),r)}walkCB2(t,e,r,n){if(this.#Pe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||(i++,this.match(t,e,n).then(()=>s()));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,s):t.readdirCB((e,n)=>this.walkCB3(t,n,r,s),!0)}s()}walkCB3(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||(i++,this.match(t,e,n).then(()=>s()));for(const[t,e]of r.subwalks.entries())i++,this.walkCB2(t,e,r.child(),s);s()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new FN(this.opts),r)}walkCB2Sync(t,e,r,n){if(this.#Pe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2Sync(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||this.matchSync(t,e,n);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,s)}s()}walkCB3Sync(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#ke(t)||this.matchSync(t,e,n);for(const[t,e]of r.subwalks.entries())i++,this.walkCB2Sync(t,e,r.child(),s);s()}}class NN extends DN{matches=new Set;constructor(t,e,r){super(t,e,r)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}class BN extends DN{results;constructor(t,e,r){super(t,e,r),this.results=new rN({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}const zN="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class WN{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=b.fileURLToPath(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map(t=>t.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(t=>t.includes("/")?t:`./**/${t}`)}if(this.pattern=t,this.platform=e.platform||zN,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?TN:"darwin"===e.platform?PN:e.platform?kN:AN;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},i=this.pattern.map(t=>new sD(t,n)),[s,o]=i.reduce((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t),[[],[]]);this.patterns=s.map((t,e)=>{const r=o[e];if(!r)throw new Error("invalid pattern object");return new MN(t,r,0,this.platform)})}async walk(){return[...await new NN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new NN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new BN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new BN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}function UN(t,e={}){return new WN(t,e).streamSync()}function $N(t,e={}){return new WN(t,e).stream()}function GN(t,e={}){return new WN(t,e).walkSync()}async function HN(t,e={}){return new WN(t,e).walk()}function qN(t,e={}){return new WN(t,e).iterateSync()}function VN(t,e={}){return new WN(t,e).iterate()}const YN=UN,ZN=Object.assign($N,{sync:UN}),KN=qN,QN=Object.assign(VN,{sync:qN}),XN=Object.assign(GN,{stream:UN,iterate:qN}),JN=Object.assign(HN,{glob:HN,globSync:GN,sync:XN,globStream:$N,stream:ZN,globStreamSync:UN,streamSync:YN,globIterate:VN,iterate:QN,globIterateSync:qN,iterateSync:KN,Glob:WN,hasMagic:(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new sD(r,e).hasMagic())return!0;return!1},escape:LF,unescape:wF});var tB;JN.glob=JN,function(t){t[t.uncompressed=0]="uncompressed",t[t.medium=5]="medium",t[t.high=9]="high"}(tB||(tB={}));class eB{static async tar(t,e,r){const n=r||{compression:tB.high};n.compression===tB.uncompressed?await eB.compress({src:t,targetFilePath:e,format:"tar",zipAFolderOptions:r}):await eB.compress({src:t,targetFilePath:e,format:"tar",zipAFolderOptions:r,archiverOptions:{gzip:!0,gzipOptions:{level:n.compression}}})}static async zip(t,e,r){const n=r||{compression:tB.high};n.compression===tB.uncompressed?await eB.compress({src:t,targetFilePath:e,format:"zip",zipAFolderOptions:r,archiverOptions:{store:!0}}):await eB.compress({src:t,targetFilePath:e,format:"zip",zipAFolderOptions:r,archiverOptions:{zlib:{level:n.compression}}})}static async compress({src:t,targetFilePath:e,format:r,zipAFolderOptions:s,archiverOptions:o}){let a;const l=[];if(!s?.customWriteStream&&e){const r=i.dirname(e);if(r===t)throw new Error("Source and target folder must be different.");try{WI(t)||await g.access(t,g.constants.R_OK),await g.access(r,g.constants.R_OK|g.constants.W_OK)}catch(t){throw new Error(`Permission error: ${t.message}`)}if(WI(t)){for(const e of t.split(","))l.push(...await JN(e.trim()));if(0===l.length)throw new Error(`No glob match found for "${t}".`)}a=n.createWriteStream(e)}else{if(!s||!s.customWriteStream)throw new Error("You must either provide a target file path or a custom write stream to write to.");a=s.customWriteStream}const u=FI(r,o||{});return new Promise(async(e,r)=>{if(a.on("close",e),a.on("error",r),u.pipe(a),WI(t)){for(const t of l)if((await g.lstat(t)).isFile()){const e=await g.readFile(t);u.append(e,{name:t})}}else u.directory(t,s?.destPath||!1);await u.finalize()})}}const rB=eB.zip;var nB={exports:{}},iB={},sB=iB.require=function(){if("object"==typeof process&&process.versions&&process.versions.electron)try{const t=sB("original-fs");if(Object.keys(t).length>0)return t}catch(t){}return n},oB={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},aB={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"};const lB=iB.require(),uB=i,cB=oB,hB=aB,fB="object"==typeof process&&"win32"===process.platform,dB=t=>t&&"object"==typeof t,pB=new Uint32Array(256).map((t,e)=>{for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;return e>>>0});function bB(t){this.sep=uB.sep,this.fs=lB,dB(t)&&dB(t.fs)&&"function"==typeof t.fs.statSync&&(this.fs=t.fs)}var yB=bB;bB.prototype.makeDir=function(t){const e=this;!function(t){let r=t.split(e.sep)[0];t.split(e.sep).forEach(function(t){if(t&&":"!==t.substr(-1,1)){var n;r+=e.sep+t;try{n=e.fs.statSync(r)}catch(t){e.fs.mkdirSync(r)}if(n&&n.isFile())throw hB.FILE_IN_THE_WAY.replace("%s",r)}})}(t)},bB.prototype.writeFileTo=function(t,e,r,n){const i=this;if(i.fs.existsSync(t)){if(!r)return!1;if(i.fs.statSync(t).isDirectory())return!1}var s,o=uB.dirname(t);i.fs.existsSync(o)||i.makeDir(o);try{s=i.fs.openSync(t,"w",438)}catch(e){i.fs.chmodSync(t,438),s=i.fs.openSync(t,"w",438)}if(s)try{i.fs.writeSync(s,e,0,e.length,0)}finally{i.fs.closeSync(s)}return i.fs.chmodSync(t,n||438),!0},bB.prototype.writeFileToAsync=function(t,e,r,n,i){"function"==typeof n&&(i=n,n=void 0);const s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(r,a){if(o&&a.isDirectory())return i(!1);var l=uB.dirname(t);s.fs.exists(l,function(r){r||s.makeDir(l),s.fs.open(t,"w",438,function(r,o){r?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(r,o){s.fs.write(o,e,0,e.length,0,function(){s.fs.close(o,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):o?s.fs.write(o,e,0,e.length,0,function(){s.fs.close(o,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})},bB.prototype.findFiles=function(t){const e=this;return function t(r,n,i){let s=[];return e.fs.readdirSync(r).forEach(function(o){var a=uB.join(r,o);e.fs.statSync(a).isDirectory()&&i&&(s=s.concat(t(a,n,i))),s.push(uB.normalize(a)+(e.fs.statSync(a).isDirectory()?e.sep:""))}),s}(t,void 0,!0)},bB.prototype.getAttributes=function(){},bB.prototype.setAttributes=function(){},bB.crc32update=function(t,e){return pB[255&(t^e)]^t>>>8},bB.crc32=function(t){"string"==typeof t&&(t=Buffer.from(t,"utf8")),pB.length||genCRCTable();let e=t.length,r=-1;for(let n=0;n<e;)r=bB.crc32update(r,t[n++]);return~r>>>0},bB.methodToString=function(t){switch(t){case cB.STORED:return"STORED ("+t+")";case cB.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}},bB.canonical=function(t){if(!t)return"";var e=uB.posix.normalize("/"+t.split("\\").join("/"));return uB.join(".",e)},bB.sanitize=function(t,e){t=uB.resolve(uB.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=uB.normalize(uB.join(t,r.slice(n,i).join(uB.sep)));if(0===s.indexOf(t))return s}return uB.normalize(uB.join(t,uB.basename(e)))},bB.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):"string"==typeof t?Buffer.from(t,"utf8"):Buffer.alloc(0)},bB.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)},bB.isWin=fB,bB.crcTable=pB;const mB=iB.require(),vB=i;mB.existsSync=mB.existsSync||vB.existsSync;nB.exports=yB,nB.exports.Constants=oB,nB.exports.Errors=aB,nB.exports.FileAttr=function(t){var e=t||"",r={directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0},n=null;return e&&mB.existsSync(e)?(n=mB.statSync(e),r.directory=n.isDirectory(),r.mtime=n.mtime,r.atime=n.atime,r.executable=!!(73&n.mode),r.readonly=!(128&n.mode),r.hidden="."===vB.basename(e)[0]):console.warn("Invalid path: "+e),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:e,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}};var gB=nB.exports;gB.Constants,gB.Constants,new Uint32Array(256).map((t,e)=>{for(let t=0;t<8;t++)1&e?e=e>>>1^3988292384:e>>>=1;return e>>>0}),gB.Constants;gB.Constants.NONE;const wB=(t,e,r,s)=>new Bt.Observable(o=>{e.sftp((e,a)=>em(void 0,void 0,void 0,function*(){if(e)throw e;const l=`${t.project}-5p2O5qKT6JCM.zip`,u=`${t.serverDir}/${l}`,c=`unzip ${u} -d ${t.serverDir}/${t.project}`,h=a.createWriteStream(u),f=i.resolve(process.cwd(),"dist.zip");h.on("close",()=>{o.next({command:c,del:`rm -r ${u}`}),o.complete(),n.rmSync(f)}),h.on("end",()=>{o.next({command:c,del:`rm -r ${u}`}),o.complete(),n.rmSync(f)}),yield function(t,e,r){return rB(i.join(t,e),r)}(r,s,f);n.createReadStream(f).pipe(h)}))}),_B=(t,e)=>new Bt.Observable(r=>{t.exec(e,(t,e)=>{if(t)throw t;let n="";e.on("data",t=>{n=t.toString()}),e.on("close",()=>{r.next(n),r.complete(),e.destroy()})})}),SB=Nt(process.argv.slice(2)).env;if(!SB)throw new Error("参数env不存在");const EB=i.resolve(process.cwd(),"lungo.config.json");if(!n.existsSync(EB))throw new Error("配置文件不存在,请创建lungo.config.json文件");const OB=JSON.parse(n.readFileSync(i.resolve(process.cwd(),"lungo.config.json")).toString());if(!OB[SB])throw new Error(`配置文件${SB}不存在`);const xB=OB[SB],TB=new Set(Object.keys(xB));["serverDir","host","port","username","project","dist"].some(t=>{if(!TB.has(t))throw new Error("配置文件缺少"+t)}),["privateKey","password"].every(t=>{if(!TB.has(t))throw new Error("密码或私钥缺少"+t)});let kB=null,PB="echo no file delete";(t=>(t=>new Bt.Observable(e=>{const r=new w.Client;if(t.forward){const n=new w.Client;n.on("ready",()=>{n.forwardOut("127.0.0.1",8797,t.host,t.port,(i,s)=>{if(i)return console.log("FIRST :: exec error: "+i),n.end();r.on("ready",()=>{e.next(r)}).on("close",()=>{e.complete()}).connect(Object.assign({sock:s,host:t.host,port:t.port,username:t.username},"password"in t?{password:t.password}:{privateKey:t.privateKey}))})}).connect(t.forward)}else r.on("ready",()=>{e.next(r)}).on("close",()=>{e.complete()}).connect(Object.assign({host:t.host,port:t.port,username:t.username},"password"in t?{password:t.password}:{privateKey:t.privateKey}))}))(t).pipe(Bt.tap(t=>{kB=t}),Bt.concatMap(e=>_B(e,`ls ${t.serverDir}`).pipe(Bt.map(t=>t.split("\n")))),Bt.map(e=>{const r=new RegExp(`${t.project}.bak.([0-9]{13})`),n=e.filter(e=>0===e.indexOf(t.project+".bak")).map(t=>{const e=t.match(r);return{filename:t,date:e?Ct(Number(e[1])).format("YYYY-MM-DD HH:mm:ss"):""}}).sort((t,e)=>Number(t.date<e.date));if(console.log(Q.green(`共存在${n.length}份备份;`)),t.timeout){const e=t.timeout,i=n.filter(({date:t})=>Ct().subtract(e,"day").isAfter(t)).map(({filename:t})=>t.match(r)[1]);PB=`rm -r ${t.serverDir}/${t.project}.bak.{${i.join(",")}}`,console.log(Q.green(`共需要删除${i.length}份备份`))}if(n.length>0){const t=new et.Table({columns:[{name:"index",alignment:"right",color:"green"},{name:"filename",color:"green"},{name:"date",color:"green"}]});t.addRows(n.map((t,e)=>({index:e+1,filename:t.filename,date:t.date}))),t.printTable()}let i=`mv -v ${t.serverDir}/${t.project} ${t.serverDir}/${t.project}.bak.${Date.now()}`;return e.includes(t.project)||(i='echo "success"'),i}),Bt.concatMap(t=>_B(kB,t)),Bt.concatMap(()=>wB(t,kB,process.cwd(),t.dist)),Bt.concatMap(t=>_B(kB,t.command).pipe(Bt.map(e=>t))),Bt.map(t=>t.del),Bt.concatMap(t=>_B(kB,t)),Bt.concatMap(()=>_B(kB,PB))))(xB).subscribe(t=>{console.log(Q.green("上传成功")),kB&&kB.end()});
