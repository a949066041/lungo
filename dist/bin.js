#!/usr/bin/env node
"use strict";var t=require("process"),e=require("os"),r=require("tty"),n=require("fs"),i=require("path"),s=require("events"),o=require("constants"),a=require("stream"),l=require("util"),u=require("assert"),c=require("buffer"),h=require("url"),f=require("path"),d=require("fs"),p=require("fs/promises"),b=require("events"),y=require("stream"),m=require("string_decoder"),v=require("zlib"),g=require("fs/promises"),w=require("ssh2");function S(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var E=S(d);const O=(t=0)=>e=>`[${e+t}m`,x=(t=0)=>e=>`[${38+t};5;${e}m`,T=(t=0)=>(e,r,n)=>`[${38+t};2;${e};${r};${n}m`,k={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(k.modifier);Object.keys(k.color),Object.keys(k.bgColor);const A=function(){const t=new Map;for(const[e,r]of Object.entries(k)){for(const[e,n]of Object.entries(r))k[e]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[e]=k[e],t.set(n[0],n[1]);Object.defineProperty(k,e,{value:r,enumerable:!1})}return Object.defineProperty(k,"codes",{value:t,enumerable:!1}),k.color.close="[39m",k.bgColor.close="[49m",k.color.ansi=O(),k.color.ansi256=x(),k.color.ansi16m=T(),k.bgColor.ansi=O(10),k.bgColor.ansi256=x(10),k.bgColor.ansi16m=T(10),Object.defineProperties(k,{rgbToAnsi256:{value:(t,e,r)=>t===e&&e===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(t){const e=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!e)return[0,0,0];let[r]=e;3===r.length&&(r=[...r].map(t=>t+t).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:t=>k.rgbToAnsi256(...k.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return t-8+90;let e,r,n;if(t>=232)e=(10*(t-232)+8)/255,r=e,n=e;else{const i=(t-=16)%36;e=Math.floor(t/36)/5,r=Math.floor(i/6)/5,n=i%6/5}const i=2*Math.max(e,r,n);if(0===i)return 30;let s=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(e));return 2===i&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(t,e,r)=>k.ansi256ToAnsi(k.rgbToAnsi256(t,e,r)),enumerable:!1},hexToAnsi:{value:t=>k.ansi256ToAnsi(k.hexToAnsi256(t)),enumerable:!1}}),k}();function P(e,r=(globalThis.Deno?globalThis.Deno.args:t.argv)){const n=e.startsWith("-")?"":1===e.length?"-":"--",i=r.indexOf(n+e),s=r.indexOf("--");return-1!==i&&(-1===s||i<s)}const{env:M}=t;let j;function R(r,{streamIsTTY:n,sniffFlags:i=!0}={}){const s=function(){if("FORCE_COLOR"in M)return"true"===M.FORCE_COLOR?1:"false"===M.FORCE_COLOR?0:0===M.FORCE_COLOR.length?1:Math.min(Number.parseInt(M.FORCE_COLOR,10),3)}();void 0!==s&&(j=s);const o=i?j:s;if(0===o)return 0;if(i){if(P("color=16m")||P("color=full")||P("color=truecolor"))return 3;if(P("color=256"))return 2}if("TF_BUILD"in M&&"AGENT_NAME"in M)return 1;if(r&&!n&&void 0===o)return 0;const a=o||0;if("dumb"===M.TERM)return a;if("win32"===t.platform){const t=e.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in M)return"GITHUB_ACTIONS"in M||"GITEA_ACTIONS"in M?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(t=>t in M)||"codeship"===M.CI_NAME?1:a;if("TEAMCITY_VERSION"in M)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(M.TEAMCITY_VERSION)?1:0;if("truecolor"===M.COLORTERM)return 3;if("xterm-kitty"===M.TERM)return 3;if("TERM_PROGRAM"in M){const t=Number.parseInt((M.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(M.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(M.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(M.TERM)||"COLORTERM"in M?1:a}function L(t,e={}){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(R(t,{streamIsTTY:t&&t.isTTY,...e}))}P("no-color")||P("no-colors")||P("color=false")||P("color=never")?j=0:(P("color")||P("colors")||P("color=true")||P("color=always"))&&(j=1);const C={stdout:L({isTTY:r.isatty(1)}),stderr:L({isTTY:r.isatty(2)})};function I(t,e,r){let n=t.indexOf(e);if(-1===n)return t;const i=e.length;let s=0,o="";do{o+=t.slice(s,n)+e+r,s=n+i,n=t.indexOf(e,s)}while(-1!==n);return o+=t.slice(s),o}const{stdout:F,stderr:N}=C,D=Symbol("GENERATOR"),B=Symbol("STYLER"),z=Symbol("IS_EMPTY"),W=["ansi","ansi","ansi256","ansi16m"],U=Object.create(null),$=t=>{const e=(...t)=>t.join(" ");return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=F?F.level:0;t.level=void 0===e.level?r:e.level})(e,t),Object.setPrototypeOf(e,G.prototype),e};function G(t){return $(t)}Object.setPrototypeOf(G.prototype,Function.prototype);for(const[t,e]of Object.entries(A))U[t]={get(){const r=Z(this,Y(e.open,e.close,this[B]),this[z]);return Object.defineProperty(this,t,{value:r}),r}};U.visible={get(){const t=Z(this,this[B],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const H=(t,e,r,...n)=>"rgb"===t?"ansi16m"===e?A[r].ansi16m(...n):"ansi256"===e?A[r].ansi256(A.rgbToAnsi256(...n)):A[r].ansi(A.rgbToAnsi(...n)):"hex"===t?H("rgb",e,r,...A.hexToRgb(...n)):A[r][t](...n),q=["rgb","hex","ansi256"];for(const t of q){U[t]={get(){const{level:e}=this;return function(...r){const n=Y(H(t,W[e],"color",...r),A.color.close,this[B]);return Z(this,n,this[z])}}};U["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const{level:e}=this;return function(...r){const n=Y(H(t,W[e],"bgColor",...r),A.bgColor.close,this[B]);return Z(this,n,this[z])}}}}const V=Object.defineProperties(()=>{},{...U,level:{enumerable:!0,get(){return this[D].level},set(t){this[D].level=t}}}),Y=(t,e,r)=>{let n,i;return void 0===r?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},Z=(t,e,r)=>{const n=(...t)=>K(n,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(n,V),n[D]=t,n[B]=e,n[z]=r,n},K=(t,e)=>{if(t.level<=0||!e)return t[z]?"":e;let r=t[B];if(void 0===r)return e;const{openAll:n,closeAll:i}=r;if(e.includes(""))for(;void 0!==r;)e=I(e,r.close,r.open),r=r.parent;const s=e.indexOf("\n");return-1!==s&&(e=function(t,e,r,n){let i=0,s="";do{const o="\r"===t[n-1];s+=t.slice(i,o?n-1:n)+e+(o?"\r\n":"\n")+r,i=n+1,n=t.indexOf("\n",i)}while(-1!==n);return s+=t.slice(i),s}(e,i,n,s)),n+e+i};Object.defineProperties(G.prototype,U);const Q=G();G({level:N?N.level:0});var J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function X(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tt(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})}),r}var et={},rt={},nt={},it={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLOR_MAP=void 0,t.DEFAULT_COLOR_MAP={red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",white_bold:"[01m",reset:"[0m"};t.default=class{constructor(e=t.DEFAULT_COLOR_MAP){this.text="",this.colorMap=e}addCharsWithColor(t,e){const r=this.colorMap[t];this.text+=void 0!==r?`${r}${e}${this.colorMap.reset}`:e}renderConsole(){return this.text}}}(it);var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.DEFAULT_HEADER_ALIGNMENT=st.DEFAULT_ROW_ALIGNMENT=st.DEFAULT_HEADER_FONT_COLOR=st.DEFAULT_ROW_FONT_COLOR=st.COLORS=st.ALIGNMENTS=st.DEFAULT_TABLE_STYLE=st.DEFAULT_ROW_SEPARATOR=st.DEFAULT_COLUMN_LEN=void 0,st.DEFAULT_COLUMN_LEN=20,st.DEFAULT_ROW_SEPARATOR=!1,st.DEFAULT_TABLE_STYLE={headerTop:{left:"┌",mid:"┬",right:"┐",other:"─"},headerBottom:{left:"├",mid:"┼",right:"┤",other:"─"},tableBottom:{left:"└",mid:"┴",right:"┘",other:"─"},vertical:"│",rowSeparator:{left:"├",mid:"┼",right:"┤",other:"─"}},st.ALIGNMENTS=["right","left","center"],st.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"],st.DEFAULT_ROW_FONT_COLOR="white",st.DEFAULT_HEADER_FONT_COLOR="white_bold",st.DEFAULT_ROW_ALIGNMENT="right",st.DEFAULT_HEADER_ALIGNMENT="center";var ot={},at={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rawColumnToInternalColumn=t.objIfExists=void 0;const e=st;t.objIfExists=(t,e)=>e?{[t]:e}:{};t.rawColumnToInternalColumn=r=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({name:r.name,title:null!==(n=r.title)&&void 0!==n?n:r.name},(0,t.objIfExists)("color",r.color)),(0,t.objIfExists)("maxLen",r.maxLen)),(0,t.objIfExists)("minLen",r.minLen)),{alignment:r.alignment||e.DEFAULT_ROW_ALIGNMENT})}}(at);var lt={},ut={},ct={},ht={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.default=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}];var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.default=(t,e,r)=>{let n,i=0,s=r;if(t<e[0].first||t>e[s].last)return 0;for(;s>=i;)if(n=Math.floor((i+s)/2),t>e[n].last)i=n+1;else{if(!(t<e[n].first))return 1;s=n-1}return 0};var pt=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ht,"__esModule",{value:!0});const bt=pt(ft),yt=pt(dt);ht.default=t=>0===t?0:t<32||t>=127&&t<160?-1:yt.default(t,bt.default,bt.default.length-1)?0:1+Number(t>=4352&&(t<=4447||9001===t||9002===t||t>=11904&&t<=42191&&12351!==t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141));var mt=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ct,"__esModule",{value:!0});const vt=mt(ht);ct.default=t=>{let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r),i=vt.default(n);if(i<0)return-1;e+=i}return e};var gt=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.wcswidth=ut.wcwidth=void 0;const wt=gt(ct);ut.wcswidth=wt.default;const _t=gt(ht);ut.wcwidth=_t.default,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findWidthInConsole=t.stripAnsi=void 0;const e=ut,r=/\x1b\[\d{1,3}(;\d{1,3})*m/g;t.stripAnsi=t=>t.replace(r,"");t.findWidthInConsole=(r,n)=>{let i=0;return r=(0,t.stripAnsi)(r),n&&Object.entries(n).forEach(([t,e])=>{let n=new RegExp(t,"g");i+=(r.match(n)||[]).length*e,r=r.replace(t,"")}),i+=(0,e.wcswidth)(r),i}}(lt);var St={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.biggestWordInSentence=t.textWithPadding=t.splitTextIntoTextsOfMinLen=void 0;const e=lt;t.splitTextIntoTextsOfMinLen=(t,r,n)=>{const i=[];return t.split(/[\n\r]/).forEach(t=>{const s=t.split(" ");let o=[],a=0;s.forEach(t=>{const s=(0,e.findWidthInConsole)(t,n);a+s<=r?(a+=s+1,o.push(t)):(o.length>0&&i.push(o.join(" ")),o=[t],a=s+1)}),i.push(o.join(" "))}),i};t.textWithPadding=(r,n,i,s)=>{const o=(0,e.findWidthInConsole)(r,s),a=Math.floor((i-o)/2),l=i-a-o;if(i<o){const e=(0,t.splitTextIntoTextsOfMinLen)(r,i);return 1===e.length?r:e.map(e=>(0,t.textWithPadding)(e,n,i,s)).join("\n")}switch(n){case"left":return r.concat(" ".repeat(i-o));case"center":return" ".repeat(a).concat(r).concat(" ".repeat(l));default:return" ".repeat(i-o).concat(r)}};t.biggestWordInSentence=(t,r)=>t.split(" ").reduce((t,n)=>Math.max(t,(0,e.findWidthInConsole)(n,r)),0)}(St),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getWidthLimitedColumnsArray=t.createHeaderAsRow=t.renderTableHorizontalBorders=t.findLenOfColumn=t.createRow=t.createColumFromComputedColumn=t.createColumFromOnlyName=t.createTableHorizontalBorders=t.convertRawRowOptionsToStandard=t.cellText=void 0;const e=at,r=lt,n=St,i=st,s=(t,e)=>Math.max(t,e);t.cellText=t=>null==t?"":`${t}`;t.convertRawRowOptionsToStandard=t=>{if(t)return{color:t.color,separator:t.separator||i.DEFAULT_ROW_SEPARATOR}};t.createTableHorizontalBorders=({left:t,mid:e,right:r,other:n},i)=>{let s=t;return i.forEach(t=>{s+=n.repeat(t+2),s+=e}),s=s.slice(0,-e.length),s+=r,s};t.createColumFromOnlyName=t=>({name:t,title:t});t.createColumFromComputedColumn=t=>{var r;return Object.assign(Object.assign(Object.assign(Object.assign({name:t.name,title:null!==(r=t.title)&&void 0!==r?r:t.name},(0,e.objIfExists)("color",t.color)),(0,e.objIfExists)("maxLen",t.maxLen)),(0,e.objIfExists)("minLen",t.minLen)),{alignment:t.alignment||i.DEFAULT_ROW_ALIGNMENT})};t.createRow=(t,e,r)=>({color:t,separator:r,text:e});t.findLenOfColumn=(e,i,o)=>{const a=e.name,l=e.title;let u=s(0,(null==e?void 0:e.minLen)||0);return e.maxLen?(u=s(u,s(e.maxLen,(0,n.biggestWordInSentence)(l,o))),u=i.reduce((e,r)=>s(e,(0,n.biggestWordInSentence)((0,t.cellText)(r.text[a]),o)),u),u):(u=s(u,(0,r.findWidthInConsole)(l,o)),i.forEach(e=>{u=s(u,(0,r.findWidthInConsole)((0,t.cellText)(e.text[a]),o))}),u)};t.renderTableHorizontalBorders=(e,r)=>(0,t.createTableHorizontalBorders)(e,r);t.createHeaderAsRow=(t,e)=>{const r=t(i.DEFAULT_HEADER_FONT_COLOR,{},!1);return e.forEach(t=>{r.text[t.name]=t.title}),r};t.getWidthLimitedColumnsArray=(e,r,s)=>{const o={};return e.forEach(e=>{o[e.name]=(0,n.splitTextIntoTextsOfMinLen)((0,t.cellText)(r.text[e.name]),e.length||i.DEFAULT_COLUMN_LEN,s)}),o}}(ot);var Et={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.preProcessRows=Ot.preProcessColumns=void 0;const xt=ot;Ot.preProcessColumns=t=>{(t=>{t.computedColumns.length&&t.computedColumns.forEach(e=>{t.addColumn(e),t.rows.forEach(t=>{t.text[e.name]=e.function(t.text)})})})(t),(t=>{t.disabledColumns.length&&(t.columns=t.columns.filter(e=>!t.disabledColumns.includes(e.name)))})(t),(t=>{t.enabledColumns.length&&(t.columns=t.columns.filter(e=>t.enabledColumns.includes(e.name)))})(t),(t=>{t.columns.forEach(e=>{e.length=(0,xt.findLenOfColumn)(e,t.rows,t.charLength)})})(t)};var Tt,kt;function At(){return Tt||(Tt=1,function(t){var e=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.printSimpleTable=t.renderSimpleTable=t.renderTable=void 0;const r=e(it),n=St,i=st,s=ot,o=e(Pt()),a=Ot,l=(t,e,o,a,l,u,c,h)=>{const f=new r.default(c);return f.addCharsWithColor("",t.vertical),e.forEach(e=>{const r=o<a[e.name].length?(0,s.cellText)(a[e.name][o]):"";f.addCharsWithColor(i.DEFAULT_ROW_FONT_COLOR," "),f.addCharsWithColor(l&&i.DEFAULT_HEADER_FONT_COLOR||e.color||u.color,(0,n.textWithPadding)(r,e.alignment||i.DEFAULT_ROW_ALIGNMENT,e.length||i.DEFAULT_COLUMN_LEN,h)),f.addCharsWithColor("",` ${t.vertical}`)}),f.renderConsole()},u=(t,e,r,n,i,o)=>{const a=(0,s.getWidthLimitedColumnsArray)(e,r,o),u=Object.values(a).reduce((t,e)=>Math.max(t,e.length),0),c=[];for(let s=0;s<u;s+=1){const u=l(t,e,s,a,i,r,n,o);c.push(u)}return c};t.renderTable=t=>{(0,a.preProcessColumns)(t),(0,a.preProcessRows)(t);const e=[];return(t=>{const e=[];if(void 0===t.title)return e;const s=(0,n.textWithPadding)(t.title,i.DEFAULT_HEADER_ALIGNMENT,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN).reduce((t,e)=>t+e+2+1,1)),o=new r.default(t.colorMap);return o.addCharsWithColor(i.DEFAULT_HEADER_FONT_COLOR,s),e.push(o.renderConsole()),e})(t).forEach(t=>e.push(t)),(t=>{let e=[];e.push((0,s.renderTableHorizontalBorders)(t.tableStyle.headerTop,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN)));const r=(0,s.createHeaderAsRow)(s.createRow,t.columns);return e=e.concat(u(t.tableStyle,t.columns,r,t.colorMap,!0)),e.push((0,s.renderTableHorizontalBorders)(t.tableStyle.headerBottom,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN))),e})(t).forEach(t=>e.push(t)),t.rows.forEach(r=>{((t,e)=>{let r=[];return r=r.concat(u(t.tableStyle,t.columns,e,t.colorMap,void 0,t.charLength)),r})(t,r).forEach(t=>e.push(t)),((t,e)=>{const r=[],n=t.rows.length-1;return t.rows.indexOf(e)!==n&&e.separator&&r.push((0,s.renderTableHorizontalBorders)(t.tableStyle.rowSeparator,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN))),r})(t,r).forEach(t=>e.push(t))}),(t=>{const e=[];return e.push((0,s.renderTableHorizontalBorders)(t.tableStyle.tableBottom,t.columns.map(t=>t.length||i.DEFAULT_COLUMN_LEN))),e})(t).forEach(t=>e.push(t)),e.join("\n")};t.renderSimpleTable=e=>{const r=new o.default;return r.addRows(e),(0,t.renderTable)(r)};t.printSimpleTable=e=>{console.log((0,t.renderSimpleTable)(e))}}(Et)),Et}function Pt(){if(kt)return nt;kt=1,Object.defineProperty(nt,"__esModule",{value:!0});const t=it,e=st,r=ot,n=at,i=At(),s=()=>0,o=()=>!0;return nt.default=class{initSimple(t){this.columns=t.map(t=>({name:t,title:t,alignment:e.DEFAULT_ROW_ALIGNMENT}))}initDetailed(t){var e;this.title=(null==t?void 0:t.title)||this.title,this.tableStyle=(null==t?void 0:t.style)||this.tableStyle,this.sortFunction=(null==t?void 0:t.sort)||this.sortFunction,this.filterFunction=(null==t?void 0:t.filter)||this.filterFunction,this.enabledColumns=(null==t?void 0:t.enabledColumns)||this.enabledColumns,this.disabledColumns=(null==t?void 0:t.disabledColumns)||this.disabledColumns,this.computedColumns=(null==t?void 0:t.computedColumns)||this.computedColumns,this.columns=(null===(e=null==t?void 0:t.columns)||void 0===e?void 0:e.map(n.rawColumnToInternalColumn))||this.columns,this.rowSeparator=(null==t?void 0:t.rowSeparator)||this.rowSeparator,this.charLength=(null==t?void 0:t.charLength)||this.charLength,(null==t?void 0:t.shouldDisableColors)?this.colorMap={}:(null==t?void 0:t.colorMap)&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),t.colorMap)),void 0!==t.rows&&this.addRows(t.rows)}constructor(r){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=e.DEFAULT_TABLE_STYLE,this.filterFunction=o,this.sortFunction=s,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=e.DEFAULT_ROW_SEPARATOR,this.colorMap=t.DEFAULT_COLOR_MAP,this.charLength={},r instanceof Array?this.initSimple(r):"object"==typeof r&&this.initDetailed(r)}createColumnFromRow(t){const e=this.columns.map(t=>t.name);Object.keys(t).forEach(t=>{e.includes(t)||this.columns.push((0,r.createColumFromOnlyName)(t))})}addColumn(t){"string"==typeof t?this.columns.push((0,r.createColumFromOnlyName)(t)):this.columns.push((0,r.createColumFromComputedColumn)(t))}addColumns(t){t.forEach(t=>{this.addColumn(t)})}addRow(t,n){this.createColumnFromRow(t),this.rows.push((0,r.createRow)((null==n?void 0:n.color)||e.DEFAULT_ROW_FONT_COLOR,t,void 0!==(null==n?void 0:n.separator)?null==n?void 0:n.separator:this.rowSeparator))}addRows(t,e){t.forEach(t=>{this.addRow(t,e)})}renderTable(){return(0,i.renderTable)(this)}},nt}Ot.preProcessRows=t=>{const e=t.rows.filter(e=>t.filterFunction(e.text)).sort((e,r)=>t.sortFunction(e.text,r.text));t.rows=e};var Mt=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});const jt=Mt(Pt()),Rt=ot;rt.default=class{constructor(t){this.table=new jt.default(t)}addColumn(t){return this.table.addColumn(t),this}addColumns(t){return this.table.addColumns(t),this}addRow(t,e){return this.table.addRow(t,(0,Rt.convertRawRowOptionsToStandard)(e)),this}addRows(t,e){return this.table.addRows(t,(0,Rt.convertRawRowOptionsToStandard)(e)),this}printTable(){const t=this.table.renderTable();console.log(t)}render(){return this.table.renderTable()}},function(t){var e=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTable=t.printTable=t.Table=void 0;const r=e(rt);t.Table=r.default;const n=At();Object.defineProperty(t,"printTable",{enumerable:!0,get:function(){return n.printSimpleTable}}),Object.defineProperty(t,"renderTable",{enumerable:!0,get:function(){return n.renderSimpleTable}})}(et);var Lt={exports:{}},Ct=X(Lt.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",a="day",l="week",u="month",c="quarter",h="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},m=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},v={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,u),s=r-i<0,o=e.clone().add(n+(s?-1:1),u);return+(-(n+(r-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:h,w:l,d:a,D:f,h:o,m:s,s:i,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",w={};w[g]=y;var _="$isDayjsObject",S=function(t){return t instanceof T||!(!t||!t[_])},E=function t(e,r,n){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();w[s]&&(i=s),r&&(w[s]=r,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;w[a]=e,i=a}return!n&&i&&(g=i),i||!n&&g},O=function(t,e){if(S(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new T(r)},x=v;x.l=E,x.i=S,x.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function y(t){this.$L=E(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[_]=!0}var m=y.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return x},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var r=O(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,r){return x.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var r=this,n=!!x.u(e)||e,c=x.p(t),d=function(t,e){var i=x.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?i:i.endOf(a)},p=function(t,e){return x.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},b=this.$W,y=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(c){case h:return n?d(1,0):d(31,11);case u:return n?d(1,y):d(0,y+1);case l:var g=this.$locale().weekStart||0,w=(b<g?b+7:b)-g;return d(n?m-w:m+(6-w),y);case a:case f:return p(v+"Hours",0);case o:return p(v+"Minutes",1);case s:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,l=x.p(t),c="set"+(this.$u?"UTC":""),d=(r={},r[a]=c+"Date",r[f]=c+"Date",r[u]=c+"Month",r[h]=c+"FullYear",r[o]=c+"Hours",r[s]=c+"Minutes",r[i]=c+"Seconds",r[n]=c+"Milliseconds",r)[l],p=l===a?this.$D+(e-this.$W):e;if(l===u||l===h){var b=this.clone().set(f,1);b.$d[d](p),b.init(),this.$d=b.set(f,Math.min(this.$D,b.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[x.p(t)]()},m.add=function(n,c){var f,d=this;n=Number(n);var p=x.p(c),b=function(t){var e=O(d);return x.w(e.date(e.date()+Math.round(t*n)),d)};if(p===u)return this.set(u,this.$M+n);if(p===h)return this.set(h,this.$y+n);if(p===a)return b(1);if(p===l)return b(7);var y=(f={},f[s]=e,f[o]=r,f[i]=t,f)[p]||1,m=this.$d.getTime()+n*y;return x.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),s=this.$H,o=this.$m,a=this.$M,l=r.weekdays,u=r.months,c=r.meridiem,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].slice(0,s)},f=function(t){return x.s(s%12||12,t,"0")},p=c||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(b,function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return x.s(e.$y,4,"0");case"M":return a+1;case"MM":return x.s(a+1,2,"0");case"MMM":return h(r.monthsShort,a,u,3);case"MMMM":return h(u,a);case"D":return e.$D;case"DD":return x.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(r.weekdaysMin,e.$W,l,2);case"ddd":return h(r.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(s);case"HH":return x.s(s,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(s,o,!0);case"A":return p(s,o,!1);case"m":return String(o);case"mm":return x.s(o,2,"0");case"s":return String(e.$s);case"ss":return x.s(e.$s,2,"0");case"SSS":return x.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,f,d){var p,b=this,y=x.p(f),m=O(n),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,w=function(){return x.m(b,m)};switch(y){case h:p=w()/12;break;case u:p=w();break;case c:p=w()/3;break;case l:p=(g-v)/6048e5;break;case a:p=(g-v)/864e5;break;case o:p=g/r;break;case s:p=g/e;break;case i:p=g/t;break;default:p=g}return d?p:x.a(p)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=E(t,e,!0);return n&&(r.$L=n),r},m.clone=function(){return x.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),k=T.prototype;return O.prototype=k,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",a],["$M",u],["$y",h],["$D",f]].forEach(function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),O.extend=function(t,e){return t.$i||(t(e,T,O),t.$i=!0),O},O.locale=E,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=w[g],O.Ls=w,O.p={},O}()),It={},Ft={},Nt={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.isFunction=void 0,Dt.isFunction=function(t){return"function"==typeof t};var Bt={},zt={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.createErrorClass=void 0,Wt.createErrorClass=function(t){var e=t(function(t){Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e},Object.defineProperty(zt,"__esModule",{value:!0}),zt.UnsubscriptionError=void 0;var Ut=Wt;zt.UnsubscriptionError=Ut.createErrorClass(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.arrRemove=void 0,$t.arrRemove=function(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}};var Gt=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ht=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},qt=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.isSubscription=Bt.EMPTY_SUBSCRIPTION=Bt.Subscription=void 0;var Vt=Dt,Yt=zt,Zt=$t,Kt=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,r,n,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=Gt(s),a=o.next();!a.done;a=o.next()){a.value.remove(this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}else s.remove(this);var l=this.initialTeardown;if(Vt.isFunction(l))try{l()}catch(t){i=t instanceof Yt.UnsubscriptionError?t.errors:[t]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=Gt(u),h=c.next();!h.done;h=c.next()){var f=h.value;try{Qt(f)}catch(t){i=null!=i?i:[],t instanceof Yt.UnsubscriptionError?i=qt(qt([],Ht(i)),Ht(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(i)throw new Yt.UnsubscriptionError(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Qt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Zt.arrRemove(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&Zt.arrRemove(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();function Qt(t){Vt.isFunction(t)?t():t.unsubscribe()}Bt.Subscription=Kt,Bt.EMPTY_SUBSCRIPTION=Kt.EMPTY,Bt.isSubscription=function(t){return t instanceof Kt||t&&"closed"in t&&Vt.isFunction(t.remove)&&Vt.isFunction(t.add)&&Vt.isFunction(t.unsubscribe)};var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.config=void 0,Jt.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xt={},te={};!function(t){var e=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=t.timeoutProvider.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,r([n,i],e(s))):setTimeout.apply(void 0,r([n,i],e(s)))},clearTimeout:function(e){var r=t.timeoutProvider.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0}}(te),Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.reportUnhandledError=void 0;var ee=Jt,re=te;Xt.reportUnhandledError=function(t){re.timeoutProvider.setTimeout(function(){var e=ee.config.onUnhandledError;if(!e)throw t;e(t)})};var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.noop=void 0,ne.noop=function(){};var ie={};function se(t,e,r){return{kind:t,value:e,error:r}}Object.defineProperty(ie,"__esModule",{value:!0}),ie.createNotification=ie.nextNotification=ie.errorNotification=ie.COMPLETE_NOTIFICATION=void 0,ie.COMPLETE_NOTIFICATION=se("C",void 0,void 0),ie.errorNotification=function(t){return se("E",void 0,t)},ie.nextNotification=function(t){return se("N",t,void 0)},ie.createNotification=se;var oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.captureError=oe.errorContext=void 0;var ae=Jt,le=null;oe.errorContext=function(t){if(ae.config.useDeprecatedSynchronousErrorHandling){var e=!le;if(e&&(le={errorThrown:!1,error:null}),t(),e){var r=le,n=r.errorThrown,i=r.error;if(le=null,n)throw i}}else t()},oe.captureError=function(t){ae.config.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=t)},function(t){var e,r=J&&J.__extends||(e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},e(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var n=Dt,i=Bt,s=Jt,o=Xt,a=ne,l=ie,u=te,c=oe,h=function(e){function n(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,i.isSubscription(r)&&r.add(n)):n.destination=t.EMPTY_OBSERVER,n}return r(n,e),n.create=function(t,e,r){return new b(t,e,r)},n.prototype.next=function(t){this.isStopped?m(l.nextNotification(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?m(l.errorNotification(t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?m(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(i.Subscription);t.Subscriber=h;var f=Function.prototype.bind;function d(t,e){return f.call(t,e)}var p=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){y(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){y(t)}else y(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){y(t)}},t}(),b=function(t){function e(e,r,i){var o,a,l=t.call(this)||this;n.isFunction(e)||!e?o={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:l&&s.config.useDeprecatedNextContext?((a=Object.create(e)).unsubscribe=function(){return l.unsubscribe()},o={next:e.next&&d(e.next,a),error:e.error&&d(e.error,a),complete:e.complete&&d(e.complete,a)}):o=e;return l.destination=new p(o),l}return r(e,t),e}(h);function y(t){s.config.useDeprecatedSynchronousErrorHandling?c.captureError(t):o.reportUnhandledError(t)}function m(t,e){var r=s.config.onStoppedNotification;r&&u.timeoutProvider.setTimeout(function(){return r(t,e)})}t.SafeSubscriber=b,t.EMPTY_OBSERVER={closed:!0,next:a.noop,error:function(t){throw t},complete:a.noop}}(Nt);var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.observable=void 0,ue.observable="function"==typeof Symbol&&Symbol.observable||"@@observable";var ce={},he={};Object.defineProperty(he,"__esModule",{value:!0}),he.identity=void 0,he.identity=function(t){return t},Object.defineProperty(ce,"__esModule",{value:!0}),ce.pipeFromArray=ce.pipe=void 0;var fe=he;function de(t){return 0===t.length?fe.identity:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}ce.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return de(t)},ce.pipeFromArray=de,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.Observable=void 0;var pe=Nt,be=Bt,ye=ue,me=ce,ve=Jt,ge=Dt,we=oe,_e=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,s=(n=t)&&n instanceof pe.Subscriber||function(t){return t&&ge.isFunction(t.next)&&ge.isFunction(t.error)&&ge.isFunction(t.complete)}(n)&&be.isSubscription(n)?t:new pe.SafeSubscriber(t,e,r);return we.errorContext(function(){var t=i,e=t.operator,r=t.source;s.add(e?e.call(s,r):r?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=Se(e))(function(e,n){var i=new pe.SafeSubscriber({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[ye.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return me.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Se(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function Se(t){var e;return null!==(e=null!=t?t:ve.config.Promise)&&void 0!==e?e:Promise}Ft.Observable=_e;var Ee={},Oe={},xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.operate=xe.hasLift=void 0;var Te=Dt;function ke(t){return Te.isFunction(null==t?void 0:t.lift)}xe.hasLift=ke,xe.operate=function(t){return function(e){if(ke(e))return e.lift(function(e){try{return t(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}};var Ae,Pe={},Me=J&&J.__extends||(Ae=function(t,e){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Ae(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Ae(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.OperatorSubscriber=Pe.createOperatorSubscriber=void 0;var je=Nt;Pe.createOperatorSubscriber=function(t,e,r,n,i){return new Re(t,e,r,n,i)};var Re=function(t){function e(e,r,n,i,s,o){var a=t.call(this,e)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return Me(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(je.Subscriber);Pe.OperatorSubscriber=Re,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.refCount=void 0;var Le=xe,Ce=Pe;Oe.refCount=function(){return Le.operate(function(t,e){var r=null;t._refCount++;var n=Ce.createOperatorSubscriber(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)r=null;else{var n=t._connection,i=r;r=null,!n||i&&n!==i||n.unsubscribe(),e.unsubscribe()}});t.subscribe(n),n.closed||(r=t.connect())})};var Ie=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.ConnectableObservable=void 0;var Fe=Bt,Ne=Oe,De=Pe,Be=xe,ze=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,Be.hasLift(e)&&(n.lift=e.lift),n}return Ie(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},e.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new Fe.Subscription;var r=this.getSubject();e.add(this.source.subscribe(De.createOperatorSubscriber(r,void 0,function(){t._teardown(),r.complete()},function(e){t._teardown(),r.error(e)},function(){return t._teardown()}))),e.closed&&(this._connection=null,e=Fe.Subscription.EMPTY)}return e},e.prototype.refCount=function(){return Ne.refCount()(this)},e}(Ft.Observable);Ee.ConnectableObservable=ze;var We,Ue={},$e={};We=$e,Object.defineProperty(We,"__esModule",{value:!0}),We.performanceTimestampProvider=void 0,We.performanceTimestampProvider={now:function(){return(We.performanceTimestampProvider.delegate||performance).now()},delegate:void 0};var Ge={};!function(t){var e=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var n=Bt;t.animationFrameProvider={schedule:function(e){var r=requestAnimationFrame,i=cancelAnimationFrame,s=t.animationFrameProvider.delegate;s&&(r=s.requestAnimationFrame,i=s.cancelAnimationFrame);var o=r(function(t){i=void 0,e(t)});return new n.Subscription(function(){return null==i?void 0:i(o)})},requestAnimationFrame:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=t.animationFrameProvider.delegate;return((null==s?void 0:s.requestAnimationFrame)||requestAnimationFrame).apply(void 0,r([],e(n)))},cancelAnimationFrame:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=t.animationFrameProvider.delegate;return((null==s?void 0:s.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,r([],e(n)))},delegate:void 0}}(Ge),Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.animationFrames=void 0;var He=Ft,qe=$e,Ve=Ge;function Ye(t){return new He.Observable(function(e){var r=t||qe.performanceTimestampProvider,n=r.now(),i=0,s=function(){e.closed||(i=Ve.animationFrameProvider.requestAnimationFrame(function(o){i=0;var a=r.now();e.next({timestamp:t?a:o,elapsed:a-n}),s()}))};return s(),function(){i&&Ve.animationFrameProvider.cancelAnimationFrame(i)}})}Ue.animationFrames=function(t){return t?Ye(t):Ze};var Ze=Ye(),Ke={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.ObjectUnsubscribedError=void 0;var Je=Wt;Qe.ObjectUnsubscribedError=Je.createErrorClass(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var Xe=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tr=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.AnonymousSubject=Ke.Subject=void 0;var er=Ft,rr=Bt,nr=Qe,ir=$t,sr=oe,or=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Xe(e,t),e.prototype.lift=function(t){var e=new ar(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new nr.ObjectUnsubscribedError},e.prototype.next=function(t){var e=this;sr.errorContext(function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=tr(e.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(t)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},e.prototype.error=function(t){var e=this;sr.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}})},e.prototype.complete=function(){var t=this;sr.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this,n=r.hasError,i=r.isStopped,s=r.observers;return n||i?rr.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(t),new rr.Subscription(function(){e.currentObservers=null,ir.arrRemove(s,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e.thrownError,i=e.isStopped;r?t.error(n):i&&t.complete()},e.prototype.asObservable=function(){var t=new er.Observable;return t.source=this,t},e.create=function(t,e){return new ar(t,e)},e}(er.Observable);Ke.Subject=or;var ar=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return Xe(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:rr.EMPTY_SUBSCRIPTION},e}(or);Ke.AnonymousSubject=ar;var lr={},ur=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(lr,"__esModule",{value:!0}),lr.BehaviorSubject=void 0;var cr=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return ur(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){var t=this,e=t.hasError,r=t.thrownError,n=t._value;if(e)throw r;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Ke.Subject);lr.BehaviorSubject=cr;var hr={},fr={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}}(fr);var dr=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(hr,"__esModule",{value:!0}),hr.ReplaySubject=void 0;var pr=fr,br=function(t){function e(e,r,n){void 0===e&&(e=1/0),void 0===r&&(r=1/0),void 0===n&&(n=pr.dateTimestampProvider);var i=t.call(this)||this;return i._bufferSize=e,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,e),i._windowTime=Math.max(1,r),i}return dr(e,t),e.prototype.next=function(e){var r=this,n=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,o=r._timestampProvider,a=r._windowTime;n||(i.push(e),!s&&i.push(o.now()+a)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!t.closed;i+=r?1:2)t.next(n[i]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,r=t._timestampProvider,n=t._buffer,i=t._infiniteTimeWindow,s=(i?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!i){for(var o=r.now(),a=0,l=1;l<n.length&&n[l]<=o;l+=2)a=l;a&&n.splice(0,a+1)}},e}(Ke.Subject);hr.ReplaySubject=br;var yr={},mr=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yr,"__esModule",{value:!0}),yr.AsyncSubject=void 0;var vr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return mr(e,t),e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e._hasValue,i=e._value,s=e.thrownError,o=e.isStopped,a=e._isComplete;r?t.error(s):(o||a)&&(n&&t.next(i),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var e=this,r=e._hasValue,n=e._value;e._isComplete||(this._isComplete=!0,r&&t.prototype.next.call(this,n),t.prototype.complete.call(this))},e}(Ke.Subject);yr.AsyncSubject=vr;var gr={},wr={},_r={},Sr={},Er=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.Action=void 0;var Or=function(t){function e(e,r){return t.call(this)||this}return Er(e,t),e.prototype.schedule=function(t,e){return this},e}(Bt.Subscription);Sr.Action=Or;var xr={};!function(t){var e=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=t.intervalProvider.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,r([n,i],e(s))):setInterval.apply(void 0,r([n,i],e(s)))},clearInterval:function(e){var r=t.intervalProvider.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0}}(xr);var Tr=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(_r,"__esModule",{value:!0}),_r.AsyncAction=void 0;var kr=xr,Ar=$t,Pr=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return Tr(e,t),e.prototype.schedule=function(t,e){var r;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),kr.intervalProvider.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&kr.intervalProvider.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r,n=!1;try{this.work(t)}catch(t){n=!0,r=t||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ar.arrRemove(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Sr.Action);_r.AsyncAction=Pr;var Mr={},jr={};Object.defineProperty(jr,"__esModule",{value:!0}),jr.TestTools=jr.Immediate=void 0;var Rr,Lr=1,Cr={};function Ir(t){return t in Cr&&(delete Cr[t],!0)}jr.Immediate={setImmediate:function(t){var e=Lr++;return Cr[e]=!0,Rr||(Rr=Promise.resolve()),Rr.then(function(){return Ir(e)&&t()}),e},clearImmediate:function(t){Ir(t)}},jr.TestTools={pending:function(){return Object.keys(Cr).length}},function(t){var e=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},r=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var n=jr,i=n.Immediate.setImmediate,s=n.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=t.immediateProvider.delegate;return((null==o?void 0:o.setImmediate)||i).apply(void 0,r([],e(n)))},clearImmediate:function(e){var r=t.immediateProvider.delegate;return((null==r?void 0:r.clearImmediate)||s)(e)},delegate:void 0}}(Mr);var Fr=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wr,"__esModule",{value:!0}),wr.AsapAction=void 0;var Nr=Mr,Dr=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return Fr(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=Nr.immediateProvider.setImmediate(e.flush.bind(e,void 0))))},e.prototype.recycleAsyncId=function(e,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);var s=e.actions;null!=r&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==r&&(Nr.immediateProvider.clearImmediate(r),e._scheduled===r&&(e._scheduled=void 0))},e}(_r.AsyncAction);wr.AsapAction=Dr;var Br={},zr={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.Scheduler=void 0;var Ur=fr,$r=function(){function t(e,r){void 0===r&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(r,e)},t.now=Ur.dateTimestampProvider.now,t}();Wr.Scheduler=$r;var Gr=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(zr,"__esModule",{value:!0}),zr.AsyncScheduler=void 0;var Hr=Wr,qr=function(t){function e(e,r){void 0===r&&(r=Hr.Scheduler.now);var n=t.call(this,e,r)||this;return n.actions=[],n._active=!1,n}return Gr(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Hr.Scheduler);zr.AsyncScheduler=qr;var Vr=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Br,"__esModule",{value:!0}),Br.AsapScheduler=void 0;var Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vr(e,t),e.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var r,n=this.actions;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}},e}(zr.AsyncScheduler);Br.AsapScheduler=Yr,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var e=wr,r=Br;t.asapScheduler=new r.AsapScheduler(e.AsapAction),t.asap=t.asapScheduler}(gr);var Zr={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var e=_r,r=zr;t.asyncScheduler=new r.AsyncScheduler(e.AsyncAction),t.async=t.asyncScheduler}(Zr);var Kr={},Qr={},Jr=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.QueueAction=void 0;var Xr=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return Jr(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.flush(this),0)},e}(_r.AsyncAction);Qr.QueueAction=Xr;var tn={},en=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(tn,"__esModule",{value:!0}),tn.QueueScheduler=void 0;var rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return en(e,t),e}(zr.AsyncScheduler);tn.QueueScheduler=rn,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var e=Qr,r=tn;t.queueScheduler=new r.QueueScheduler(e.QueueAction),t.queue=t.queueScheduler}(Kr);var nn={},sn={},on=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(sn,"__esModule",{value:!0}),sn.AnimationFrameAction=void 0;var an=Ge,ln=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return on(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=an.animationFrameProvider.requestAnimationFrame(function(){return e.flush(void 0)})))},e.prototype.recycleAsyncId=function(e,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);var s=e.actions;null!=r&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==r&&(an.animationFrameProvider.cancelAnimationFrame(r),e._scheduled=void 0)},e}(_r.AsyncAction);sn.AnimationFrameAction=ln;var un={},cn=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(un,"__esModule",{value:!0}),un.AnimationFrameScheduler=void 0;var hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cn(e,t),e.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var r,n=this.actions;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}},e}(zr.AsyncScheduler);un.AnimationFrameScheduler=hn,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var e=sn,r=un;t.animationFrameScheduler=new r.AnimationFrameScheduler(e.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler}(nn);var fn={},dn=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(fn,"__esModule",{value:!0}),fn.VirtualAction=fn.VirtualTimeScheduler=void 0;var pn=_r,bn=Bt,yn=function(t){function e(e,r){void 0===e&&(e=mn),void 0===r&&(r=1/0);var n=t.call(this,e,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return dn(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(zr.AsyncScheduler);fn.VirtualTimeScheduler=yn;var mn=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.index=n,i.active=!0,i.index=e.index=n,i}return dn(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}return bn.Subscription.EMPTY},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(t,e,r){},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(pn.AsyncAction);fn.VirtualAction=mn;var vn={},gn={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var e=Ft;t.EMPTY=new e.Observable(function(t){return t.complete()}),t.empty=function(r){return r?function(t){return new e.Observable(function(e){return t.schedule(function(){return e.complete()})})}(r):t.EMPTY}}(gn);var wn={},_n={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.isScheduler=void 0;var En=Dt;Sn.isScheduler=function(t){return t&&En.isFunction(t.schedule)},Object.defineProperty(_n,"__esModule",{value:!0}),_n.popNumber=_n.popScheduler=_n.popResultSelector=void 0;var On=Dt,xn=Sn;function Tn(t){return t[t.length-1]}_n.popResultSelector=function(t){return On.isFunction(Tn(t))?t.pop():void 0},_n.popScheduler=function(t){return xn.isScheduler(Tn(t))?t.pop():void 0},_n.popNumber=function(t,e){return"number"==typeof Tn(t)?t.pop():e};var kn={},An={},Pn={},Mn={},jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.isArrayLike=void 0,jn.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.isPromise=void 0;var Ln=Dt;Rn.isPromise=function(t){return Ln.isFunction(null==t?void 0:t.then)};var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.isInteropObservable=void 0;var In=ue,Fn=Dt;Cn.isInteropObservable=function(t){return Fn.isFunction(t[In.observable])};var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.isAsyncIterable=void 0;var Dn=Dt;Nn.isAsyncIterable=function(t){return Symbol.asyncIterator&&Dn.isFunction(null==t?void 0:t[Symbol.asyncIterator])};var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.createInvalidObservableTypeError=void 0,Bn.createInvalidObservableTypeError=function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")};var zn={},Wn={};function Un(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.iterator=Wn.getSymbolIterator=void 0,Wn.getSymbolIterator=Un,Wn.iterator=Un(),Object.defineProperty(zn,"__esModule",{value:!0}),zn.isIterable=void 0;var $n=Wn,Gn=Dt;zn.isIterable=function(t){return Gn.isFunction(null==t?void 0:t[$n.iterator])};var Hn={},qn=J&&J.__generator||function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Vn=J&&J.__await||function(t){return this instanceof Vn?(this.v=t,this):new Vn(t)},Yn=J&&J.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise(function(r,n){s.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=i[t](e)).value instanceof Vn?Promise.resolve(r.value.v).then(l,u):c(s[0][2],r)}catch(t){c(s[0][3],t)}var r}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.isReadableStreamLike=Hn.readableStreamLikeToAsyncGenerator=void 0;var Zn=Dt;Hn.readableStreamLikeToAsyncGenerator=function(t){return Yn(this,arguments,function(){var e,r,n;return qn(this,function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Vn(e.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,Vn(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Vn(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})},Hn.isReadableStreamLike=function(t){return Zn.isFunction(null==t?void 0:t.getReader)};var Kn=J&&J.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,a)}l((n=n.apply(t,e||[])).next())})},Qn=J&&J.__generator||function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Jn=J&&J.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof Xn?Xn(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,i){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,i,(e=t[r](e)).done,e.value)})}}},Xn=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.fromReadableStreamLike=Mn.fromAsyncIterable=Mn.fromIterable=Mn.fromPromise=Mn.fromArrayLike=Mn.fromInteropObservable=Mn.innerFrom=void 0;var ti=jn,ei=Rn,ri=Ft,ni=Cn,ii=Nn,si=Bn,oi=zn,ai=Hn,li=Dt,ui=Xt,ci=ue;function hi(t){return new ri.Observable(function(e){var r=t[ci.observable]();if(li.isFunction(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fi(t){return new ri.Observable(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function di(t){return new ri.Observable(function(e){t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,ui.reportUnhandledError)})}function pi(t){return new ri.Observable(function(e){var r,n;try{for(var i=Xn(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function bi(t){return new ri.Observable(function(e){(function(t,e){var r,n,i,s;return Kn(this,void 0,void 0,function(){var o,a;return Qn(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=Jn(t),l.label=1;case 1:return[4,r.next()];case 2:if((n=l.sent()).done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})})(t,e).catch(function(t){return e.error(t)})})}function yi(t){return bi(ai.readableStreamLikeToAsyncGenerator(t))}Mn.innerFrom=function(t){if(t instanceof ri.Observable)return t;if(null!=t){if(ni.isInteropObservable(t))return hi(t);if(ti.isArrayLike(t))return fi(t);if(ei.isPromise(t))return di(t);if(ii.isAsyncIterable(t))return bi(t);if(oi.isIterable(t))return pi(t);if(ai.isReadableStreamLike(t))return yi(t)}throw si.createInvalidObservableTypeError(t)},Mn.fromInteropObservable=hi,Mn.fromArrayLike=fi,Mn.fromPromise=di,Mn.fromIterable=pi,Mn.fromAsyncIterable=bi,Mn.fromReadableStreamLike=yi;var mi={},vi={};Object.defineProperty(vi,"__esModule",{value:!0}),vi.executeSchedule=void 0,vi.executeSchedule=function(t,e,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s},Object.defineProperty(mi,"__esModule",{value:!0}),mi.observeOn=void 0;var gi=vi,wi=xe,_i=Pe;mi.observeOn=function(t,e){return void 0===e&&(e=0),wi.operate(function(r,n){r.subscribe(_i.createOperatorSubscriber(n,function(r){return gi.executeSchedule(n,t,function(){return n.next(r)},e)},function(){return gi.executeSchedule(n,t,function(){return n.complete()},e)},function(r){return gi.executeSchedule(n,t,function(){return n.error(r)},e)}))})};var Si={};Object.defineProperty(Si,"__esModule",{value:!0}),Si.subscribeOn=void 0;var Ei=xe;Si.subscribeOn=function(t,e){return void 0===e&&(e=0),Ei.operate(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})},Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.scheduleObservable=void 0;var Oi=Mn,xi=mi,Ti=Si;Pn.scheduleObservable=function(t,e){return Oi.innerFrom(t).pipe(Ti.subscribeOn(e),xi.observeOn(e))};var ki={};Object.defineProperty(ki,"__esModule",{value:!0}),ki.schedulePromise=void 0;var Ai=Mn,Pi=mi,Mi=Si;ki.schedulePromise=function(t,e){return Ai.innerFrom(t).pipe(Mi.subscribeOn(e),Pi.observeOn(e))};var ji={};Object.defineProperty(ji,"__esModule",{value:!0}),ji.scheduleArray=void 0;var Ri=Ft;ji.scheduleArray=function(t,e){return new Ri.Observable(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})};var Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.scheduleIterable=void 0;var Ci=Ft,Ii=Wn,Fi=Dt,Ni=vi;Li.scheduleIterable=function(t,e){return new Ci.Observable(function(r){var n;return Ni.executeSchedule(r,e,function(){n=t[Ii.iterator](),Ni.executeSchedule(r,e,function(){var t,e,i;try{e=(t=n.next()).value,i=t.done}catch(t){return void r.error(t)}i?r.complete():r.next(e)},0,!0)}),function(){return Fi.isFunction(null==n?void 0:n.return)&&n.return()}})};var Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.scheduleAsyncIterable=void 0;var Bi=Ft,zi=vi;Di.scheduleAsyncIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Bi.Observable(function(r){zi.executeSchedule(r,e,function(){var n=t[Symbol.asyncIterator]();zi.executeSchedule(r,e,function(){n.next().then(function(t){t.done?r.complete():r.next(t.value)})},0,!0)})})};var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.scheduleReadableStreamLike=void 0;var Ui=Di,$i=Hn;Wi.scheduleReadableStreamLike=function(t,e){return Ui.scheduleAsyncIterable($i.readableStreamLikeToAsyncGenerator(t),e)},Object.defineProperty(An,"__esModule",{value:!0}),An.scheduled=void 0;var Gi=Pn,Hi=ki,qi=ji,Vi=Li,Yi=Di,Zi=Cn,Ki=Rn,Qi=jn,Ji=zn,Xi=Nn,ts=Bn,es=Hn,rs=Wi;An.scheduled=function(t,e){if(null!=t){if(Zi.isInteropObservable(t))return Gi.scheduleObservable(t,e);if(Qi.isArrayLike(t))return qi.scheduleArray(t,e);if(Ki.isPromise(t))return Hi.schedulePromise(t,e);if(Xi.isAsyncIterable(t))return Yi.scheduleAsyncIterable(t,e);if(Ji.isIterable(t))return Vi.scheduleIterable(t,e);if(es.isReadableStreamLike(t))return rs.scheduleReadableStreamLike(t,e)}throw ts.createInvalidObservableTypeError(t)},Object.defineProperty(kn,"__esModule",{value:!0}),kn.from=void 0;var ns=An,is=Mn;kn.from=function(t,e){return e?ns.scheduled(t,e):is.innerFrom(t)},Object.defineProperty(wn,"__esModule",{value:!0}),wn.of=void 0;var ss=_n,os=kn;wn.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ss.popScheduler(t);return os.from(t,r)};var as={};Object.defineProperty(as,"__esModule",{value:!0}),as.throwError=void 0;var ls=Ft,us=Dt;as.throwError=function(t,e){var r=us.isFunction(t)?t:function(){return t},n=function(t){return t.error(r())};return new ls.Observable(e?function(t){return e.schedule(n,0,t)}:n)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var e,r=gn,n=wn,i=as,s=Dt;(e=t.NotificationKind||(t.NotificationKind={})).NEXT="N",e.ERROR="E",e.COMPLETE="C";var o=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){return a(this,t)},t.prototype.do=function(t,e,r){var n=this,i=n.kind,s=n.value,o=n.error;return"N"===i?null==t?void 0:t(s):"E"===i?null==e?void 0:e(o):null==r?void 0:r()},t.prototype.accept=function(t,e,r){var n;return s.isFunction(null===(n=t)||void 0===n?void 0:n.next)?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){var t=this,e=t.kind,s=t.value,o=t.error,a="N"===e?n.of(s):"E"===e?i.throwError(function(){return o}):"C"===e?r.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+e);return a},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function a(t,e){var r,n,i,s=t,o=s.kind,a=s.value,l=s.error;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(r=e.next)||void 0===r||r.call(e,a):"E"===o?null===(n=e.error)||void 0===n||n.call(e,l):null===(i=e.complete)||void 0===i||i.call(e)}t.Notification=o,t.observeNotification=a}(vn);var cs={};Object.defineProperty(cs,"__esModule",{value:!0}),cs.isObservable=void 0;var hs=Ft,fs=Dt;cs.isObservable=function(t){return!!t&&(t instanceof hs.Observable||fs.isFunction(t.lift)&&fs.isFunction(t.subscribe))};var ds={},ps={};Object.defineProperty(ps,"__esModule",{value:!0}),ps.EmptyError=void 0;var bs=Wt;ps.EmptyError=bs.createErrorClass(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}),Object.defineProperty(ds,"__esModule",{value:!0}),ds.lastValueFrom=void 0;var ys=ps;ds.lastValueFrom=function(t,e){var r="object"==typeof e;return new Promise(function(n,i){var s,o=!1;t.subscribe({next:function(t){s=t,o=!0},error:i,complete:function(){o?n(s):r?n(e.defaultValue):i(new ys.EmptyError)}})})};var ms={};Object.defineProperty(ms,"__esModule",{value:!0}),ms.firstValueFrom=void 0;var vs=ps,gs=Nt;ms.firstValueFrom=function(t,e){var r="object"==typeof e;return new Promise(function(n,i){var s=new gs.SafeSubscriber({next:function(t){n(t),s.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new vs.EmptyError)}});t.subscribe(s)})};var ws={};Object.defineProperty(ws,"__esModule",{value:!0}),ws.ArgumentOutOfRangeError=void 0;var _s=Wt;ws.ArgumentOutOfRangeError=_s.createErrorClass(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.NotFoundError=void 0;var Es=Wt;Ss.NotFoundError=Es.createErrorClass(function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}});var Os={};Object.defineProperty(Os,"__esModule",{value:!0}),Os.SequenceError=void 0;var xs=Wt;Os.SequenceError=xs.createErrorClass(function(t){return function(e){t(this),this.name="SequenceError",this.message=e}});var Ts={},ks={};Object.defineProperty(ks,"__esModule",{value:!0}),ks.isValidDate=void 0,ks.isValidDate=function(t){return t instanceof Date&&!isNaN(t)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var e=Zr,r=ks,n=xe,i=Mn,s=Wt,o=Pe,a=vi;function l(e){throw new t.TimeoutError(e)}t.TimeoutError=s.createErrorClass(function(t){return function(e){void 0===e&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}}),t.timeout=function(t,s){var u=r.isValidDate(t)?{first:t}:"number"==typeof t?{each:t}:t,c=u.first,h=u.each,f=u.with,d=void 0===f?l:f,p=u.scheduler,b=void 0===p?null!=s?s:e.asyncScheduler:p,y=u.meta,m=void 0===y?null:y;if(null==c&&null==h)throw new TypeError("No timeout provided.");return n.operate(function(t,e){var r,n,s=null,l=0,u=function(t){n=a.executeSchedule(e,b,function(){try{r.unsubscribe(),i.innerFrom(d({meta:m,lastValue:s,seen:l})).subscribe(e)}catch(t){e.error(t)}},t)};r=t.subscribe(o.createOperatorSubscriber(e,function(t){null==n||n.unsubscribe(),l++,e.next(s=t),h>0&&u(h)},void 0,void 0,function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),s=null})),!l&&u(null!=c?"number"==typeof c?c:+c-b.now():h)})}}(Ts);var As={},Ps={},Ms={},js={};Object.defineProperty(js,"__esModule",{value:!0}),js.map=void 0;var Rs=xe,Ls=Pe;js.map=function(t,e){return Rs.operate(function(r,n){var i=0;r.subscribe(Ls.createOperatorSubscriber(n,function(r){n.next(t.call(e,r,i++))}))})};var Cs=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Is=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.mapOneOrManyArgs=void 0;var Fs=js,Ns=Array.isArray;Ms.mapOneOrManyArgs=function(t){return Fs.map(function(e){return function(t,e){return Ns(e)?t.apply(void 0,Is([],Cs(e))):t(e)}(t,e)})};var Ds=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Bs=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.bindCallbackInternals=void 0;var zs=Sn,Ws=Ft,Us=Si,$s=Ms,Gs=mi,Hs=yr;Ps.bindCallbackInternals=function t(e,r,n,i){if(n){if(!zs.isScheduler(n))return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return t(e,r,i).apply(this,s).pipe($s.mapOneOrManyArgs(n))};i=n}return i?function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return t(e,r).apply(this,n).pipe(Us.subscribeOn(i),Gs.observeOn(i))}:function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=new Hs.AsyncSubject,o=!0;return new Ws.Observable(function(i){var a=s.subscribe(i);if(o){o=!1;var l=!1,u=!1;r.apply(t,Bs(Bs([],Ds(n)),[function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(e){var n=t.shift();if(null!=n)return void s.error(n)}s.next(1<t.length?t:t[0]),u=!0,l&&s.complete()}])),u&&s.complete(),l=!0}return a})}},Object.defineProperty(As,"__esModule",{value:!0}),As.bindCallback=void 0;var qs=Ps;As.bindCallback=function(t,e,r){return qs.bindCallbackInternals(!1,t,e,r)};var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.bindNodeCallback=void 0;var Ys=Ps;Vs.bindNodeCallback=function(t,e,r){return Ys.bindCallbackInternals(!0,t,e,r)};var Zs={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.argsArgArrayOrObject=void 0;var Qs=Array.isArray,Js=Object.getPrototypeOf,Xs=Object.prototype,to=Object.keys;Ks.argsArgArrayOrObject=function(t){if(1===t.length){var e=t[0];if(Qs(e))return{args:e,keys:null};if((n=e)&&"object"==typeof n&&Js(n)===Xs){var r=to(e);return{args:r.map(function(t){return e[t]}),keys:r}}}var n;return{args:t,keys:null}};var eo={};Object.defineProperty(eo,"__esModule",{value:!0}),eo.createObject=void 0,eo.createObject=function(t,e){return t.reduce(function(t,r,n){return t[r]=e[n],t},{})},Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.combineLatestInit=Zs.combineLatest=void 0;var ro=Ft,no=Ks,io=kn,so=he,oo=Ms,ao=_n,lo=eo,uo=Pe,co=vi;function ho(t,e,r){return void 0===r&&(r=so.identity),function(n){fo(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,l=function(i){fo(e,function(){var l=io.from(t[i],e),u=!1;l.subscribe(uo.createOperatorSubscriber(n,function(t){s[i]=t,u||(u=!0,a--),a||n.next(r(s.slice()))},function(){--o||n.complete()}))},n)},u=0;u<i;u++)l(u)},n)}}function fo(t,e,r){t?co.executeSchedule(r,t,e):e()}Zs.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ao.popScheduler(t),n=ao.popResultSelector(t),i=no.argsArgArrayOrObject(t),s=i.args,o=i.keys;if(0===s.length)return io.from([],r);var a=new ro.Observable(ho(s,r,o?function(t){return lo.createObject(o,t)}:so.identity));return n?a.pipe(oo.mapOneOrManyArgs(n)):a},Zs.combineLatestInit=ho;var po={},bo={},yo={},mo={},vo={};Object.defineProperty(vo,"__esModule",{value:!0}),vo.mergeInternals=void 0;var go=Mn,wo=vi,_o=Pe;vo.mergeInternals=function(t,e,r,n,i,s,o,a){var l=[],u=0,c=0,h=!1,f=function(){!h||l.length||u||e.complete()},d=function(t){return u<n?p(t):l.push(t)},p=function(t){s&&e.next(t),u++;var a=!1;go.innerFrom(r(t,c++)).subscribe(_o.createOperatorSubscriber(e,function(t){null==i||i(t),s?d(t):e.next(t)},function(){a=!0},void 0,function(){if(a)try{u--;for(var t=function(){var t=l.shift();o?wo.executeSchedule(e,o,function(){return p(t)}):p(t)};l.length&&u<n;)t();f()}catch(t){e.error(t)}}))};return t.subscribe(_o.createOperatorSubscriber(e,d,function(){h=!0,f()})),function(){null==a||a()}},Object.defineProperty(mo,"__esModule",{value:!0}),mo.mergeMap=void 0;var So=js,Eo=Mn,Oo=xe,xo=vo,To=Dt;mo.mergeMap=function t(e,r,n){return void 0===n&&(n=1/0),To.isFunction(r)?t(function(t,n){return So.map(function(e,i){return r(t,e,n,i)})(Eo.innerFrom(e(t,n)))},n):("number"==typeof r&&(n=r),Oo.operate(function(t,r){return xo.mergeInternals(t,r,e,n)}))},Object.defineProperty(yo,"__esModule",{value:!0}),yo.mergeAll=void 0;var ko=mo,Ao=he;yo.mergeAll=function(t){return void 0===t&&(t=1/0),ko.mergeMap(Ao.identity,t)},Object.defineProperty(bo,"__esModule",{value:!0}),bo.concatAll=void 0;var Po=yo;bo.concatAll=function(){return Po.mergeAll(1)},Object.defineProperty(po,"__esModule",{value:!0}),po.concat=void 0;var Mo=bo,jo=_n,Ro=kn;po.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Mo.concatAll()(Ro.from(t,jo.popScheduler(t)))};var Lo={},Co={};Object.defineProperty(Co,"__esModule",{value:!0}),Co.defer=void 0;var Io=Ft,Fo=Mn;Co.defer=function(t){return new Io.Observable(function(e){Fo.innerFrom(t()).subscribe(e)})},Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.connectable=void 0;var No=Ke,Do=Ft,Bo=Co,zo={connector:function(){return new No.Subject},resetOnDisconnect:!0};Lo.connectable=function(t,e){void 0===e&&(e=zo);var r=null,n=e.connector,i=e.resetOnDisconnect,s=void 0===i||i,o=n(),a=new Do.Observable(function(t){return o.subscribe(t)});return a.connect=function(){return r&&!r.closed||(r=Bo.defer(function(){return t}).subscribe(o),s&&r.add(function(){return o=n()})),r},a};var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.forkJoin=void 0;var Uo=Ft,$o=Ks,Go=Mn,Ho=_n,qo=Pe,Vo=Ms,Yo=eo;Wo.forkJoin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ho.popResultSelector(t),n=$o.argsArgArrayOrObject(t),i=n.args,s=n.keys,o=new Uo.Observable(function(t){var e=i.length;if(e)for(var r=new Array(e),n=e,o=e,a=function(e){var a=!1;Go.innerFrom(i[e]).subscribe(qo.createOperatorSubscriber(t,function(t){a||(a=!0,o--),r[e]=t},function(){return n--},void 0,function(){n&&a||(o||t.next(s?Yo.createObject(s,r):r),t.complete())}))},l=0;l<e;l++)a(l);else t.complete()});return r?o.pipe(Vo.mapOneOrManyArgs(r)):o};var Zo={},Ko=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o};Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.fromEvent=void 0;var Qo=Mn,Jo=Ft,Xo=mo,ta=jn,ea=Dt,ra=Ms,na=["addListener","removeListener"],ia=["addEventListener","removeEventListener"],sa=["on","off"];function oa(t,e){return function(r){return function(n){return t[r](e,n)}}}Zo.fromEvent=function t(e,r,n,i){if(ea.isFunction(n)&&(i=n,n=void 0),i)return t(e,r,n).pipe(ra.mapOneOrManyArgs(i));var s=Ko(function(t){return ea.isFunction(t.addEventListener)&&ea.isFunction(t.removeEventListener)}(e)?ia.map(function(t){return function(i){return e[t](r,i,n)}}):function(t){return ea.isFunction(t.addListener)&&ea.isFunction(t.removeListener)}(e)?na.map(oa(e,r)):function(t){return ea.isFunction(t.on)&&ea.isFunction(t.off)}(e)?sa.map(oa(e,r)):[],2),o=s[0],a=s[1];if(!o&&ta.isArrayLike(e))return Xo.mergeMap(function(e){return t(e,r,n)})(Qo.innerFrom(e));if(!o)throw new TypeError("Invalid event target");return new Jo.Observable(function(t){var e=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1<e.length?e:e[0])};return o(e),function(){return a(e)}})};var aa={};Object.defineProperty(aa,"__esModule",{value:!0}),aa.fromEventPattern=void 0;var la=Ft,ua=Dt,ca=Ms;aa.fromEventPattern=function t(e,r,n){return n?t(e,r).pipe(ca.mapOneOrManyArgs(n)):new la.Observable(function(t){var n=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1===e.length?e[0]:e)},i=e(n);return ua.isFunction(r)?function(){return r(n,i)}:void 0})};var ha={},fa=J&&J.__generator||function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(ha,"__esModule",{value:!0}),ha.generate=void 0;var da=he,pa=Sn,ba=Co,ya=Li;ha.generate=function(t,e,r,n,i){var s,o,a,l;function u(){var t;return fa(this,function(n){switch(n.label){case 0:t=l,n.label=1;case 1:return e&&!e(t)?[3,4]:[4,a(t)];case 2:n.sent(),n.label=3;case 3:return t=r(t),[3,1];case 4:return[2]}})}return 1===arguments.length?(l=(s=t).initialState,e=s.condition,r=s.iterate,o=s.resultSelector,a=void 0===o?da.identity:o,i=s.scheduler):(l=t,!n||pa.isScheduler(n)?(a=da.identity,i=n):a=n),ba.defer(i?function(){return ya.scheduleIterable(u(),i)}:u)};var ma={};Object.defineProperty(ma,"__esModule",{value:!0}),ma.iif=void 0;var va=Co;ma.iif=function(t,e,r){return va.defer(function(){return t()?e:r})};var ga={},wa={};Object.defineProperty(wa,"__esModule",{value:!0}),wa.timer=void 0;var _a=Ft,Sa=Zr,Ea=Sn,Oa=ks;wa.timer=function(t,e,r){void 0===t&&(t=0),void 0===r&&(r=Sa.async);var n=-1;return null!=e&&(Ea.isScheduler(e)?r=e:n=e),new _a.Observable(function(e){var i=Oa.isValidDate(t)?+t-r.now():t;i<0&&(i=0);var s=0;return r.schedule(function(){e.closed||(e.next(s++),0<=n?this.schedule(void 0,n):e.complete())},i)})},Object.defineProperty(ga,"__esModule",{value:!0}),ga.interval=void 0;var xa=Zr,Ta=wa;ga.interval=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=xa.asyncScheduler),t<0&&(t=0),Ta.timer(t,t,e)};var ka={};Object.defineProperty(ka,"__esModule",{value:!0}),ka.merge=void 0;var Aa=yo,Pa=Mn,Ma=gn,ja=_n,Ra=kn;ka.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ja.popScheduler(t),n=ja.popNumber(t,1/0),i=t;return i.length?1===i.length?Pa.innerFrom(i[0]):Aa.mergeAll(n)(Ra.from(i,r)):Ma.EMPTY};var La={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var e=Ft,r=ne;t.NEVER=new e.Observable(r.noop),t.never=function(){return t.NEVER}}(La);var Ca={},Ia={};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.argsOrArgArray=void 0;var Fa=Array.isArray;Ia.argsOrArgArray=function(t){return 1===t.length&&Fa(t[0])?t[0]:t},Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.onErrorResumeNext=void 0;var Na=Ft,Da=Ia,Ba=Pe,za=ne,Wa=Mn;Ca.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Da.argsOrArgArray(t);return new Na.Observable(function(t){var e=0,n=function(){if(e<r.length){var i=void 0;try{i=Wa.innerFrom(r[e++])}catch(t){return void n()}var s=new Ba.OperatorSubscriber(t,void 0,za.noop,za.noop);i.subscribe(s),s.add(n)}else t.complete()};n()})};var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.pairs=void 0;var $a=kn;Ua.pairs=function(t,e){return $a.from(Object.entries(t),e)};var Ga={},Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.not=void 0,Ha.not=function(t,e){return function(r,n){return!t.call(e,r,n)}};var qa={};Object.defineProperty(qa,"__esModule",{value:!0}),qa.filter=void 0;var Va=xe,Ya=Pe;qa.filter=function(t,e){return Va.operate(function(r,n){var i=0;r.subscribe(Ya.createOperatorSubscriber(n,function(r){return t.call(e,r,i++)&&n.next(r)}))})},Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.partition=void 0;var Za=Ha,Ka=qa,Qa=Mn;Ga.partition=function(t,e,r){return[Ka.filter(e,r)(Qa.innerFrom(t)),Ka.filter(Za.not(e,r))(Qa.innerFrom(t))]};var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.raceInit=Ja.race=void 0;var Xa=Ft,tl=Mn,el=Ia,rl=Pe;function nl(t){return function(e){for(var r=[],n=function(n){r.push(tl.innerFrom(t[n]).subscribe(rl.createOperatorSubscriber(e,function(t){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}e.next(t)})))},i=0;r&&!e.closed&&i<t.length;i++)n(i)}}Ja.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===(t=el.argsOrArgArray(t)).length?tl.innerFrom(t[0]):new Xa.Observable(nl(t))},Ja.raceInit=nl;var il={};Object.defineProperty(il,"__esModule",{value:!0}),il.range=void 0;var sl=Ft,ol=gn;il.range=function(t,e,r){if(null==e&&(e=t,t=0),e<=0)return ol.EMPTY;var n=e+t;return new sl.Observable(r?function(e){var i=t;return r.schedule(function(){i<n?(e.next(i++),this.schedule()):e.complete()})}:function(e){for(var r=t;r<n&&!e.closed;)e.next(r++);e.complete()})};var al={};Object.defineProperty(al,"__esModule",{value:!0}),al.using=void 0;var ll=Ft,ul=Mn,cl=gn;al.using=function(t,e){return new ll.Observable(function(r){var n=t(),i=e(n);return(i?ul.innerFrom(i):cl.EMPTY).subscribe(r),function(){n&&n.unsubscribe()}})};var hl={},fl=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},dl=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(hl,"__esModule",{value:!0}),hl.zip=void 0;var pl=Ft,bl=Mn,yl=Ia,ml=gn,vl=Pe,gl=_n;hl.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=gl.popResultSelector(t),n=yl.argsOrArgArray(t);return n.length?new pl.Observable(function(t){var e=n.map(function(){return[]}),i=n.map(function(){return!1});t.add(function(){e=i=null});for(var s=function(s){bl.innerFrom(n[s]).subscribe(vl.createOperatorSubscriber(t,function(n){if(e[s].push(n),e.every(function(t){return t.length})){var o=e.map(function(t){return t.shift()});t.next(r?r.apply(void 0,dl([],fl(o))):o),e.some(function(t,e){return!t.length&&i[e]})&&t.complete()}},function(){i[s]=!0,!e[s].length&&t.complete()}))},o=0;!t.closed&&o<n.length;o++)s(o);return function(){e=i=null}}):ml.EMPTY};var wl={};Object.defineProperty(wl,"__esModule",{value:!0});var _l={};Object.defineProperty(_l,"__esModule",{value:!0}),_l.audit=void 0;var Sl=xe,El=Mn,Ol=Pe;_l.audit=function(t){return Sl.operate(function(e,r){var n=!1,i=null,s=null,o=!1,a=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var t=i;i=null,r.next(t)}o&&r.complete()},l=function(){s=null,o&&r.complete()};e.subscribe(Ol.createOperatorSubscriber(r,function(e){n=!0,i=e,s||El.innerFrom(t(e)).subscribe(s=Ol.createOperatorSubscriber(r,a,l))},function(){o=!0,(!n||!s||s.closed)&&r.complete()}))})};var xl={};Object.defineProperty(xl,"__esModule",{value:!0}),xl.auditTime=void 0;var Tl=Zr,kl=_l,Al=wa;xl.auditTime=function(t,e){return void 0===e&&(e=Tl.asyncScheduler),kl.audit(function(){return Al.timer(t,e)})};var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.buffer=void 0;var Ml=xe,jl=ne,Rl=Pe,Ll=Mn;Pl.buffer=function(t){return Ml.operate(function(e,r){var n=[];return e.subscribe(Rl.createOperatorSubscriber(r,function(t){return n.push(t)},function(){r.next(n),r.complete()})),Ll.innerFrom(t).subscribe(Rl.createOperatorSubscriber(r,function(){var t=n;n=[],r.next(t)},jl.noop)),function(){n=null}})};var Cl={},Il=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.bufferCount=void 0;var Fl=xe,Nl=Pe,Dl=$t;Cl.bufferCount=function(t,e){return void 0===e&&(e=null),e=null!=e?e:t,Fl.operate(function(r,n){var i=[],s=0;r.subscribe(Nl.createOperatorSubscriber(n,function(r){var o,a,l,u,c=null;s++%e===0&&i.push([]);try{for(var h=Il(i),f=h.next();!f.done;f=h.next()){(b=f.value).push(r),t<=b.length&&(c=null!=c?c:[]).push(b)}}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}if(c)try{for(var d=Il(c),p=d.next();!p.done;p=d.next()){var b=p.value;Dl.arrRemove(i,b),n.next(b)}}catch(t){l={error:t}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}},function(){var t,e;try{for(var r=Il(i),s=r.next();!s.done;s=r.next()){var o=s.value;n.next(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}n.complete()},void 0,function(){i=null}))})};var Bl={},zl=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.bufferTime=void 0;var Wl=Bt,Ul=xe,$l=Pe,Gl=$t,Hl=Zr,ql=_n,Vl=vi;Bl.bufferTime=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=null!==(e=ql.popScheduler(n))&&void 0!==e?e:Hl.asyncScheduler,o=null!==(r=n[0])&&void 0!==r?r:null,a=n[1]||1/0;return Ul.operate(function(e,r){var n=[],i=!1,l=function(t){var e=t.buffer;t.subs.unsubscribe(),Gl.arrRemove(n,t),r.next(e),i&&u()},u=function(){if(n){var e=new Wl.Subscription;r.add(e);var i={buffer:[],subs:e};n.push(i),Vl.executeSchedule(e,s,function(){return l(i)},t)}};null!==o&&o>=0?Vl.executeSchedule(r,s,u,o,!0):i=!0,u();var c=$l.createOperatorSubscriber(r,function(t){var e,r,i=n.slice();try{for(var s=zl(i),o=s.next();!o.done;o=s.next()){var u=o.value,c=u.buffer;c.push(t),a<=c.length&&l(u)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}},function(){for(;null==n?void 0:n.length;)r.next(n.shift().buffer);null==c||c.unsubscribe(),r.complete(),r.unsubscribe()},void 0,function(){return n=null});e.subscribe(c)})};var Yl={},Zl=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.bufferToggle=void 0;var Kl=Bt,Ql=xe,Jl=Mn,Xl=Pe,tu=ne,eu=$t;Yl.bufferToggle=function(t,e){return Ql.operate(function(r,n){var i=[];Jl.innerFrom(t).subscribe(Xl.createOperatorSubscriber(n,function(t){var r=[];i.push(r);var s=new Kl.Subscription;s.add(Jl.innerFrom(e(t)).subscribe(Xl.createOperatorSubscriber(n,function(){eu.arrRemove(i,r),n.next(r),s.unsubscribe()},tu.noop)))},tu.noop)),r.subscribe(Xl.createOperatorSubscriber(n,function(t){var e,r;try{for(var n=Zl(i),s=n.next();!s.done;s=n.next()){s.value.push(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})};var ru={};Object.defineProperty(ru,"__esModule",{value:!0}),ru.bufferWhen=void 0;var nu=xe,iu=ne,su=Pe,ou=Mn;ru.bufferWhen=function(t){return nu.operate(function(e,r){var n=null,i=null,s=function(){null==i||i.unsubscribe();var e=n;n=[],e&&r.next(e),ou.innerFrom(t()).subscribe(i=su.createOperatorSubscriber(r,s,iu.noop))};s(),e.subscribe(su.createOperatorSubscriber(r,function(t){return null==n?void 0:n.push(t)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})};var au={};Object.defineProperty(au,"__esModule",{value:!0}),au.catchError=void 0;var lu=Mn,uu=Pe,cu=xe;au.catchError=function t(e){return cu.operate(function(r,n){var i,s=null,o=!1;s=r.subscribe(uu.createOperatorSubscriber(n,void 0,void 0,function(a){i=lu.innerFrom(e(a,t(e)(r))),s?(s.unsubscribe(),s=null,i.subscribe(n)):o=!0})),o&&(s.unsubscribe(),s=null,i.subscribe(n))})};var hu={},fu={},du={},pu={},bu={},yu={};Object.defineProperty(yu,"__esModule",{value:!0}),yu.scanInternals=void 0;var mu=Pe;yu.scanInternals=function(t,e,r,n,i){return function(s,o){var a=r,l=e,u=0;s.subscribe(mu.createOperatorSubscriber(o,function(e){var r=u++;l=a?t(l,e,r):(a=!0,e),n&&o.next(l)},i&&function(){a&&o.next(l),o.complete()}))}},Object.defineProperty(bu,"__esModule",{value:!0}),bu.reduce=void 0;var vu=yu,gu=xe;bu.reduce=function(t,e){return gu.operate(vu.scanInternals(t,e,arguments.length>=2,!1,!0))},Object.defineProperty(pu,"__esModule",{value:!0}),pu.toArray=void 0;var wu=bu,_u=xe,Su=function(t,e){return t.push(e),t};pu.toArray=function(){return _u.operate(function(t,e){wu.reduce(Su,[])(t).subscribe(e)})},Object.defineProperty(du,"__esModule",{value:!0}),du.joinAllInternals=void 0;var Eu=he,Ou=Ms,xu=ce,Tu=mo,ku=pu;du.joinAllInternals=function(t,e){return xu.pipe(ku.toArray(),Tu.mergeMap(function(e){return t(e)}),e?Ou.mapOneOrManyArgs(e):Eu.identity)},Object.defineProperty(fu,"__esModule",{value:!0}),fu.combineLatestAll=void 0;var Au=Zs,Pu=du;fu.combineLatestAll=function(t){return Pu.joinAllInternals(Au.combineLatest,t)},Object.defineProperty(hu,"__esModule",{value:!0}),hu.combineAll=void 0;var Mu=fu;hu.combineAll=Mu.combineLatestAll;var ju={},Ru={},Lu=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Cu=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.combineLatest=void 0;var Iu=Zs,Fu=xe,Nu=Ia,Du=Ms,Bu=ce,zu=_n;Ru.combineLatest=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=zu.popResultSelector(e);return n?Bu.pipe(t.apply(void 0,Cu([],Lu(e))),Du.mapOneOrManyArgs(n)):Fu.operate(function(t,r){Iu.combineLatestInit(Cu([t],Lu(Nu.argsOrArgArray(e))))(r)})};var Wu=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Uu=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(ju,"__esModule",{value:!0}),ju.combineLatestWith=void 0;var $u=Ru;ju.combineLatestWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $u.combineLatest.apply(void 0,Uu([],Wu(t)))};var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.concatMap=void 0;var Hu=mo,qu=Dt;Gu.concatMap=function(t,e){return qu.isFunction(e)?Hu.mergeMap(t,e,1):Hu.mergeMap(t,1)};var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.concatMapTo=void 0;var Yu=Gu,Zu=Dt;Vu.concatMapTo=function(t,e){return Zu.isFunction(e)?Yu.concatMap(function(){return t},e):Yu.concatMap(function(){return t})};var Ku={},Qu={},Ju=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Xu=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.concat=void 0;var tc=xe,ec=bo,rc=_n,nc=kn;Qu.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=rc.popScheduler(t);return tc.operate(function(e,n){ec.concatAll()(nc.from(Xu([e],Ju(t)),r)).subscribe(n)})};var ic=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},sc=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.concatWith=void 0;var oc=Qu;Ku.concatWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return oc.concat.apply(void 0,sc([],ic(t)))};var ac={},lc={};Object.defineProperty(lc,"__esModule",{value:!0}),lc.fromSubscribable=void 0;var uc=Ft;lc.fromSubscribable=function(t){return new uc.Observable(function(e){return t.subscribe(e)})},Object.defineProperty(ac,"__esModule",{value:!0}),ac.connect=void 0;var cc=Ke,hc=Mn,fc=xe,dc=lc,pc={connector:function(){return new cc.Subject}};ac.connect=function(t,e){void 0===e&&(e=pc);var r=e.connector;return fc.operate(function(e,n){var i=r();hc.innerFrom(t(dc.fromSubscribable(i))).subscribe(n),n.add(e.subscribe(i))})};var bc={};Object.defineProperty(bc,"__esModule",{value:!0}),bc.count=void 0;var yc=bu;bc.count=function(t){return yc.reduce(function(e,r,n){return!t||t(r,n)?e+1:e},0)};var mc={};Object.defineProperty(mc,"__esModule",{value:!0}),mc.debounce=void 0;var vc=xe,gc=ne,wc=Pe,_c=Mn;mc.debounce=function(t){return vc.operate(function(e,r){var n=!1,i=null,s=null,o=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var t=i;i=null,r.next(t)}};e.subscribe(wc.createOperatorSubscriber(r,function(e){null==s||s.unsubscribe(),n=!0,i=e,s=wc.createOperatorSubscriber(r,o,gc.noop),_c.innerFrom(t(e)).subscribe(s)},function(){o(),r.complete()},void 0,function(){i=s=null}))})};var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.debounceTime=void 0;var Ec=Zr,Oc=xe,xc=Pe;Sc.debounceTime=function(t,e){return void 0===e&&(e=Ec.asyncScheduler),Oc.operate(function(r,n){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var t=s;s=null,n.next(t)}};function l(){var r=o+t,s=e.now();if(s<r)return i=this.schedule(void 0,r-s),void n.add(i);a()}r.subscribe(xc.createOperatorSubscriber(n,function(r){s=r,o=e.now(),i||(i=e.schedule(l,t),n.add(i))},function(){a(),n.complete()},void 0,function(){s=i=null}))})};var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.defaultIfEmpty=void 0;var kc=xe,Ac=Pe;Tc.defaultIfEmpty=function(t){return kc.operate(function(e,r){var n=!1;e.subscribe(Ac.createOperatorSubscriber(r,function(t){n=!0,r.next(t)},function(){n||r.next(t),r.complete()}))})};var Pc={},Mc={},jc={};Object.defineProperty(jc,"__esModule",{value:!0}),jc.take=void 0;var Rc=gn,Lc=xe,Cc=Pe;jc.take=function(t){return t<=0?function(){return Rc.EMPTY}:Lc.operate(function(e,r){var n=0;e.subscribe(Cc.createOperatorSubscriber(r,function(e){++n<=t&&(r.next(e),t<=n&&r.complete())}))})};var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.ignoreElements=void 0;var Fc=xe,Nc=Pe,Dc=ne;Ic.ignoreElements=function(){return Fc.operate(function(t,e){t.subscribe(Nc.createOperatorSubscriber(e,Dc.noop))})};var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.mapTo=void 0;var zc=js;Bc.mapTo=function(t){return zc.map(function(){return t})},Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.delayWhen=void 0;var Wc=po,Uc=jc,$c=Ic,Gc=Bc,Hc=mo,qc=Mn;Mc.delayWhen=function t(e,r){return r?function(n){return Wc.concat(r.pipe(Uc.take(1),$c.ignoreElements()),n.pipe(t(e)))}:Hc.mergeMap(function(t,r){return qc.innerFrom(e(t,r)).pipe(Uc.take(1),Gc.mapTo(t))})},Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.delay=void 0;var Vc=Zr,Yc=Mc,Zc=wa;Pc.delay=function(t,e){void 0===e&&(e=Vc.asyncScheduler);var r=Zc.timer(t,e);return Yc.delayWhen(function(){return r})};var Kc={};Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.dematerialize=void 0;var Qc=vn,Jc=xe,Xc=Pe;Kc.dematerialize=function(){return Jc.operate(function(t,e){t.subscribe(Xc.createOperatorSubscriber(e,function(t){return Qc.observeNotification(t,e)}))})};var th={};Object.defineProperty(th,"__esModule",{value:!0}),th.distinct=void 0;var eh=xe,rh=Pe,nh=ne,ih=Mn;th.distinct=function(t,e){return eh.operate(function(r,n){var i=new Set;r.subscribe(rh.createOperatorSubscriber(n,function(e){var r=t?t(e):e;i.has(r)||(i.add(r),n.next(e))})),e&&ih.innerFrom(e).subscribe(rh.createOperatorSubscriber(n,function(){return i.clear()},nh.noop))})};var sh={};Object.defineProperty(sh,"__esModule",{value:!0}),sh.distinctUntilChanged=void 0;var oh=he,ah=xe,lh=Pe;function uh(t,e){return t===e}sh.distinctUntilChanged=function(t,e){return void 0===e&&(e=oh.identity),t=null!=t?t:uh,ah.operate(function(r,n){var i,s=!0;r.subscribe(lh.createOperatorSubscriber(n,function(r){var o=e(r);!s&&t(i,o)||(s=!1,i=o,n.next(r))}))})};var ch={};Object.defineProperty(ch,"__esModule",{value:!0}),ch.distinctUntilKeyChanged=void 0;var hh=sh;ch.distinctUntilKeyChanged=function(t,e){return hh.distinctUntilChanged(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})};var fh={},dh={};Object.defineProperty(dh,"__esModule",{value:!0}),dh.throwIfEmpty=void 0;var ph=ps,bh=xe,yh=Pe;function mh(){return new ph.EmptyError}dh.throwIfEmpty=function(t){return void 0===t&&(t=mh),bh.operate(function(e,r){var n=!1;e.subscribe(yh.createOperatorSubscriber(r,function(t){n=!0,r.next(t)},function(){return n?r.complete():r.error(t())}))})},Object.defineProperty(fh,"__esModule",{value:!0}),fh.elementAt=void 0;var vh=ws,gh=qa,wh=dh,_h=Tc,Sh=jc;fh.elementAt=function(t,e){if(t<0)throw new vh.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(gh.filter(function(e,r){return r===t}),Sh.take(1),r?_h.defaultIfEmpty(e):wh.throwIfEmpty(function(){return new vh.ArgumentOutOfRangeError}))}};var Eh={},Oh=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},xh=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.endWith=void 0;var Th=po,kh=wn;Eh.endWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Th.concat(e,kh.of.apply(void 0,xh([],Oh(t))))}};var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.every=void 0;var Ph=xe,Mh=Pe;Ah.every=function(t,e){return Ph.operate(function(r,n){var i=0;r.subscribe(Mh.createOperatorSubscriber(n,function(s){t.call(e,s,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})};var jh={},Rh={},Lh={};Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.exhaustMap=void 0;var Ch=js,Ih=Mn,Fh=xe,Nh=Pe;Lh.exhaustMap=function t(e,r){return r?function(n){return n.pipe(t(function(t,n){return Ih.innerFrom(e(t,n)).pipe(Ch.map(function(e,i){return r(t,e,n,i)}))}))}:Fh.operate(function(t,r){var n=0,i=null,s=!1;t.subscribe(Nh.createOperatorSubscriber(r,function(t){i||(i=Nh.createOperatorSubscriber(r,void 0,function(){i=null,s&&r.complete()}),Ih.innerFrom(e(t,n++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})},Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.exhaustAll=void 0;var Dh=Lh,Bh=he;Rh.exhaustAll=function(){return Dh.exhaustMap(Bh.identity)},Object.defineProperty(jh,"__esModule",{value:!0}),jh.exhaust=void 0;var zh=Rh;jh.exhaust=zh.exhaustAll;var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.expand=void 0;var Uh=xe,$h=vo;Wh.expand=function(t,e,r){return void 0===e&&(e=1/0),e=(e||0)<1?1/0:e,Uh.operate(function(n,i){return $h.mergeInternals(n,i,t,e,void 0,!0,r)})};var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.finalize=void 0;var Hh=xe;Gh.finalize=function(t){return Hh.operate(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})};var qh={};Object.defineProperty(qh,"__esModule",{value:!0}),qh.createFind=qh.find=void 0;var Vh=xe,Yh=Pe;function Zh(t,e,r){var n="index"===r;return function(r,i){var s=0;r.subscribe(Yh.createOperatorSubscriber(i,function(o){var a=s++;t.call(e,o,a,r)&&(i.next(n?a:o),i.complete())},function(){i.next(n?-1:void 0),i.complete()}))}}qh.find=function(t,e){return Vh.operate(Zh(t,e,"value"))},qh.createFind=Zh;var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.findIndex=void 0;var Qh=xe,Jh=qh;Kh.findIndex=function(t,e){return Qh.operate(Jh.createFind(t,e,"index"))};var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.first=void 0;var tf=ps,ef=qa,rf=jc,nf=Tc,sf=dh,of=he;Xh.first=function(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?ef.filter(function(e,r){return t(e,r,n)}):of.identity,rf.take(1),r?nf.defaultIfEmpty(e):sf.throwIfEmpty(function(){return new tf.EmptyError}))}};var af={};Object.defineProperty(af,"__esModule",{value:!0}),af.groupBy=void 0;var lf=Ft,uf=Mn,cf=Ke,hf=xe,ff=Pe;af.groupBy=function(t,e,r,n){return hf.operate(function(i,s){var o;e&&"function"!=typeof e?(r=e.duration,o=e.element,n=e.connector):o=e;var a=new Map,l=function(t){a.forEach(t),t(s)},u=function(t){return l(function(e){return e.error(t)})},c=0,h=!1,f=new ff.OperatorSubscriber(s,function(e){try{var i=t(e),l=a.get(i);if(!l){a.set(i,l=n?n():new cf.Subject);var d=(b=i,y=l,(m=new lf.Observable(function(t){c++;var e=y.subscribe(t);return function(){e.unsubscribe(),0===--c&&h&&f.unsubscribe()}})).key=b,m);if(s.next(d),r){var p=ff.createOperatorSubscriber(l,function(){l.complete(),null==p||p.unsubscribe()},void 0,void 0,function(){return a.delete(i)});f.add(uf.innerFrom(r(d)).subscribe(p))}}l.next(o?o(e):e)}catch(t){u(t)}var b,y,m},function(){return l(function(t){return t.complete()})},u,function(){return a.clear()},function(){return h=!0,0===c});i.subscribe(f)})};var df={};Object.defineProperty(df,"__esModule",{value:!0}),df.isEmpty=void 0;var pf=xe,bf=Pe;df.isEmpty=function(){return pf.operate(function(t,e){t.subscribe(bf.createOperatorSubscriber(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})};var yf={},mf={},vf=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mf,"__esModule",{value:!0}),mf.takeLast=void 0;var gf=gn,wf=xe,_f=Pe;mf.takeLast=function(t){return t<=0?function(){return gf.EMPTY}:wf.operate(function(e,r){var n=[];e.subscribe(_f.createOperatorSubscriber(r,function(e){n.push(e),t<n.length&&n.shift()},function(){var t,e;try{for(var i=vf(n),s=i.next();!s.done;s=i.next()){var o=s.value;r.next(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}r.complete()},void 0,function(){n=null}))})},Object.defineProperty(yf,"__esModule",{value:!0}),yf.last=void 0;var Sf=ps,Ef=qa,Of=mf,xf=dh,Tf=Tc,kf=he;yf.last=function(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ef.filter(function(e,r){return t(e,r,n)}):kf.identity,Of.takeLast(1),r?Tf.defaultIfEmpty(e):xf.throwIfEmpty(function(){return new Sf.EmptyError}))}};var Af={};Object.defineProperty(Af,"__esModule",{value:!0}),Af.materialize=void 0;var Pf=vn,Mf=xe,jf=Pe;Af.materialize=function(){return Mf.operate(function(t,e){t.subscribe(jf.createOperatorSubscriber(e,function(t){e.next(Pf.Notification.createNext(t))},function(){e.next(Pf.Notification.createComplete()),e.complete()},function(t){e.next(Pf.Notification.createError(t)),e.complete()}))})};var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.max=void 0;var Lf=bu,Cf=Dt;Rf.max=function(t){return Lf.reduce(Cf.isFunction(t)?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e})};var If={};Object.defineProperty(If,"__esModule",{value:!0}),If.flatMap=void 0;var Ff=mo;If.flatMap=Ff.mergeMap;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.mergeMapTo=void 0;var Df=mo,Bf=Dt;Nf.mergeMapTo=function(t,e,r){return void 0===r&&(r=1/0),Bf.isFunction(e)?Df.mergeMap(function(){return t},e,r):("number"==typeof e&&(r=e),Df.mergeMap(function(){return t},r))};var zf={};Object.defineProperty(zf,"__esModule",{value:!0}),zf.mergeScan=void 0;var Wf=xe,Uf=vo;zf.mergeScan=function(t,e,r){return void 0===r&&(r=1/0),Wf.operate(function(n,i){var s=e;return Uf.mergeInternals(n,i,function(e,r){return t(s,e,r)},r,function(t){s=t},!1,void 0,function(){return s=null})})};var $f={},Gf={},Hf=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},qf=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.merge=void 0;var Vf=xe,Yf=Ia,Zf=yo,Kf=_n,Qf=kn;Gf.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kf.popScheduler(t),n=Kf.popNumber(t,1/0);return t=Yf.argsOrArgArray(t),Vf.operate(function(e,i){Zf.mergeAll(n)(Qf.from(qf([e],Hf(t)),r)).subscribe(i)})};var Jf=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Xf=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty($f,"__esModule",{value:!0}),$f.mergeWith=void 0;var td=Gf;$f.mergeWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return td.merge.apply(void 0,Xf([],Jf(t)))};var ed={};Object.defineProperty(ed,"__esModule",{value:!0}),ed.min=void 0;var rd=bu,nd=Dt;ed.min=function(t){return rd.reduce(nd.isFunction(t)?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e})};var id={};Object.defineProperty(id,"__esModule",{value:!0}),id.multicast=void 0;var sd=Ee,od=Dt,ad=ac;id.multicast=function(t,e){var r=od.isFunction(t)?t:function(){return t};return od.isFunction(e)?ad.connect(e,{connector:r}):function(t){return new sd.ConnectableObservable(t,r)}};var ld={},ud=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},cd=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(ld,"__esModule",{value:!0}),ld.onErrorResumeNext=ld.onErrorResumeNextWith=void 0;var hd=Ia,fd=Ca;function dd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=hd.argsOrArgArray(t);return function(t){return fd.onErrorResumeNext.apply(void 0,cd([t],ud(r)))}}ld.onErrorResumeNextWith=dd,ld.onErrorResumeNext=dd;var pd={};Object.defineProperty(pd,"__esModule",{value:!0}),pd.pairwise=void 0;var bd=xe,yd=Pe;pd.pairwise=function(){return bd.operate(function(t,e){var r,n=!1;t.subscribe(yd.createOperatorSubscriber(e,function(t){var i=r;r=t,n&&e.next([i,t]),n=!0}))})};var md={};Object.defineProperty(md,"__esModule",{value:!0}),md.pluck=void 0;var vd=js;md.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return vd.map(function(e){for(var n=e,i=0;i<r;i++){var s=null==n?void 0:n[t[i]];if(void 0===s)return;n=s}return n})};var gd={};Object.defineProperty(gd,"__esModule",{value:!0}),gd.publish=void 0;var wd=Ke,_d=id,Sd=ac;gd.publish=function(t){return t?function(e){return Sd.connect(t)(e)}:function(t){return _d.multicast(new wd.Subject)(t)}};var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.publishBehavior=void 0;var Od=lr,xd=Ee;Ed.publishBehavior=function(t){return function(e){var r=new Od.BehaviorSubject(t);return new xd.ConnectableObservable(e,function(){return r})}};var Td={};Object.defineProperty(Td,"__esModule",{value:!0}),Td.publishLast=void 0;var kd=yr,Ad=Ee;Td.publishLast=function(){return function(t){var e=new kd.AsyncSubject;return new Ad.ConnectableObservable(t,function(){return e})}};var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.publishReplay=void 0;var Md=hr,jd=id,Rd=Dt;Pd.publishReplay=function(t,e,r,n){r&&!Rd.isFunction(r)&&(n=r);var i=Rd.isFunction(r)?r:void 0;return function(r){return jd.multicast(new Md.ReplaySubject(t,e,n),i)(r)}};var Ld={},Cd=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Id=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.raceWith=void 0;var Fd=Ja,Nd=xe,Dd=he;Ld.raceWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?Nd.operate(function(e,r){Fd.raceInit(Id([e],Cd(t)))(r)}):Dd.identity};var Bd={};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.repeat=void 0;var zd=gn,Wd=xe,Ud=Pe,$d=Mn,Gd=wa;Bd.repeat=function(t){var e,r,n=1/0;return null!=t&&("object"==typeof t?(e=t.count,n=void 0===e?1/0:e,r=t.delay):n=t),n<=0?function(){return zd.EMPTY}:Wd.operate(function(t,e){var i,s=0,o=function(){if(null==i||i.unsubscribe(),i=null,null!=r){var t="number"==typeof r?Gd.timer(r):$d.innerFrom(r(s)),n=Ud.createOperatorSubscriber(e,function(){n.unsubscribe(),a()});t.subscribe(n)}else a()},a=function(){var r=!1;i=t.subscribe(Ud.createOperatorSubscriber(e,void 0,function(){++s<n?i?o():r=!0:e.complete()})),r&&o()};a()})};var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.repeatWhen=void 0;var qd=Mn,Vd=Ke,Yd=xe,Zd=Pe;Hd.repeatWhen=function(t){return Yd.operate(function(e,r){var n,i,s=!1,o=!1,a=!1,l=function(){return a&&o&&(r.complete(),!0)},u=function(){a=!1,n=e.subscribe(Zd.createOperatorSubscriber(r,void 0,function(){a=!0,!l()&&(i||(i=new Vd.Subject,qd.innerFrom(t(i)).subscribe(Zd.createOperatorSubscriber(r,function(){n?u():s=!0},function(){o=!0,l()}))),i).next()})),s&&(n.unsubscribe(),n=null,s=!1,u())};u()})};var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.retry=void 0;var Qd=xe,Jd=Pe,Xd=he,tp=wa,ep=Mn;Kd.retry=function(t){var e;void 0===t&&(t=1/0);var r=(e=t&&"object"==typeof t?t:{count:t}).count,n=void 0===r?1/0:r,i=e.delay,s=e.resetOnSuccess,o=void 0!==s&&s;return n<=0?Xd.identity:Qd.operate(function(t,e){var r,s=0,a=function(){var l=!1;r=t.subscribe(Jd.createOperatorSubscriber(e,function(t){o&&(s=0),e.next(t)},void 0,function(t){if(s++<n){var o=function(){r?(r.unsubscribe(),r=null,a()):l=!0};if(null!=i){var u="number"==typeof i?tp.timer(i):ep.innerFrom(i(t,s)),c=Jd.createOperatorSubscriber(e,function(){c.unsubscribe(),o()},function(){e.complete()});u.subscribe(c)}else o()}else e.error(t)})),l&&(r.unsubscribe(),r=null,a())};a()})};var rp={};Object.defineProperty(rp,"__esModule",{value:!0}),rp.retryWhen=void 0;var np=Mn,ip=Ke,sp=xe,op=Pe;rp.retryWhen=function(t){return sp.operate(function(e,r){var n,i,s=!1,o=function(){n=e.subscribe(op.createOperatorSubscriber(r,void 0,void 0,function(e){i||(i=new ip.Subject,np.innerFrom(t(i)).subscribe(op.createOperatorSubscriber(r,function(){return n?o():s=!0}))),i&&i.next(e)})),s&&(n.unsubscribe(),n=null,s=!1,o())};o()})};var ap={};Object.defineProperty(ap,"__esModule",{value:!0}),ap.sample=void 0;var lp=Mn,up=xe,cp=ne,hp=Pe;ap.sample=function(t){return up.operate(function(e,r){var n=!1,i=null;e.subscribe(hp.createOperatorSubscriber(r,function(t){n=!0,i=t})),lp.innerFrom(t).subscribe(hp.createOperatorSubscriber(r,function(){if(n){n=!1;var t=i;i=null,r.next(t)}},cp.noop))})};var fp={};Object.defineProperty(fp,"__esModule",{value:!0}),fp.sampleTime=void 0;var dp=Zr,pp=ap,bp=ga;fp.sampleTime=function(t,e){return void 0===e&&(e=dp.asyncScheduler),pp.sample(bp.interval(t,e))};var yp={};Object.defineProperty(yp,"__esModule",{value:!0}),yp.scan=void 0;var mp=xe,vp=yu;yp.scan=function(t,e){return mp.operate(vp.scanInternals(t,e,arguments.length>=2,!0))};var gp={};Object.defineProperty(gp,"__esModule",{value:!0}),gp.sequenceEqual=void 0;var wp=xe,_p=Pe,Sp=Mn;gp.sequenceEqual=function(t,e){return void 0===e&&(e=function(t,e){return t===e}),wp.operate(function(r,n){var i={buffer:[],complete:!1},s={buffer:[],complete:!1},o=function(t){n.next(t),n.complete()},a=function(t,r){var i=_p.createOperatorSubscriber(n,function(n){var i=r.buffer,s=r.complete;0===i.length?s?o(!1):t.buffer.push(n):!e(n,i.shift())&&o(!1)},function(){t.complete=!0;var e=r.complete,n=r.buffer;e&&o(0===n.length),null==i||i.unsubscribe()});return i};r.subscribe(a(i,s)),Sp.innerFrom(t).subscribe(a(s,i))})};var Ep={},Op=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},xp=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.share=void 0;var Tp=Mn,kp=Ke,Ap=Nt,Pp=xe;function Mp(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==e){if(!1!==e){var i=new Ap.SafeSubscriber({next:function(){i.unsubscribe(),t()}});return Tp.innerFrom(e.apply(void 0,xp([],Op(r)))).subscribe(i)}}else t()}Ep.share=function(t){void 0===t&&(t={});var e=t.connector,r=void 0===e?function(){return new kp.Subject}:e,n=t.resetOnError,i=void 0===n||n,s=t.resetOnComplete,o=void 0===s||s,a=t.resetOnRefCountZero,l=void 0===a||a;return function(t){var e,n,s,a=0,u=!1,c=!1,h=function(){null==n||n.unsubscribe(),n=void 0},f=function(){h(),e=s=void 0,u=c=!1},d=function(){var t=e;f(),null==t||t.unsubscribe()};return Pp.operate(function(t,p){a++,c||u||h();var b=s=null!=s?s:r();p.add(function(){0!==--a||c||u||(n=Mp(d,l))}),b.subscribe(p),!e&&a>0&&(e=new Ap.SafeSubscriber({next:function(t){return b.next(t)},error:function(t){c=!0,h(),n=Mp(f,i,t),b.error(t)},complete:function(){u=!0,h(),n=Mp(f,o),b.complete()}}),Tp.innerFrom(t).subscribe(e))})(t)}};var jp={};Object.defineProperty(jp,"__esModule",{value:!0}),jp.shareReplay=void 0;var Rp=hr,Lp=Ep;jp.shareReplay=function(t,e,r){var n,i,s,o,a=!1;return t&&"object"==typeof t?(n=t.bufferSize,o=void 0===n?1/0:n,i=t.windowTime,e=void 0===i?1/0:i,a=void 0!==(s=t.refCount)&&s,r=t.scheduler):o=null!=t?t:1/0,Lp.share({connector:function(){return new Rp.ReplaySubject(o,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})};var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.single=void 0;var Ip=ps,Fp=Os,Np=Ss,Dp=xe,Bp=Pe;Cp.single=function(t){return Dp.operate(function(e,r){var n,i=!1,s=!1,o=0;e.subscribe(Bp.createOperatorSubscriber(r,function(a){s=!0,t&&!t(a,o++,e)||(i&&r.error(new Fp.SequenceError("Too many matching values")),i=!0,n=a)},function(){i?(r.next(n),r.complete()):r.error(s?new Np.NotFoundError("No matching values"):new Ip.EmptyError)}))})};var zp={};Object.defineProperty(zp,"__esModule",{value:!0}),zp.skip=void 0;var Wp=qa;zp.skip=function(t){return Wp.filter(function(e,r){return t<=r})};var Up={};Object.defineProperty(Up,"__esModule",{value:!0}),Up.skipLast=void 0;var $p=he,Gp=xe,Hp=Pe;Up.skipLast=function(t){return t<=0?$p.identity:Gp.operate(function(e,r){var n=new Array(t),i=0;return e.subscribe(Hp.createOperatorSubscriber(r,function(e){var s=i++;if(s<t)n[s]=e;else{var o=s%t,a=n[o];n[o]=e,r.next(a)}})),function(){n=null}})};var qp={};Object.defineProperty(qp,"__esModule",{value:!0}),qp.skipUntil=void 0;var Vp=xe,Yp=Pe,Zp=Mn,Kp=ne;qp.skipUntil=function(t){return Vp.operate(function(e,r){var n=!1,i=Yp.createOperatorSubscriber(r,function(){null==i||i.unsubscribe(),n=!0},Kp.noop);Zp.innerFrom(t).subscribe(i),e.subscribe(Yp.createOperatorSubscriber(r,function(t){return n&&r.next(t)}))})};var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.skipWhile=void 0;var Jp=xe,Xp=Pe;Qp.skipWhile=function(t){return Jp.operate(function(e,r){var n=!1,i=0;e.subscribe(Xp.createOperatorSubscriber(r,function(e){return(n||(n=!t(e,i++)))&&r.next(e)}))})};var tb={};Object.defineProperty(tb,"__esModule",{value:!0}),tb.startWith=void 0;var eb=po,rb=_n,nb=xe;tb.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=rb.popScheduler(t);return nb.operate(function(e,n){(r?eb.concat(t,e,r):eb.concat(t,e)).subscribe(n)})};var ib={},sb={};Object.defineProperty(sb,"__esModule",{value:!0}),sb.switchMap=void 0;var ob=Mn,ab=xe,lb=Pe;sb.switchMap=function(t,e){return ab.operate(function(r,n){var i=null,s=0,o=!1,a=function(){return o&&!i&&n.complete()};r.subscribe(lb.createOperatorSubscriber(n,function(r){null==i||i.unsubscribe();var o=0,l=s++;ob.innerFrom(t(r,l)).subscribe(i=lb.createOperatorSubscriber(n,function(t){return n.next(e?e(r,t,l,o++):t)},function(){i=null,a()}))},function(){o=!0,a()}))})},Object.defineProperty(ib,"__esModule",{value:!0}),ib.switchAll=void 0;var ub=sb,cb=he;ib.switchAll=function(){return ub.switchMap(cb.identity)};var hb={};Object.defineProperty(hb,"__esModule",{value:!0}),hb.switchMapTo=void 0;var fb=sb,db=Dt;hb.switchMapTo=function(t,e){return db.isFunction(e)?fb.switchMap(function(){return t},e):fb.switchMap(function(){return t})};var pb={};Object.defineProperty(pb,"__esModule",{value:!0}),pb.switchScan=void 0;var bb=sb,yb=xe;pb.switchScan=function(t,e){return yb.operate(function(r,n){var i=e;return bb.switchMap(function(e,r){return t(i,e,r)},function(t,e){return i=e,e})(r).subscribe(n),function(){i=null}})};var mb={};Object.defineProperty(mb,"__esModule",{value:!0}),mb.takeUntil=void 0;var vb=xe,gb=Pe,wb=Mn,_b=ne;mb.takeUntil=function(t){return vb.operate(function(e,r){wb.innerFrom(t).subscribe(gb.createOperatorSubscriber(r,function(){return r.complete()},_b.noop)),!r.closed&&e.subscribe(r)})};var Sb={};Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.takeWhile=void 0;var Eb=xe,Ob=Pe;Sb.takeWhile=function(t,e){return void 0===e&&(e=!1),Eb.operate(function(r,n){var i=0;r.subscribe(Ob.createOperatorSubscriber(n,function(r){var s=t(r,i++);(s||e)&&n.next(r),!s&&n.complete()}))})};var xb={};Object.defineProperty(xb,"__esModule",{value:!0}),xb.tap=void 0;var Tb=Dt,kb=xe,Ab=Pe,Pb=he;xb.tap=function(t,e,r){var n=Tb.isFunction(t)||e||r?{next:t,error:e,complete:r}:t;return n?kb.operate(function(t,e){var r;null===(r=n.subscribe)||void 0===r||r.call(n);var i=!0;t.subscribe(Ab.createOperatorSubscriber(e,function(t){var r;null===(r=n.next)||void 0===r||r.call(n,t),e.next(t)},function(){var t;i=!1,null===(t=n.complete)||void 0===t||t.call(n),e.complete()},function(t){var r;i=!1,null===(r=n.error)||void 0===r||r.call(n,t),e.error(t)},function(){var t,e;i&&(null===(t=n.unsubscribe)||void 0===t||t.call(n)),null===(e=n.finalize)||void 0===e||e.call(n)}))}):Pb.identity};var Mb={};Object.defineProperty(Mb,"__esModule",{value:!0}),Mb.throttle=void 0;var jb=xe,Rb=Pe,Lb=Mn;Mb.throttle=function(t,e){return jb.operate(function(r,n){var i=null!=e?e:{},s=i.leading,o=void 0===s||s,a=i.trailing,l=void 0!==a&&a,u=!1,c=null,h=null,f=!1,d=function(){null==h||h.unsubscribe(),h=null,l&&(y(),f&&n.complete())},p=function(){h=null,f&&n.complete()},b=function(e){return h=Lb.innerFrom(t(e)).subscribe(Rb.createOperatorSubscriber(n,d,p))},y=function(){if(u){u=!1;var t=c;c=null,n.next(t),!f&&b(t)}};r.subscribe(Rb.createOperatorSubscriber(n,function(t){u=!0,c=t,(!h||h.closed)&&(o?y():b(t))},function(){f=!0,(!(l&&u&&h)||h.closed)&&n.complete()}))})};var Cb={};Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.throttleTime=void 0;var Ib=Zr,Fb=Mb,Nb=wa;Cb.throttleTime=function(t,e,r){void 0===e&&(e=Ib.asyncScheduler);var n=Nb.timer(t,e);return Fb.throttle(function(){return n},r)};var Db={};Object.defineProperty(Db,"__esModule",{value:!0}),Db.TimeInterval=Db.timeInterval=void 0;var Bb=Zr,zb=xe,Wb=Pe;Db.timeInterval=function(t){return void 0===t&&(t=Bb.asyncScheduler),zb.operate(function(e,r){var n=t.now();e.subscribe(Wb.createOperatorSubscriber(r,function(e){var i=t.now(),s=i-n;n=i,r.next(new Ub(e,s))}))})};var Ub=function(t,e){this.value=t,this.interval=e};Db.TimeInterval=Ub;var $b={};Object.defineProperty($b,"__esModule",{value:!0}),$b.timeoutWith=void 0;var Gb=Zr,Hb=ks,qb=Ts;$b.timeoutWith=function(t,e,r){var n,i,s;if(r=null!=r?r:Gb.async,Hb.isValidDate(t)?n=t:"number"==typeof t&&(i=t),!e)throw new TypeError("No observable provided to switch to");if(s=function(){return e},null==n&&null==i)throw new TypeError("No timeout provided.");return qb.timeout({first:n,each:i,scheduler:r,with:s})};var Vb={};Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.timestamp=void 0;var Yb=fr,Zb=js;Vb.timestamp=function(t){return void 0===t&&(t=Yb.dateTimestampProvider),Zb.map(function(e){return{value:e,timestamp:t.now()}})};var Kb={};Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.window=void 0;var Qb=Ke,Jb=xe,Xb=Pe,ty=ne,ey=Mn;Kb.window=function(t){return Jb.operate(function(e,r){var n=new Qb.Subject;r.next(n.asObservable());var i=function(t){n.error(t),r.error(t)};return e.subscribe(Xb.createOperatorSubscriber(r,function(t){return null==n?void 0:n.next(t)},function(){n.complete(),r.complete()},i)),ey.innerFrom(t).subscribe(Xb.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new Qb.Subject)},ty.noop,i)),function(){null==n||n.unsubscribe(),n=null}})};var ry={},ny=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ry,"__esModule",{value:!0}),ry.windowCount=void 0;var iy=Ke,sy=xe,oy=Pe;ry.windowCount=function(t,e){void 0===e&&(e=0);var r=e>0?e:t;return sy.operate(function(e,n){var i=[new iy.Subject],s=0;n.next(i[0].asObservable()),e.subscribe(oy.createOperatorSubscriber(n,function(e){var o,a;try{for(var l=ny(i),u=l.next();!u.done;u=l.next()){u.value.next(e)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}var c=s-t+1;if(c>=0&&c%r===0&&i.shift().complete(),++s%r===0){var h=new iy.Subject;i.push(h),n.next(h.asObservable())}},function(){for(;i.length>0;)i.shift().complete();n.complete()},function(t){for(;i.length>0;)i.shift().error(t);n.error(t)},function(){i=null}))})};var ay={};Object.defineProperty(ay,"__esModule",{value:!0}),ay.windowTime=void 0;var ly=Ke,uy=Zr,cy=Bt,hy=xe,fy=Pe,dy=$t,py=_n,by=vi;ay.windowTime=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=null!==(e=py.popScheduler(n))&&void 0!==e?e:uy.asyncScheduler,o=null!==(r=n[0])&&void 0!==r?r:null,a=n[1]||1/0;return hy.operate(function(e,r){var n=[],i=!1,l=function(t){var e=t.window,r=t.subs;e.complete(),r.unsubscribe(),dy.arrRemove(n,t),i&&u()},u=function(){if(n){var e=new cy.Subscription;r.add(e);var i=new ly.Subject,o={window:i,subs:e,seen:0};n.push(o),r.next(i.asObservable()),by.executeSchedule(e,s,function(){return l(o)},t)}};null!==o&&o>=0?by.executeSchedule(r,s,u,o,!0):i=!0,u();var c=function(t){return n.slice().forEach(t)},h=function(t){c(function(e){var r=e.window;return t(r)}),t(r),r.unsubscribe()};return e.subscribe(fy.createOperatorSubscriber(r,function(t){c(function(e){e.window.next(t),a<=++e.seen&&l(e)})},function(){return h(function(t){return t.complete()})},function(t){return h(function(e){return e.error(t)})})),function(){n=null}})};var yy={},my=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(yy,"__esModule",{value:!0}),yy.windowToggle=void 0;var vy=Ke,gy=Bt,wy=xe,_y=Mn,Sy=Pe,Ey=ne,Oy=$t;yy.windowToggle=function(t,e){return wy.operate(function(r,n){var i=[],s=function(t){for(;0<i.length;)i.shift().error(t);n.error(t)};_y.innerFrom(t).subscribe(Sy.createOperatorSubscriber(n,function(t){var r=new vy.Subject;i.push(r);var o,a=new gy.Subscription;try{o=_y.innerFrom(e(t))}catch(t){return void s(t)}n.next(r.asObservable()),a.add(o.subscribe(Sy.createOperatorSubscriber(n,function(){Oy.arrRemove(i,r),r.complete(),a.unsubscribe()},Ey.noop,s)))},Ey.noop)),r.subscribe(Sy.createOperatorSubscriber(n,function(t){var e,r,n=i.slice();try{for(var s=my(n),o=s.next();!o.done;o=s.next()){o.value.next(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},s,function(){for(;0<i.length;)i.shift().unsubscribe()}))})};var xy={};Object.defineProperty(xy,"__esModule",{value:!0}),xy.windowWhen=void 0;var Ty=Ke,ky=xe,Ay=Pe,Py=Mn;xy.windowWhen=function(t){return ky.operate(function(e,r){var n,i,s=function(t){n.error(t),r.error(t)},o=function(){var e;null==i||i.unsubscribe(),null==n||n.complete(),n=new Ty.Subject,r.next(n.asObservable());try{e=Py.innerFrom(t())}catch(t){return void s(t)}e.subscribe(i=Ay.createOperatorSubscriber(r,o,o,s))};o(),e.subscribe(Ay.createOperatorSubscriber(r,function(t){return n.next(t)},function(){n.complete(),r.complete()},s,function(){null==i||i.unsubscribe(),n=null}))})};var My={},jy=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Ry=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(My,"__esModule",{value:!0}),My.withLatestFrom=void 0;var Ly=xe,Cy=Pe,Iy=Mn,Fy=he,Ny=ne,Dy=_n;My.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Dy.popResultSelector(t);return Ly.operate(function(e,n){for(var i=t.length,s=new Array(i),o=t.map(function(){return!1}),a=!1,l=function(e){Iy.innerFrom(t[e]).subscribe(Cy.createOperatorSubscriber(n,function(t){s[e]=t,a||o[e]||(o[e]=!0,(a=o.every(Fy.identity))&&(o=null))},Ny.noop))},u=0;u<i;u++)l(u);e.subscribe(Cy.createOperatorSubscriber(n,function(t){if(a){var e=Ry([t],jy(s));n.next(r?r.apply(void 0,Ry([],jy(e))):e)}}))})};var By={};Object.defineProperty(By,"__esModule",{value:!0}),By.zipAll=void 0;var zy=hl,Wy=du;By.zipAll=function(t){return Wy.joinAllInternals(zy.zip,t)};var Uy={},$y={},Gy=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Hy=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty($y,"__esModule",{value:!0}),$y.zip=void 0;var qy=hl,Vy=xe;$y.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vy.operate(function(e,r){qy.zip.apply(void 0,Hy([e],Gy(t))).subscribe(r)})};var Yy=J&&J.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},Zy=J&&J.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.zipWith=void 0;var Ky=$y;Uy.zipWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ky.zip.apply(void 0,Zy([],Yy(t)))},function(t){var e=J&&J.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),r=J&&J.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||e(r,t,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var n=Ft;Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return n.Observable}});var i=Ee;Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var s=ue;Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return s.observable}});var o=Ue;Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return o.animationFrames}});var a=Ke;Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return a.Subject}});var l=lr;Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var u=hr;Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return u.ReplaySubject}});var c=yr;Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return c.AsyncSubject}});var h=gr;Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return h.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return h.asapScheduler}});var f=Zr;Object.defineProperty(t,"async",{enumerable:!0,get:function(){return f.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return f.asyncScheduler}});var d=Kr;Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return d.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return d.queueScheduler}});var p=nn;Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return p.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return p.animationFrameScheduler}});var b=fn;Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return b.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return b.VirtualAction}});var y=Wr;Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return y.Scheduler}});var m=Bt;Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return m.Subscription}});var v=Nt;Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return v.Subscriber}});var g=vn;Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return g.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return g.NotificationKind}});var w=ce;Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return w.pipe}});var _=ne;Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return _.noop}});var S=he;Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return S.identity}});var E=cs;Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return E.isObservable}});var O=ds;Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return O.lastValueFrom}});var x=ms;Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return x.firstValueFrom}});var T=ws;Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return T.ArgumentOutOfRangeError}});var k=ps;Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return k.EmptyError}});var A=Ss;Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return A.NotFoundError}});var P=Qe;Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return P.ObjectUnsubscribedError}});var M=Os;Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return M.SequenceError}});var j=Ts;Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return j.TimeoutError}});var R=zt;Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return R.UnsubscriptionError}});var L=As;Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return L.bindCallback}});var C=Vs;Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return C.bindNodeCallback}});var I=Zs;Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return I.combineLatest}});var F=po;Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return F.concat}});var N=Lo;Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return N.connectable}});var D=Co;Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return D.defer}});var B=gn;Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return B.empty}});var z=Wo;Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return z.forkJoin}});var W=kn;Object.defineProperty(t,"from",{enumerable:!0,get:function(){return W.from}});var U=Zo;Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return U.fromEvent}});var $=aa;Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return $.fromEventPattern}});var G=ha;Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return G.generate}});var H=ma;Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return H.iif}});var q=ga;Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return q.interval}});var V=ka;Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return V.merge}});var Y=La;Object.defineProperty(t,"never",{enumerable:!0,get:function(){return Y.never}});var Z=wn;Object.defineProperty(t,"of",{enumerable:!0,get:function(){return Z.of}});var K=Ca;Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return K.onErrorResumeNext}});var Q=Ua;Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return Q.pairs}});var X=Ga;Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return X.partition}});var tt=Ja;Object.defineProperty(t,"race",{enumerable:!0,get:function(){return tt.race}});var et=il;Object.defineProperty(t,"range",{enumerable:!0,get:function(){return et.range}});var rt=as;Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return rt.throwError}});var nt=wa;Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return nt.timer}});var it=al;Object.defineProperty(t,"using",{enumerable:!0,get:function(){return it.using}});var st=hl;Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return st.zip}});var ot=An;Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return ot.scheduled}});var at=gn;Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return at.EMPTY}});var lt=La;Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return lt.NEVER}}),r(wl,t);var ut=Jt;Object.defineProperty(t,"config",{enumerable:!0,get:function(){return ut.config}});var ct=_l;Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return ct.audit}});var ht=xl;Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return ht.auditTime}});var ft=Pl;Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return ft.buffer}});var dt=Cl;Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return dt.bufferCount}});var pt=Bl;Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return pt.bufferTime}});var bt=Yl;Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return bt.bufferToggle}});var yt=ru;Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return yt.bufferWhen}});var mt=au;Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return mt.catchError}});var vt=hu;Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return vt.combineAll}});var gt=fu;Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return gt.combineLatestAll}});var wt=ju;Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return wt.combineLatestWith}});var _t=bo;Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return _t.concatAll}});var St=Gu;Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return St.concatMap}});var Et=Vu;Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return Et.concatMapTo}});var Ot=Ku;Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return Ot.concatWith}});var xt=ac;Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return xt.connect}});var Tt=bc;Object.defineProperty(t,"count",{enumerable:!0,get:function(){return Tt.count}});var kt=mc;Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return kt.debounce}});var At=Sc;Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return At.debounceTime}});var Pt=Tc;Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return Pt.defaultIfEmpty}});var Mt=Pc;Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return Mt.delay}});var jt=Mc;Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return jt.delayWhen}});var Rt=Kc;Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return Rt.dematerialize}});var Lt=th;Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return Lt.distinct}});var Ct=sh;Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return Ct.distinctUntilChanged}});var It=ch;Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return It.distinctUntilKeyChanged}});var Dt=fh;Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return Dt.elementAt}});var Wt=Eh;Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return Wt.endWith}});var Ut=Ah;Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Ut.every}});var $t=jh;Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return $t.exhaust}});var Gt=Rh;Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return Gt.exhaustAll}});var Ht=Lh;Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return Ht.exhaustMap}});var qt=Wh;Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return qt.expand}});var Vt=qa;Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return Vt.filter}});var Yt=Gh;Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return Yt.finalize}});var Zt=qh;Object.defineProperty(t,"find",{enumerable:!0,get:function(){return Zt.find}});var Kt=Kh;Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return Kt.findIndex}});var Qt=Xh;Object.defineProperty(t,"first",{enumerable:!0,get:function(){return Qt.first}});var Xt=af;Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Xt.groupBy}});var te=Ic;Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return te.ignoreElements}});var ee=df;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return ee.isEmpty}});var re=yf;Object.defineProperty(t,"last",{enumerable:!0,get:function(){return re.last}});var ie=js;Object.defineProperty(t,"map",{enumerable:!0,get:function(){return ie.map}});var se=Bc;Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return se.mapTo}});var oe=Af;Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return oe.materialize}});var ae=Rf;Object.defineProperty(t,"max",{enumerable:!0,get:function(){return ae.max}});var le=yo;Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return le.mergeAll}});var fe=If;Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return fe.flatMap}});var de=mo;Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return de.mergeMap}});var pe=Nf;Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return pe.mergeMapTo}});var be=zf;Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return be.mergeScan}});var ye=$f;Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return ye.mergeWith}});var me=ed;Object.defineProperty(t,"min",{enumerable:!0,get:function(){return me.min}});var ve=id;Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ve.multicast}});var ge=mi;Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ge.observeOn}});var we=ld;Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return we.onErrorResumeNextWith}});var _e=pd;Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return _e.pairwise}});var Se=md;Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return Se.pluck}});var xe=gd;Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return xe.publish}});var Te=Ed;Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return Te.publishBehavior}});var ke=Td;Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return ke.publishLast}});var Ae=Pd;Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return Ae.publishReplay}});var Pe=Ld;Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return Pe.raceWith}});var Me=bu;Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return Me.reduce}});var je=Bd;Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return je.repeat}});var Re=Hd;Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return Re.repeatWhen}});var Le=Kd;Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return Le.retry}});var Ce=rp;Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return Ce.retryWhen}});var Ie=Oe;Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return Ie.refCount}});var Fe=ap;Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Fe.sample}});var Ne=fp;Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return Ne.sampleTime}});var De=yp;Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return De.scan}});var Be=gp;Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Be.sequenceEqual}});var ze=Ep;Object.defineProperty(t,"share",{enumerable:!0,get:function(){return ze.share}});var We=jp;Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return We.shareReplay}});var $e=Cp;Object.defineProperty(t,"single",{enumerable:!0,get:function(){return $e.single}});var Ge=zp;Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Ge.skip}});var He=Up;Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return He.skipLast}});var qe=qp;Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return qe.skipUntil}});var Ve=Qp;Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Ve.skipWhile}});var Ye=tb;Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Ye.startWith}});var Ze=Si;Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Ze.subscribeOn}});var Je=ib;Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Je.switchAll}});var Xe=sb;Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Xe.switchMap}});var tr=hb;Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return tr.switchMapTo}});var er=pb;Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return er.switchScan}});var rr=jc;Object.defineProperty(t,"take",{enumerable:!0,get:function(){return rr.take}});var nr=mf;Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return nr.takeLast}});var ir=mb;Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return ir.takeUntil}});var sr=Sb;Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return sr.takeWhile}});var or=xb;Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return or.tap}});var ar=Mb;Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return ar.throttle}});var ur=Cb;Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return ur.throttleTime}});var cr=dh;Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return cr.throwIfEmpty}});var fr=Db;Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return fr.timeInterval}});var dr=Ts;Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return dr.timeout}});var pr=$b;Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return pr.timeoutWith}});var br=Vb;Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return br.timestamp}});var mr=pu;Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return mr.toArray}});var vr=Kb;Object.defineProperty(t,"window",{enumerable:!0,get:function(){return vr.window}});var wr=ry;Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return wr.windowCount}});var _r=ay;Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return _r.windowTime}});var Sr=yy;Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return Sr.windowToggle}});var Er=xy;Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return Er.windowWhen}});var Or=My;Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return Or.withLatestFrom}});var xr=By;Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return xr.zipAll}});var Tr=Uy;Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return Tr.zipWith}})}(It);process.env.GITHUB_WORKSPACE;const Qy={SSH_PRIVATE_KEY:"",REMOTE_HOST:"",REMOTE_USER:"",REMOTE_PORT:"22",SERVER_PROJECT:"",CLIENT_DIST:"dist",SERVER_DIR:""},Jy={SSH_PRIVATE_KEY:"privateKey",REMOTE_HOST:"host",REMOTE_USER:"username",REMOTE_PORT:"port",SERVER_PROJECT:"project",CLIENT_DIST:"dist",SERVER_DIR:"serverDir"},Xy={};function tm(t,e,r,n){return new(r||(r=Promise))(function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,a)}l((n=n.apply(t,e||[])).next())})}["SSH_PRIVATE_KEY","REMOTE_HOST","REMOTE_USER","REMOTE_PORT","SERVER_PROJECT","CLIENT_DIST","SERVER_DIR"].forEach(t=>{const e=process.env[t],r=void 0===e?Qy[t]:e;if("CLIENT_DIST"===t)r.split(" ").map(t=>`${process.env.GITHUB_WORKSPACE}/${t}`);Xy[Jy[t]]=r}),"function"==typeof SuppressedError&&SuppressedError;var em="object"==typeof process&&process&&"win32"===process.platform?{sep:"\\"}:{sep:"/"},rm=nm;function nm(t,e,r){t instanceof RegExp&&(t=im(t,r)),e instanceof RegExp&&(e=im(e,r));var n=sm(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function im(t,e){var r=e.match(t);return r?r[0]:null}function sm(t,e,r){var n,i,s,o,a,l=r.indexOf(t),u=r.indexOf(e,l+1),c=l;if(l>=0&&u>0){if(t===e)return[l,u];for(n=[],s=r.length;c>=0&&!a;)c==l?(n.push(c),l=r.indexOf(t,c+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<s&&(s=i,o=u),u=r.indexOf(e,c+1)),c=l<u&&l>=0?l:u;n.length&&(a=[s,o])}return a}nm.range=sm;var om=rm,am=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return wm(function(t){return t.split("\\\\").join(lm).split("\\{").join(um).split("\\}").join(cm).split("\\,").join(hm).split("\\.").join(fm)}(t),!0).map(pm)},lm="\0SLASH"+Math.random()+"\0",um="\0OPEN"+Math.random()+"\0",cm="\0CLOSE"+Math.random()+"\0",hm="\0COMMA"+Math.random()+"\0",fm="\0PERIOD"+Math.random()+"\0";function dm(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function pm(t){return t.split(lm).join("\\").split(um).join("{").split(cm).join("}").split(hm).join(",").split(fm).join(".")}function bm(t){if(!t)return[""];var e=[],r=om("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=bm(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function ym(t){return"{"+t+"}"}function mm(t){return/^-?0\d/.test(t)}function vm(t,e){return t<=e}function gm(t,e){return t>=e}function wm(t,e){var r=[],n=om("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?wm(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l,u,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||h,d=n.body.indexOf(",")>=0;if(!f&&!d)return n.post.match(/,.*\}/)?wm(t=n.pre+"{"+n.body+cm+n.post):[t];if(f)l=n.body.split(/\.\./);else if(1===(l=bm(n.body)).length&&1===(l=wm(l[0],!1).map(ym)).length)return s.map(function(t){return n.pre+l[0]+t});if(f){var p=dm(l[0]),b=dm(l[1]),y=Math.max(l[0].length,l[1].length),m=3==l.length?Math.abs(dm(l[2])):1,v=vm;b<p&&(m*=-1,v=gm);var g=l.some(mm);u=[];for(var w=p;v(w,b);w+=m){var _;if(h)"\\"===(_=String.fromCharCode(w))&&(_="");else if(_=String(w),g){var S=y-_.length;if(S>0){var E=new Array(S+1).join("0");_=w<0?"-"+E+_.slice(1):E+_}}u.push(_)}}else{u=[];for(var O=0;O<l.length;O++)u.push.apply(u,wm(l[O],!1))}for(O=0;O<u.length;O++)for(o=0;o<s.length;o++){a=i+u[O]+s[o];(!e||f||a)&&r.push(a)}}return r}const _m=(t,e,r={})=>(Im(e),!(!r.nocomment&&"#"===e.charAt(0))&&new Bm(e,r).match(t));var Sm=_m;const Em=em;_m.sep=Em.sep;const Om=Symbol("globstar **");_m.GLOBSTAR=Om;const xm=am,Tm={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},km="[^/]",Am=km+"*?",Pm=t=>t.split("").reduce((t,e)=>(t[e]=!0,t),{}),Mm=Pm("().*{}+?[]^$\\!"),jm=Pm("[.("),Rm=/\/+/;_m.filter=(t,e={})=>(r,n,i)=>_m(r,t,e);const Lm=(t,e={})=>{const r={};return Object.keys(t).forEach(e=>r[e]=t[e]),Object.keys(e).forEach(t=>r[t]=e[t]),r};_m.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return _m;const e=_m,r=(r,n,i)=>e(r,n,Lm(t,i));return r.Minimatch=class extends e.Minimatch{constructor(e,r){super(e,Lm(t,r))}},r.Minimatch.defaults=r=>e.defaults(Lm(t,r)).Minimatch,r.filter=(r,n)=>e.filter(r,Lm(t,n)),r.defaults=r=>e.defaults(Lm(t,r)),r.makeRe=(r,n)=>e.makeRe(r,Lm(t,n)),r.braceExpand=(r,n)=>e.braceExpand(r,Lm(t,n)),r.match=(r,n,i)=>e.match(r,n,Lm(t,i)),r},_m.braceExpand=(t,e)=>Cm(t,e);const Cm=(t,e={})=>(Im(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:xm(t)),Im=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},Fm=Symbol("subparse");_m.makeRe=(t,e)=>new Bm(t,e||{}).makeRe(),_m.match=(t,e,r={})=>{const n=new Bm(e,r);return t=t.filter(t=>n.match(t)),n.options.nonull&&!t.length&&t.push(e),t};const Nm=t=>t.replace(/\\([^-\]])/g,"$1"),Dm=t=>t.replace(/[[\]\\]/g,"\\$&");let Bm=class{constructor(t,e){Im(t),e||(e={}),this.options=e,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,r),r=this.globParts=r.map(t=>t.split(Rm)),this.debug(this.pattern,r),r=r.map((t,e,r)=>t.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(t=>-1===t.indexOf(!1)),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var l,u=e[s],c=t[i];if(this.debug(e,u,c),!1===u)return!1;if(u===Om){this.debug("GLOBSTAR",[e,u,c]);var h=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;h<o;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,f,d),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,o,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,f),h!==o))}if("string"==typeof u?(l=c===u,this.debug("string match",u,c,l)):(l=c.match(u),this.debug("pattern match",u,c,l)),!l)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&""===t[i];throw new Error("wtf?")}braceExpand(){return Cm(this.pattern,this.options)}parse(t,e){Im(t);const r=this.options;if("**"===t){if(!r.noglobstar)return Om;t="*"}if(""===t)return"";let n="",i=!1,s=!1;const o=[],a=[];let l,u,c,h,f=!1,d=-1,p=-1,b="."===t.charAt(0),y=r.dot||b;const m=t=>"."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=()=>{if(l){switch(l){case"*":n+=Am,i=!0;break;case"?":n+=km,i=!0;break;default:n+="\\"+l}this.debug("clearStateChar %j %j",l,n),l=!1}};for(let e,h=0;h<t.length&&(e=t.charAt(h));h++)if(this.debug("%s\t%s %s %j",t,h,n,e),s){if("/"===e)return!1;Mm[e]&&(n+="\\"),n+=e,s=!1}else switch(e){case"/":return!1;case"\\":if(f&&"-"===t.charAt(h+1)){n+=e;continue}v(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,h,n,e),f){this.debug("  in class"),"!"===e&&h===p+1&&(e="^"),n+=e;continue}this.debug("call clearStateChar %j",l),v(),l=e,r.noext&&v();continue;case"(":{if(f){n+="(";continue}if(!l){n+="\\(";continue}const e={type:l,start:h-1,reStart:n.length,open:Tm[l].open,close:Tm[l].close};this.debug(this.pattern,"\t",e),o.push(e),n+=e.open,0===e.start&&"!"!==e.type&&(b=!0,n+=m(t.slice(h+1))),this.debug("plType %j %j",l,n),l=!1;continue}case")":{const t=o[o.length-1];if(f||!t){n+="\\)";continue}o.pop(),v(),i=!0,c=t,n+=c.close,"!"===c.type&&a.push(Object.assign(c,{reEnd:n.length}));continue}case"|":{const e=o[o.length-1];if(f||!e){n+="\\|";continue}v(),n+="|",0===e.start&&"!"!==e.type&&(b=!0,n+=m(t.slice(h+1)));continue}case"[":if(v(),f){n+="\\"+e;continue}f=!0,p=h,d=n.length,n+=e;continue;case"]":if(h===p+1||!f){n+="\\"+e;continue}u=t.substring(p+1,h);try{RegExp("["+Dm(Nm(u))+"]"),n+=e}catch(t){n=n.substring(0,d)+"(?:$.)"}i=!0,f=!1;continue;default:v(),!Mm[e]||"^"===e&&f||(n+="\\"),n+=e}for(f&&(u=t.slice(p+1),h=this.parse(u,Fm),n=n.substring(0,d)+"\\["+h[0],i=i||h[1]),c=o.pop();c;c=o.pop()){let t;t=n.slice(c.reStart+c.open.length),this.debug("setting tail",n,c),t=t.replace(/((?:\\{2}){0,64})(\\?)\|/g,(t,e,r)=>(r||(r="\\"),e+e+r+"|")),this.debug("tail=%j\n   %s",t,t,c,n);const e="*"===c.type?Am:"?"===c.type?km:"\\"+c.type;i=!0,n=n.slice(0,c.reStart)+e+"\\("+t}v(),s&&(n+="\\\\");const g=jm[n.charAt(0)];for(let t=a.length-1;t>-1;t--){const r=a[t],i=n.slice(0,r.reStart),s=n.slice(r.reStart,r.reEnd-8);let o=n.slice(r.reEnd);const l=n.slice(r.reEnd-8,r.reEnd)+o,u=i.split(")").length,c=i.split("(").length-u;let h=o;for(let t=0;t<c;t++)h=h.replace(/\)[+*?]?/,"");o=h;n=i+s+o+(""===o&&e!==Fm?"(?:$|\\/)":"")+l}if(""!==n&&i&&(n="(?=.)"+n),g&&(n=(b?"":y?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+n),e===Fm)return[n,i];if(r.nocase&&!i&&(i=t.toUpperCase()!==t.toLowerCase()),!i)return t.replace(/\\(.)/g,"$1");const w=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",w),{_glob:t,_src:n})}catch(t){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?Am:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"";let i=t.map(t=>(t=t.map(t=>"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===Om?Om:t._src).reduce((t,e)=>(t[t.length-1]===Om&&e===Om||t.push(e),t),[]),t.forEach((e,n)=>{e===Om&&t[n-1]!==Om&&(0===n?t.length>1?t[n+1]="(?:\\/|"+r+"\\/)?"+t[n+1]:t[n]=r:n===t.length-1?t[n-1]+="(?:\\/|"+r+")?":(t[n-1]+="(?:\\/|\\/"+r+"\\/)"+t[n+1],t[n+1]=Om))}),t.filter(t=>t!==Om).join("/"))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;"/"!==Em.sep&&(t=t.split(Em.sep).join("/")),t=t.split(Rm),this.debug(this.pattern,"split",t);const n=this.set;let i;this.debug(this.pattern,"set",n);for(let e=t.length-1;e>=0&&(i=t[e],!i);e--);for(let s=0;s<n.length;s++){const o=n[s];let a=t;r.matchBase&&1===o.length&&(a=[i]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return _m.defaults(t).Minimatch}};_m.Minimatch=Bm;var zm=Ym;const Wm=n,{EventEmitter:Um}=s,{Minimatch:$m}=Sm,{resolve:Gm}=i;function Hm(t,e){return new Promise((r,n)=>{(e?Wm.stat:Wm.lstat)(t,(n,i)=>{if(n)if("ENOENT"===n.code)r(e?Hm(t,!1):null);else r(null);else r(i)})})}async function*qm(t,e,r,n,i,s){let o=await function(t,e){return new Promise((r,n)=>{Wm.readdir(t,{withFileTypes:!0},(t,i)=>{if(t)switch(t.code){case"ENOTDIR":e?n(t):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;default:n(t)}else r(i)})})}(e+t,s);for(const s of o){let o=s.name;void 0===o&&(o=s,n=!0);const a=t+"/"+o,l=a.slice(1),u=e+"/"+l;let c=null;(n||r)&&(c=await Hm(u,r)),c||void 0===s.name||(c=s),null===c&&(c={isDirectory:()=>!1}),c.isDirectory()?i(l)||(yield{relative:l,absolute:u,stats:c},yield*qm(a,e,r,n,i,!1)):yield{relative:l,absolute:u,stats:c}}}class Vm extends Um{constructor(t,e,r){if(super(),"function"==typeof e&&(r=e,e=null),this.options=function(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}(e||{}),this.matchers=[],this.options.pattern){const t=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=t.map(t=>new $m(t,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){const t=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=t.map(t=>new $m(t,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){const t=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=t.map(t=>new $m(t,{dot:!0}))}this.iterator=async function*(t,e,r,n){yield*qm("",t,e,r,n,!0)}(Gm(t||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,r&&(this._matches=[],this.on("match",t=>this._matches.push(this.options.absolute?t.absolute:t.relative)),this.on("error",t=>r(t)),this.on("end",()=>r(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(t){return this.skipMatchers.some(e=>e.match(t))}_fileMatches(t,e){const r=t+(e?"/":"");return(0===this.matchers.length||this.matchers.some(t=>t.match(r)))&&!this.ignoreMatchers.some(t=>t.match(r))&&(!this.options.nodir||!e)}_next(){this.paused||this.aborted?this.inactive=!0:this.iterator.next().then(t=>{if(t.done)this.emit("end");else{const e=t.value.stats.isDirectory();if(this._fileMatches(t.value.relative,e)){let r=t.value.relative,n=t.value.absolute;this.options.mark&&e&&(r+="/",n+="/"),this.options.stat?this.emit("match",{relative:r,absolute:n,stat:t.value.stats}):this.emit("match",{relative:r,absolute:n})}this._next(this.iterator)}}).catch(t=>{this.abort(),this.emit("error",t),t.code||this.options.silent||console.error(t)})}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}}function Ym(t,e,r){return new Vm(t,e,r)}function Zm(t,...e){return(...r)=>t(...e,...r)}function Km(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}Ym.ReaddirGlob=Vm;var Qm="function"==typeof queueMicrotask&&queueMicrotask,Jm="function"==typeof setImmediate&&setImmediate,Xm="object"==typeof process&&"function"==typeof process.nextTick;function tv(t){setTimeout(t,0)}function ev(t){return(e,...r)=>t(()=>e(...r))}var rv=ev(Qm?queueMicrotask:Jm?setImmediate:Xm?process.nextTick:tv);function nv(t){return ov(t)?function(...e){const r=e.pop();return iv(t.apply(this,e),r)}:Km(function(e,r){var n;try{n=t.apply(this,e)}catch(t){return r(t)}if(n&&"function"==typeof n.then)return iv(n,r);r(null,n)})}function iv(t,e){return t.then(t=>{sv(e,null,t)},t=>{sv(e,t&&(t instanceof Error||t.message)?t:new Error(t))})}function sv(t,e,r){try{t(e,r)}catch(t){rv(t=>{throw t},t)}}function ov(t){return"AsyncFunction"===t[Symbol.toStringTag]}function av(t){if("function"!=typeof t)throw new Error("expected a function");return ov(t)?nv(t):t}function lv(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise((n,i)=>{r[e-1]=(t,...e)=>{if(t)return i(t);n(e.length>1?e:e[0])},t.apply(this,r)})}}function uv(t){return function(e,...r){return lv(function(n){var i=this;return t(e,(t,e)=>{av(t).apply(i,r.concat(e))},n)})}}function cv(t,e,r,n){e=e||[];var i=[],s=0,o=av(r);return t(e,(t,e,r)=>{var n=s++;o(t,(t,e)=>{i[n]=e,r(t)})},t=>{n(t,i)})}function hv(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}const fv={};function dv(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function pv(t){if(hv(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,n,i,s=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}(t);return s?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(s):(r=(e=t)?Object.keys(e):[],n=-1,i=r.length,function t(){var s=r[++n];return"__proto__"===s?t():n<i?{value:e[s],key:s}:null})}function bv(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function yv(t,e,r,n){let i=!1,s=!1,o=!1,a=0,l=0;function u(){a>=e||o||i||(o=!0,t.next().then(({value:t,done:e})=>{if(!s&&!i){if(o=!1,e)return i=!0,void(a<=0&&n(null));a++,r(t,l,c),l++,u()}}).catch(h))}function c(t,e){if(a-=1,!s)return t?h(t):!1===t?(i=!0,void(s=!0)):e===fv||i&&a<=0?(i=!0,n(null)):void u()}function h(t){s||(o=!1,i=!0,n(t))}u()}var mv=t=>(e,r,n)=>{if(n=dv(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if("AsyncGenerator"===e[Symbol.toStringTag])return yv(e,t,r,n);if(function(t){return"function"==typeof t[Symbol.asyncIterator]}(e))return yv(e[Symbol.asyncIterator](),t,r,n);var i=pv(e),s=!1,o=!1,a=0,l=!1;function u(t,e){if(!o)if(a-=1,t)s=!0,n(t);else if(!1===t)s=!0,o=!0;else{if(e===fv||s&&a<=0)return s=!0,n(null);l||c()}}function c(){for(l=!0;a<t&&!s;){var e=i();if(null===e)return s=!0,void(a<=0&&n(null));a+=1,r(e.value,e.key,bv(u))}l=!1}c()};var vv=lv(function(t,e,r,n){return mv(e)(t,av(r),n)},4);function gv(t,e,r){r=dv(r);var n=0,i=0,{length:s}=t,o=!1;function a(t,e){!1===t&&(o=!0),!0!==o&&(t?r(t):++i!==s&&e!==fv||r(null))}for(0===s&&r(null);n<s;n++)e(t[n],n,bv(a))}function wv(t,e,r){return vv(t,1/0,e,r)}var _v=lv(function(t,e,r){return(hv(t)?gv:wv)(t,av(e),r)},3);var Sv=lv(function(t,e,r){return cv(_v,t,e,r)},3),Ev=uv(Sv);var Ov=lv(function(t,e,r){return vv(t,1,e,r)},3);var xv=lv(function(t,e,r){return cv(Ov,t,e,r)},3),Tv=uv(xv);const kv=Symbol("promiseCallback");function Av(){let t,e;function r(r,...n){if(r)return e(r);t(n.length>1?n:n[0])}return r[kv]=new Promise((r,n)=>{t=r,e=n}),r}function Pv(t,e,r){"number"!=typeof e&&(r=e,e=null),r=dv(r||Av());var n=Object.keys(t).length;if(!n)return r(null);e||(e=n);var i={},s=0,o=!1,a=!1,l=Object.create(null),u=[],c=[],h={};function f(t,e){u.push(()=>function(t,e){if(a)return;var n=bv((e,...n)=>{if(s--,!1!==e)if(n.length<2&&([n]=n),e){var u={};if(Object.keys(i).forEach(t=>{u[t]=i[t]}),u[t]=n,a=!0,l=Object.create(null),o)return;r(e,u)}else i[t]=n,(l[t]||[]).forEach(t=>t()),d();else o=!0});s++;var u=av(e[e.length-1]);e.length>1?u(i,n):u(n)}(t,e))}function d(){if(!o){if(0===u.length&&0===s)return r(null,i);for(;u.length&&s<e;){u.shift()()}}}function p(e){var r=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)&&i.indexOf(e)>=0&&r.push(n)}),r}return Object.keys(t).forEach(e=>{var r=t[e];if(!Array.isArray(r))return f(e,[r]),void c.push(e);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return f(e,r),void c.push(e);h[e]=i,n.forEach(s=>{if(!t[s])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+s+"` in "+n.join(", "));!function(t,e){var r=l[t];r||(r=l[t]=[]);r.push(e)}(s,()=>{0===--i&&f(e,r)})})}),function(){var t=0;for(;c.length;)t++,p(c.pop()).forEach(t=>{0===--h[t]&&c.push(t)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),r[kv]}var Mv=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,jv=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,Rv=/,/,Lv=/(=.+)?(\s*)$/;function Cv(t,e){var r={};return Object.keys(t).forEach(e=>{var n,i=t[e],s=ov(i),o=!s&&1===i.length||s&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[e]=n.concat(n.length>0?a:i);else if(o)r[e]=i;else{if(n=function(t){const e=function(t){let e="",r=0,n=t.indexOf("*/");for(;r<t.length;)if("/"===t[r]&&"/"===t[r+1]){let e=t.indexOf("\n",r);r=-1===e?t.length:e}else if(-1!==n&&"/"===t[r]&&"*"===t[r+1]){let i=t.indexOf("*/",r);-1!==i?(r=i+2,n=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}(t.toString());let r=e.match(Mv);if(r||(r=e.match(jv)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,n]=r;return n.replace(/\s/g,"").split(Rv).map(t=>t.replace(Lv,"").trim())}(i),0===i.length&&!s&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");s||n.pop(),r[e]=n.concat(a)}function a(t,e){var r=n.map(e=>t[e]);r.push(e),av(i)(...r)}}),Pv(r,e)}class Iv{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):Fv(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):Fv(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function Fv(t,e){t.length=1,t.head=t.tail=e}function Nv(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var n=av(t),i=0,s=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(t,e){return t?e?void(o[t]=o[t].filter(t=>t!==e)):o[t]=[]:Object.keys(o).forEach(t=>o[t]=[])}function l(t,...e){o[t].forEach(t=>t(...e))}var u=!1;function c(t,e,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,s;function o(t,...e){return t?r?s(t):i():e.length<=1?i(e[0]):void i(e)}b.started=!0;var a=b._createTaskItem(t,r?o:n||o);if(e?b._tasks.unshift(a):b._tasks.push(a),u||(u=!0,rv(()=>{u=!1,b.process()})),r||!n)return new Promise((t,e)=>{i=t,s=e})}function h(t){return function(e,...r){i-=1;for(var n=0,o=t.length;n<o;n++){var a=t[n],u=s.indexOf(a);0===u?s.shift():u>0&&s.splice(u,1),a.callback(e,...r),null!=e&&l("error",e,a.data)}i<=b.concurrency-b.buffer&&l("unsaturated"),b.idle()&&l("drain"),b.process()}}function f(t){return!(0!==t.length||!b.idle())&&(rv(()=>l("drain")),!0)}const d=t=>e=>{if(!e)return new Promise((e,r)=>{!function(t,e){const r=(...n)=>{a(t,r),e(...n)};o[t].push(r)}(t,(t,n)=>{if(t)return r(t);e(n)})});a(t),function(t,e){o[t].push(e)}(t,e)};var p=!1,b={_tasks:new Iv,_createTaskItem:(t,e)=>({data:t,callback:e}),*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!1,!1,e))}return c(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!1,!0,e))}return c(t,!1,!0,e)},kill(){a(),b._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!0,!1,e))}return c(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(f(t))return;return t.map(t=>c(t,!0,!0,e))}return c(t,!0,!0,e)},remove(t){b._tasks.remove(t)},process(){if(!p){for(p=!0;!b.paused&&i<b.concurrency&&b._tasks.length;){var t=[],e=[],r=b._tasks.length;b.payload&&(r=Math.min(r,b.payload));for(var o=0;o<r;o++){var a=b._tasks.shift();t.push(a),s.push(a),e.push(a.data)}i+=1,0===b._tasks.length&&l("empty"),i===b.concurrency&&l("saturated");var u=bv(h(t));n(e,u)}p=!1}},length:()=>b._tasks.length,running:()=>i,workersList:()=>s,idle:()=>b._tasks.length+i===0,pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,rv(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),b}function Dv(t,e){return Nv(t,1,e)}function Bv(t,e,r){return Nv(t,e,r)}var zv=lv(function(t,e,r,n){n=dv(n);var i=av(r);return Ov(t,(t,r,n)=>{i(e,t,(t,r)=>{e=r,n(t)})},t=>n(t,e))},4);function Wv(...t){var e=t.map(av);return function(...t){var r=this,n=t[t.length-1];return"function"==typeof n?t.pop():n=Av(),zv(e,t,(t,e,n)=>{e.apply(r,t.concat((t,...e)=>{n(t,e)}))},(t,e)=>n(t,...e)),n[kv]}}function Uv(...t){return Wv(...t.reverse())}var $v=lv(function(t,e,r,n){return cv(mv(e),t,r,n)},4);var Gv=lv(function(t,e,r,n){var i=av(r);return $v(t,e,(t,e)=>{i(t,(t,...r)=>t?e(t):e(t,r))},(t,e)=>{for(var r=[],i=0;i<e.length;i++)e[i]&&(r=r.concat(...e[i]));return n(t,r)})},4);var Hv=lv(function(t,e,r){return Gv(t,1/0,e,r)},3);var qv=lv(function(t,e,r){return Gv(t,1,e,r)},3);function Vv(...t){return function(...e){return e.pop()(null,...t)}}function Yv(t,e){return(r,n,i,s)=>{var o,a=!1;const l=av(i);r(n,(r,n,i)=>{l(r,(n,s)=>n||!1===n?i(n):t(s)&&!o?(a=!0,o=e(!0,r),i(null,fv)):void i())},t=>{if(t)return s(t);s(null,a?o:e(!1))})}}var Zv=lv(function(t,e,r){return Yv(t=>t,(t,e)=>e)(_v,t,e,r)},3);var Kv=lv(function(t,e,r,n){return Yv(t=>t,(t,e)=>e)(mv(e),t,r,n)},4);var Qv=lv(function(t,e,r){return Yv(t=>t,(t,e)=>e)(mv(1),t,e,r)},3);function Jv(t){return(e,...r)=>av(e)(...r,(e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach(e=>console[t](e)))})}var Xv=Jv("dir");var tg=lv(function(t,e,r){r=bv(r);var n,i=av(t),s=av(e);function o(t,...e){if(t)return r(t);!1!==t&&(n=e,s(...e,a))}function a(t,e){return t?r(t):!1!==t?e?void i(o):r(null,...n):void 0}return a(null,!0)},3);function eg(t,e,r){const n=av(e);return tg(t,(...t)=>{const e=t.pop();n(...t,(t,r)=>e(t,!r))},r)}function rg(t){return(e,r,n)=>t(e,n)}var ng=lv(function(t,e,r){return _v(t,rg(av(e)),r)},3);var ig=lv(function(t,e,r,n){return mv(e)(t,rg(av(r)),n)},4);var sg=lv(function(t,e,r){return ig(t,1,e,r)},3);function og(t){return ov(t)?t:function(...e){var r=e.pop(),n=!0;e.push((...t)=>{n?rv(()=>r(...t)):r(...t)}),t.apply(this,e),n=!1}}var ag=lv(function(t,e,r){return Yv(t=>!t,t=>!t)(_v,t,e,r)},3);var lg=lv(function(t,e,r,n){return Yv(t=>!t,t=>!t)(mv(e),t,r,n)},4);var ug=lv(function(t,e,r){return Yv(t=>!t,t=>!t)(Ov,t,e,r)},3);function cg(t,e,r,n){var i=new Array(e.length);t(e,(t,e,n)=>{r(t,(t,r)=>{i[e]=!!r,n(t)})},t=>{if(t)return n(t);for(var r=[],s=0;s<e.length;s++)i[s]&&r.push(e[s]);n(null,r)})}function hg(t,e,r,n){var i=[];t(e,(t,e,n)=>{r(t,(r,s)=>{if(r)return n(r);s&&i.push({index:e,value:t}),n(r)})},t=>{if(t)return n(t);n(null,i.sort((t,e)=>t.index-e.index).map(t=>t.value))})}function fg(t,e,r,n){return(hv(e)?cg:hg)(t,e,av(r),n)}var dg=lv(function(t,e,r){return fg(_v,t,e,r)},3);var pg=lv(function(t,e,r,n){return fg(mv(e),t,r,n)},4);var bg=lv(function(t,e,r){return fg(Ov,t,e,r)},3);var yg=lv(function(t,e){var r=bv(e),n=av(og(t));return function t(e){if(e)return r(e);!1!==e&&n(t)}()},2);var mg=lv(function(t,e,r,n){var i=av(r);return $v(t,e,(t,e)=>{i(t,(r,n)=>r?e(r):e(r,{key:n,val:t}))},(t,e)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,s=0;s<e.length;s++)if(e[s]){var{key:o}=e[s],{val:a}=e[s];i.call(r,o)?r[o].push(a):r[o]=[a]}return n(t,r)})},4);function vg(t,e,r){return mg(t,1/0,e,r)}function gg(t,e,r){return mg(t,1,e,r)}var wg=Jv("log");var _g=lv(function(t,e,r,n){n=dv(n);var i={},s=av(r);return mv(e)(t,(t,e,r)=>{s(t,e,(t,n)=>{if(t)return r(t);i[e]=n,r(t)})},t=>n(t,i))},4);function Sg(t,e,r){return _g(t,1/0,e,r)}function Eg(t,e,r){return _g(t,1,e,r)}function Og(t,e=t=>t){var r=Object.create(null),n=Object.create(null),i=av(t),s=Km((t,s)=>{var o=e(...t);o in r?rv(()=>s(null,...r[o])):o in n?n[o].push(s):(n[o]=[s],i(...t,(t,...e)=>{t||(r[o]=e);var i=n[o];delete n[o];for(var s=0,a=i.length;s<a;s++)i[s](t,...e)}))});return s.memo=r,s.unmemoized=t,s}var xg=ev(Xm?process.nextTick:Jm?setImmediate:tv),Tg=lv((t,e,r)=>{var n=hv(e)?[]:{};t(e,(t,e,r)=>{av(t)((t,...i)=>{i.length<2&&([i]=i),n[e]=i,r(t)})},t=>r(t,n))},3);function kg(t,e){return Tg(_v,t,e)}function Ag(t,e,r){return Tg(mv(e),t,r)}function Pg(t,e){var r=av(t);return Nv((t,e)=>{r(t[0],e)},e,1)}class Mg{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&Lg(this.heap[t],this.heap[e=Rg(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=jg(t))<this.heap.length&&(e+1<this.heap.length&&Lg(this.heap[e+1],this.heap[e])&&(e+=1),!Lg(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let t=Rg(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function jg(t){return 1+(t<<1)}function Rg(t){return(t+1>>1)-1}function Lg(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function Cg(t,e){var r=Pg(t,e),{push:n,pushAsync:i}=r;function s(t,e){return Array.isArray(t)?t.map(t=>({data:t,priority:e})):{data:t,priority:e}}return r._tasks=new Mg,r._createTaskItem=({data:t,priority:e},r)=>({data:t,priority:e,callback:r}),r.push=function(t,e=0,r){return n(s(t,e),r)},r.pushAsync=function(t,e=0,r){return i(s(t,e),r)},delete r.unshift,delete r.unshiftAsync,r}var Ig=lv(function(t,e){if(e=dv(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)av(t[r])(e)},2);function Fg(t,e,r,n){var i=[...t].reverse();return zv(i,e,r,n)}function Ng(t){var e=av(t);return Km(function(t,r){return t.push((t,...e)=>{let n={};if(t&&(n.error=t),e.length>0){var i=e;e.length<=1&&([i]=e),n.value=i}r(null,n)}),e.apply(this,t)})}function Dg(t){var e;return Array.isArray(t)?e=t.map(Ng):(e={},Object.keys(t).forEach(r=>{e[r]=Ng.call(this,t[r])})),e}function Bg(t,e,r,n){const i=av(r);return fg(t,e,(t,e)=>{i(t,(t,r)=>{e(t,!r)})},n)}var zg=lv(function(t,e,r){return Bg(_v,t,e,r)},3);var Wg=lv(function(t,e,r,n){return Bg(mv(e),t,r,n)},4);var Ug=lv(function(t,e,r){return Bg(Ov,t,e,r)},3);function $g(t){return function(){return t}}function Gg(t,e,r){var n={times:5,intervalFunc:$g(0)};if(arguments.length<3&&"function"==typeof t?(r=e||Av(),e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||5,t.intervalFunc="function"==typeof e.interval?e.interval:$g(+e.interval||0),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||5}}(n,t),r=r||Av()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var i=av(e),s=1;return function t(){i((e,...i)=>{!1!==e&&(e&&s++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(t,n.intervalFunc(s-1)):r(e,...i))})}(),r[kv]}function Hg(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;ov(e)&&(r+=1);var n=av(e);return Km((e,i)=>{function s(t){n(...e,t)}return(e.length<r-1||null==i)&&(e.push(i),i=Av()),t?Gg(t,s,i):Gg(s,i),i[kv]})}function qg(t,e){return Tg(Ov,t,e)}var Vg=lv(function(t,e,r){return Yv(Boolean,t=>t)(_v,t,e,r)},3);var Yg=lv(function(t,e,r,n){return Yv(Boolean,t=>t)(mv(e),t,r,n)},4);var Zg=lv(function(t,e,r){return Yv(Boolean,t=>t)(Ov,t,e,r)},3);var Kg=lv(function(t,e,r){var n=av(e);return Sv(t,(t,e)=>{n(t,(r,n)=>{if(r)return e(r);e(r,{value:t,criteria:n})})},(t,e)=>{if(t)return r(t);r(null,e.sort(i).map(t=>t.value))});function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}},3);function Qg(t,e,r){var n=av(t);return Km((i,s)=>{var o,a=!1;i.push((...t)=>{a||(s(...t),clearTimeout(o))}),o=setTimeout(function(){var e=t.name||"anonymous",n=new Error('Callback function "'+e+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,s(n)},e),n(...i)})}function Jg(t,e,r,n){var i=av(r);return $v(function(t){for(var e=Array(t);t--;)e[t]=t;return e}(t),e,i,n)}function Xg(t,e,r){return Jg(t,1/0,e,r)}function tw(t,e,r){return Jg(t,1,e,r)}function ew(t,e,r,n){arguments.length<=3&&"function"==typeof e&&(n=r,r=e,e=Array.isArray(t)?[]:{}),n=dv(n||Av());var i=av(r);return _v(t,(t,r,n)=>{i(e,t,r,n)},t=>n(t,e)),n[kv]}var rw=lv(function(t,e){var r,n=null;return sg(t,(t,e)=>{av(t)((t,...i)=>{if(!1===t)return e(t);i.length<2?[r]=i:r=i,n=t,e(t?null:{})})},()=>e(n,r))});function nw(t){return(...e)=>(t.unmemoized||t)(...e)}var iw=lv(function(t,e,r){r=bv(r);var n=av(e),i=av(t),s=[];function o(t,...e){if(t)return r(t);s=e,!1!==t&&i(a)}function a(t,e){return t?r(t):!1!==t?e?void n(o):r(null,...s):void 0}return i(a)},3);function sw(t,e,r){const n=av(t);return iw(t=>n((e,r)=>t(e,!r)),e,r)}var ow=lv(function(t,e){if(e=dv(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(e){av(t[r++])(...e,bv(i))}function i(i,...s){if(!1!==i)return i||r===t.length?e(i,...s):void n(s)}n([])}),aw={apply:Zm,applyEach:Ev,applyEachSeries:Tv,asyncify:nv,auto:Pv,autoInject:Cv,cargo:Dv,cargoQueue:Bv,compose:Uv,concat:Hv,concatLimit:Gv,concatSeries:qv,constant:Vv,detect:Zv,detectLimit:Kv,detectSeries:Qv,dir:Xv,doUntil:eg,doWhilst:tg,each:ng,eachLimit:ig,eachOf:_v,eachOfLimit:vv,eachOfSeries:Ov,eachSeries:sg,ensureAsync:og,every:ag,everyLimit:lg,everySeries:ug,filter:dg,filterLimit:pg,filterSeries:bg,forever:yg,groupBy:vg,groupByLimit:mg,groupBySeries:gg,log:wg,map:Sv,mapLimit:$v,mapSeries:xv,mapValues:Sg,mapValuesLimit:_g,mapValuesSeries:Eg,memoize:Og,nextTick:xg,parallel:kg,parallelLimit:Ag,priorityQueue:Cg,queue:Pg,race:Ig,reduce:zv,reduceRight:Fg,reflect:Ng,reflectAll:Dg,reject:zg,rejectLimit:Wg,rejectSeries:Ug,retry:Gg,retryable:Hg,seq:Wv,series:qg,setImmediate:rv,some:Vg,someLimit:Yg,someSeries:Zg,sortBy:Kg,timeout:Qg,times:Xg,timesLimit:Jg,timesSeries:tw,transform:ew,tryEach:rw,unmemoize:nw,until:sw,waterfall:ow,whilst:iw,all:ag,allLimit:lg,allSeries:ug,any:Vg,anyLimit:Yg,anySeries:Zg,find:Zv,findLimit:Kv,findSeries:Qv,flatMap:Hv,flatMapLimit:Gv,flatMapSeries:qv,forEach:ng,forEachSeries:sg,forEachLimit:ig,forEachOf:_v,forEachOfSeries:Ov,forEachOfLimit:vv,inject:zv,foldl:zv,foldr:Fg,select:dg,selectLimit:pg,selectSeries:bg,wrapSync:nv,during:iw,doDuring:tg},lw=tt(Object.freeze({__proto__:null,all:ag,allLimit:lg,allSeries:ug,any:Vg,anyLimit:Yg,anySeries:Zg,apply:Zm,applyEach:Ev,applyEachSeries:Tv,asyncify:nv,auto:Pv,autoInject:Cv,cargo:Dv,cargoQueue:Bv,compose:Uv,concat:Hv,concatLimit:Gv,concatSeries:qv,constant:Vv,default:aw,detect:Zv,detectLimit:Kv,detectSeries:Qv,dir:Xv,doDuring:tg,doUntil:eg,doWhilst:tg,during:iw,each:ng,eachLimit:ig,eachOf:_v,eachOfLimit:vv,eachOfSeries:Ov,eachSeries:sg,ensureAsync:og,every:ag,everyLimit:lg,everySeries:ug,filter:dg,filterLimit:pg,filterSeries:bg,find:Zv,findLimit:Kv,findSeries:Qv,flatMap:Hv,flatMapLimit:Gv,flatMapSeries:qv,foldl:zv,foldr:Fg,forEach:ng,forEachLimit:ig,forEachOf:_v,forEachOfLimit:vv,forEachOfSeries:Ov,forEachSeries:sg,forever:yg,groupBy:vg,groupByLimit:mg,groupBySeries:gg,inject:zv,log:wg,map:Sv,mapLimit:$v,mapSeries:xv,mapValues:Sg,mapValuesLimit:_g,mapValuesSeries:Eg,memoize:Og,nextTick:xg,parallel:kg,parallelLimit:Ag,priorityQueue:Cg,queue:Pg,race:Ig,reduce:zv,reduceRight:Fg,reflect:Ng,reflectAll:Dg,reject:zg,rejectLimit:Wg,rejectSeries:Ug,retry:Gg,retryable:Hg,select:dg,selectLimit:pg,selectSeries:bg,seq:Wv,series:qg,setImmediate:rv,some:Vg,someLimit:Yg,someSeries:Zg,sortBy:Kg,timeout:Qg,times:Xg,timesLimit:Jg,timesSeries:tw,transform:ew,tryEach:rw,unmemoize:nw,until:sw,waterfall:ow,whilst:iw,wrapSync:nv})),uw={exports:{}},cw=o,hw=process.cwd,fw=null,dw=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return fw||(fw=hw.call(process)),fw};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var pw=process.chdir;process.chdir=function(t){fw=null,pw.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,pw)}var bw=function(t){cw.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,r,n){t.open(e,cw.O_WRONLY|cw.O_SYMLINK,r,function(e,i){e?n&&n(e):t.fchmod(i,r,function(e){t.close(i,function(t){n&&n(e||t)})})})},t.lchmodSync=function(e,r){var n,i=t.openSync(e,cw.O_WRONLY|cw.O_SYMLINK,r),s=!0;try{n=t.fchmodSync(i,r),s=!1}finally{if(s)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return n}}(t);t.lutimes||function(t){cw.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,r,n,i){t.open(e,cw.O_SYMLINK,function(e,s){e?i&&i(e):t.futimes(s,r,n,function(e){t.close(s,function(t){i&&i(e||t)})})})},t.lutimesSync=function(e,r,n){var i,s=t.openSync(e,cw.O_SYMLINK),o=!0;try{i=t.futimesSync(s,r,n),o=!1}finally{if(o)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return i}):t.futimes&&(t.lutimes=function(t,e,r,n){n&&process.nextTick(n)},t.lutimesSync=function(){})}(t);t.chown=n(t.chown),t.fchown=n(t.fchown),t.lchown=n(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=i(t.chownSync),t.fchownSync=i(t.fchownSync),t.lchownSync=i(t.lchownSync),t.chmodSync=r(t.chmodSync),t.fchmodSync=r(t.fchmodSync),t.lchmodSync=r(t.lchmodSync),t.stat=s(t.stat),t.fstat=s(t.fstat),t.lstat=s(t.lstat),t.statSync=o(t.statSync),t.fstatSync=o(t.fstatSync),t.lstatSync=o(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,r){r&&process.nextTick(r)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,e,r,n){n&&process.nextTick(n)},t.lchownSync=function(){});"win32"===dw&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function r(r,n,i){var s=Date.now(),o=0;e(r,n,function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code||"EBUSY"===l.code)&&Date.now()-s<6e4)return setTimeout(function(){t.stat(n,function(t,s){t&&"ENOENT"===t.code?e(r,n,a):i(l)})},o),void(o<100&&(o+=10));i&&i(l)})}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.rename));function e(e){return e?function(r,n,i){return e.call(t,r,n,function(t){a(t)&&(t=null),i&&i.apply(this,arguments)})}:e}function r(e){return e?function(r,n){try{return e.call(t,r,n)}catch(t){if(!a(t))throw t}}:e}function n(e){return e?function(r,n,i,s){return e.call(t,r,n,i,function(t){a(t)&&(t=null),s&&s.apply(this,arguments)})}:e}function i(e){return e?function(r,n,i){try{return e.call(t,r,n,i)}catch(t){if(!a(t))throw t}}:e}function s(e){return e?function(r,n,i){function s(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?e.call(t,r,n,s):e.call(t,r,s)}:e}function o(e){return e?function(r,n){var i=n?e.call(t,r,n):e.call(t,r);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:e}function a(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read="function"!=typeof t.read?t.read:function(e){function r(r,n,i,s,o,a){var l;if(a&&"function"==typeof a){var u=0;l=function(c,h,f){if(c&&"EAGAIN"===c.code&&u<10)return u++,e.call(t,r,n,i,s,o,l);a.apply(this,arguments)}}return e.call(t,r,n,i,s,o,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(l=t.readSync,function(e,r,n,i,s){for(var o=0;;)try{return l.call(t,e,r,n,i,s)}catch(t){if("EAGAIN"===t.code&&o<10){o++;continue}throw t}});var l};var yw=a.Stream,mw=function(t){return{ReadStream:function e(r,n){if(!(this instanceof e))return new e(r,n);yw.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,n=n||{};for(var s=Object.keys(n),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=n[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){i._read()});t.open(this.path,this.flags,this.mode,function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()})},WriteStream:function e(r,n){if(!(this instanceof e))return new e(r,n);yw.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var i=Object.keys(n),s=0,o=i.length;s<o;s++){var a=i[s];this[a]=n[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};var vw=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:gw(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e},gw=Object.getPrototypeOf||function(t){return t.__proto__};var ww,_w,Sw=n,Ew=bw,Ow=mw,xw=vw,Tw=l;function kw(t,e){Object.defineProperty(t,ww,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(ww=Symbol.for("graceful-fs.queue"),_w=Symbol.for("graceful-fs.previous")):(ww="___graceful-fs.queue",_w="___graceful-fs.previous");var Aw=function(){};if(Tw.debuglog?Aw=Tw.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Aw=function(){var t=Tw.format.apply(Tw,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!Sw[ww]){var Pw=J[ww]||[];kw(Sw,Pw),Sw.close=function(t){function e(e,r){return t.call(Sw,e,function(t){t||Cw(),"function"==typeof r&&r.apply(this,arguments)})}return Object.defineProperty(e,_w,{value:t}),e}(Sw.close),Sw.closeSync=function(t){function e(e){t.apply(Sw,arguments),Cw()}return Object.defineProperty(e,_w,{value:t}),e}(Sw.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Aw(Sw[ww]),u.equal(Sw[ww].length,0)})}J[ww]||kw(J,Sw[ww]);var Mw,jw=Rw(xw(Sw));function Rw(t){Ew(t),t.gracefulify=Rw,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,n){"function"==typeof r&&(n=r,r=null);return function t(r,n,i,s){return e(r,n,function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof i&&i.apply(this,arguments):Lw([t,[r,n,i],e,s||Date.now(),Date.now()])})}(t,r,n)};var r=t.writeFile;t.writeFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,s,o){return r(e,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):Lw([t,[e,n,i,s],r,o||Date.now(),Date.now()])})}(t,e,n,i)};var n=t.appendFile;n&&(t.appendFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,s,o){return n(e,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):Lw([t,[e,r,i,s],n,o||Date.now(),Date.now()])})}(t,e,r,i)});var i=t.copyFile;i&&(t.copyFile=function(t,e,r,n){"function"==typeof r&&(n=r,r=0);return function t(e,r,n,s,o){return i(e,r,n,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):Lw([t,[e,r,n,s],i,o||Date.now(),Date.now()])})}(t,e,r,n)});var s=t.readdir;t.readdir=function(t,e,r){"function"==typeof e&&(r=e,e=null);var n=o.test(process.version)?function(t,e,r,n){return s(t,i(t,e,r,n))}:function(t,e,r,n){return s(t,e,i(t,e,r,n))};return n(t,e,r);function i(t,e,r,i){return function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof r&&r.call(this,s,o)):Lw([n,[t,e,r],s,i||Date.now(),Date.now()])}}};var o=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var a=Ow(t);f=a.ReadStream,d=a.WriteStream}var l=t.ReadStream;l&&(f.prototype=Object.create(l.prototype),f.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())})});var u=t.WriteStream;u&&(d.prototype=Object.create(u.prototype),d.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))})}),Object.defineProperty(t,"ReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0});var c=f;Object.defineProperty(t,"FileReadStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var h=d;function f(t,e){return this instanceof f?(l.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function d(t,e){return this instanceof d?(u.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var p=t.open;function b(t,e,r,n){return"function"==typeof r&&(n=r,r=null),function t(e,r,n,i,s){return p(e,r,n,function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):Lw([t,[e,r,n,i],o,s||Date.now(),Date.now()])})}(t,e,r,n)}return t.open=b,t}function Lw(t){Aw("ENQUEUE",t[0].name,t[1]),Sw[ww].push(t),Iw()}function Cw(){for(var t=Date.now(),e=0;e<Sw[ww].length;++e)Sw[ww][e].length>2&&(Sw[ww][e][3]=t,Sw[ww][e][4]=t);Iw()}function Iw(){if(clearTimeout(Mw),Mw=void 0,0!==Sw[ww].length){var t=Sw[ww].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(void 0===i)Aw("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){Aw("TIMEOUT",e.name,r);var o=r.pop();"function"==typeof o&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1);a>=Math.min(1.2*l,100)?(Aw("RETRY",e.name,r),e.apply(null,r.concat([i]))):Sw[ww].push(t)}void 0===Mw&&(Mw=setTimeout(Iw,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Sw.__patched&&(jw=Rw(Sw),Sw.__patched=!0);const Fw=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;Fw.writable=t=>Fw(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,Fw.readable=t=>Fw(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,Fw.duplex=t=>Fw.writable(t)&&Fw.readable(t),Fw.transform=t=>Fw.duplex(t)&&"function"==typeof t._transform;var Nw,Dw,Bw,zw,Ww,Uw=Fw,$w={exports:{}},Gw={exports:{}};function Hw(){if(Nw)return Gw.exports;return Nw=1,"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?Gw.exports={nextTick:function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return process.nextTick(function(){t.apply(null,i)})}}}:Gw.exports=process,Gw.exports}function qw(){return Ww?zw:(Ww=1,zw=a)}var Vw,Yw={exports:{}};function Zw(){return Vw||(Vw=1,function(t,e){var r=c,n=r.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),i(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(Yw,Yw.exports)),Yw.exports}var Kw,Qw={};function Jw(){if(Kw)return Qw;function t(t){return Object.prototype.toString.call(t)}return Kw=1,Qw.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},Qw.isBoolean=function(t){return"boolean"==typeof t},Qw.isNull=function(t){return null===t},Qw.isNullOrUndefined=function(t){return null==t},Qw.isNumber=function(t){return"number"==typeof t},Qw.isString=function(t){return"string"==typeof t},Qw.isSymbol=function(t){return"symbol"==typeof t},Qw.isUndefined=function(t){return void 0===t},Qw.isRegExp=function(e){return"[object RegExp]"===t(e)},Qw.isObject=function(t){return"object"==typeof t&&null!==t},Qw.isDate=function(e){return"[object Date]"===t(e)},Qw.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},Qw.isFunction=function(t){return"function"==typeof t},Qw.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},Qw.isBuffer=c.Buffer.isBuffer,Qw}var Xw,t_,e_={exports:{}},r_={exports:{}};function n_(){if(t_)return e_.exports;t_=1;try{var t=require("util");if("function"!=typeof t.inherits)throw"";e_.exports=t.inherits}catch(t){e_.exports=(Xw||(Xw=1,"function"==typeof Object.create?r_.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r_.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}),r_.exports)}return e_.exports}var i_,s_,o_,a_,l_,u_,c_,h_,f_,d_={exports:{}};function p_(){return i_||(i_=1,function(t){var e=Zw().Buffer,r=l;function n(t,e,r){t.copy(e,r)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return e.alloc(0);for(var r=e.allocUnsafe(t>>>0),i=this.head,s=0;i;)n(i.data,r,s),s+=i.data.length,i=i.next;return r},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})}(d_)),d_.exports}function b_(){if(o_)return s_;o_=1;var t=Hw();function e(t,e){t.emit("error",e)}return s_={destroy:function(r,n){var i=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(n?n(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(e,this,r)):t.nextTick(e,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(r){!n&&r?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,t.nextTick(e,i,r)):t.nextTick(e,i,r):n&&n(r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}function y_(){if(c_)return u_;c_=1;var t=Hw();function e(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}u_=p;var r,n=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:t.nextTick;p.WritableState=d;var i=Object.create(Jw());i.inherits=n_();var s={deprecate:l_?a_:(l_=1,a_=l.deprecate)},o=qw(),a=Zw().Buffer,u=(void 0!==J?J:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,h=b_();function f(){}function d(i,s){r=r||m_(),i=i||{};var o=s instanceof r;this.objectMode=!!i.objectMode,o&&(this.objectMode=this.objectMode||!!i.writableObjectMode);var a=i.highWaterMark,l=i.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:o&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===i.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,r){var i=e._writableState,s=i.sync,o=i.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),r)!function(e,r,n,i,s){--r.pendingcb,n?(t.nextTick(s,i),t.nextTick(w,e,r),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),w(e,r))}(e,i,s,r,o);else{var a=v(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||m(e,i),s?n(y,e,i,a,o):y(e,i,a,o)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function p(t){if(r=r||m_(),!(c.call(p,this)||this instanceof r))return new p(t);this._writableState=new d(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function b(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function y(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),w(t,e)}function m(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var i=r.bufferedRequestCount,s=new Array(i),o=r.corkedRequestsFree;o.entry=n;for(var a=0,l=!0;n;)s[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;s.allBuffers=l,b(t,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(b(t,r,!1,r.objectMode?1:u.length,u,c,h),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function v(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function g(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),w(t,e)})}function w(e,r){var n=v(r);return n&&(!function(e,r){r.prefinished||r.finalCalled||("function"==typeof e._final?(r.pendingcb++,r.finalCalled=!0,t.nextTick(g,e,r)):(r.prefinished=!0,e.emit("prefinish")))}(e,r),0===r.pendingcb&&(r.finished=!0,e.emit("finish"))),n}return i.inherits(p,o),d.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(d.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===p&&(t&&t._writableState instanceof d)}})):c=function(t){return t instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,r,n){var i,s=this._writableState,o=!1,l=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return l&&!a.isBuffer(e)&&(e=function(t){return a.from(t)}(e)),"function"==typeof r&&(n=r,r=null),l?r="buffer":r||(r=s.defaultEncoding),"function"!=typeof n&&(n=f),s.ended?function(e,r){var n=new Error("write after end");e.emit("error",n),t.nextTick(r,n)}(this,n):(l||function(e,r,n,i){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||r.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),t.nextTick(i,o),s=!1),s}(this,s,e,n))&&(s.pendingcb++,o=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=a.from(e,r));return e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var l=e.objectMode?1:n.length;e.length+=l;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,l,n,i,s);return u}(this,s,l,e,r,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||m(this,t))},p.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),p.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,r,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,r=null):"function"==typeof r&&(n=r,r=null),null!=e&&this.write(e,r),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,r,n){r.ending=!0,w(e,r),n&&(r.finished?t.nextTick(n):e.once("finish",n));r.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),p.prototype.destroy=h.destroy,p.prototype._undestroy=h.undestroy,p.prototype._destroy=function(t,e){this.end(),e(t)},u_}function m_(){if(f_)return h_;f_=1;var t=Hw(),e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};h_=l;var r=Object.create(Jw());r.inherits=n_();var n=k_(),i=y_();r.inherits(l,n);for(var s=e(i.prototype),o=0;o<s.length;o++){var a=s[o];l.prototype[a]||(l.prototype[a]=i.prototype[a])}function l(t){if(!(this instanceof l))return new l(t);n.call(this,t),i.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||t.nextTick(c,this)}function c(t){t.end()}return Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(e,r){this.push(null),this.end(),t.nextTick(r,e)},h_}var v_,g_,w_,__,S_,E_,O_,x_={};function T_(){if(v_)return x_;v_=1;var t=Zw().Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof n&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,n=4;break;case"utf8":this.fillLast=i,n=4;break;case"base64":this.text=a,this.end=l,n=3;break;default:return this.write=u,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function n(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function c(t){return t&&t.length?this.write(t):""}return x_.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var s=n(e[i]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},x_}function k_(){if(w_)return g_;w_=1;var t=Hw();g_=m;var e,r=function(){if(Bw)return Dw;Bw=1;var t={}.toString;return Dw=Array.isArray||function(e){return"[object Array]"==t.call(e)}}();m.ReadableState=y,s.EventEmitter;var n=function(t,e){return t.listeners(e).length},i=qw(),o=Zw().Buffer,a=(void 0!==J?J:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u=Object.create(Jw());u.inherits=n_();var c=l,h=void 0;h=c&&c.debuglog?c.debuglog("stream"):function(){};var f,d=p_(),p=b_();u.inherits(m,i);var b=["error","close","destroy","pause","resume"];function y(t,r){t=t||{};var n=r instanceof(e=e||m_());this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=T_().StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function m(t){if(e=e||m_(),!(this instanceof m))return new m(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),i.call(this)}function v(t,e,r,n,i){var s,l=t._readableState;null===e?(l.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,S(t)}(t,l)):(i||(s=function(t,e){var r;n=e,o.isBuffer(n)||n instanceof a||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(l,e)),s?t.emit("error",s):l.objectMode||e&&e.length>0?("string"==typeof e||l.objectMode||Object.getPrototypeOf(e)===o.prototype||(e=function(t){return o.from(t)}(e)),n?l.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):g(t,l,e,!0):l.ended?t.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(e=l.decoder.write(e),l.objectMode||0!==e.length?g(t,l,e,!1):O(t,l)):g(t,l,e,!1))):n||(l.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(l)}function g(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&S(t)),O(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=p.destroy,m.prototype._undestroy=p.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=o.from(t,e),e=""),r=!0),v(this,t,e,!1,r)},m.prototype.unshift=function(t){return v(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return f||(f=T_().StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};var w=8388608;function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(e){var r=e._readableState;r.needReadable=!1,r.emittedReadable||(h("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?t.nextTick(E,e):E(e))}function E(t){h("emit readable"),t.emit("readable"),A(t)}function O(e,r){r.readingMore||(r.readingMore=!0,t.nextTick(x,e,r))}function x(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function T(t){h("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function P(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),0===(t-=o)){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=o.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var s=n.data,a=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,a),0===(t-=a)){a===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function M(e){var r=e._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');r.endEmitted||(r.ended=!0,t.nextTick(j,r,e))}function j(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}return m.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):S(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&M(this),null;var n,i=e.needReadable;return h("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",i=!0),e.ended||e.reading?h("reading or ended",i=!1):i&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(r,e))),null===(n=t>0?P(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,i){var s=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,i);var a=(!i||!1!==i.end)&&e!==process.stdout&&e!==process.stderr?u:v;function l(t,r){h("onunpipe"),t===s&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",b),e.removeListener("unpipe",l),s.removeListener("end",u),s.removeListener("end",v),s.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function u(){h("onend"),e.end()}o.endEmitted?t.nextTick(a):s.once("end",a),e.on("unpipe",l);var c=function(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&n(t,"data")&&(e.flowing=!0,A(t))}}(s);e.on("drain",c);var f=!1;var d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==R(o.pipes,e))&&!f&&(h("false write response, pause",o.awaitDrain),o.awaitDrain++,d=!0),s.pause())}function b(t){h("onerror",t),v(),e.removeListener("error",b),0===n(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",m),v()}function m(){h("onfinish"),e.removeListener("close",y),v()}function v(){h("unpipe"),s.unpipe(e)}return s.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(e,"error",b),e.once("close",y),e.once("finish",m),e.emit("pipe",s),o.flowing||(h("pipe resume"),s.resume()),e},m.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=R(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},m.prototype.on=function(e,r){var n=i.prototype.on.call(this,e,r);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&S(this):t.nextTick(T,this))}return n},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(k,e,r))}(this,e)),this},m.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(h("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<b.length;s++)t.on(b[s],this.emit.bind(this,b[s]));return this._read=function(e){h("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=P,g_}function A_(){if(S_)return __;S_=1,__=n;var t=m_(),e=Object.create(Jw());function r(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(e){if(!(this instanceof n))return new n(e);t.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){s(t,e,r)}):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}return e.inherits=n_(),e.inherits(n,t),n.prototype.push=function(e,r){return this._transformState.needTransform=!1,t.prototype.push.call(this,e,r)},n.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},n.prototype._destroy=function(e,r){var n=this;t.prototype._destroy.call(this,e,function(t){r(t),n.emit("close")})},__}!function(t,e){var r=a;"disable"===process.env.READABLE_STREAM&&r?(t.exports=r,(e=t.exports=r.Readable).Readable=r.Readable,e.Writable=r.Writable,e.Duplex=r.Duplex,e.Transform=r.Transform,e.PassThrough=r.PassThrough,e.Stream=r):((e=t.exports=k_()).Stream=r||e,e.Readable=e,e.Writable=y_(),e.Duplex=m_(),e.Transform=A_(),e.PassThrough=function(){if(O_)return E_;O_=1,E_=r;var t=A_(),e=Object.create(Jw());function r(e){if(!(this instanceof r))return new r(e);t.call(this,e)}return e.inherits=n_(),e.inherits(r,t),r.prototype._transform=function(t,e,r){r(null,t)},E_}())}($w,$w.exports);var P_=$w.exports.PassThrough,M_=l,j_=P_,R_={Readable:C_,Writable:I_};function L_(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function C_(t,e){if(!(this instanceof C_))return new C_(t,e);j_.call(this,e),L_(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function I_(t,e){if(!(this instanceof I_))return new I_(t,e);j_.call(this,e),L_(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */M_.inherits(C_,j_),M_.inherits(I_,j_);var F_=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&"\\"===t[3]){var i=t[2];"?"!==i&&"."!==i||"\\\\"!==t.slice(0,2)||(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return!1!==e&&""===s[s.length-1]&&s.pop(),n+s.join("/")};var N_=function(t){return t};var D_=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},B_=D_,z_=Math.max;var W_=function(t,e,r){return e=z_(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=z_(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),B_(t,this,a)}};var U_=function(t){return function(){return t}},$_="object"==typeof J&&J&&J.Object===Object&&J,G_=$_,H_="object"==typeof self&&self&&self.Object===Object&&self,q_=G_||H_||Function("return this")(),V_=q_.Symbol,Y_=V_,Z_=Object.prototype,K_=Z_.hasOwnProperty,Q_=Z_.toString,J_=Y_?Y_.toStringTag:void 0;var X_=function(t){var e=K_.call(t,J_),r=t[J_];try{t[J_]=void 0;var n=!0}catch(t){}var i=Q_.call(t);return n&&(e?t[J_]=r:delete t[J_]),i},tS=Object.prototype.toString;var eS=X_,rS=function(t){return tS.call(t)},nS=V_?V_.toStringTag:void 0;var iS=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":nS&&nS in Object(t)?eS(t):rS(t)};var sS=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},oS=iS,aS=sS;var lS,uS=function(t){if(!aS(t))return!1;var e=oS(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},cS=q_["__core-js_shared__"],hS=(lS=/[^.]+$/.exec(cS&&cS.keys&&cS.keys.IE_PROTO||""))?"Symbol(src)_1."+lS:"";var fS=function(t){return!!hS&&hS in t},dS=Function.prototype.toString;var pS=uS,bS=fS,yS=sS,mS=function(t){if(null!=t){try{return dS.call(t)}catch(t){}try{return t+""}catch(t){}}return""},vS=/^\[object .+?Constructor\]$/,gS=Function.prototype,wS=Object.prototype,_S=gS.toString,SS=wS.hasOwnProperty,ES=RegExp("^"+_S.call(SS).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var OS=function(t){return!(!yS(t)||bS(t))&&(pS(t)?ES:vS).test(mS(t))},xS=function(t,e){return null==t?void 0:t[e]};var TS=function(t,e){var r=xS(t,e);return OS(r)?r:void 0},kS=TS,AS=function(){try{var t=kS(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),PS=U_,MS=AS,jS=MS?function(t,e){return MS(t,"toString",{configurable:!0,enumerable:!1,value:PS(e),writable:!0})}:N_,RS=Date.now;var LS=function(t){var e=0,r=0;return function(){var n=RS(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},CS=LS(jS),IS=N_,FS=W_,NS=CS;var DS=function(t,e){return NS(FS(t,e,IS),t+"")};var BS=function(t,e){return t===e||t!=t&&e!=e};var zS=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},WS=uS,US=zS;var $S=function(t){return null!=t&&US(t.length)&&!WS(t)},GS=/^(?:0|[1-9]\d*)$/;var HS=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&GS.test(t))&&t>-1&&t%1==0&&t<e},qS=BS,VS=$S,YS=HS,ZS=sS;var KS=function(t,e,r){if(!ZS(r))return!1;var n=typeof e;return!!("number"==n?VS(r)&&YS(e,r.length):"string"==n&&e in r)&&qS(r[e],t)};var QS=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var JS=function(t){return null!=t&&"object"==typeof t},XS=iS,tE=JS;var eE=function(t){return tE(t)&&"[object Arguments]"==XS(t)},rE=JS,nE=Object.prototype,iE=nE.hasOwnProperty,sE=nE.propertyIsEnumerable,oE=eE(function(){return arguments}())?eE:function(t){return rE(t)&&iE.call(t,"callee")&&!sE.call(t,"callee")},aE=Array.isArray,lE={exports:{}};var uE=function(){return!1};!function(t,e){var r=q_,n=uE,i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i?r.Buffer:void 0,a=(o?o.isBuffer:void 0)||n;t.exports=a}(lE,lE.exports);var cE=lE.exports,hE=iS,fE=zS,dE=JS,pE={};pE["[object Float32Array]"]=pE["[object Float64Array]"]=pE["[object Int8Array]"]=pE["[object Int16Array]"]=pE["[object Int32Array]"]=pE["[object Uint8Array]"]=pE["[object Uint8ClampedArray]"]=pE["[object Uint16Array]"]=pE["[object Uint32Array]"]=!0,pE["[object Arguments]"]=pE["[object Array]"]=pE["[object ArrayBuffer]"]=pE["[object Boolean]"]=pE["[object DataView]"]=pE["[object Date]"]=pE["[object Error]"]=pE["[object Function]"]=pE["[object Map]"]=pE["[object Number]"]=pE["[object Object]"]=pE["[object RegExp]"]=pE["[object Set]"]=pE["[object String]"]=pE["[object WeakMap]"]=!1;var bE=function(t){return dE(t)&&fE(t.length)&&!!pE[hE(t)]};var yE=function(t){return function(e){return t(e)}},mE={exports:{}};!function(t,e){var r=$_,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,s=i&&i.exports===n&&r.process,o=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=o}(mE,mE.exports);var vE=mE.exports,gE=bE,wE=yE,_E=vE&&vE.isTypedArray,SE=_E?wE(_E):gE,EE=QS,OE=oE,xE=aE,TE=cE,kE=HS,AE=SE,PE=Object.prototype.hasOwnProperty;var ME=function(t,e){var r=xE(t),n=!r&&OE(t),i=!r&&!n&&TE(t),s=!r&&!n&&!i&&AE(t),o=r||n||i||s,a=o?EE(t.length,String):[],l=a.length;for(var u in t)!e&&!PE.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||kE(u,l))||a.push(u);return a},jE=Object.prototype;var RE=sS,LE=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jE)},CE=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},IE=Object.prototype.hasOwnProperty;var FE=ME,NE=function(t){if(!RE(t))return CE(t);var e=LE(t),r=[];for(var n in t)("constructor"!=n||!e&&IE.call(t,n))&&r.push(n);return r},DE=$S;var BE,zE,WE=DS,UE=BS,$E=KS,GE=function(t){return DE(t)?FE(t,!0):NE(t)},HE=Object.prototype,qE=HE.hasOwnProperty,VE=WE(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&$E(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=GE(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(void 0===c||UE(c,HE[u])&&!qE.call(t,u))&&(t[u]=s[u])}return t}),YE=VE,ZE={exports:{}},KE={exports:{}};function QE(){if(zE)return BE;zE=1;class t extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let r=0;r<t.length;r++)e+=`    ${t[r].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}return BE={AggregateError:t,ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,r)=>t.slice(e,r),Error:Error,FunctionPrototypeCall:(t,e,...r)=>t.call(e,...r),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,r)=>Object.defineProperty(t,e,r),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise:Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,r)=>t.then(e,r),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String:String,StringPrototypeSlice:(t,e,r)=>t.slice(e,r),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,r)=>t.set(e,r),Boolean:Boolean,Uint8Array:Uint8Array},BE}var JE,XE,tO,eO,rO={exports:{}};function nO(){return XE||(XE=1,JE={format:(t,...e)=>t.replace(/%([sdifj])/g,function(...[t,r]){const n=e.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"===r&&"object"==typeof n){return`${n.constructor!==Object?n.constructor.name:""} {}`.trim()}return n.toString()}),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),JE}function iO(){if(eO)return tO;eO=1;const{format:t,inspect:e}=nO(),{AggregateError:r}=QE(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,a={};function l(t,e){if(!t)throw new a.ERR_INTERNAL_ASSERTION(e)}function u(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function c(e,r,n){n||(n=Error);class s extends n{constructor(...n){super(function(e,r,n){if("function"==typeof r)return l(r.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${r.length}).`),r(...n);const i=(r.match(/%[dfijoOs]/g)||[]).length;return l(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?r:t(r,...n)}(e,r,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(s.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),s.prototype.code=e,s.prototype[i]=!0,a[e]=s}function h(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class f extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new a.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}return c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(t,r,n)=>{l("string"==typeof t,"'name' must be a string"),Array.isArray(r)||(r=[r]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";const a=[],u=[],c=[];for(const t of r)l("string"==typeof t,"All expected entries have to be of type string"),s.includes(t)?a.push(t.toLowerCase()):o.test(t)?u.push(t):(l("object"!==t,'The value "object" should be written as "Object"'),c.push(t));if(u.length>0){const t=a.indexOf("object");-1!==t&&(a.splice(a,t,1),u.push("Object"))}if(a.length>0){switch(a.length){case 1:i+=`of type ${a[0]}`;break;case 2:i+=`one of type ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();i+=`one of type ${a.join(", ")}, or ${t}`}}(u.length>0||c.length>0)&&(i+=" or ")}if(u.length>0){switch(u.length){case 1:i+=`an instance of ${u[0]}`;break;case 2:i+=`an instance of ${u[0]} or ${u[1]}`;break;default:{const t=u.pop();i+=`an instance of ${u.join(", ")}, or ${t}`}}c.length>0&&(i+=" or ")}switch(c.length){case 0:break;case 1:c[0].toLowerCase()!==c[0]&&(i+="an "),i+=`${c[0]}`;break;case 2:i+=`one of ${c[0]} or ${c[1]}`;break;default:{const t=c.pop();i+=`one of ${c.join(", ")}, or ${t}`}}if(null==n)i+=`. Received ${n}`;else if("function"==typeof n&&n.name)i+=`. Received function ${n.name}`;else if("object"==typeof n){var h;if(null!==(h=n.constructor)&&void 0!==h&&h.name)i+=`. Received an instance of ${n.constructor.name}`;else{i+=`. Received ${e(n,{depth:-1})}`}}else{let t=e(n,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),i+=`. Received type ${typeof n} (${t})`}return i},TypeError),c("ERR_INVALID_ARG_VALUE",(t,r,n="is invalid")=>{let i=e(r);i.length>128&&(i=i.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${i}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;return`Expected ${t} to be returned from the "${e}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),c("ERR_MISSING_ARGS",(...t)=>{let e;l(t.length>0,"At least one arg needs to be specified");const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(t=>`"${t}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}}return`${e} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(t,r,n)=>{let i;if(l(r,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32)i=u(String(n));else if("bigint"==typeof n){i=String(n);const t=BigInt(2)**BigInt(32);(n>t||n<-t)&&(i=u(i)),i+="n"}else i=e(n);return`The value of "${t}" is out of range. It must be ${r}. Received ${i}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),tO={AbortError:f,aggregateTwoErrors:h(function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new n([e,t],e.message);return r.code=e.code,r}return t||e}),hideStackFrames:h,codes:a}}
/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */const sO=new WeakMap,oO=new WeakMap;function aO(t){const e=sO.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function lO(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function uO(t,e){sO.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(e);for(let t=0;t<r.length;++t){const e=r[t];e in this||Object.defineProperty(this,e,cO(e))}}function cO(t){return{get(){return aO(this).event[t]},set(e){aO(this).event[t]=e},configurable:!0,enumerable:!0}}function hO(t){return{value(){const e=aO(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function fO(t){if(null==t||t===Object.prototype)return uO;let e=oO.get(t);return null==e&&(e=function(t,e){const r=Object.keys(e);if(0===r.length)return t;function n(e,r){t.call(this,e,r)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){const s=r[i];if(!(s in t.prototype)){const t="function"==typeof Object.getOwnPropertyDescriptor(e,s).value;Object.defineProperty(n.prototype,s,t?hO(s):cO(s))}}return n}(fO(Object.getPrototypeOf(t)),t),oO.set(t,e)),e}function dO(t){return aO(t).immediateStopped}function pO(t,e){aO(t).passiveListener=e}uO.prototype={get type(){return aO(this).event.type},get target(){return aO(this).eventTarget},get currentTarget(){return aO(this).currentTarget},composedPath(){const t=aO(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return aO(this).eventPhase},stopPropagation(){const t=aO(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=aO(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(aO(this).event.bubbles)},get cancelable(){return Boolean(aO(this).event.cancelable)},preventDefault(){lO(aO(this))},get defaultPrevented(){return aO(this).canceled},get composed(){return Boolean(aO(this).event.composed)},get timeStamp(){return aO(this).timeStamp},get srcElement(){return aO(this).eventTarget},get cancelBubble(){return aO(this).stopped},set cancelBubble(t){if(!t)return;const e=aO(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!aO(this).canceled},set returnValue(t){t||lO(aO(this))},initEvent(){}},Object.defineProperty(uO.prototype,"constructor",{value:uO,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(uO.prototype,window.Event.prototype),oO.set(window.Event.prototype,uO));const bO=new WeakMap;function yO(t){return null!==t&&"object"==typeof t}function mO(t){const e=bO.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function vO(t,e){Object.defineProperty(t,`on${e}`,function(t){return{get(){let e=mO(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||yO(e)||(e=null);const r=mO(this);let n=null,i=r.get(t);for(;null!=i;)3===i.listenerType?null!==n?n.next=i.next:null!==i.next?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(null!==e){const i={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(t,i):n.next=i}},configurable:!0,enumerable:!0}}(e))}function gO(t){function e(){wO.call(this)}e.prototype=Object.create(wO.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)vO(e.prototype,t[r]);return e}function wO(){if(!(this instanceof wO)){if(1===arguments.length&&Array.isArray(arguments[0]))return gO(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return gO(t)}throw new TypeError("Cannot call a class as a function")}bO.set(this,new Map)}wO.prototype={addEventListener(t,e,r){if(null==e)return;if("function"!=typeof e&&!yO(e))throw new TypeError("'listener' should be a function or an object.");const n=mO(this),i=yO(r),s=(i?Boolean(r.capture):Boolean(r))?1:2,o={listener:e,listenerType:s,passive:i&&Boolean(r.passive),once:i&&Boolean(r.once),next:null};let a=n.get(t);if(void 0===a)return void n.set(t,o);let l=null;for(;null!=a;){if(a.listener===e&&a.listenerType===s)return;l=a,a=a.next}l.next=o},removeEventListener(t,e,r){if(null==e)return;const n=mO(this),i=(yO(r)?Boolean(r.capture):Boolean(r))?1:2;let s=null,o=n.get(t);for(;null!=o;){if(o.listener===e&&o.listenerType===i)return void(null!==s?s.next=o.next:null!==o.next?n.set(t,o.next):n.delete(t));s=o,o=o.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');const e=mO(this),r=t.type;let n=e.get(r);if(null==n)return!0;const i=function(t,e){return new(fO(Object.getPrototypeOf(e)))(t,e)}(this,t);let s=null;for(;null!=n;){if(n.once?null!==s?s.next=n.next:null!==n.next?e.set(r,n.next):e.delete(r):s=n,pO(i,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,i)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(i);if(dO(i))break;n=n.next}return pO(i,null),function(t,e){aO(t).eventPhase=e}(i,0),function(t,e){aO(t).currentTarget=e}(i,null),!i.defaultPrevented}},Object.defineProperty(wO.prototype,"constructor",{value:wO,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(wO.prototype,window.EventTarget.prototype);class _O extends wO{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const t=SO.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}vO(_O.prototype,"abort");const SO=new WeakMap;Object.defineProperties(_O.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(_O.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class EO{constructor(){OO.set(this,function(){const t=Object.create(_O.prototype);return wO.call(t),SO.set(t,!1),t}())}get signal(){return xO(this)}abort(){var t;t=xO(this),!1===SO.get(t)&&(SO.set(t,!0),t.dispatchEvent({type:"abort"}))}}const OO=new WeakMap;function xO(t){const e=OO.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(EO.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(EO.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var TO,kO=tt(Object.freeze({__proto__:null,AbortController:EO,AbortSignal:_O,default:EO}));function AO(){return TO||(TO=1,function(t){const e=c,{format:r,inspect:n}=nO(),{codes:{ERR_INVALID_ARG_TYPE:i}}=iO(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:l}=QE(),u=globalThis.AbortSignal||kO.AbortSignal,h=globalThis.AbortController||kO.AbortController,f=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||e.Blob,p=void 0!==d?function(t){return t instanceof d}:function(t){return!1},b=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new i(e,"AbortSignal",t)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}},promisify:t=>new Promise((e,r)=>{t((t,...n)=>t?r(t):e(...n))}),debuglog:()=>function(){},format:r,inspect:n,types:{isAsyncFunction:t=>t instanceof f,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:p,deprecate:(t,e)=>t,addAbortListener:s.addAbortListener||function(t,e){if(void 0===t)throw new i("signal","AbortSignal",t);let r;return b(t,"signal"),((t,e)=>{if("function"!=typeof t)throw new i(e,"Function",t)})(e,"listener"),t.aborted?queueMicrotask(()=>e()):(t.addEventListener("abort",e,{__proto__:null,once:!0,[o]:!0}),r=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[l](){var t;null===(t=r)||void 0===t||t()}}},AbortSignalAny:u.any||function(t){if(1===t.length)return t[0];const e=new h,r=()=>e.abort();return t.forEach(t=>{b(t,"signals"),t.addEventListener("abort",r,{once:!0})}),e.signal.addEventListener("abort",()=>{t.forEach(t=>t.removeEventListener("abort",r))},{once:!0}),e.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(rO)),rO.exports}var PO,MO,jO={};function RO(){if(MO)return PO;MO=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:c,String:h,StringPrototypeToUpperCase:f,StringPrototypeTrim:d}=QE(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:g}}=iO(),{normalizeEncoding:w}=AO(),{isAsyncFunction:_,isArrayBufferView:S}=AO().types,E={};const O=/^[0-7]+$/;const x=p((t,e,r=a,n=o)=>{if("number"!=typeof t)throw new y(e,"number",t);if(!i(t))throw new v(e,"an integer",t);if(t<r||t>n)throw new v(e,`>= ${r} && <= ${n}`,t)}),T=p((t,e,r=-2147483648,n=2147483647)=>{if("number"!=typeof t)throw new y(e,"number",t);if(!i(t))throw new v(e,"an integer",t);if(t<r||t>n)throw new v(e,`>= ${r} && <= ${n}`,t)}),k=p((t,e,r=!1)=>{if("number"!=typeof t)throw new y(e,"number",t);if(!i(t))throw new v(e,"an integer",t);const n=r?1:0,s=4294967295;if(t<n||t>s)throw new v(e,`>= ${n} && <= ${s}`,t)});function A(t,e){if("string"!=typeof t)throw new y(e,"string",t)}const P=p((t,i,s)=>{if(!e(s,t)){const e=r(n(s,t=>"string"==typeof t?`'${t}'`:h(t)),", ");throw new m(i,t,"must be one of: "+e)}});function M(t,e){if("boolean"!=typeof t)throw new y(e,"boolean",t)}function j(t,e,r){return null!=t&&u(t,e)?t[e]:r}const R=p((e,r,n=null)=>{const i=j(n,"allowArray",!1),s=j(n,"allowFunction",!1);if(!j(n,"nullable",!1)&&null===e||!i&&t(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new y(r,"Object",e)}),L=p((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new y(e,"a dictionary",t)}),C=p((e,r,n=0)=>{if(!t(e))throw new y(r,"Array",e);if(e.length<n){throw new m(r,e,`must be longer than ${n}`)}});const I=p((t,e="buffer")=>{if(!S(t))throw new y(e,["Buffer","TypedArray","DataView"],t)});const F=p((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new y(e,"AbortSignal",t)}),N=p((t,e)=>{if("function"!=typeof t)throw new y(e,"Function",t)}),D=p((t,e)=>{if("function"!=typeof t||_(t))throw new y(e,"Function",t)}),B=p((t,e)=>{if(void 0!==t)throw new y(e,"undefined",t)});const z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(t,e){if(void 0===t||!c(z,t))throw new m(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return PO={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,r){if(void 0===t&&(t=r),"string"==typeof t){if(null===c(O,t))throw new m(e,t,"must be a 32-bit unsigned integer or an octal string");t=l(t,8)}return k(t,e),t},validateArray:C,validateStringArray:function(t,e){C(t,e);for(let r=0;r<t.length;r++)A(t[r],`${e}[${r}]`)},validateBooleanArray:function(t,e){C(t,e);for(let r=0;r<t.length;r++)M(t[r],`${e}[${r}]`)},validateAbortSignalArray:function(t,e){C(t,e);for(let r=0;r<t.length;r++){const n=t[r],i=`${e}[${r}]`;if(null==n)throw new y(i,"AbortSignal",n);F(n,i)}},validateBoolean:M,validateBuffer:I,validateDictionary:L,validateEncoding:function(t,e){const r=w(e),n=t.length;if("hex"===r&&n%2!=0)throw new m("encoding",e,`is invalid for data of length ${n}`)},validateFunction:N,validateInt32:T,validateInteger:x,validateNumber:function(t,e,r=void 0,n){if("number"!=typeof t)throw new y(e,"number",t);if(null!=r&&t<r||null!=n&&t>n||(null!=r||null!=n)&&s(t))throw new v(e,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,t)},validateObject:R,validateOneOf:P,validatePlainFunction:D,validatePort:function(t,e="Port",r=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===d(t).length||+t!==+t>>>0||t>65535||0===t&&!r)throw new b(e,t,r);return 0|t},validateSignalName:function(t,e="signal"){if(A(t,e),void 0===E[t]){if(void 0!==E[f(t)])throw new g(t+" (signals must use all capital letters)");throw new g(t)}},validateString:A,validateUint32:k,validateUndefined:B,validateUnion:function(t,n,i){if(!e(i,t))throw new y(n,`('${r(i,"|")}')`,t)},validateAbortSignal:F,validateLinkHeaderValue:function(e){if("string"==typeof e)return W(e,"hints"),e;if(t(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];W(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new m("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}},PO}var LO,CO,IO,FO,NO,DO,BO,zO,WO,UO={exports:{}};function $O(){return CO?LO:(CO=1,LO=J.process)}function GO(){if(FO)return IO;FO=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=QE(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),s=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function c(t,e=!1){var r;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(r=t._readableState)||void 0===r?void 0:r.readable)||t._writableState&&!t._readableState)}function h(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function f(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function d(t){return!(!t||f(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function p(t){return!(!t||f(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function b(t){return!(!t||f(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function y(t){if(!f(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[n]||null!=i&&i.destroyed)}function m(t){if(!h(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function v(t,e){if(!c(t))return null;const r=t._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===e&&!0===r.ended&&0===r.length))}function g(t){return t&&null!=t[s]?t[s]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!y(t)&&(c(t)&&t.readable&&!v(t))}function w(t){return t&&null!=t[o]?t[o]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!y(t)&&(h(t)&&t.writable&&!m(t))}function _(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function S(t){return"boolean"==typeof t._sent100&&_(t)}return IO={isDestroyed:y,kIsDestroyed:n,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[a])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:a,isErrored:function(t){var e,r,n,s,o,a,l,u,c,h;return!(!t||!(null!==(e=null!==(r=null!==(n=null!==(s=null!==(o=null!==(a=t[i])&&void 0!==a?a:t.readableErrored)&&void 0!==o?o:t.writableErrored)&&void 0!==s?s:null===(l=t._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=t._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(c=t._readableState)||void 0===c?void 0:c.errored)&&void 0!==e?e:null===(h=t._writableState)||void 0===h?void 0:h.errored))},kIsErrored:i,isReadable:g,kIsReadable:s,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:o,isClosed:function(t){if(!f(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,r=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==e?void 0:e.closed)||(null==r?void 0:r.closed):"boolean"==typeof t._closed&&_(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return f(t)?!!y(t)||(!1===(null==e?void 0:e.readable)||!g(t))&&(!1===(null==e?void 0:e.writable)||!w(t)):null},isIterable:function(r,n){return null!=r&&(!0===n?"function"==typeof r[t]:!1===n?"function"==typeof r[e]:"function"==typeof r[t]||"function"==typeof r[e])},isReadableNodeStream:c,isReadableStream:d,isReadableEnded:function(t){if(!c(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:v,isReadableErrored:function(t){var e,r;return f(t)?t.readableErrored?t.readableErrored:null!==(e=null===(r=t._readableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isNodeStream:f,isWebStream:function(t){return d(t)||p(t)||b(t)},isWritable:w,isWritableNodeStream:h,isWritableStream:p,isWritableEnded:m,isWritableFinished:function(t,e){if(!h(t))return null;if(!0===t.writableFinished)return!0;const r=t._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===e&&!0===r.ended&&0===r.length))},isWritableErrored:function(t){var e,r;return f(t)?t.writableErrored?t.writableErrored:null!==(e=null===(r=t._writableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:S,willEmitClose:function(t){if(!f(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&S(t)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:b},IO}function HO(){if(NO)return UO.exports;NO=1;const t=$O(),{AbortError:e,codes:r}=iO(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:s,once:o}=AO(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:c}=RO(),{Promise:h,PromisePrototypeThen:f,SymbolDispose:d}=QE(),{isClosed:p,isReadable:b,isReadableNodeStream:y,isReadableStream:m,isReadableFinished:v,isReadableErrored:g,isWritable:w,isWritableNodeStream:_,isWritableStream:S,isWritableFinished:E,isWritableErrored:O,isNodeStream:x,willEmitClose:T,kIsClosedPromise:k}=GO();let A;const P=()=>{};function M(r,c,h){var M,j;if(2===arguments.length?(h=c,c=s):null==c?c=s:u(c,"options"),l(h,"callback"),a(c.signal,"options.signal"),h=o(h),m(r)||S(r))return function(r,n,i){let s=!1,a=P;if(n.signal)if(a=()=>{s=!0,i.call(r,new e(void 0,{cause:n.signal.reason}))},n.signal.aborted)t.nextTick(a);else{A=A||AO().addAbortListener;const t=A(n.signal,a),e=i;i=o((...n)=>{t[d](),e.apply(r,n)})}const l=(...e)=>{s||t.nextTick(()=>i.apply(r,e))};return f(r[k].promise,l,l),P}(r,c,h);if(!x(r))throw new n("stream",["ReadableStream","WritableStream","Stream"],r);const R=null!==(M=c.readable)&&void 0!==M?M:y(r),L=null!==(j=c.writable)&&void 0!==j?j:_(r),C=r._writableState,I=r._readableState,F=()=>{r.writable||B()};let N=T(r)&&y(r)===R&&_(r)===L,D=E(r,!1);const B=()=>{D=!0,r.destroyed&&(N=!1),(!N||r.readable&&!R)&&(R&&!z||h.call(r))};let z=v(r,!1);const W=()=>{z=!0,r.destroyed&&(N=!1),(!N||r.writable&&!L)&&(L&&!D||h.call(r))},U=t=>{h.call(r,t)};let $=p(r);const G=()=>{$=!0;const t=O(r)||g(r);return t&&"boolean"!=typeof t?h.call(r,t):R&&!z&&y(r,!0)&&!v(r,!1)?h.call(r,new i):!L||D||E(r,!1)?void h.call(r):h.call(r,new i)},H=()=>{$=!0;const t=O(r)||g(r);if(t&&"boolean"!=typeof t)return h.call(r,t);h.call(r)},q=()=>{r.req.on("finish",B)};!function(t){return t.setHeader&&"function"==typeof t.abort}(r)?L&&!C&&(r.on("end",F),r.on("close",F)):(r.on("complete",B),N||r.on("abort",G),r.req?q():r.on("request",q)),N||"boolean"!=typeof r.aborted||r.on("aborted",G),r.on("end",W),r.on("finish",B),!1!==c.error&&r.on("error",U),r.on("close",G),$?t.nextTick(G):null!=C&&C.errorEmitted||null!=I&&I.errorEmitted?N||t.nextTick(H):(R||N&&!b(r)||!D&&!1!==w(r))&&(L||N&&!w(r)||!z&&!1!==b(r))?I&&r.req&&r.aborted&&t.nextTick(H):t.nextTick(H);const V=()=>{h=P,r.removeListener("aborted",G),r.removeListener("complete",B),r.removeListener("abort",G),r.removeListener("request",q),r.req&&r.req.removeListener("finish",B),r.removeListener("end",F),r.removeListener("close",F),r.removeListener("finish",B),r.removeListener("end",W),r.removeListener("error",U),r.removeListener("close",G)};if(c.signal&&!$){const n=()=>{const t=h;V(),t.call(r,new e(void 0,{cause:c.signal.reason}))};if(c.signal.aborted)t.nextTick(n);else{A=A||AO().addAbortListener;const t=A(c.signal,n),e=h;h=o((...n)=>{t[d](),e.apply(r,n)})}}return V}return UO.exports=M,UO.exports.finished=function(t,e){var r;let n=!1;return null===e&&(e=s),null!==(r=e)&&void 0!==r&&r.cleanup&&(c(e.cleanup,"cleanup"),n=e.cleanup),new h((r,i)=>{const s=M(t,e,t=>{n&&s(),t?i(t):r()})})},UO.exports}function qO(){if(BO)return DO;BO=1;const t=$O(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=iO(),{Symbol:i}=QE(),{kIsDestroyed:s,isDestroyed:o,isFinished:a,isServerRequest:l}=GO(),u=i("kDestroy"),c=i("kConstruct");function h(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function f(e,r,n){let i=!1;function s(r){if(i)return;i=!0;const s=e._readableState,o=e._writableState;h(r,o,s),o&&(o.closed=!0),s&&(s.closed=!0),"function"==typeof n&&n(r),r?t.nextTick(d,e,r):t.nextTick(p,e)}try{e._destroy(r||null,s)}catch(r){s(r)}}function d(t,e){b(t,e),p(t)}function p(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=r&&r.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function b(t,e){const r=t._readableState,n=t._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function y(e,r,n){const i=e._readableState,s=e._writableState;if(null!=s&&s.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=s&&s.autoDestroy?e.destroy(r):r&&(r.stack,s&&!s.errored&&(s.errored=r),i&&!i.errored&&(i.errored=r),n?t.nextTick(b,e,r):b(e,r))}function m(e){let n=!1;function i(i){if(n)return void y(e,null!=i?i:new r);n=!0;const s=e._readableState,o=e._writableState,a=o||s;s&&(s.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(u,i):i?y(e,i,!0):t.nextTick(v,e)}try{e._construct(e=>{t.nextTick(i,e)})}catch(e){t.nextTick(i,e)}}function v(t){t.emit(c)}function g(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function w(t){t.emit("close")}function _(e,r){e.emit("error",r),t.nextTick(w,e)}return DO={construct:function(e,r){if("function"!=typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(c,r),e.listenerCount(c)>1||t.nextTick(m,e)},destroyer:function(e,r){e&&!o(e)&&(r||a(e)||(r=new n),l(e)?(e.socket=null,e.destroy(r)):g(e)?e.abort():g(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(r):"function"==typeof e.close?e.close():r?t.nextTick(_,e,r):t.nextTick(w,e),e.destroyed||(e[s]=!0))},destroy:function(t,r){const n=this._readableState,i=this._writableState,s=i||n;return null!=i&&i.destroyed||null!=n&&n.destroyed?("function"==typeof r&&r(),this):(h(t,i,n),i&&(i.destroyed=!0),n&&(n.destroyed=!0),s.constructed?f(this,t,r):this.once(u,function(n){f(this,e(n,t),r)}),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:y},DO}function VO(){if(WO)return zO;WO=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=QE(),{EventEmitter:r}=s;function n(t){r.call(this,t)}function i(e,r,n){if("function"==typeof e.prependListener)return e.prependListener(r,n);e._events&&e._events[r]?t(e._events[r])?e._events[r].unshift(n):e._events[r]=[n,e._events[r]]:e.on(r,n)}return e(n.prototype,r.prototype),e(n,r),n.prototype.pipe=function(t,e){const n=this;function s(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",s),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",l),n.on("close",u));let a=!1;function l(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){h(),0===r.listenerCount(this,"error")&&this.emit("error",t)}function h(){n.removeListener("data",s),t.removeListener("drain",o),n.removeListener("end",l),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return i(n,"error",c),i(t,"error",c),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t},zO={Stream:n,prependListener:i}}var YO,ZO,KO,QO,JO,XO={exports:{}};function tx(){return YO||(YO=1,function(t){const{SymbolDispose:e}=QE(),{AbortError:r,codes:n}=iO(),{isNodeStream:i,isWebStream:s,kControllerErrorFunction:o}=GO(),a=HO(),{ERR_INVALID_ARG_TYPE:l}=n;let u;t.exports.addAbortSignal=function(e,r){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!i(r)&&!s(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(t,n){if("object"!=typeof t||!("aborted"in t))return n;const s=i(n)?()=>{n.destroy(new r(void 0,{cause:t.reason}))}:()=>{n[o](new r(void 0,{cause:t.reason}))};if(t.aborted)s();else{u=u||AO().addAbortListener;const r=u(t,s);a(n,r[e])}return n}}(XO)),XO.exports}function ex(){if(KO)return ZO;KO=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:n}=QE(),{Buffer:i}=c,{inspect:s}=AO();return ZO=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,r=""+e.data;for(;null!==(e=e.next);)r+=t+e.data;return r}concat(t){if(0===this.length)return i.alloc(0);const e=i.allocUnsafe(t>>>0);let n=this.head,s=0;for(;n;)r(e,n.data,s),s+=n.data.length,n=n.next;return e}consume(t,e){const r=this.head.data;if(t<r.length){const e=r.slice(0,t);return this.head.data=r.slice(t),e}return t===r.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[e](){for(let t=this.head;t;t=t.next)yield t.data}_getString(e){let r="",n=this.head,i=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=t(s,0,e),this.head=n,n.data=t(s,e));break}r+=s,e-=s.length,++i}while(null!==(n=n.next));return this.length-=i,r}_getBuffer(t){const e=i.allocUnsafe(t),s=t;let o=this.head,a=0;do{const i=o.data;if(!(t>i.length)){t===i.length?(r(e,i,s-t),++a,o.next?this.head=o.next:this.head=this.tail=null):(r(e,new n(i.buffer,i.byteOffset,t),s-t),this.head=o,o.data=i.slice(t));break}r(e,i,s-t),t-=i.length,++a}while(null!==(o=o.next));return this.length-=a,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return s(this,{...e,depth:0,customInspect:!1})}}}function rx(){if(JO)return QO;JO=1;const{MathFloor:t,NumberIsInteger:e}=QE(),{validateInteger:r}=RO(),{ERR_INVALID_ARG_VALUE:n}=iO().codes;let i=16384,s=16;function o(t){return t?s:i}return QO={getHighWaterMark:function(r,i,s,a){const l=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(i,a,s);if(null!=l){if(!e(l)||l<0){throw new n(a?`options.${s}`:"options.highWaterMark",l)}return t(l)}return o(r.objectMode)},getDefaultHighWaterMark:o,setDefaultHighWaterMark:function(t,e){r(e,"value",0),t?s=e:i=e}}}var nx,ix,sx,ox,ax,lx,ux,cx,hx,fx,dx,px,bx,yx,mx,vx,gx,wx,_x,Sx,Ex,Ox,xx,Tx,kx={},Ax={exports:{}};function Px(){if(ix)return kx;ix=1;var t=(nx||(nx=1,function(t,e){var r=c,n=r.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),s.prototype=Object.create(n.prototype),i(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(Ax,Ax.exports)),Ax.exports).Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof n&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,n=4;break;case"utf8":this.fillLast=i,n=4;break;case"base64":this.text=a,this.end=l,n=3;break;default:return this.write=u,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function n(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}return kx.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var s=n(e[i]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--i<r||-2===s)return 0;if(s=n(e[i]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},kx}function Mx(){if(ox)return sx;ox=1;const t=$O(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=QE(),{Buffer:i}=c,{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:o}=iO().codes;return sx=function(a,l,u){let c,h;if("string"==typeof l||l instanceof i)return new a({objectMode:!0,...u,read(){this.push(l),this.push(null)}});if(l&&l[r])h=!0,c=l[r]();else{if(!l||!l[n])throw new s("iterable",["Iterable"],l);h=!1,c=l[n]()}const f=new a({objectMode:!0,highWaterMark:1,...u});let d=!1;return f._read=function(){d||(d=!0,async function(){for(;;){try{const{value:t,done:e}=h?await c.next():c.next();if(e)f.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw d=!1,new o;if(f.push(e))continue;d=!1}}catch(t){f.destroy(t)}break}}())},f._destroy=function(r,n){e(async function(t){const e=null!=t,r="function"==typeof c.throw;if(e&&r){const{value:e,done:r}=await c.throw(t);if(await e,r)return}if("function"==typeof c.return){const{value:t}=await c.return();await t}}(r),()=>t.nextTick(n,r),e=>t.nextTick(n,e||r))},f},sx}function jx(){if(lx)return ax;lx=1;const t=$O(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:u,SafeSet:h,SymbolAsyncDispose:f,SymbolAsyncIterator:d,Symbol:p}=QE();ax=q,q.ReadableState=H;const{EventEmitter:b}=s,{Stream:y,prependListener:m}=VO(),{Buffer:v}=c,{addAbortSignal:g}=tx(),w=HO();let _=AO().debuglog("stream",t=>{_=t});const S=ex(),E=qO(),{getHighWaterMark:O,getDefaultHighWaterMark:x}=rx(),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:M,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:j},AbortError:R}=iO(),{validateObject:L}=RO(),C=p("kPaused"),{StringDecoder:I}=Px(),F=Mx();l(q.prototype,y.prototype),l(q,y);const N=()=>{},{errorOrDestroy:D}=E,B=1,z=16,W=32,U=2048,$=4096;function G(t){return{enumerable:!1,get(){return 0!==(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function H(t,e,r){"boolean"!=typeof r&&(r=e instanceof Cx()),this.state=U|$|z|W,t&&t.objectMode&&(this.state|=B),r&&t&&t.readableObjectMode&&(this.state|=B),this.highWaterMark=t?O(this,t,"readableHighWaterMark",r):x(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[C]=null,t&&!1===t.emitClose&&(this.state&=~U),t&&!1===t.autoDestroy&&(this.state&=~$),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new I(t.encoding),this.encoding=t.encoding)}function q(t){if(!(this instanceof q))return new q(t);const e=this instanceof Cx();this._readableState=new H(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&g(t.signal,this)),y.call(this,t),E.construct(this,()=>{this._readableState.needReadable&&J(this,this._readableState)})}function V(t,e,r,n){_("readableAddChunk",e);const i=t._readableState;let s;if(0===(i.state&B)&&("string"==typeof e?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=v.from(e,r).toString(i.encoding):(e=v.from(e,r),r=""))):e instanceof v?r="":y._isUint8Array(e)?(e=y._uint8ArrayToBuffer(e),r=""):null!=e&&(s=new k("chunk",["string","Buffer","Uint8Array"],e))),s)D(t,s);else if(null===e)i.state&=-9,function(t,e){if(_("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?K(t):(e.needReadable=!1,e.emittedReadable=!0,Q(t))}(t,i);else if(0!==(i.state&B)||e&&e.length>0)if(n)if(4&i.state)D(t,new j);else{if(i.destroyed||i.errored)return!1;Y(t,i,e,!0)}else if(i.ended)D(t,new M);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||0!==e.length?Y(t,i,e,!1):J(t,i)):Y(t,i,e,!1)}else n||(i.state&=-9,J(t,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Y(t,e,r,n){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(65536&e.state?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),64&e.state&&K(t)),J(t,e)}o(H.prototype,{objectMode:G(B),ended:G(2),endEmitted:G(4),reading:G(8),constructed:G(z),sync:G(W),needReadable:G(64),emittedReadable:G(128),readableListening:G(256),resumeScheduled:G(512),errorEmitted:G(1024),emitClose:G(U),autoDestroy:G($),destroyed:G(8192),closed:G(16384),closeEmitted:G(32768),multiAwaitDrain:G(65536),readingMore:G(1<<17),dataEmitted:G(1<<18)}),q.prototype.destroy=E.destroy,q.prototype._undestroy=E.undestroy,q.prototype._destroy=function(t,e){e(t)},q.prototype[b.captureRejectionSymbol]=function(t){this.destroy(t)},q.prototype[f]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new R,this.destroy(t)),new u((e,r)=>w(this,n=>n&&n!==t?r(n):e(null)))},q.prototype.push=function(t,e){return V(this,t,e,!1)},q.prototype.unshift=function(t,e){return V(this,t,e,!0)},q.prototype.isPaused=function(){const t=this._readableState;return!0===t[C]||!1===t.flowing},q.prototype.setEncoding=function(t){const e=new I(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const t of r)n+=e.write(t);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function Z(t,e){return t<=0||0===e.length&&e.ended?0:0!==(e.state&B)?1:n(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function K(e){const r=e._readableState;_("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(_("emitReadable",r.flowing),r.emittedReadable=!0,t.nextTick(Q,e))}function Q(t){const e=t._readableState;_("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,nt(t)}function J(e,r){!r.readingMore&&r.constructed&&(r.readingMore=!0,t.nextTick(X,e,r))}function X(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const r=e.length;if(_("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function tt(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[C]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function et(t){_("readable nexttick read 0"),t.read(0)}function rt(t,e){_("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),nt(t),e.flowing&&!e.reading&&t.read(0)}function nt(t){const e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function it(t,e){"function"!=typeof t.read&&(t=q.wrap(t,{objectMode:!0}));const r=async function*(t,e){let r,n=N;function i(e){this===t?(n(),n=N):n=e}t.on("readable",i);const s=w(t,{writable:!1},t=>{r=t?T(r,t):null,n(),n=N});try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(r)throw r;if(null===r)return;await new u(i)}}}catch(t){throw r=T(r,t),r}finally{!r&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==r&&!t._readableState.autoDestroy?(t.off("readable",i),s()):E.destroyer(t,null)}}(t,e);return r.stream=t,r}function st(t,e){if(0===e.length)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ot(e){const r=e._readableState;_("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,t.nextTick(at,r,e))}function at(e,r){if(_("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,r.emit("end"),r.writable&&!1===r.allowHalfOpen)t.nextTick(lt,r);else if(e.autoDestroy){const t=r._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&r.destroy()}}function lt(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let ut;function ct(){return void 0===ut&&(ut={}),ut}return q.prototype.read=function(t){_("read",t),void 0===t?t=NaN:r(t)||(t=i(t,10));const e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new P("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?ot(this):K(this),null;if(0===(t=Z(t,e))&&e.ended)return 0===e.length&&ot(this),null;let s,o=!!(64&e.state);if(_("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&(o=!0,_("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),e.state|=8|W,0===e.length&&(e.state|=64);try{this._read(e.highWaterMark)}catch(t){D(this,t)}e.state&=~W,e.reading||(t=Z(n,e))}return s=t>0?st(t,e):null,null===s?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&ot(this)),null===s||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",s)),s},q.prototype._read=function(t){throw new A("_read()")},q.prototype.pipe=function(e,r){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),_("pipe count=%d opts=%j",i.pipes.length,r);const s=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?a:y;function o(t,r){_("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){_("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),l&&e.removeListener("drain",l);e.removeListener("error",d),e.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",y),n.removeListener("data",f),u=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function a(){_("onend"),e.end()}let l;i.endEmitted?t.nextTick(s):n.once("end",s),e.on("unpipe",o);let u=!1;function c(){u||(1===i.pipes.length&&i.pipes[0]===e?(_("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(_("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),l||(l=function(t,e){return function(){const r=t._readableState;r.awaitDrainWriters===e?(_("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(_("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(n,e),e.on("drain",l))}function f(t){_("ondata");const r=e.write(t);_("dest.write",r),!1===r&&c()}function d(t){if(_("onerror",t),y(),e.removeListener("error",d),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?D(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",b),y()}function b(){_("onfinish"),e.removeListener("close",p),y()}function y(){_("unpipe"),n.unpipe(e)}return n.on("data",f),m(e,"error",d),e.once("close",p),e.once("finish",b),e.emit("pipe",n),!0===e.writableNeedDrain?c():i.flowing||(_("pipe resume"),n.resume()),e},q.prototype.unpipe=function(t){const r=this._readableState;if(0===r.pipes.length)return this;if(!t){const t=r.pipes;r.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const n=e(r.pipes,t);return-1===n||(r.pipes.splice(n,1),0===r.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},q.prototype.on=function(e,r){const n=y.prototype.on.call(this,e,r),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,_("on readable",i.length,i.reading),i.length?K(this):i.reading||t.nextTick(et,this))),n},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(e,r){const n=y.prototype.removeListener.call(this,e,r);return"readable"===e&&t.nextTick(tt,this),n},q.prototype.off=q.prototype.removeListener,q.prototype.removeAllListeners=function(e){const r=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||t.nextTick(tt,this),r},q.prototype.resume=function(){const e=this._readableState;return e.flowing||(_("resume"),e.flowing=!e.readableListening,function(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(rt,e,r))}(this,e)),e[C]=!1,this},q.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[C]=!0,this},q.prototype.wrap=function(t){let e=!1;t.on("data",r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",t=>{D(this,t)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const r=a(t);for(let e=1;e<r.length;e++){const n=r[e];void 0===this[n]&&"function"==typeof t[n]&&(this[n]=t[n].bind(t))}return this},q.prototype[d]=function(){return it(this)},q.prototype.iterator=function(t){return void 0!==t&&L(t,"options"),it(this,t)},o(q.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),o(H.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[C]},set(t){this[C]=!!t}}}),q._fromList=st,q.from=function(t,e){return F(q,t,e)},q.fromWeb=function(t,e){return ct().newStreamReadableFromReadableStream(t,e)},q.toWeb=function(t,e){return ct().newReadableStreamFromStreamReadable(t,e)},q.wrap=function(t,e){var r,n;return new q({objectMode:null===(r=null!==(n=t.readableObjectMode)&&void 0!==n?n:t.objectMode)||void 0===r||r,...e,destroy(e,r){E.destroyer(t,e),r(e)}}).wrap(t)},ax}function Rx(){if(cx)return ux;cx=1;const t=$O(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:u,SymbolHasInstance:h}=QE();ux=L,L.WritableState=j;const{EventEmitter:f}=s,d=VO().Stream,{Buffer:p}=c,b=qO(),{addAbortSignal:y}=tx(),{getHighWaterMark:m,getDefaultHighWaterMark:v}=rx(),{ERR_INVALID_ARG_TYPE:g,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:k}=iO().codes,{errorOrDestroy:A}=b;function P(){}a(L.prototype,d.prototype),a(L,d);const M=u("kOnFinished");function j(t,e,r){"boolean"!=typeof r&&(r=e instanceof Cx()),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?m(this,t,"writableHighWaterMark",r):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const n=!(!t||!1!==t.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,R(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[M]=[]}function R(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function L(t){const e=this instanceof Cx();if(!e&&!n(L,this))return new L(t);this._writableState=new j(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&y(t.signal,this)),d.call(this,t),b.construct(this,()=>{const t=this._writableState;t.writing||W(this,t),G(this,t)})}function C(e,r,n,i){const s=e._writableState;if("function"==typeof n)i=n,n=s.defaultEncoding;else{if(n){if("buffer"!==n&&!p.isEncoding(n))throw new k(n)}else n=s.defaultEncoding;"function"!=typeof i&&(i=P)}if(null===r)throw new x;if(!s.objectMode)if("string"==typeof r)!1!==s.decodeStrings&&(r=p.from(r,n),n="buffer");else if(r instanceof p)n="buffer";else{if(!d._isUint8Array(r))throw new g("chunk",["string","Buffer","Uint8Array"],r);r=d._uint8ArrayToBuffer(r),n="buffer"}let o;return s.ending?o=new T:s.destroyed&&(o=new E("write")),o?(t.nextTick(i,o),A(e,o,!0),o):(s.pendingcb++,function(t,e,r,n,i){const s=e.objectMode?1:r.length;e.length+=s;const o=e.length<e.highWaterMark;o||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&"buffer"!==n&&(e.allBuffers=!1),e.allNoop&&i!==P&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1);return o&&!e.errored&&!e.destroyed}(e,s,r,n,i))}function I(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new E("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function F(t,e,r,n){--e.pendingcb,n(r),z(e),A(t,r)}function N(e,r){const n=e._writableState,i=n.sync,s=n.writecb;"function"==typeof s?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,r?(r.stack,n.errored||(n.errored=r),e._readableState&&!e._readableState.errored&&(e._readableState.errored=r),i?t.nextTick(F,e,n,r,s):F(e,n,r,s)):(n.buffered.length>n.bufferedIndex&&W(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===s?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:s,stream:e,state:n},t.nextTick(D,n.afterWriteTickInfo)):B(e,n,1,s))):A(e,new _)}function D({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,B(t,e,r,n)}function B(t,e,r,n){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&z(e),G(t,e)}function z(t){if(t.writing)return;for(let r=t.bufferedIndex;r<t.buffered.length;++r){var e;const{chunk:n,callback:i}=t.buffered[r],s=t.objectMode?1:n.length;t.length-=s,i(null!==(e=t.errored)&&void 0!==e?e:new E("write"))}const r=t[M].splice(0);for(let e=0;e<r.length;e++){var n;r[e](null!==(n=t.errored)&&void 0!==n?n:new E("end"))}R(t)}function W(t,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed)return;const{buffered:n,bufferedIndex:i,objectMode:s}=r,o=n.length-i;if(!o)return;let a=i;if(r.bufferProcessing=!0,o>1&&t._writev){r.pendingcb-=o-1;const i=r.allNoop?P:t=>{for(let e=a;e<n.length;++e)n[e].callback(t)},s=r.allNoop&&0===a?n:e(n,a);s.allBuffers=r.allBuffers,I(t,r,!0,r.length,s,"",i),R(r)}else{do{const{chunk:e,encoding:i,callback:o}=n[a];n[a++]=null;I(t,r,!1,s?1:e.length,e,i,o)}while(a<n.length&&!r.writing);a===n.length?R(r):a>256?(n.splice(0,a),r.bufferedIndex=0):r.bufferedIndex=a}r.bufferProcessing=!1}function U(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function $(e,r){r.prefinished||r.finalCalled||("function"!=typeof e._final||r.destroyed?(r.prefinished=!0,e.emit("prefinish")):(r.finalCalled=!0,function(e,r){let n=!1;function i(i){if(n)A(e,null!=i?i:_());else if(n=!0,r.pendingcb--,i){const t=r[M].splice(0);for(let e=0;e<t.length;e++)t[e](i);A(e,i,r.sync)}else U(r)&&(r.prefinished=!0,e.emit("prefinish"),r.pendingcb++,t.nextTick(H,e,r))}r.sync=!0,r.pendingcb++;try{e._final(i)}catch(t){i(t)}r.sync=!1}(e,r)))}function G(e,r,n){U(r)&&($(e,r),0===r.pendingcb&&(n?(r.pendingcb++,t.nextTick((t,e)=>{U(e)?H(t,e):e.pendingcb--},e,r)):U(r)&&(r.pendingcb++,H(e,r))))}function H(t,e){e.pendingcb--,e.finished=!0;const r=e[M].splice(0);for(let t=0;t<r.length;t++)r[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}j.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(j.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),i(L,h,{__proto__:null,value:function(t){return!!n(this,t)||this===L&&(t&&t._writableState instanceof j)}}),L.prototype.pipe=function(){A(this,new S)},L.prototype.write=function(t,e,r){return!0===C(this,t,e,r)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||W(this,t))},L.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=l(t)),!p.isEncoding(t))throw new k(t);return this._writableState.defaultEncoding=t,this},L.prototype._write=function(t,e,r){if(!this._writev)throw new w("_write()");this._writev([{chunk:t,encoding:e}],r)},L.prototype._writev=null,L.prototype.end=function(e,n,i){const s=this._writableState;let o;if("function"==typeof e?(i=e,e=null,n=null):"function"==typeof n&&(i=n,n=null),null!=e){const t=C(this,e,n);t instanceof r&&(o=t)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new O("end"):s.destroyed&&(o=new E("end")):(s.ending=!0,G(this,s,!0),s.ended=!0)),"function"==typeof i&&(o||s.finished?t.nextTick(i,o):s[M].push(i)),this},o(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const q=b.destroy;let V;function Y(){return void 0===V&&(V={}),V}return L.prototype.destroy=function(e,r){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[M].length)&&t.nextTick(z,n),q.call(this,e,r),this},L.prototype._undestroy=b.undestroy,L.prototype._destroy=function(t,e){e(t)},L.prototype[f.captureRejectionSymbol]=function(t){this.destroy(t)},L.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},L.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)},ux}function Lx(){if(fx)return hx;fx=1;const t=$O(),e=c,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:h}=GO(),f=HO(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:b}}=iO(),{destroyer:y}=qO(),m=Cx(),v=jx(),g=Rx(),{createDeferredPromise:w}=AO(),_=Mx(),S=globalThis.Blob||e.Blob,E=void 0!==S?function(t){return t instanceof S}:function(t){return!1},O=globalThis.AbortController||kO.AbortController,{FunctionPrototypeCall:x}=QE();class T extends m{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function k(t){const e=t.readable&&"function"!=typeof t.readable.read?v.wrap(t.readable):t.readable,i=t.writable;let s,o,a,l,u,c=!!r(e),h=!!n(i);function p(t){const e=l;l=null,e?e(t):t&&u.destroy(t)}return u=new T({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==i||!i.writableObjectMode),readable:c,writable:h}),h&&(f(i,t=>{h=!1,t&&y(e,t),p(t)}),u._write=function(t,e,r){i.write(t,e)?r():s=r},u._final=function(t){i.end(),o=t},i.on("drain",function(){if(s){const t=s;s=null,t()}}),i.on("finish",function(){if(o){const t=o;o=null,t()}})),c&&(f(e,t=>{c=!1,t&&y(e,t),p(t)}),e.on("readable",function(){if(a){const t=a;a=null,t()}}),e.on("end",function(){u.push(null)}),u._read=function(){for(;;){const t=e.read();if(null===t)return void(a=u._read);if(!u.push(t))return}}),u._destroy=function(t,r){t||null===l||(t=new d),a=null,s=null,o=null,null===l?r(t):(l=r,y(i,t),y(e,t))},u}return hx=function e(r,n){if(l(r))return r;if(o(r))return k({readable:r});if(a(r))return k({writable:r});if(s(r))return k({writable:!1,readable:!1});if(u(r))return k({readable:v.fromWeb(r)});if(h(r))return k({writable:g.fromWeb(r)});if("function"==typeof r){const{value:e,write:s,final:o,destroy:a}=function(e){let{promise:r,resolve:n}=w();const i=new O,s=i.signal,o=e(async function*(){for(;;){const e=r;r=null;const{chunk:i,done:o,cb:a}=await e;if(t.nextTick(a),o)return;if(s.aborted)throw new d(void 0,{cause:s.reason});({promise:r,resolve:n}=w()),yield i}}(),{signal:s});return{value:o,write(t,e,r){const i=n;n=null,i({chunk:t,done:!1,cb:r})},final(t){const e=n;n=null,e({done:!0,cb:t})},destroy(t,e){i.abort(),e(t)}}}(r);if(i(e))return _(T,e,{objectMode:!0,write:s,final:o,destroy:a});const l=null==e?void 0:e.then;if("function"==typeof l){let r;const n=x(l,e,t=>{if(null!=t)throw new b("nully","body",t)},t=>{y(r,t)});return r=new T({objectMode:!0,readable:!1,write:s,final(e){o(async()=>{try{await n,t.nextTick(e,null)}catch(r){t.nextTick(e,r)}})},destroy:a})}throw new b("Iterable, AsyncIterable or AsyncFunction",n,e)}if(E(r))return e(r.arrayBuffer());if(i(r))return _(T,r,{objectMode:!0,writable:!1});if(u(null==r?void 0:r.readable)&&h(null==r?void 0:r.writable))return T.fromWeb(r);if("object"==typeof(null==r?void 0:r.writable)||"object"==typeof(null==r?void 0:r.readable)){return k({readable:null!=r&&r.readable?o(null==r?void 0:r.readable)?null==r?void 0:r.readable:e(r.readable):void 0,writable:null!=r&&r.writable?a(null==r?void 0:r.writable)?null==r?void 0:r.writable:e(r.writable):void 0})}const c=null==r?void 0:r.then;if("function"==typeof c){let t;return x(c,r,e=>{null!=e&&t.push(e),t.push(null)},e=>{y(t,e)}),t=new T({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],r)},hx}function Cx(){if(px)return dx;px=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=QE();dx=o;const i=jx(),s=Rx();n(o.prototype,i.prototype),n(o,i);{const t=r(s.prototype);for(let e=0;e<t.length;e++){const r=t[e];o.prototype[r]||(o.prototype[r]=s.prototype[r])}}function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),s.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let a,l;function u(){return void 0===a&&(a={}),a}return t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),o.fromWeb=function(t,e){return u().newStreamDuplexFromReadableWritablePair(t,e)},o.toWeb=function(t){return u().newReadableWritablePairFromDuplex(t)},o.from=function(t){return l||(l=Lx()),l(t,"body")},dx}function Ix(){if(yx)return bx;yx=1;const{ObjectSetPrototypeOf:t,Symbol:e}=QE();bx=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=iO().codes,n=Cx(),{getHighWaterMark:i}=rx();t(o.prototype,n.prototype),t(o,n);const s=e("kCallback");function o(t){if(!(this instanceof o))return new o(t);const e=t?i(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),n.call(this,t),this._readableState.sync=!1,this[s]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function a(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush((e,r)=>{e?t?t(e):this.destroy(e):(null!=r&&this.push(r),this.push(null),t&&t())})}function l(){this._final!==a&&a.call(this)}return o.prototype._final=a,o.prototype._transform=function(t,e,n){throw new r("_transform()")},o.prototype._write=function(t,e,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(t,e,(t,e)=>{t?r(t):(null!=e&&this.push(e),i.ended||o===n.length||n.length<n.highWaterMark?r():this[s]=r)})},o.prototype._read=function(){if(this[s]){const t=this[s];this[s]=null,t()}},bx}function Fx(){if(vx)return mx;vx=1;const{ObjectSetPrototypeOf:t}=QE();mx=r;const e=Ix();function r(t){if(!(this instanceof r))return new r(t);e.call(this,t)}return t(r.prototype,e.prototype),t(r,e),r.prototype._transform=function(t,e,r){r(null,t)},mx}function Nx(){if(wx)return gx;wx=1;const t=$O(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=QE(),s=HO(),{once:o}=AO(),a=qO(),l=Cx(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:f,ERR_STREAM_DESTROYED:d,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:b}=iO(),{validateFunction:y,validateAbortSignal:m}=RO(),{isIterable:v,isReadable:g,isReadableNodeStream:w,isNodeStream:_,isTransformStream:S,isWebStream:E,isReadableStream:O,isReadableFinished:x}=GO(),T=globalThis.AbortController||kO.AbortController;let k,A,P;function M(t,e,r){let n=!1;t.on("close",()=>{n=!0});return{destroy:e=>{n||(n=!0,a.destroyer(t,e||new d("pipe")))},cleanup:s(t,{readable:e,writable:r},t=>{n=!t})}}function j(t){if(v(t))return t;if(w(t))return async function*(t){A||(A=jx());yield*A.prototype[n].call(t)}(t);throw new c("val",["Readable","Iterable","AsyncIterable"],t)}async function R(t,e,n,{end:i}){let o,a=null;const l=t=>{if(t&&(o=t),a){const t=a;a=null,t()}},c=()=>new r((t,e)=>{o?e(o):a=()=>{o?e(o):t()}});e.on("drain",l);const h=s(e,{readable:!1},l);try{e.writableNeedDrain&&await c();for await(const r of t)e.write(r)||await c();i&&(e.end(),await c()),n()}catch(t){n(o!==t?u(o,t):t)}finally{h(),e.off("drain",l)}}async function L(t,e,r,{end:n}){S(e)&&(e=e.writable);const i=e.getWriter();try{for await(const e of t)await i.ready,i.write(e).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(t){try{await i.abort(t),r(t)}catch(t){r(t)}}}function C(r,n,s){if(1===r.length&&e(r[0])&&(r=r[0]),r.length<2)throw new f("streams");const o=new T,a=o.signal,u=null==s?void 0:s.signal,d=[];function p(){B(new b)}let y,x,A;m(u,"options.signal"),P=P||AO().addAbortListener,u&&(y=P(u,p));const C=[];let F,N=0;function D(t){B(t,0===--N)}function B(e,r){var s;if(!e||x&&"ERR_STREAM_PREMATURE_CLOSE"!==x.code||(x=e),x||r){for(;C.length;)C.shift()(x);null===(s=y)||void 0===s||s[i](),o.abort(),r&&(x||d.forEach(t=>t()),t.nextTick(n,x,A))}}for(let U=0;U<r.length;U++){const $=r[U],G=U<r.length-1,H=U>0,q=G||!1!==(null==s?void 0:s.end),V=U===r.length-1;if(_($)){if(q){const{destroy:Z,cleanup:K}=M($,G,H);C.push(Z),g($)&&V&&d.push(K)}function Y(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&D(t)}$.on("error",Y),g($)&&V&&d.push(()=>{$.removeListener("error",Y)})}if(0===U)if("function"==typeof $){if(F=$({signal:a}),!v(F))throw new h("Iterable, AsyncIterable or Stream","source",F)}else F=v($)||w($)||S($)?$:l.from($);else if("function"==typeof $){var z;if(S(F))F=j(null===(z=F)||void 0===z?void 0:z.readable);else F=j(F);if(F=$(F,{signal:a}),G){if(!v(F,!0))throw new h("AsyncIterable",`transform[${U-1}]`,F)}else{var W;k||(k=Fx());const Q=new k({objectMode:!0}),J=null===(W=F)||void 0===W?void 0:W.then;if("function"==typeof J)N++,J.call(F,e=>{A=e,null!=e&&Q.write(e),q&&Q.end(),t.nextTick(D)},e=>{Q.destroy(e),t.nextTick(D,e)});else if(v(F,!0))N++,R(F,Q,D,{end:q});else{if(!O(F)&&!S(F))throw new h("AsyncIterable or Promise","destination",F);{const et=F.readable||F;N++,R(et,Q,D,{end:q})}}F=Q;const{destroy:X,cleanup:tt}=M(F,!1,!0);C.push(X),V&&d.push(tt)}}else if(_($)){if(w(F)){N+=2;const rt=I(F,$,D,{end:q});g($)&&V&&d.push(rt)}else if(S(F)||O(F)){const nt=F.readable||F;N++,R(nt,$,D,{end:q})}else{if(!v(F))throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);N++,R(F,$,D,{end:q})}F=$}else if(E($)){if(w(F))N++,L(j(F),$,D,{end:q});else if(O(F)||v(F))N++,L(F,$,D,{end:q});else{if(!S(F))throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);N++,L(F.readable,$,D,{end:q})}F=$}else F=l.from($)}return(null!=a&&a.aborted||null!=u&&u.aborted)&&t.nextTick(p),F}function I(e,r,n,{end:i}){let o=!1;if(r.on("close",()=>{o||n(new p)}),e.pipe(r,{end:!1}),i){function a(){o=!0,r.end()}x(e)?t.nextTick(a):e.once("end",a)}else n();return s(e,{readable:!0,writable:!1},t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)}),s(r,{readable:!1,writable:!0},n)}return gx={pipelineImpl:C,pipeline:function(...t){return C(t,o(function(t){return y(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}}function Dx(){if(Sx)return _x;Sx=1;const{pipeline:t}=Nx(),e=Cx(),{destroyer:r}=qO(),{isNodeStream:n,isReadable:i,isWritable:s,isWebStream:o,isTransformStream:a,isWritableStream:l,isReadableStream:u}=GO(),{AbortError:c,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:f}}=iO(),d=HO();return _x=function(...p){if(0===p.length)throw new f("streams");if(1===p.length)return e.from(p[0]);const b=[...p];if("function"==typeof p[0]&&(p[0]=e.from(p[0])),"function"==typeof p[p.length-1]){const t=p.length-1;p[t]=e.from(p[t])}for(let t=0;t<p.length;++t)if(n(p[t])||o(p[t])){if(t<p.length-1&&!(i(p[t])||u(p[t])||a(p[t])))throw new h(`streams[${t}]`,b[t],"must be readable");if(t>0&&!(s(p[t])||l(p[t])||a(p[t])))throw new h(`streams[${t}]`,b[t],"must be writable")}let y,m,v,g,w;const _=p[0],S=t(p,function(t){const e=g;g=null,e?e(t):t?w.destroy(t):O||E||w.destroy()}),E=!!(s(_)||l(_)||a(_)),O=!!(i(S)||u(S)||a(S));if(w=new e({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==S||!S.readableObjectMode),writable:E,readable:O}),E){if(n(_))w._write=function(t,e,r){_.write(t,e)?r():y=r},w._final=function(t){_.end(),m=t},_.on("drain",function(){if(y){const t=y;y=null,t()}});else if(o(_)){const t=(a(_)?_.writable:_).getWriter();w._write=async function(e,r,n){try{await t.ready,t.write(e).catch(()=>{}),n()}catch(t){n(t)}},w._final=async function(e){try{await t.ready,t.close().catch(()=>{}),m=e}catch(t){e(t)}}}const t=a(S)?S.readable:S;d(t,()=>{if(m){const t=m;m=null,t()}})}if(O)if(n(S))S.on("readable",function(){if(v){const t=v;v=null,t()}}),S.on("end",function(){w.push(null)}),w._read=function(){for(;;){const t=S.read();if(null===t)return void(v=w._read);if(!w.push(t))return}};else if(o(S)){const t=(a(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{const{value:e,done:r}=await t.read();if(!w.push(e))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(t,e){t||null===g||(t=new c),v=null,y=null,m=null,null===g?e(t):(g=e,n(S)&&r(S,t))},w},_x}function Bx(){if(xx)return Ox;xx=1;const{ArrayPrototypePop:t,Promise:e}=QE(),{isIterable:r,isNodeStream:n,isWebStream:i}=GO(),{pipelineImpl:s}=Nx(),{finished:o}=HO();return zx(),Ox={finished:o,pipeline:function(...o){return new e((e,a)=>{let l,u;const c=o[o.length-1];if(c&&"object"==typeof c&&!n(c)&&!r(c)&&!i(c)){const e=t(o);l=e.signal,u=e.end}s(o,(t,r)=>{t?a(t):e(r)},{signal:l,end:u})})}},Ox}function zx(){if(Tx)return KE.exports;Tx=1;const{Buffer:t}=c,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=QE(),{promisify:{custom:i}}=AO(),{streamReturningOperators:s,promiseReturningOperators:o}=function(){if(Ex)return jO;Ex=1;const t=globalThis.AbortController||kO.AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:s}=iO(),{validateAbortSignal:o,validateInteger:a,validateObject:l}=RO(),u=QE().Symbol("kWeak"),c=QE().Symbol("kResistStopPropagation"),{finished:h}=HO(),f=Dx(),{addAbortSignalNoValidate:d}=tx(),{isWritable:p,isNodeStream:b}=GO(),{deprecate:y}=AO(),{ArrayPrototypePush:m,Boolean:v,MathFloor:g,Number:w,NumberIsNaN:_,Promise:S,PromiseReject:E,PromiseResolve:O,PromisePrototypeThen:x,Symbol:T}=QE(),k=T("kEmpty"),A=T("kEof");function P(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal");let n=1;null!=(null==e?void 0:e.concurrency)&&(n=g(e.concurrency));let i=n-1;return null!=(null==e?void 0:e.highWaterMark)&&(i=g(e.highWaterMark)),a(n,"options.concurrency",1),a(i,"options.highWaterMark",0),i+=n,async function*(){const r=AO().AbortSignalAny([null==e?void 0:e.signal].filter(v)),o=this,a=[],l={signal:r};let u,c,h=!1,f=0;function d(){h=!0,p()}function p(){f-=1,b()}function b(){c&&!h&&f<n&&a.length<i&&(c(),c=null)}!async function(){try{for await(let e of o){if(h)return;if(r.aborted)throw new s;try{if(e=t(e,l),e===k)continue;e=O(e)}catch(t){e=E(t)}f+=1,x(e,p,d),a.push(e),u&&(u(),u=null),!h&&(a.length>=i||f>=n)&&await new S(t=>{c=t})}a.push(A)}catch(t){const e=E(t);x(e,p,d),a.push(e)}finally{h=!0,u&&(u(),u=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===A)return;if(r.aborted)throw new s;t!==k&&(yield t),a.shift(),b()}await new S(t=>{u=t})}}finally{h=!0,c&&(c(),c=null)}}.call(this)}async function M(t,e=void 0){for await(const r of j.call(this,t,e))return!0;return!1}function j(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return P.call(this,async function(e,r){return await t(e,r)?e:k},e)}class R extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function L(t){if(t=w(t),_(t))return 0;if(t<0)throw new i("number",">= 0",t);return t}return jO.streamReturningOperators={asIndexedPairs:y(function(t=void 0){return null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal"),async function*(){let e=0;for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s({cause:t.signal.reason});yield[e++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=L(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new s;t--<=0&&(yield r)}}.call(this)},filter:j,flatMap:function(t,e){const r=P.call(this,t,e);return async function*(){for await(const t of r)yield*t}.call(this)},map:P,take:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=L(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new s;if(t-- >0&&(yield r),t<=0)return}}.call(this)},compose:function(t,r){if(null!=r&&l(r,"options"),null!=(null==r?void 0:r.signal)&&o(r.signal,"options.signal"),b(t)&&!p(t))throw new e("stream",t,"must be writable");const n=f(this,t);return null!=r&&r.signal&&d(r.signal,n),n}},jO.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return!await M.call(this,async(...e)=>!await t(...e),e)},forEach:async function(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);for await(const r of P.call(this,async function(e,r){return await t(e,r),k},e));},reduce:async function(e,n,i){var a;if("function"!=typeof e)throw new r("reducer",["Function","AsyncFunction"],e);null!=i&&l(i,"options"),null!=(null==i?void 0:i.signal)&&o(i.signal,"options.signal");let f=arguments.length>1;if(null!=i&&null!==(a=i.signal)&&void 0!==a&&a.aborted){const t=new s(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(t)),t}const d=new t,p=d.signal;if(null!=i&&i.signal){const t={once:!0,[u]:this,[c]:!0};i.signal.addEventListener("abort",()=>d.abort(),t)}let b=!1;try{for await(const t of this){var y;if(b=!0,null!=i&&null!==(y=i.signal)&&void 0!==y&&y.aborted)throw new s;f?n=await e(n,t,{signal:p}):(n=t,f=!0)}if(!b&&!f)throw new R}finally{d.abort()}return n},toArray:async function(t){null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s(void 0,{cause:t.signal.reason});m(e,n)}return e},some:M,find:async function(t,e){for await(const r of j.call(this,t,e))return r}},jO}(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=iO(),l=Dx(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:h}=rx(),{pipeline:f}=Nx(),{destroyer:d}=qO(),p=HO(),b=Bx(),y=GO(),m=KE.exports=VO().Stream;m.isDestroyed=y.isDestroyed,m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.isWritable=y.isWritable,m.Readable=jx();for(const g of r(s)){const w=s[g];function _(...t){if(new.target)throw a();return m.Readable.from(n(w,this,t))}e(_,"name",{__proto__:null,value:w.name}),e(_,"length",{__proto__:null,value:w.length}),e(m.Readable.prototype,g,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const S of r(o)){const E=o[S];function O(...t){if(new.target)throw a();return n(E,this,t)}e(O,"name",{__proto__:null,value:E.name}),e(O,"length",{__proto__:null,value:E.length}),e(m.Readable.prototype,S,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}m.Writable=Rx(),m.Duplex=Cx(),m.Transform=Ix(),m.PassThrough=Fx(),m.pipeline=f;const{addAbortSignal:v}=tx();return m.addAbortSignal=v,m.finished=p,m.destroy=d,m.compose=l,m.setDefaultHighWaterMark=u,m.getDefaultHighWaterMark=h,e(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),e(f,i,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),e(p,i,{__proto__:null,enumerable:!0,get:()=>b.finished}),m.Stream=m,m._isUint8Array=function(t){return t instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return t.from(e.buffer,e.byteOffset,e.byteLength)},KE.exports}!function(t){const e=a;if(e&&"disable"===process.env.READABLE_STREAM){const r=e.promises;t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}else{const e=zx(),r=Bx(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}t.exports.default=t.exports}(ZE);var Wx=ZE.exports,Ux={exports:{}};var $x=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},Gx=oE,Hx=aE,qx=V_?V_.isConcatSpreadable:void 0;var Vx=$x,Yx=function(t){return Hx(t)||Gx(t)||!!(qx&&t&&t[qx])};var Zx=function t(e,r,n,i,s){var o=-1,a=e.length;for(n||(n=Yx),s||(s=[]);++o<a;){var l=e[o];r>0&&n(l)?r>1?t(l,r-1,n,i,s):Vx(s,l):i||(s[s.length]=l)}return s},Kx=Zx;var Qx=function(t){return(null==t?0:t.length)?Kx(t,1):[]},Jx=TS(Object,"create"),Xx=Jx;var tT=function(){this.__data__=Xx?Xx(null):{},this.size=0};var eT=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},rT=Jx,nT=Object.prototype.hasOwnProperty;var iT=function(t){var e=this.__data__;if(rT){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return nT.call(e,t)?e[t]:void 0},sT=Jx,oT=Object.prototype.hasOwnProperty;var aT=Jx;var lT=tT,uT=eT,cT=iT,hT=function(t){var e=this.__data__;return sT?void 0!==e[t]:oT.call(e,t)},fT=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=aT&&void 0===e?"__lodash_hash_undefined__":e,this};function dT(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dT.prototype.clear=lT,dT.prototype.delete=uT,dT.prototype.get=cT,dT.prototype.has=hT,dT.prototype.set=fT;var pT=dT;var bT=function(){this.__data__=[],this.size=0},yT=BS;var mT=function(t,e){for(var r=t.length;r--;)if(yT(t[r][0],e))return r;return-1},vT=mT,gT=Array.prototype.splice;var wT=function(t){var e=this.__data__,r=vT(e,t);return!(r<0)&&(r==e.length-1?e.pop():gT.call(e,r,1),--this.size,!0)},_T=mT;var ST=function(t){var e=this.__data__,r=_T(e,t);return r<0?void 0:e[r][1]},ET=mT;var OT=mT;var xT=function(t,e){var r=this.__data__,n=OT(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},TT=bT,kT=wT,AT=ST,PT=function(t){return ET(this.__data__,t)>-1},MT=xT;function jT(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jT.prototype.clear=TT,jT.prototype.delete=kT,jT.prototype.get=AT,jT.prototype.has=PT,jT.prototype.set=MT;var RT=jT,LT=TS(q_,"Map"),CT=pT,IT=RT,FT=LT;var NT=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var DT=function(t,e){var r=t.__data__;return NT(e)?r["string"==typeof e?"string":"hash"]:r.map},BT=DT;var zT=DT;var WT=DT;var UT=DT;var $T=function(){this.size=0,this.__data__={hash:new CT,map:new(FT||IT),string:new CT}},GT=function(t){var e=BT(this,t).delete(t);return this.size-=e?1:0,e},HT=function(t){return zT(this,t).get(t)},qT=function(t){return WT(this,t).has(t)},VT=function(t,e){var r=UT(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function YT(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}YT.prototype.clear=$T,YT.prototype.delete=GT,YT.prototype.get=HT,YT.prototype.has=qT,YT.prototype.set=VT;var ZT=YT,KT=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},QT=function(t){return this.__data__.has(t)};function JT(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new ZT;++e<r;)this.add(t[e])}JT.prototype.add=JT.prototype.push=KT,JT.prototype.has=QT;var XT=JT;var tk=function(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1};var ek=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1},rk=tk,nk=function(t){return t!=t},ik=ek;var sk=function(t,e,r){return e==e?ik(t,e,r):rk(t,nk,r)};var ok=function(t,e){return!!(null==t?0:t.length)&&sk(t,e,0)>-1};var ak=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1};var lk=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i};var uk=function(t,e){return t.has(e)},ck=XT,hk=ok,fk=ak,dk=lk,pk=yE,bk=uk;var yk=function(t,e,r,n){var i=-1,s=hk,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;r&&(e=dk(e,pk(r))),n?(s=fk,o=!1):e.length>=200&&(s=bk,o=!1,e=new ck(e));t:for(;++i<a;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,o&&h==h){for(var f=u;f--;)if(e[f]===h)continue t;l.push(c)}else s(e,h,n)||l.push(c)}return l},mk=$S,vk=JS;var gk=function(t){return vk(t)&&mk(t)},wk=yk,_k=Zx,Sk=gk,Ek=DS(function(t,e){return Sk(t)?wk(t,_k(e,1,Sk,!0)):[]});var Ok=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},xk=TS(q_,"Set"),Tk=function(){},kk=xk&&1/Ok(new xk([,-0]))[1]==1/0?function(t){return new xk(t)}:Tk,Ak=XT,Pk=ok,Mk=ak,jk=uk,Rk=kk,Lk=Ok;var Ck=function(t,e,r){var n=-1,i=Pk,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=Mk;else if(s>=200){var u=e?null:Rk(t);if(u)return Lk(u);o=!1,i=jk,l=new Ak}else l=e?[]:a;t:for(;++n<s;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,o&&h==h){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),a.push(c)}else i(l,h,r)||(l!==a&&l.push(h),a.push(c))}return a},Ik=Zx,Fk=Ck,Nk=gk,Dk=DS(function(t){return Fk(Ik(t,1,Nk,!0))});var Bk=function(t,e){return function(r){return t(e(r))}},zk=Bk(Object.getPrototypeOf,Object),Wk=iS,Uk=zk,$k=JS,Gk=Function.prototype,Hk=Object.prototype,qk=Gk.toString,Vk=Hk.hasOwnProperty,Yk=qk.call(Object);var Zk=function(t){if(!$k(t)||"[object Object]"!=Wk(t))return!1;var e=Uk(t);if(null===e)return!0;var r=Vk.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&qk.call(r)==Yk},Kk={},Qk={},Jk={};Object.defineProperty(Jk,"__esModule",{value:!0}),Jk.assertValidPattern=void 0;Jk.assertValidPattern=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};var Xk={},tA={};Object.defineProperty(tA,"__esModule",{value:!0}),tA.parseClass=void 0;const eA={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},rA=t=>t.replace(/[[\]\\-]/g,"\\$&"),nA=t=>t.join("");tA.parseClass=(t,e)=>{const r=e;if("["!==t.charAt(r))throw new Error("not in a brace expression");const n=[],i=[];let s=r+1,o=!1,a=!1,l=!1,u=!1,c=r,h="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==r+1){if("]"===e&&o&&!l){c=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,u]]of Object.entries(eA))if(t.startsWith(e,s)){if(h)return["$.",!1,t.length-r,!0];s+=e.length,u?i.push(o):n.push(o),a=a||l;continue t}l=!1,h?(e>h?n.push(rA(h)+"-"+rA(e)):e===h&&n.push(rA(e)),h="",s++):t.startsWith("-]",s+1)?(n.push(rA(e+"-")),s+=2):t.startsWith("-",s+1)?(h=e,s+=2):(n.push(rA(e)),s++)}else l=!0,s++}else u=!0,s++}if(c<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(0===i.length&&1===n.length&&/^\\?.$/.test(n[0])&&!u){const t=2===n[0].length?n[0].slice(-1):n[0];return[(f=t,f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,c-r,!1]}var f;const d="["+(u?"^":"")+nA(n)+"]",p="["+(u?"":"^")+nA(i)+"]";return[n.length&&i.length?"("+d+"|"+p+")":n.length?d:p,a,c-r,!0]};var iA={};Object.defineProperty(iA,"__esModule",{value:!0}),iA.unescape=void 0;iA.unescape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Object.defineProperty(Xk,"__esModule",{value:!0}),Xk.AST=void 0;const sA=tA,oA=iA,aA=new Set(["!","?","+","*","@"]),lA=t=>aA.has(t),uA="(?!\\.)",cA=new Set(["[","."]),hA=new Set(["..","."]),fA=new Set("().*{}+?[]^$\\!"),dA=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),pA="[^/]",bA=pA+"*?",yA=pA+"+?";Xk.AST=class t{type;#t;#e;#r=!1;#n=[];#i;#s;#o;#a=!1;#l;#u;#c=!1;constructor(t,e,r={}){this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#l=this.#t===this?r:this.#t.#l,this.#o=this.#t===this?[]:this.#t.#o,"!"!==t||this.#t.#a||this.#o.push(this),this.#s=this.#i?this.#i.#n.length:0}get hasMagic(){if(void 0!==this.#e)return this.#e;for(const t of this.#n)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return void 0!==this.#u?this.#u:this.type?this.#u=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#u=this.#n.map(t=>String(t)).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#o.pop();){if("!"!==t.type)continue;let e=t,r=e.#i;for(;r;){for(let n=e.#s+1;!r.type&&n<r.#n.length;n++)for(const e of t.#n){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(r.#n[n])}e=r,r=e.#i}}return this}push(...e){for(const r of e)if(""!==r){if("string"!=typeof r&&!(r instanceof t&&r.#i===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){const t=null===this.type?this.#n.slice().map(t=>"string"==typeof t?t:t.toJSON()):[this.type,...this.#n.map(t=>t.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&"!"===this.#i?.type)&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#s)return!0;const e=this.#i;for(let r=0;r<this.#s;r++){const n=e.#n[r];if(!(n instanceof t&&"!"===n.type))return!1}return!0}isEnd(){if(this.#t===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#n.length:0;return this.#s===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(e){const r=new t(this.type,e);for(const t of this.#n)r.copyIn(t);return r}static#f(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(null===r.type){let u=n,c="";for(;u<e.length;){const n=e.charAt(u++);if(s||"\\"===n)s=!s,c+=n;else if(o)u===a+1?"^"!==n&&"!"!==n||(l=!0):"]"!==n||u===a+2&&l||(o=!1),c+=n;else if("["!==n){if(!i.noext&&lA(n)&&"("===e.charAt(u)){r.push(c),c="";const s=new t(n,r);u=t.#f(e,s,u,i),r.push(s);continue}c+=n}else o=!0,a=u,l=!1,c+=n}return r.push(c),u}let u=n+1,c=new t(null,r);const h=[];let f="";for(;u<e.length;){const n=e.charAt(u++);if(s||"\\"===n)s=!s,f+=n;else if(o)u===a+1?"^"!==n&&"!"!==n||(l=!0):"]"!==n||u===a+2&&l||(o=!1),f+=n;else if("["!==n){if(lA(n)&&"("===e.charAt(u)){c.push(f),f="";const r=new t(n,c);c.push(r),u=t.#f(e,r,u,i);continue}if("|"!==n){if(")"===n)return""===f&&0===r.#n.length&&(r.#c=!0),c.push(f),f="",r.push(...h,c),u;f+=n}else c.push(f),f="",h.push(c),c=new t(null,r)}else o=!0,a=u,l=!1,f+=n}return r.type=null,r.#e=void 0,r.#n=[e.substring(n-1)],u}static fromGlob(e,r={}){const n=new t(null,void 0,r);return t.#f(e,n,0,r),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,r,n,i]=this.toRegExpSource();if(!(n||this.#e||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const s=(this.#l.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}get options(){return this.#l}toRegExpSource(e){const r=e??!!this.#l.dot;if(this.#t===this&&this.#h(),!this.type){const n=this.isStart()&&this.isEnd(),i=this.#n.map(r=>{const[i,s,o,a]="string"==typeof r?t.#d(r,this.#e,n):r.toRegExpSource(e);return this.#e=this.#e||o,this.#r=this.#r||a,i}).join("");let s="";if(this.isStart()&&"string"==typeof this.#n[0]){if(!(1===this.#n.length&&hA.has(this.#n[0]))){const t=cA,n=r&&t.has(i.charAt(0))||i.startsWith("\\.")&&t.has(i.charAt(2))||i.startsWith("\\.\\.")&&t.has(i.charAt(4)),o=!r&&!e&&t.has(i.charAt(0));s=n?"(?!(?:^|/)\\.\\.?(?:$|/))":o?uA:""}}let o="";this.isEnd()&&this.#t.#a&&"!"===this.#i?.type&&(o="(?:$|\\/)");return[s+i+o,(0,oA.unescape)(i),this.#e=!!this.#e,this.#r]}const n="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let s=this.#p(r);if(this.isStart()&&this.isEnd()&&!s&&"!"!==this.type){const t=this.toString();return this.#n=[t],this.type=null,this.#e=void 0,[t,(0,oA.unescape)(this.toString()),!1,!1]}let o=!n||e||r?"":this.#p(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if("!"===this.type&&this.#c)a=(this.isStart()&&!r?uA:"")+yA;else{a=i+s+("!"===this.type?"))"+(!this.isStart()||r||e?"":uA)+bA+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`)}return[a,(0,oA.unescape)(s),this.#e=!!this.#e,this.#r]}#p(t){return this.#n.map(e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,n,i,s]=e.toRegExpSource(t);return this.#r=this.#r||s,r}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")}static#d(t,e,r=!1){let n=!1,i="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(n)n=!1,i+=(fA.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[r,n,a,l]=(0,sA.parseClass)(t,o);if(a){i+=r,s=s||n,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?i+=dA(a):(i+=pA,e=!0):(i+=r&&"*"===t?yA:bA,e=!0)}else o===t.length-1?i+="\\\\":n=!0}return[i,(0,oA.unescape)(t),!!e,s]}};var mA={};Object.defineProperty(mA,"__esModule",{value:!0}),mA.escape=void 0;mA.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),function(t){var e=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const r=e(am),n=Jk,i=Xk,s=mA,o=iA;t.minimatch=(t,e,r={})=>((0,n.assertValidPattern)(e),!(!r.nocomment&&"#"===e.charAt(0))&&new R(e,r).match(t));const a=/^\*+([^+@!?\*\[\(]*)$/,l=t=>e=>!e.startsWith(".")&&e.endsWith(t),u=t=>e=>e.endsWith(t),c=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),h=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),f=/^\*+\.\*+$/,d=t=>!t.startsWith(".")&&t.includes("."),p=t=>"."!==t&&".."!==t&&t.includes("."),b=/^\.\*+$/,y=t=>"."!==t&&".."!==t&&t.startsWith("."),m=/^\*+$/,v=t=>0!==t.length&&!t.startsWith("."),g=t=>0!==t.length&&"."!==t&&".."!==t,w=/^\?+([^+@!?\*\[\(]*)?$/,_=([t,e=""])=>{const r=x([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},S=([t,e=""])=>{const r=T([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},E=([t,e=""])=>{const r=T([t]);return e?t=>r(t)&&t.endsWith(e):r},O=([t,e=""])=>{const r=x([t]);return e?t=>r(t)&&t.endsWith(e):r},x=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},T=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},k="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",A={sep:"\\"},P={sep:"/"};t.sep="win32"===k?A.sep:P.sep,t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR;t.filter=(e,r={})=>n=>(0,t.minimatch)(n,e,r),t.minimatch.filter=t.filter;const M=(t,e={})=>Object.assign({},t,e);t.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return t.minimatch;const r=t.minimatch;return Object.assign((t,n,i={})=>r(t,n,M(e,i)),{Minimatch:class extends r.Minimatch{constructor(t,r={}){super(t,M(e,r))}static defaults(t){return r.defaults(M(e,t)).Minimatch}},AST:class extends r.AST{constructor(t,r,n={}){super(t,r,M(e,n))}static fromGlob(t,n={}){return r.AST.fromGlob(t,M(e,n))}},unescape:(t,n={})=>r.unescape(t,M(e,n)),escape:(t,n={})=>r.escape(t,M(e,n)),filter:(t,n={})=>r.filter(t,M(e,n)),defaults:t=>r.defaults(M(e,t)),makeRe:(t,n={})=>r.makeRe(t,M(e,n)),braceExpand:(t,n={})=>r.braceExpand(t,M(e,n)),match:(t,n,i={})=>r.match(t,n,M(e,i)),sep:r.sep,GLOBSTAR:t.GLOBSTAR})},t.minimatch.defaults=t.defaults;t.braceExpand=(t,e={})=>((0,n.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,r.default)(t)),t.minimatch.braceExpand=t.braceExpand;t.makeRe=(t,e={})=>new R(t,e).makeRe(),t.minimatch.makeRe=t.makeRe;t.match=(t,e,r={})=>{const n=new R(e,r);return t=t.filter(t=>n.match(t)),n.options.nonull&&!t.length&&t.push(e),t},t.minimatch.match=t.match;const j=/[?*]|[+@!]\(.*?\)|\[|\]/;class R{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,n.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||k,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map(t=>this.slashSplit(t));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let n=this.globParts.map((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&j.test(t[2])||j.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map(t=>this.parse(t))];if(r)return[t[0],...t.slice(1).map(t=>this.parse(t))]}return t.map(t=>this.parse(t))});if(this.debug(this.pattern,n),this.set=n.filter(t=>-1===t.indexOf(!1)),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t})}levelOneOptimize(t){return t.map(t=>0===(t=t.reduce((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)},[])).length?[""]:t)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const n=t[r];1===r&&""===n&&""===t[0]||("."!==n&&""!==n||(e=!0,t.splice(r,1),r--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const n=t[r-1];n&&"."!==n&&".."!==n&&"**"!==n&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let n=-1;for(;-1!==(n=r.indexOf("**",n+1));){let i=n;for(;"**"===r[i+1];)i++;i>n&&r.splice(n+1,i-n);let s=r[n+1];const o=r[n+2],a=r[n+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(n,1);const l=r.slice(0);l[n]="**",t.push(l),n--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const n=r[t];1===t&&""===n&&""===r[0]||("."!==n&&""!==n||(e=!0,r.splice(t,1),t--))}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let i=0;for(;-1!==(i=r.indexOf("..",i+1));){const t=r[i-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===i&&"**"===r[i+1]?["."]:[];r.splice(i-1,2,...t),0===r.length&&r.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const n=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);if(n){t[e]=[],t[r]=n;break}}return t.filter(t=>t.length)}partsMatch(t,e,r=!1){let n=0,i=0,s=[],o="";for(;n<t.length&&i<e.length;)if(t[n]===e[i])s.push("b"===o?e[i]:t[n]),n++,i++;else if(r&&"**"===t[n]&&e[i]===t[n+1])s.push(t[n]),n++;else if(r&&"**"===e[i]&&t[n]===e[i+1])s.push(e[i]),i++;else if("*"!==t[n]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i]){if("*"!==e[i]||!t[n]||!this.options.dot&&t[n].startsWith(".")||"**"===t[n])return!1;if("a"===o)return!1;o="b",s.push(e[i]),n++,i++}else{if("b"===o)return!1;o="a",s.push(t[n]),n++,i++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(e,r,n=!1){const i=this.options;if(this.isWindows){const t="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),n=!t&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof r[0]&&/^[a-z]:$/i.test(r[0]),s=n?3:t?0:void 0,o=!i&&""===r[0]&&""===r[1]&&"?"===r[2]&&"string"==typeof r[3]&&/^[a-z]:$/i.test(r[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[t,n]=[e[s],r[o]];t.toLowerCase()===n.toLowerCase()&&(r[o]=t,o>s?r=r.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,u=r.length;o<l&&a<u;o++,a++){this.debug("matchOne loop");var c=r[a],h=e[o];if(this.debug(r,c,h),!1===c)return!1;if(c===t.GLOBSTAR){this.debug("GLOBSTAR",[r,c,h]);var f=o,d=a+1;if(d===u){for(this.debug("** at the end");o<l;o++)if("."===e[o]||".."===e[o]||!i.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<l;){var p=e[f];if(this.debug("\nglobstar while",e,f,r,d,p),this.matchOne(e.slice(f),r.slice(d),n))return this.debug("globstar found match!",f,l,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,f,r,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,r,d),f!==l))}let s;if("string"==typeof c?(s=h===c,this.debug("string match",c,h,s)):(s=c.test(h),this.debug("pattern match",c,h,s)),!s)return!1}if(o===l&&a===u)return!0;if(o===l)return n;if(a===u)return o===l-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,n.assertValidPattern)(e);const r=this.options;if("**"===e)return t.GLOBSTAR;if(""===e)return"";let s,o=null;(s=e.match(m))?o=r.dot?g:v:(s=e.match(a))?o=(r.nocase?r.dot?h:c:r.dot?u:l)(s[1]):(s=e.match(w))?o=(r.nocase?r.dot?S:_:r.dot?E:O)(s):(s=e.match(f))?o=r.dot?p:d:(s=e.match(b))&&(o=y);const x=i.AST.fromGlob(e,this.options).toMMPattern();return o&&"object"==typeof x&&Reflect.defineProperty(x,"test",{value:o}),x}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const r=this.options,n=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(r.nocase?["i"]:[]);let s=e.map(e=>{const r=e.map(e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))i.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===t.GLOBSTAR?t.GLOBSTAR:e._src});return r.forEach((e,i)=>{const s=r[i+1],o=r[i-1];e===t.GLOBSTAR&&o!==t.GLOBSTAR&&(void 0===o?void 0!==s&&s!==t.GLOBSTAR?r[i+1]="(?:\\/|"+n+"\\/)?"+s:r[i]=n:void 0===s?r[i-1]=o+"(?:\\/|"+n+")?":s!==t.GLOBSTAR&&(r[i-1]=o+"(?:\\/|\\/"+n+"\\/)"+s,r[i+1]=t.GLOBSTAR))}),r.filter(e=>e!==t.GLOBSTAR).join("/")}).join("|");const[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const n=this.slashSplit(t);this.debug(this.pattern,"split",n);const i=this.set;this.debug(this.pattern,"set",i);let s=n[n.length-1];if(!s)for(let t=n.length-2;!s&&t>=0;t--)s=n[t];for(let t=0;t<i.length;t++){const o=i[t];let a=n;r.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=R;var L=Xk;Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return L.AST}});var C=mA;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return C.escape}});var I=iA;Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return I.unescape}}),t.minimatch.AST=i.AST,t.minimatch.Minimatch=R,t.minimatch.escape=s.escape,t.minimatch.unescape=o.unescape}(Qk);var vA={},gA={},wA={};Object.defineProperty(wA,"__esModule",{value:!0}),wA.LRUCache=void 0;const _A="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,SA=new Set,EA="object"==typeof process&&process?process:{},OA=(t,e,r,n)=>{"function"==typeof EA.emitWarning?EA.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let xA=globalThis.AbortController,TA=globalThis.AbortSignal;if(void 0===xA){TA=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},xA=class{constructor(){e()}signal=new TA;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==EA.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,OA("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const kA=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),AA=t=>kA(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?PA:null:null;let PA=class extends Array{constructor(t){super(t),this.fill(0)}},MA=class t{heap;length;static#b=!1;static create(e){const r=AA(e);if(!r)return[];t.#b=!0;const n=new t(e,r);return t.#b=!1,n}constructor(e,r){if(!t.#b)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},jA=class t{#y;#m;#v;#g;#w;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#S;#E;#O;#x;#T;#k;#A;#P;#M;#j;#R;#L;#C;#I;#F;#N;#D;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#I,sizes:t.#L,keyMap:t.#O,keyList:t.#x,valList:t.#T,next:t.#k,prev:t.#A,get head(){return t.#P},get tail(){return t.#M},free:t.#j,isBackgroundFetch:e=>t.#B(e),backgroundFetch:(e,r,n,i)=>t.#z(e,r,n,i),moveToTail:e=>t.#W(e),indexes:e=>t.#U(e),rindexes:e=>t.#$(e),isStale:e=>t.#G(e)}}get max(){return this.#y}get maxSize(){return this.#m}get calculatedSize(){return this.#E}get size(){return this.#S}get fetchMethod(){return this.#w}get memoMethod(){return this.#_}get dispose(){return this.#v}get disposeAfter(){return this.#g}constructor(e){const{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:u,disposeAfter:c,noDisposeOnSet:h,noUpdateTTL:f,maxSize:d=0,maxEntrySize:p=0,sizeCalculation:b,fetchMethod:y,memoMethod:m,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:g,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:_,ignoreFetchAbort:S}=e;if(0!==r&&!kA(r))throw new TypeError("max option must be a nonnegative integer");const E=r?AA(r):Array;if(!E)throw new Error("invalid max value: "+r);if(this.#y=r,this.#m=d,this.maxEntrySize=p||this.#m,this.sizeCalculation=b,this.sizeCalculation){if(!this.#m&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==m&&"function"!=typeof m)throw new TypeError("memoMethod must be a function if defined");if(this.#_=m,void 0!==y&&"function"!=typeof y)throw new TypeError("fetchMethod must be a function if specified");if(this.#w=y,this.#N=!!y,this.#O=new Map,this.#x=new Array(r).fill(void 0),this.#T=new Array(r).fill(void 0),this.#k=new E(r),this.#A=new E(r),this.#P=0,this.#M=0,this.#j=MA.create(r),this.#S=0,this.#E=0,"function"==typeof u&&(this.#v=u),"function"==typeof c?(this.#g=c,this.#R=[]):(this.#g=void 0,this.#R=void 0),this.#F=!!this.#v,this.#D=!!this.#g,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!S,0!==this.maxEntrySize){if(0!==this.#m&&!kA(this.#m))throw new TypeError("maxSize must be a positive integer if specified");if(!kA(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#H()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!g,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=kA(i)||0===i?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!kA(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#q()}if(0===this.#y&&0===this.ttl&&0===this.#m)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#y&&!this.#m){const e="LRU_CACHE_UNBOUNDED";if((t=>!SA.has(t))(e)){SA.add(e);OA("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,t)}}}getRemainingTTL(t){return this.#O.has(t)?1/0:0}#q(){const t=new PA(this.#y),e=new PA(this.#y);this.#I=t,this.#C=e,this.#V=(r,n,i=_A.now())=>{if(e[r]=0!==n?i:0,t[r]=n,0!==n&&this.ttlAutopurge){const t=setTimeout(()=>{this.#G(r)&&this.#Y(this.#x[r],"expire")},n+1);t.unref&&t.unref()}},this.#Z=r=>{e[r]=0!==t[r]?_A.now():0},this.#K=(i,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;i.ttl=o,i.start=a,i.now=r||n();const l=i.now-a;i.remainingTTL=o-l}};let r=0;const n=()=>{const t=_A.now();if(this.ttlResolution>0){r=t;const e=setTimeout(()=>r=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=i=>{const s=this.#O.get(i);if(void 0===s)return 0;const o=t[s],a=e[s];if(!o||!a)return 1/0;return o-((r||n())-a)},this.#G=i=>{const s=e[i],o=t[i];return!!o&&!!s&&(r||n())-s>o}}#Z=()=>{};#K=()=>{};#V=()=>{};#G=()=>!1;#H(){const t=new PA(this.#y);this.#E=0,this.#L=t,this.#Q=e=>{this.#E-=t[e],t[e]=0},this.#J=(t,e,r,n)=>{if(this.#B(e))return 0;if(!kA(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(e,t),!kA(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#X=(e,r,n)=>{if(t[e]=r,this.#m){const r=this.#m-t[e];for(;this.#E>r;)this.#tt(!0)}this.#E+=t[e],n&&(n.entrySize=r,n.totalCalculatedSize=this.#E)}}#Q=t=>{};#X=(t,e,r)=>{};#J=(t,e,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#U({allowStale:t=this.allowStale}={}){if(this.#S)for(let e=this.#M;this.#et(e)&&(!t&&this.#G(e)||(yield e),e!==this.#P);)e=this.#A[e]}*#$({allowStale:t=this.allowStale}={}){if(this.#S)for(let e=this.#P;this.#et(e)&&(!t&&this.#G(e)||(yield e),e!==this.#M);)e=this.#k[e]}#et(t){return void 0!==t&&this.#O.get(this.#x[t])===t}*entries(){for(const t of this.#U())void 0===this.#T[t]||void 0===this.#x[t]||this.#B(this.#T[t])||(yield[this.#x[t],this.#T[t]])}*rentries(){for(const t of this.#$())void 0===this.#T[t]||void 0===this.#x[t]||this.#B(this.#T[t])||(yield[this.#x[t],this.#T[t]])}*keys(){for(const t of this.#U()){const e=this.#x[t];void 0===e||this.#B(this.#T[t])||(yield e)}}*rkeys(){for(const t of this.#$()){const e=this.#x[t];void 0===e||this.#B(this.#T[t])||(yield e)}}*values(){for(const t of this.#U()){void 0===this.#T[t]||this.#B(this.#T[t])||(yield this.#T[t])}}*rvalues(){for(const t of this.#$()){void 0===this.#T[t]||this.#B(this.#T[t])||(yield this.#T[t])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const r of this.#U()){const n=this.#T[r],i=this.#B(n)?n.__staleWhileFetching:n;if(void 0!==i&&t(i,this.#x[r],this))return this.get(this.#x[r],e)}}forEach(t,e=this){for(const r of this.#U()){const n=this.#T[r],i=this.#B(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#x[r],this)}}rforEach(t,e=this){for(const r of this.#$()){const n=this.#T[r],i=this.#B(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#x[r],this)}}purgeStale(){let t=!1;for(const e of this.#$({allowStale:!0}))this.#G(e)&&(this.#Y(this.#x[e],"expire"),t=!0);return t}info(t){const e=this.#O.get(t);if(void 0===e)return;const r=this.#T[e],n=this.#B(r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(this.#I&&this.#C){const t=this.#I[e],r=this.#C[e];if(t&&r){const e=t-(_A.now()-r);i.ttl=e,i.start=Date.now()}}return this.#L&&(i.size=this.#L[e]),i}dump(){const t=[];for(const e of this.#U({allowStale:!0})){const r=this.#x[e],n=this.#T[e],i=this.#B(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const s={value:i};if(this.#I&&this.#C){s.ttl=this.#I[e];const t=_A.now()-this.#C[e];s.start=Math.floor(Date.now()-t)}this.#L&&(s.size=this.#L[e]),t.unshift([r,s])}return t}load(t){this.clear();for(const[e,r]of t){if(r.start){const t=Date.now()-r.start;r.start=_A.now()-t}this.set(e,r.value,r)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const u=this.#J(t,e,r.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#Y(t,"set"),this;let c=0===this.#S?void 0:this.#O.get(t);if(void 0===c)c=0===this.#S?this.#M:0!==this.#j.length?this.#j.pop():this.#S===this.#y?this.#tt(!1):this.#S,this.#x[c]=t,this.#T[c]=e,this.#O.set(t,c),this.#k[this.#M]=c,this.#A[c]=this.#M,this.#M=c,this.#S++,this.#X(c,u,a),a&&(a.set="add"),l=!1;else{this.#W(c);const r=this.#T[c];if(e!==r){if(this.#N&&this.#B(r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||s||(this.#F&&this.#v?.(e,t,"set"),this.#D&&this.#R?.push([e,t,"set"]))}else s||(this.#F&&this.#v?.(r,t,"set"),this.#D&&this.#R?.push([r,t,"set"]));if(this.#Q(c),this.#X(c,u,a),this.#T[c]=e,a){a.set="replace";const t=r&&this.#B(r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===n||this.#I||this.#q(),this.#I&&(l||this.#V(c,n,i),a&&this.#K(a,c)),!s&&this.#D&&this.#R){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}return this}pop(){try{for(;this.#S;){const t=this.#T[this.#P];if(this.#tt(!0),this.#B(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#D&&this.#R){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}}}#tt(t){const e=this.#P,r=this.#x[e],n=this.#T[e];return this.#N&&this.#B(n)?n.__abortController.abort(new Error("evicted")):(this.#F||this.#D)&&(this.#F&&this.#v?.(n,r,"evict"),this.#D&&this.#R?.push([n,r,"evict"])),this.#Q(e),t&&(this.#x[e]=void 0,this.#T[e]=void 0,this.#j.push(e)),1===this.#S?(this.#P=this.#M=0,this.#j.length=0):this.#P=this.#k[e],this.#O.delete(r),this.#S--,e}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=e,i=this.#O.get(t);if(void 0!==i){const t=this.#T[i];if(this.#B(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#G(i))return r&&this.#Z(i),n&&(n.has="hit",this.#K(n,i)),!0;n&&(n.has="stale",this.#K(n,i))}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,n=this.#O.get(t);if(void 0===n||!r&&this.#G(n))return;const i=this.#T[n];return this.#B(i)?i.__staleWhileFetching:i}#z(t,e,r,n){const i=void 0===e?void 0:this.#T[e];if(this.#B(i))return i;const s=new xA,{signal:o}=r;o?.addEventListener("abort",()=>s.abort(o.reason),{signal:s.signal});const a={signal:s.signal,options:r,context:n},l=(n,i=!1)=>{const{aborted:o}=s.signal,l=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,l&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!l&&!i)return u(s.signal.reason);const h=c;return this.#T[e]===c&&(void 0===n?h.__staleWhileFetching?this.#T[e]=h.__staleWhileFetching:this.#Y(t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,n,a.options))),n},u=n=>{const{aborted:i}=s.signal,o=i&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,u=c;if(this.#T[e]===c){!l||void 0===u.__staleWhileFetching?this.#Y(t,"fetch"):o||(this.#T[e]=u.__staleWhileFetching)}if(a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw n};r.status&&(r.status.fetchDispatched=!0);const c=new Promise((e,n)=>{const o=this.#w?.(t,i,a);o&&o instanceof Promise&&o.then(t=>e(void 0===t?void 0:t),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))})}).then(l,t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),u(t))),h=Object.assign(c,{__abortController:s,__staleWhileFetching:i,__returned:void 0});return void 0===e?(this.set(t,h,{...a.options,status:void 0}),e=this.#O.get(t)):this.#T[e]=h,h}#B(t){if(!this.#N)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof xA}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:p,forceRefresh:b=!1,status:y,signal:m}=e;if(!this.#N)return y&&(y.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});const v={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:f,status:y,signal:m};let g=this.#O.get(t);if(void 0===g){y&&(y.fetch="miss");const e=this.#z(t,g,v,p);return e.__returned=e}{const e=this.#T[g];if(this.#B(e)){const t=r&&void 0!==e.__staleWhileFetching;return y&&(y.fetch="inflight",t&&(y.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const i=this.#G(g);if(!b&&!i)return y&&(y.fetch="hit"),this.#W(g),n&&this.#Z(g),y&&this.#K(y,g),e;const s=this.#z(t,g,v,p),o=void 0!==s.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",o&&i&&(y.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const r=await this.fetch(t,e);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(t,e={}){const r=this.#_;if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:i,...s}=e,o=this.get(t,s);if(!i&&void 0!==o)return o;const a=r(t,o,{options:s,context:n});return this.set(t,a,s),a}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:s}=e,o=this.#O.get(t);if(void 0!==o){const e=this.#T[o],a=this.#B(e);return s&&this.#K(s,o),this.#G(o)?(s&&(s.get="stale"),a?(s&&r&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),r?e.__staleWhileFetching:void 0):(i||this.#Y(t,"expire"),s&&r&&(s.returnedStale=!0),r?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(this.#W(o),n&&this.#Z(o),e))}s&&(s.get="miss")}#rt(t,e){this.#A[e]=t,this.#k[t]=e}#W(t){t!==this.#M&&(t===this.#P?this.#P=this.#k[t]:this.#rt(this.#A[t],this.#k[t]),this.#rt(this.#M,t),this.#M=t)}delete(t){return this.#Y(t,"delete")}#Y(t,e){let r=!1;if(0!==this.#S){const n=this.#O.get(t);if(void 0!==n)if(r=!0,1===this.#S)this.#nt(e);else{this.#Q(n);const r=this.#T[n];if(this.#B(r)?r.__abortController.abort(new Error("deleted")):(this.#F||this.#D)&&(this.#F&&this.#v?.(r,t,e),this.#D&&this.#R?.push([r,t,e])),this.#O.delete(t),this.#x[n]=void 0,this.#T[n]=void 0,n===this.#M)this.#M=this.#A[n];else if(n===this.#P)this.#P=this.#k[n];else{const t=this.#A[n];this.#k[t]=this.#k[n];const e=this.#k[n];this.#A[e]=this.#A[n]}this.#S--,this.#j.push(n)}}if(this.#D&&this.#R?.length){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}return r}clear(){return this.#nt("delete")}#nt(t){for(const e of this.#$({allowStale:!0})){const r=this.#T[e];if(this.#B(r))r.__abortController.abort(new Error("deleted"));else{const n=this.#x[e];this.#F&&this.#v?.(r,n,t),this.#D&&this.#R?.push([r,n,t])}}if(this.#O.clear(),this.#T.fill(void 0),this.#x.fill(void 0),this.#I&&this.#C&&(this.#I.fill(0),this.#C.fill(0)),this.#L&&this.#L.fill(0),this.#P=0,this.#M=0,this.#j.length=0,this.#E=0,this.#S=0,this.#D&&this.#R){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}}};wA.LRUCache=jA;var RA={};!function(t){var e=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.Minipass=t.isWritable=t.isReadable=t.isStream=void 0;const r="object"==typeof process&&process?process:{stdout:null,stderr:null},n=b,i=e(y),s=m;t.isStream=e=>!!e&&"object"==typeof e&&(e instanceof G||e instanceof i.default||(0,t.isReadable)(e)||(0,t.isWritable)(e));t.isReadable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==i.default.Writable.prototype.pipe;t.isWritable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const o=Symbol("EOF"),a=Symbol("maybeEmitEnd"),l=Symbol("emittedEnd"),u=Symbol("emittingEnd"),c=Symbol("emittedError"),h=Symbol("closed"),f=Symbol("read"),d=Symbol("flush"),p=Symbol("flushChunk"),v=Symbol("encoding"),g=Symbol("decoder"),w=Symbol("flowing"),_=Symbol("paused"),S=Symbol("resume"),E=Symbol("buffer"),O=Symbol("pipes"),x=Symbol("bufferLength"),T=Symbol("bufferPush"),k=Symbol("bufferShift"),A=Symbol("objectMode"),P=Symbol("destroyed"),M=Symbol("error"),j=Symbol("emitData"),R=Symbol("emitEnd"),L=Symbol("emitEnd2"),C=Symbol("async"),I=Symbol("abort"),F=Symbol("aborted"),N=Symbol("signal"),D=Symbol("dataListeners"),B=Symbol("discarded"),z=t=>Promise.resolve().then(t),W=t=>t();class U{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[S](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class $ extends U{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class G extends n.EventEmitter{[w]=!1;[_]=!1;[O]=[];[E]=[];[A];[v];[C];[g];[o]=!1;[l]=!1;[u]=!1;[h]=!1;[c]=null;[x]=0;[P]=!1;[N];[F]=!1;[D]=0;[B]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");e.objectMode?(this[A]=!0,this[v]=null):(t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding)(e)?(this[v]=e.encoding,this[A]=!1):(this[A]=!1,this[v]=null),this[C]=!!e.async,this[g]=this[v]?new s.StringDecoder(this[v]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[E]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[O]});const{signal:r}=e;r&&(this[N]=r,r.aborted?this[I]():r.addEventListener("abort",()=>this[I]()))}get bufferLength(){return this[x]}get encoding(){return this[v]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[A]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[C]}set async(t){this[C]=this[C]||!!t}[I](){this[F]=!0,this.emit("abort",this[N]?.reason),this.destroy(this[N]?.reason)}get aborted(){return this[F]}set aborted(t){}write(t,e,r){if(this[F])return!1;if(this[o])throw new Error("write after end");if(this[P])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const n=this[C]?z:W;if(!this[A]&&!Buffer.isBuffer(t))if(i=t,!Buffer.isBuffer(i)&&ArrayBuffer.isView(i))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var i;return this[A]?(this[w]&&0!==this[x]&&this[d](!0),this[w]?this.emit("data",t):this[T](t),0!==this[x]&&this.emit("readable"),r&&n(r),this[w]):t.length?("string"!=typeof t||e===this[v]&&!this[g]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[v]&&(t=this[g].write(t)),this[w]&&0!==this[x]&&this[d](!0),this[w]?this.emit("data",t):this[T](t),0!==this[x]&&this.emit("readable"),r&&n(r),this[w]):(0!==this[x]&&this.emit("readable"),r&&n(r),this[w])}read(t){if(this[P])return null;if(this[B]=!1,0===this[x]||0===t||t&&t>this[x])return this[a](),null;this[A]&&(t=null),this[E].length>1&&!this[A]&&(this[E]=[this[v]?this[E].join(""):Buffer.concat(this[E],this[x])]);const e=this[f](t||null,this[E][0]);return this[a](),e}[f](t,e){if(this[A])this[k]();else{const r=e;t===r.length||null===t?this[k]():"string"==typeof r?(this[E][0]=r.slice(t),e=r.slice(0,t),this[x]-=t):(this[E][0]=r.subarray(t),e=r.subarray(0,t),this[x]-=t)}return this.emit("data",e),this[E].length||this[o]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[o]=!0,this.writable=!1,!this[w]&&this[_]||this[a](),this}[S](){this[P]||(this[D]||this[O].length||(this[B]=!0),this[_]=!1,this[w]=!0,this.emit("resume"),this[E].length?this[d]():this[o]?this[a]():this.emit("drain"))}resume(){return this[S]()}pause(){this[w]=!1,this[_]=!0,this[B]=!1}get destroyed(){return this[P]}get flowing(){return this[w]}get paused(){return this[_]}[T](t){this[A]?this[x]+=1:this[x]+=t.length,this[E].push(t)}[k](){return this[A]?this[x]-=1:this[x]-=this[E][0].length,this[E].shift()}[d](t=!1){do{}while(this[p](this[k]())&&this[E].length);t||this[E].length||this[o]||this.emit("drain")}[p](t){return this.emit("data",t),this[w]}pipe(t,e){if(this[P])return t;this[B]=!1;const n=this[l];return e=e||{},t===r.stdout||t===r.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,n?e.end&&t.end():(this[O].push(e.proxyErrors?new $(this,t,e):new U(this,t,e)),this[C]?z(()=>this[S]()):this[S]()),t}unpipe(t){const e=this[O].find(e=>e.dest===t);e&&(1===this[O].length?(this[w]&&0===this[D]&&(this[w]=!1),this[O]=[]):this[O].splice(this[O].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[B]=!1,this[D]++,this[O].length||this[w]||this[S]();else if("readable"===t&&0!==this[x])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[l])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[c]){const t=e;this[C]?z(()=>t.call(this,this[c])):t.call(this,this[c])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[D]=this.listeners("data").length,0!==this[D]||this[B]||this[O].length||(this[w]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[D]=0,this[B]||this[O].length||(this[w]=!1)),e}get emittedEnd(){return this[l]}[a](){this[u]||this[l]||this[P]||0!==this[E].length||!this[o]||(this[u]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[h]&&this.emit("close"),this[u]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==P&&this[P])return!1;if("data"===t)return!(!this[A]&&!r)&&(this[C]?(z(()=>this[j](r)),!0):this[j](r));if("end"===t)return this[R]();if("close"===t){if(this[h]=!0,!this[l]&&!this[P])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[c]=r,super.emit(M,r);const t=!(this[N]&&!this.listeners("error").length)&&super.emit("error",r);return this[a](),t}if("resume"===t){const t=super.emit("resume");return this[a](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const n=super.emit(t,...e);return this[a](),n}[j](t){for(const e of this[O])!1===e.dest.write(t)&&this.pause();const e=!this[B]&&super.emit("data",t);return this[a](),e}[R](){return!this[l]&&(this[l]=!0,this.readable=!1,this[C]?(z(()=>this[L]()),!0):this[L]())}[L](){if(this[g]){const t=this[g].end();if(t){for(const e of this[O])e.dest.write(t);this[B]||super.emit("data",t)}}for(const t of this[O])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[A]||(t.dataLength=0);const e=this.promise();return this.on("data",e=>{t.push(e),this[A]||(t.dataLength+=e.length)}),await e,t}async concat(){if(this[A])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[v]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(P,()=>e(new Error("stream destroyed"))),this.on("error",t=>e(t)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[B]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[o])return e();let n,i;const s=t=>{this.off("data",a),this.off("end",l),this.off(P,u),e(),i(t)},a=t=>{this.off("error",s),this.off("end",l),this.off(P,u),this.pause(),n({value:t,done:!!this[o]})},l=()=>{this.off("error",s),this.off("data",a),this.off(P,u),e(),n({done:!0,value:void 0})},u=()=>s(new Error("stream destroyed"));return new Promise((t,e)=>{i=e,n=t,this.once(P,u),this.once("error",s),this.once("end",l),this.once("data",a)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[B]=!1;let t=!1;const e=()=>(this.pause(),this.off(M,e),this.off(P,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(M,e),this.once(P,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[P])return t?this.emit("error",t):this.emit(P),this;this[P]=!0,this[B]=!0,this[E].length=0,this[x]=0;return"function"!=typeof this.close||this[h]||this.close(),t?this.emit("error",t):this.emit(P),this}static get isStream(){return t.isStream}}t.Minipass=G}(RA);var LA=J&&J.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),CA=J&&J.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IA=J&&J.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&LA(e,t,r);return CA(e,t),e};Object.defineProperty(gA,"__esModule",{value:!0}),gA.PathScurry=gA.Path=gA.PathScurryDarwin=gA.PathScurryPosix=gA.PathScurryWin32=gA.PathScurryBase=gA.PathPosix=gA.PathWin32=gA.PathBase=gA.ChildrenCache=gA.ResolveCache=void 0;const FA=wA,NA=f,DA=h,BA=n,zA=IA(d),WA=BA.realpathSync.native,UA=p,$A=RA,GA={lstatSync:BA.lstatSync,readdir:BA.readdir,readdirSync:BA.readdirSync,readlinkSync:BA.readlinkSync,realpathSync:WA,promises:{lstat:UA.lstat,readdir:UA.readdir,readlink:UA.readlink,realpath:UA.realpath}},HA=t=>t&&t!==GA&&t!==zA?{...GA,...t,promises:{...GA.promises,...t.promises||{}}}:GA,qA=/^\\\\\?\\([a-z]:)\\?$/i,VA=/[\\\/]/,YA=10,ZA=15,KA=-16,QA=128,JA=256,XA=512,tP=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?YA:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,eP=new Map,rP=t=>{const e=eP.get(t);if(e)return e;const r=t.normalize("NFKD");return eP.set(t,r),r},nP=new Map,iP=t=>{const e=nP.get(t);if(e)return e;const r=rP(t.toLowerCase());return nP.set(t,r),r};let sP=class extends FA.LRUCache{constructor(){super({max:256})}};gA.ResolveCache=sP;let oP=class extends FA.LRUCache{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}};gA.ChildrenCache=oP;const aP=Symbol("PathScurry setAsCwd");let lP=class{name;root;roots;parent;nocase;isCWD=!1;#it;#st;get dev(){return this.#st}#ot;get mode(){return this.#ot}#at;get nlink(){return this.#at}#lt;get uid(){return this.#lt}#ut;get gid(){return this.#ut}#ct;get rdev(){return this.#ct}#ht;get blksize(){return this.#ht}#ft;get ino(){return this.#ft}#S;get size(){return this.#S}#dt;get blocks(){return this.#dt}#pt;get atimeMs(){return this.#pt}#bt;get mtimeMs(){return this.#bt}#yt;get ctimeMs(){return this.#yt}#mt;get birthtimeMs(){return this.#mt}#vt;get atime(){return this.#vt}#gt;get mtime(){return this.#gt}#wt;get ctime(){return this.#wt}#_t;get birthtime(){return this.#_t}#St;#Et;#Ot;#xt;#Tt;#kt;#At;#Pt;#Mt;#jt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,r,n,i,s,o){this.name=t,this.#St=i?iP(t):rP(t),this.#At=1023&e,this.nocase=i,this.roots=n,this.root=r||this,this.#Pt=s,this.#Ot=o.fullpath,this.#Tt=o.relative,this.#kt=o.relativePosix,this.parent=o.parent,this.parent?this.#it=this.parent.#it:this.#it=HA(o.fs)}depth(){return void 0!==this.#Et?this.#Et:this.parent?this.#Et=this.parent.depth()+1:this.#Et=0}childrenCache(){return this.#Pt}resolve(t){if(!t)return this;const e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#Rt(r):this.#Rt(r)}#Rt(t){let e=this;for(const r of t)e=e.child(r);return e}children(){const t=this.#Pt.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#Pt.set(this,e),this.#At&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),n=this.nocase?iP(t):rP(t);for(const t of r)if(t.#St===n)return t;const i=this.parent?this.sep:"",s=this.#Ot?this.#Ot+i+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:s});return this.canReaddir()||(o.#At|=QA),r.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Tt)return this.#Tt;const t=this.name,e=this.parent;if(!e)return this.#Tt=this.name;const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#kt)return this.#kt;const t=this.name,e=this.parent;if(!e)return this.#kt=this.fullpathPosix();const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#Ot)return this.#Ot;const t=this.name,e=this.parent;if(!e)return this.#Ot=this.name;const r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#Ot=r}fullpathPosix(){if(void 0!==this.#xt)return this.#xt;if("/"===this.sep)return this.#xt=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#xt=`//?/${t}`:this.#xt=t}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return this.#xt=r}isUnknown(){return 0===(this.#At&ZA)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8===(this.#At&ZA)}isDirectory(){return 4===(this.#At&ZA)}isCharacterDevice(){return 2===(this.#At&ZA)}isBlockDevice(){return 6===(this.#At&ZA)}isFIFO(){return 1===(this.#At&ZA)}isSocket(){return 12===(this.#At&ZA)}isSymbolicLink(){return(this.#At&YA)===YA}lstatCached(){return 32&this.#At?this:void 0}readlinkCached(){return this.#Mt}realpathCached(){return this.#jt}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#Mt)return!0;if(!this.parent)return!1;const t=this.#At&ZA;return!(0!==t&&t!==YA||this.#At&JA||this.#At&QA)}calledReaddir(){return!!(16&this.#At)}isENOENT(){return!!(this.#At&QA)}isNamed(t){return this.nocase?this.#St===iP(t):this.#St===rP(t)}async readlink(){const t=this.#Mt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#it.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#Mt=e}catch(t){return void this.#Lt(t.code)}}readlinkSync(){const t=this.#Mt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#it.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#Mt=e}catch(t){return void this.#Lt(t.code)}}#Ct(t){this.#At|=16;for(let e=t.provisional;e<t.length;e++){const r=t[e];r&&r.#It()}}#It(){this.#At&QA||(this.#At=(this.#At|QA)&KA,this.#Ft())}#Ft(){const t=this.children();t.provisional=0;for(const e of t)e.#It()}#Nt(){this.#At|=XA,this.#Dt()}#Dt(){if(64&this.#At)return;let t=this.#At;4===(t&ZA)&&(t&=KA),this.#At=64|t,this.#Ft()}#Bt(t=""){"ENOTDIR"===t||"EPERM"===t?this.#Dt():"ENOENT"===t?this.#It():this.children().provisional=0}#zt(t=""){if("ENOTDIR"===t){this.parent.#Dt()}else"ENOENT"===t&&this.#It()}#Lt(t=""){let e=this.#At;e|=JA,"ENOENT"===t&&(e|=QA),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=KA),this.#At=e,"ENOTDIR"===t&&this.parent&&this.parent.#Dt()}#Wt(t,e){return this.#Ut(t,e)||this.#$t(t,e)}#$t(t,e){const r=tP(t),n=this.newChild(t.name,r,{parent:this}),i=n.#At&ZA;return 4!==i&&i!==YA&&0!==i&&(n.#At|=64),e.unshift(n),e.provisional++,n}#Ut(t,e){for(let r=e.provisional;r<e.length;r++){const n=e[r];if((this.nocase?iP(t.name):rP(t.name))===n.#St)return this.#Gt(t,n,r,e)}}#Gt(t,e,r,n){const i=e.name;return e.#At=e.#At&KA|tP(t),i!==t.name&&(e.name=t.name),r!==n.provisional&&(r===n.length-1?n.pop():n.splice(r,1),n.unshift(e)),n.provisional++,e}async lstat(){if(0===(this.#At&QA))try{return this.#Ht(await this.#it.promises.lstat(this.fullpath())),this}catch(t){this.#zt(t.code)}}lstatSync(){if(0===(this.#At&QA))try{return this.#Ht(this.#it.lstatSync(this.fullpath())),this}catch(t){this.#zt(t.code)}}#Ht(t){const{atime:e,atimeMs:r,birthtime:n,birthtimeMs:i,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:u,gid:c,ino:h,mode:f,mtime:d,mtimeMs:p,nlink:b,rdev:y,size:m,uid:v}=t;this.#vt=e,this.#pt=r,this.#_t=n,this.#mt=i,this.#ht=s,this.#dt=o,this.#wt=a,this.#yt=l,this.#st=u,this.#ut=c,this.#ft=h,this.#ot=f,this.#gt=d,this.#bt=p,this.#at=b,this.#ct=y,this.#S=m,this.#lt=v;const g=tP(t);this.#At=this.#At&KA|g|32,0!==g&&4!==g&&g!==YA&&(this.#At|=64)}#qt=[];#Vt=!1;#Yt(t){this.#Vt=!1;const e=this.#qt.slice();this.#qt.length=0,e.forEach(e=>e(null,t))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask(()=>t(null,[])));const r=this.children();if(this.calledReaddir()){const n=r.slice(0,r.provisional);return void(e?t(null,n):queueMicrotask(()=>t(null,n)))}if(this.#qt.push(t),this.#Vt)return;this.#Vt=!0;const n=this.fullpath();this.#it.readdir(n,{withFileTypes:!0},(t,e)=>{if(t)this.#Bt(t.code),r.provisional=0;else{for(const t of e)this.#Wt(t,r);this.#Ct(r)}this.#Yt(r.slice(0,r.provisional))})}#Zt;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#Zt)await this.#Zt;else{let r=()=>{};this.#Zt=new Promise(t=>r=t);try{for(const r of await this.#it.promises.readdir(e,{withFileTypes:!0}))this.#Wt(r,t);this.#Ct(t)}catch(e){this.#Bt(e.code),t.provisional=0}this.#Zt=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of this.#it.readdirSync(e,{withFileTypes:!0}))this.#Wt(r,t);this.#Ct(t)}catch(e){this.#Bt(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#At)return!1;const t=ZA&this.#At;return 0===t||4===t||t===YA}shouldWalk(t,e){return!(4&~this.#At)&&!(704&this.#At)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#jt)return this.#jt;if(!(896&this.#At))try{const t=await this.#it.promises.realpath(this.fullpath());return this.#jt=this.resolve(t)}catch(t){this.#Nt()}}realpathSync(){if(this.#jt)return this.#jt;if(!(896&this.#At))try{const t=this.#it.realpathSync(this.fullpath());return this.#jt=this.resolve(t)}catch(t){this.#Nt()}}[aP](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let r=[],n=this;for(;n&&n.parent;)e.add(n),n.#Tt=r.join(this.sep),n.#kt=r.join("/"),n=n.parent,r.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#Tt=void 0,n.#kt=void 0,n=n.parent}};gA.PathBase=lP;let uP=class t extends lP{sep="\\";splitSep=VA;constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}newChild(e,r=0,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(t){return NA.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(qA,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new fP(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(qA,"$1\\"))===e}};gA.PathWin32=uP;let cP=class t extends lP{splitSep="/";sep="/";constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(e,r=0,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};gA.PathPosix=cP;let hP=class{root;rootPath;roots;cwd;#Kt;#Qt;#Pt;nocase;#it;constructor(t=process.cwd(),e,r,{nocase:n,childrenCacheSize:i=16384,fs:s=GA}={}){this.#it=HA(s),(t instanceof URL||t.startsWith("file://"))&&(t=(0,DA.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#Kt=new sP,this.#Qt=new sP,this.#Pt=new oP(i);const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===n)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#it),this.roots[this.rootPath]=this.root;let l=this.root,u=a.length-1;const c=e.sep;let h=this.rootPath,f=!1;for(const t of a){const e=u--;l=l.child(t,{relative:new Array(e).fill("..").join(c),relativePosix:new Array(e).fill("..").join("/"),fullpath:h+=(f?"":c)+t}),f=!0}this.cwd=l}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#Pt}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#Kt.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpath();return this.#Kt.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#Qt.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpathPosix();return this.#Qt.set(e,n),n}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map(t=>t.name)}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map(t=>t.name):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB((t,u)=>{if(t)return e(t);let c=u.length;if(!c)return e();const h=()=>{0===--c&&e()};for(const t of u)i&&!i(t)||o.push(r?t:t.fullpath()),n&&t.isSymbolicLink()?t.realpath().then(t=>t?.isUnknown()?t.lstat():t).then(t=>t?.shouldWalk(a,s)?l(t,h):h()):t.shouldWalk(a,s)?l(t,h):h()},!0)},u=t;return new Promise((t,e)=>{l(u,r=>{if(r)return e(r);t(o)})})}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){i&&!i(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e;i&&!i(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){i&&!i(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new $A.Minipass({objectMode:!0});i&&!i(t)||o.write(r?t:t.fullpath());const a=new Set,l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const h=(e,d,p=!1)=>{if(e)return o.emit("error",e);if(n&&!p){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then(t=>t?.isUnknown()?t.lstat():t));if(t.length)return void Promise.all(t).then(()=>h(null,d,!0))}for(const e of d)!e||i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",c):f||c()};let f=!0;e.readdirCB(h,!0),f=!1}};return c(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof lP||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new $A.Minipass({objectMode:!0}),a=new Set;i&&!i(t)||o.write(r?t:t.fullpath());const l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const c=e.readdirSync();for(const e of c)i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of c){let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",c)};return c(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[aP](e)}};gA.PathScurryBase=hP;let fP=class extends hP{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,NA.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return NA.win32.parse(t).root.toUpperCase()}newRoot(t){return new uP(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}};gA.PathScurryWin32=fP;let dP=class extends hP{sep="/";constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,NA.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new cP(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}};gA.PathScurryPosix=dP;let pP=class extends dP{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}};gA.PathScurryDarwin=pP,gA.Path="win32"===process.platform?uP:cP,gA.PathScurry="win32"===process.platform?fP:"darwin"===process.platform?pP:dP;var bP={};Object.defineProperty(bP,"__esModule",{value:!0}),bP.Pattern=void 0;const yP=Qk;bP.Pattern=class t{#Jt;#Xt;#te;length;#ee;#re;#ne;#ie;#se;#oe;#ae=!0;constructor(t,e,r,n){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#Jt=t,this.#Xt=e,this.#te=r,this.#ee=n,0===this.#te)if(this.isUNC()){const[t,e,r,n,...i]=this.#Jt,[s,o,a,l,...u]=this.#Xt;""===i[0]&&(i.shift(),u.shift());const c=[t,e,r,n,""].join("/"),h=[s,o,a,l,""].join("/");this.#Jt=[c,...i],this.#Xt=[h,...u],this.length=this.#Jt.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#Jt,[r,...n]=this.#Xt;""===e[0]&&(e.shift(),n.shift());const i=t+"/",s=r+"/";this.#Jt=[i,...e],this.#Xt=[s,...n],this.length=this.#Jt.length}}pattern(){return this.#Jt[this.#te]}isString(){return"string"==typeof this.#Jt[this.#te]}isGlobstar(){return this.#Jt[this.#te]===yP.GLOBSTAR}isRegExp(){return this.#Jt[this.#te]instanceof RegExp}globString(){return this.#ne=this.#ne||(0===this.#te?this.isAbsolute()?this.#Xt[0]+this.#Xt.slice(1).join("/"):this.#Xt.join("/"):this.#Xt.slice(this.#te).join("/"))}hasMore(){return this.length>this.#te+1}rest(){return void 0!==this.#re?this.#re:this.hasMore()?(this.#re=new t(this.#Jt,this.#Xt,this.#te+1,this.#ee),this.#re.#oe=this.#oe,this.#re.#se=this.#se,this.#re.#ie=this.#ie,this.#re):this.#re=null}isUNC(){const t=this.#Jt;return void 0!==this.#se?this.#se:this.#se="win32"===this.#ee&&0===this.#te&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#Jt;return void 0!==this.#ie?this.#ie:this.#ie="win32"===this.#ee&&0===this.#te&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#Jt;return void 0!==this.#oe?this.#oe:this.#oe=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#Jt[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#te?t:""}checkFollowGlobstar(){return!(0===this.#te||!this.isGlobstar()||!this.#ae)}markFollowGlobstar(){return!(0===this.#te||!this.isGlobstar()||!this.#ae)&&(this.#ae=!1,!0)}};var mP={},vP={};Object.defineProperty(vP,"__esModule",{value:!0}),vP.Ignore=void 0;const gP=Qk,wP=bP,_P="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";vP.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:r,noext:n,noglobstar:i,platform:s=_P}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=s,this.mmopts={dot:!0,nobrace:e,nocase:r,noext:n,noglobstar:i,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new gP.Minimatch(t,this.mmopts);for(let t=0;t<e.set.length;t++){const r=e.set[t],n=e.globParts[t];if(!r||!n)throw new Error("invalid pattern object");for(;"."===r[0]&&"."===n[0];)r.shift(),n.shift();const i=new wP.Pattern(r,n,0,this.platform),s=new gP.Minimatch(i.globString(),this.mmopts),o="**"===n[n.length-1],a=i.isAbsolute();a?this.absolute.push(s):this.relative.push(s),o&&(a?this.absoluteChildren.push(s):this.relativeChildren.push(s))}}ignored(t){const e=t.fullpath(),r=`${e}/`,n=t.relative()||".",i=`${n}/`;for(const t of this.relative)if(t.match(n)||t.match(i))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}};var SP={};Object.defineProperty(SP,"__esModule",{value:!0}),SP.Processor=SP.SubWalks=SP.MatchRecord=SP.HasWalkedCache=void 0;const EP=Qk;let OP=class t{store;constructor(t=new Map){this.store=t}copy(){return new t(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),n=this.store.get(r);n?n.add(e.globString()):this.store.set(r,new Set([e.globString()]))}};SP.HasWalkedCache=OP;let xP=class{store=new Map;add(t,e,r){const n=(e?2:0)|(r?1:0),i=this.store.get(t);this.store.set(t,void 0===i?n:n&i)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(2&e),!!(1&e)])}};SP.MatchRecord=xP;let TP=class{store=new Map;add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find(t=>t.globString()===e.globString())||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}};SP.SubWalks=TP;SP.Processor=class t{hasWalkedCache;matches=new xP;subwalks=new TP;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new OP}processPatterns(t,e){this.patterns=e;const r=e.map(e=>[t,e]);for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),n=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const n=e.rest();if(!n){this.matches.add(t,!0,!1);continue}e=n}if(t.isENOENT())continue;let i,s,o=!1;for(;"string"==typeof(i=e.pattern())&&(s=e.rest());){const r=t.resolve(i);t=r,e=s,o=!0}if(i=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"==typeof i){const e=".."===i||""===i||"."===i;this.matches.add(t.resolve(i),n,e);continue}if(i===EP.GLOBSTAR){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=s?.pattern(),i=s?.rest();if(s&&(""!==r&&"."!==r||i)){if(".."===r){const e=t.parent||t;i?this.hasWalkedCache.hasWalked(e,i)||this.subwalks.add(e,i):this.matches.add(e,n,!0)}}else this.matches.add(t,n,""===r||"."===r)}else i instanceof RegExp&&this.subwalks.add(t,e)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),n=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),i=e.pattern(),s=e.rest();i===EP.GLOBSTAR?n.testGlobstar(t,e,s,r):i instanceof RegExp?n.testRegExp(t,i,s,r):n.testString(t,i,s,r)}return n}testGlobstar(t,e,r,n){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),n);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),n)}}testRegExp(t,e,r,n){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}testString(t,e,r,n){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}},Object.defineProperty(mP,"__esModule",{value:!0}),mP.GlobStream=mP.GlobWalker=mP.GlobUtil=void 0;const kP=RA,AP=vP,PP=SP;let MP=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#le=[];#ue;#ce;signal;maxDepth;includeChildMatches;constructor(t,e,r){if(this.patterns=t,this.path=e,this.opts=r,this.#ce=r.posix||"win32"!==r.platform?"/":"\\",this.includeChildMatches=!1!==r.includeChildMatches,(r.ignore||!this.includeChildMatches)&&(this.#ue=((t,e)=>"string"==typeof t?new AP.Ignore([t],e):Array.isArray(t)?new AP.Ignore(t,e):t)(r.ignore??[],r),!this.includeChildMatches&&"function"!=typeof this.#ue.add)){throw new Error("cannot ignore child matches, ignore lacks add() method.")}this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",()=>{this.#le.length=0}))}#he(t){return this.seen.has(t)||!!this.#ue?.ignored?.(t)}#fe(t){return!!this.#ue?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#le.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#le.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=await n.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(n,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#he(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=n.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(n,e)}matchFinish(t,e){if(this.#he(t))return;if(!this.includeChildMatches&&this.#ue?.add){const e=`${t.relativePosix()}/**`;this.#ue.add(e)}const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#ce:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+n)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+this.#ce)?"."+this.#ce:"";this.matchEmit(e?r+e+n:"."+n)}}async match(t,e,r){const n=await this.matchCheck(t,r);n&&this.matchFinish(n,e)}matchSync(t,e,r){const n=this.matchCheckSync(t,r);n&&this.matchFinish(n,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new PP.Processor(this.opts),r)}walkCB2(t,e,r,n){if(this.#fe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||(i++,this.match(t,e,n).then(()=>s()));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,s):t.readdirCB((e,n)=>this.walkCB3(t,n,r,s),!0)}s()}walkCB3(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||(i++,this.match(t,e,n).then(()=>s()));for(const[t,e]of r.subwalks.entries())i++,this.walkCB2(t,e,r.child(),s);s()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new PP.Processor(this.opts),r)}walkCB2Sync(t,e,r,n){if(this.#fe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2Sync(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||this.matchSync(t,e,n);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,s)}s()}walkCB3Sync(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||this.matchSync(t,e,n);for(const[t,e]of r.subwalks.entries())i++,this.walkCB2Sync(t,e,r.child(),s);s()}};mP.GlobUtil=MP;mP.GlobWalker=class extends MP{matches=new Set;constructor(t,e,r){super(t,e,r)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};mP.GlobStream=class extends MP{results;constructor(t,e,r){super(t,e,r),this.results=new kP.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}},Object.defineProperty(vA,"__esModule",{value:!0}),vA.Glob=void 0;const jP=Qk,RP=h,LP=gA,CP=bP,IP=mP,FP="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";let NP=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,RP.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map(t=>t.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(t=>t.includes("/")?t:`./**/${t}`)}if(this.pattern=t,this.platform=e.platform||FP,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?LP.PathScurryWin32:"darwin"===e.platform?LP.PathScurryDarwin:e.platform?LP.PathScurryPosix:LP.PathScurry;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},i=this.pattern.map(t=>new jP.Minimatch(t,n)),[s,o]=i.reduce((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t),[[],[]]);this.patterns=s.map((t,e)=>{const r=o[e];if(!r)throw new Error("invalid pattern object");return new CP.Pattern(t,r,0,this.platform)})}async walk(){return[...await new IP.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new IP.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new IP.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new IP.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};vA.Glob=NP;var DP={};Object.defineProperty(DP,"__esModule",{value:!0}),DP.hasMagic=void 0;const BP=Qk;DP.hasMagic=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new BP.Minimatch(r,e).hasMagic())return!0;return!1},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.globIterate=t.globIterateSync=t.globSync=t.globStream=t.globStreamSync=t.Ignore=t.hasMagic=t.Glob=t.unescape=t.escape=void 0;const e=Qk,r=vA,n=DP;var i=Qk;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return i.unescape}});var s=vA;Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return s.Glob}});var o=DP;Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return o.hasMagic}});var a=vP;function l(t,e={}){return new r.Glob(t,e).streamSync()}function u(t,e={}){return new r.Glob(t,e).stream()}function c(t,e={}){return new r.Glob(t,e).walkSync()}async function h(t,e={}){return new r.Glob(t,e).walk()}function f(t,e={}){return new r.Glob(t,e).iterateSync()}function d(t,e={}){return new r.Glob(t,e).iterate()}Object.defineProperty(t,"Ignore",{enumerable:!0,get:function(){return a.Ignore}}),t.globStreamSync=l,t.globStream=u,t.globSync=c,t.globIterateSync=f,t.globIterate=d,t.streamSync=l,t.stream=Object.assign(u,{sync:l}),t.iterateSync=f,t.iterate=Object.assign(d,{sync:f}),t.sync=Object.assign(c,{stream:l,iterate:f}),t.glob=Object.assign(h,{glob:h,globSync:c,sync:t.sync,globStream:u,stream:t.stream,globStreamSync:l,streamSync:t.streamSync,globIterate:d,iterate:t.iterate,globIterateSync:f,iterateSync:t.iterateSync,Glob:r.Glob,hasMagic:n.hasMagic,escape:e.escape,unescape:e.unescape}),t.glob.glob=t.glob}(Kk);var zP=jw,WP=i,UP=Qx,$P=Ek,GP=Dk,HP=Zk,qP=Kk,VP=Ux.exports={},YP=/[\/\\]/g;VP.exists=function(){var t=WP.join.apply(WP,arguments);return zP.existsSync(t)},VP.expand=function(...t){var e=HP(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(0===r.length)return[];var n=function(t,e){var r=[];return UP(t).forEach(function(t){var n=0===t.indexOf("!");n&&(t=t.slice(1));var i=e(t);r=n?$P(r,i):GP(r,i)}),r}(r,function(t){return qP.sync(t,e)});return e.filter&&(n=n.filter(function(t){t=WP.join(e.cwd||"",t);try{return"function"==typeof e.filter?e.filter(t):zP.statSync(t)[e.filter]()}catch(t){return!1}})),n},VP.expandMapping=function(t,e,r){r=Object.assign({rename:function(t,e){return WP.join(t||"",e)}},r);var n=[],i={};return VP.expand(r,t).forEach(function(t){var s=t;r.flatten&&(s=WP.basename(s)),r.ext&&(s=s.replace(/(\.[^\/]*)?$/,r.ext));var o=r.rename(e,s,r);r.cwd&&(t=WP.join(r.cwd,t)),o=o.replace(YP,"/"),t=t.replace(YP,"/"),i[o]?i[o].src.push(t):(n.push({src:[t],dest:o}),i[o]=n[n.length-1])}),n},VP.normalizeFilesArray=function(t){var e=[];return t.forEach(function(t){("src"in t||"dest"in t)&&e.push(t)}),0===e.length?[]:e=_(e).chain().forEach(function(t){"src"in t&&t.src&&(Array.isArray(t.src)?t.src=UP(t.src):t.src=[t.src])}).map(function(t){var e=Object.assign({},t);if(delete e.src,delete e.dest,t.expand)return VP.expandMapping(t.src,t.dest,e).map(function(e){var r=Object.assign({},t);return r.orig=Object.assign({},t),r.src=e.src,r.dest=e.dest,["expand","cwd","flatten","rename","ext"].forEach(function(t){delete r[t]}),r});var r=Object.assign({},t);return r.orig=Object.assign({},t),"src"in r&&Object.defineProperty(r,"src",{enumerable:!0,get:function r(){var n;return"result"in r||(n=t.src,n=Array.isArray(n)?UP(n):[n],r.result=VP.expand(e,n)),r.result}}),"dest"in r&&(r.dest=t.dest),r}).flatten().value()};var ZP=Ux.exports,KP=jw,QP=i,JP=Uw,XP=R_,tM=F_,eM=YE;a.Stream;var rM=Wx.PassThrough,nM=uw.exports={};nM.file=ZP,nM.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(t){r.push(t),n+=t.length}),t.on("end",function(){var t=Buffer.alloc(n),i=0;r.forEach(function(e){e.copy(t,i),i+=e.length}),e(null,t)})},nM.dateify=function(t){return(t=t||new Date)instanceof Date||(t="string"==typeof t?new Date(t):new Date),t},nM.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},eM(...n)},nM.isStream=function(t){return JP(t)},nM.lazyReadStream=function(t){return new XP.Readable(function(){return KP.createReadStream(t)})},nM.normalizeInputSource=function(t){return null===t?Buffer.alloc(0):"string"==typeof t?Buffer.from(t):nM.isStream(t)?t.pipe(new rM):t},nM.sanitizePath=function(t){return tM(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},nM.trailingSlashIt=function(t){return"/"!==t.slice(-1)?t+"/":t},nM.unixifyPath=function(t){return tM(t,!1).replace(/^\w+:/,"")},nM.walkdir=function(t,e,r){var n=[];"function"==typeof e&&(r=e,e=t),KP.readdir(t,function(i,s){var o,a,l=0;if(i)return r(i);!function i(){if(!(o=s[l++]))return r(null,n);a=QP.join(t,o),KP.stat(a,function(t,s){n.push({path:a,relative:QP.relative(e,a).replace(/\\/g,"/"),stats:s}),s&&s.isDirectory()?nM.walkdir(a,e,function(t,e){if(t)return r(t);e.forEach(function(t){n.push(t)}),i()}):i()})}()})};var iM=uw.exports,sM={exports:{}};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
!function(t){const e={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function r(t,r){Error.captureStackTrace(this,this.constructor),this.message=e[t]||t,this.code=t,this.data=r}l.inherits(r,Error),t.exports=r}(sM);var oM=sM.exports,aM=n,lM=zm,uM=lw,cM=i,hM=iM,fM=l.inherits,dM=oM,pM=Wx.Transform,bM="win32"===process.platform,yM=function(t,e){if(!(this instanceof yM))return new yM(t,e);"string"!=typeof t&&(e=t,t="zip"),e=this.options=hM.defaults(e,{highWaterMark:1048576,statConcurrency:4}),pM.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=uM.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=uM.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */fM(yM,pM),yM.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()},yM.prototype._append=function(t,e){var r={source:null,filepath:t};(e=e||{}).name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof aM.Stats?(r=this._updateQueueTaskWithStats(r,e.stats))&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r)):this._statQueue.push(r)},yM.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)},yM.prototype._maybeFinalize=function(){return!(this._state.finalizing||this._state.finalized||this._state.aborted)&&(!!(this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle())&&(this._finalize(),!0))},yM.prototype._moduleAppend=function(t,e,r){this._state.aborted?r():this._module.append(t,e,function(t){if(this._task=null,this._state.aborted)this._shutdown();else{if(t)return this.emit("error",t),void setImmediate(r);this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}}.bind(this))},yM.prototype._moduleFinalize=function(){"function"==typeof this._module.finalize?this._module.finalize():"function"==typeof this._module.end?this._module.end():this.emit("error",new dM("NOENDMETHOD"))},yM.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0},yM.prototype._moduleSupports=function(t){return!(!this._module.supports||!this._module.supports[t])&&this._module.supports[t]},yM.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1},yM.prototype._normalizeEntryData=function(t,e){t=hM.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&!1===t.stats&&(t.stats=e);var r="directory"===t.type;return t.name&&("string"==typeof t.prefix&&""!==t.prefix&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=hM.sanitizePath(t.name),"symlink"!==t.type&&"/"===t.name.slice(-1)?(r=!0,t.type="directory"):r&&(t.name+="/")),"number"==typeof t.mode?t.mode&=bM?511:4095:t.stats&&null===t.mode?(t.mode=bM?511&t.stats.mode:4095&t.stats.mode,bM&&r&&(t.mode=493)):null===t.mode&&(t.mode=r?493:420),t.stats&&null===t.date?t.date=t.stats.mtime:t.date=hM.dateify(t.date),t},yM.prototype._onModuleError=function(t){this.emit("error",t)},yM.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()},yM.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};this._state.finalizing||this._state.finalized||this._state.aborted?r():(this._task=t,this._moduleAppend(t.source,t.data,r))},yM.prototype._onStatQueueTask=function(t,e){this._state.finalizing||this._state.finalized||this._state.aborted?e():aM.lstat(t.filepath,function(r,n){if(this._state.aborted)setImmediate(e);else{if(r)return this._entriesCount--,this.emit("warning",r),void setImmediate(e);(t=this._updateQueueTaskWithStats(t,n))&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}}.bind(this))},yM.prototype._shutdown=function(){this._moduleUnpipe(),this.end()},yM.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)},yM.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=hM.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=hM.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=hM.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else{if(!e.isSymbolicLink()||!this._moduleSupports("symlink"))return e.isDirectory()?this.emit("warning",new dM("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new dM("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new dM("ENTRYNOTSUPPORTED",t.data)),null;var r=aM.readlinkSync(t.filepath),n=cM.dirname(t.filepath);t.data.type="symlink",t.data.linkname=cM.relative(n,cM.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}return t.data=this._normalizeEntryData(t.data,e),t},yM.prototype.abort=function(){return this._state.aborted||this._state.finalized||this._abort(),this},yM.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new dM("QUEUECLOSED")),this;if("string"!=typeof(e=this._normalizeEntryData(e)).name||0===e.name.length)return this.emit("error",new dM("ENTRYNAMEREQUIRED")),this;if("directory"===e.type&&!this._moduleSupports("directory"))return this.emit("error",new dM("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=hM.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else{if(!hM.isStream(t))return this.emit("error",new dM("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;e.sourceType="stream"}return this._entriesCount++,this._queue.push({data:e,source:t}),this},yM.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new dM("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new dM("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,!1===e?e="":"string"!=typeof e&&(e=t);var n=!1;"function"==typeof r?(n=r,r={}):"object"!=typeof r&&(r={});var i=lM(t,{stat:!0,dot:!0});return i.on("error",function(t){this.emit("error",t)}.bind(this)),i.on("match",function(s){i.pause();var o=!1,a=Object.assign({},r);a.name=s.relative,a.prefix=e,a.stats=s.stat,a.callback=i.resume.bind(i);try{if(n)if(!1===(a=n(a)))o=!0;else if("object"!=typeof a)throw new dM("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}catch(t){return void this.emit("error",t)}o?i.resume():this._append(s.absolute,a)}.bind(this)),i.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},yM.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new dM("QUEUECLOSED")),this):"string"!=typeof t||0===t.length?(this.emit("error",new dM("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)},yM.prototype.glob=function(t,e,r){this._pending++,e=hM.defaults(e,{stat:!0,pattern:t});var n=lM(e.cwd||".",e);return n.on("error",function(t){this.emit("error",t)}.bind(this)),n.on("match",function(t){n.pause();var e=Object.assign({},r);e.callback=n.resume.bind(n),e.stats=t.stat,e.name=t.relative,this._append(t.absolute,e)}.bind(this)),n.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},yM.prototype.finalize=function(){if(this._state.aborted){var t=new dM("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new dM("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(t,e){var n;r._module.on("end",function(){n||t()}),r._module.on("error",function(t){n=!0,e(t)})})},yM.prototype.setFormat=function(t){return this._format?(this.emit("error",new dM("FORMATSET")),this):(this._format=t,this)},yM.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new dM("ABORTED")),this):this._state.module?(this.emit("error",new dM("MODULESET")),this):(this._module=t,this._modulePipe(),this)},yM.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new dM("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new dM("SYMLINKFILEPATHREQUIRED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new dM("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new dM("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={type:"symlink"};return n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer","number"==typeof r&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this},yM.prototype.pointer=function(){return this._pointer},yM.prototype.use=function(t){return this._streams.push(t),this};var mM=yM,vM={exports:{}},gM={exports:{}},wM=gM.exports=function(){};wM.prototype.getName=function(){},wM.prototype.getSize=function(){},wM.prototype.getLastModifiedDate=function(){},wM.prototype.isDirectory=function(){};var _M=gM.exports,SM={exports:{}},EM={exports:{}},OM={exports:{}},xM=OM.exports={};xM.dateToDos=function(t,e){var r=(e=e||!1)?t.getFullYear():t.getUTCFullYear();return r<1980?2162688:r>=2044?2141175677:r-1980<<25|(e?t.getMonth():t.getUTCMonth())+1<<21|(e?t.getDate():t.getUTCDate())<<16|(e?t.getHours():t.getUTCHours())<<11|(e?t.getMinutes():t.getUTCMinutes())<<5|(e?t.getSeconds():t.getUTCSeconds())/2},xM.dosToDate=function(t){return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)},xM.fromDosTime=function(t){return xM.dosToDate(t.readUInt32LE(0))},xM.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e},xM.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((65535&t)>>>0,0),e},xM.getShortBytesValue=function(t,e){return t.readUInt16LE(e)},xM.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((4294967295&t)>>>0,0),e},xM.getLongBytesValue=function(t,e){return t.readUInt32LE(e)},xM.toDosTime=function(t){return xM.getLongBytes(xM.dateToDos(t))};var TM=OM.exports,kM=TM,AM=EM.exports=function(){return this instanceof AM?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new AM};AM.prototype.encode=function(){return kM.getShortBytes((this.descriptor?8:0)|(this.utf8?2048:0)|(this.encryption?1:0)|(this.strongEncryption?64:0))},AM.prototype.parse=function(t,e){var r=kM.getShortBytesValue(t,e),n=new AM;return n.useDataDescriptor(!!(8&r)),n.useUTF8ForNames(!!(2048&r)),n.useStrongEncryption(!!(64&r)),n.useEncryption(!!(1&r)),n.setSlidingDictionarySize(2&r?8192:4096),n.setNumberOfShannonFanoTrees(4&r?3:2),n},AM.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t},AM.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees},AM.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t},AM.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize},AM.prototype.useDataDescriptor=function(t){this.descriptor=t},AM.prototype.usesDataDescriptor=function(){return this.descriptor},AM.prototype.useEncryption=function(t){this.encryption=t},AM.prototype.usesEncryption=function(){return this.encryption},AM.prototype.useStrongEncryption=function(t){this.strongEncryption=t},AM.prototype.usesStrongEncryption=function(){return this.strongEncryption},AM.prototype.useUTF8ForNames=function(t){this.utf8=t},AM.prototype.usesUTF8ForNames=function(){return this.utf8};var PM=EM.exports,MM={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1},jM=l.inherits,RM=F_,LM=_M,CM=PM,IM={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420},FM=MM,NM=TM,DM=SM.exports=function(t){if(!(this instanceof DM))return new DM(t);LM.call(this),this.platform=FM.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new CM,this.crc=0,this.time=-1,this.minver=FM.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};jM(DM,LM),DM.prototype.getCentralDirectoryExtra=function(){return this.getExtra()},DM.prototype.getComment=function(){return null!==this.comment?this.comment:""},DM.prototype.getCompressedSize=function(){return this.csize},DM.prototype.getCrc=function(){return this.crc},DM.prototype.getExternalAttributes=function(){return this.exattr},DM.prototype.getExtra=function(){return null!==this.extra?this.extra:FM.EMPTY},DM.prototype.getGeneralPurposeBit=function(){return this.gpb},DM.prototype.getInternalAttributes=function(){return this.inattr},DM.prototype.getLastModifiedDate=function(){return this.getTime()},DM.prototype.getLocalFileDataExtra=function(){return this.getExtra()},DM.prototype.getMethod=function(){return this.method},DM.prototype.getName=function(){return this.name},DM.prototype.getPlatform=function(){return this.platform},DM.prototype.getSize=function(){return this.size},DM.prototype.getTime=function(){return-1!==this.time?NM.dosToDate(this.time):-1},DM.prototype.getTimeDos=function(){return-1!==this.time?this.time:0},DM.prototype.getUnixMode=function(){return this.platform!==FM.PLATFORM_UNIX?0:this.getExternalAttributes()>>FM.SHORT_SHIFT&FM.SHORT_MASK},DM.prototype.getVersionNeededToExtract=function(){return this.minver},DM.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t},DM.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t},DM.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t},DM.prototype.setExternalAttributes=function(t){this.exattr=t>>>0},DM.prototype.setExtra=function(t){this.extra=t},DM.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof CM))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t},DM.prototype.setInternalAttributes=function(t){this.inattr=t},DM.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t},DM.prototype.setName=function(t,e=!1){t=RM(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t},DM.prototype.setPlatform=function(t){this.platform=t},DM.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t},DM.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=NM.dateToDos(t,e)},DM.prototype.setUnixMode=function(t){var e=0;e|=(t|=this.isDirectory()?FM.S_IFDIR:FM.S_IFREG)<<FM.SHORT_SHIFT|(this.isDirectory()?FM.S_DOS_D:FM.S_DOS_A),this.setExternalAttributes(e),this.mode=t&FM.MODE_MASK,this.platform=FM.PLATFORM_UNIX},DM.prototype.setVersionNeededToExtract=function(t){this.minver=t},DM.prototype.isDirectory=function(){return"/"===this.getName().slice(-1)},DM.prototype.isUnixSymlink=function(){return(this.getUnixMode()&IM.FILE_TYPE_FLAG)===IM.LINK_FLAG},DM.prototype.isZip64=function(){return this.csize>FM.ZIP64_MAGIC||this.size>FM.ZIP64_MAGIC};var BM=SM.exports,zM={exports:{}},WM={exports:{}};a.Stream;var UM=Wx.PassThrough,$M=Uw;(WM.exports={}).normalizeInputSource=function(t){if(null===t)return Buffer.alloc(0);if("string"==typeof t)return Buffer.from(t);if($M(t)&&!t._readableState){var e=new UM;return t.pipe(e),e}return t};var GM=WM.exports,HM=l.inherits,qM=Uw,VM=Wx.Transform,YM=_M,ZM=GM,KM=zM.exports=function(t){if(!(this instanceof KM))return new KM(t);VM.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};HM(KM,VM),KM.prototype._appendBuffer=function(t,e,r){},KM.prototype._appendStream=function(t,e,r){},KM.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)},KM.prototype._finish=function(t){},KM.prototype._normalizeEntry=function(t){},KM.prototype._transform=function(t,e,r){r(null,t)},KM.prototype.entry=function(t,e,r){if(e=e||null,"function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),t instanceof YM)if(this._archive.finish||this._archive.finished)r(new Error("unacceptable entry after finish"));else{if(!this._archive.processing){if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=ZM.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else{if(!qM(e))return this._archive.processing=!1,void r(new Error("input source must be valid Stream or Buffer instance"));this._appendStream(t,e,r)}return this}r(new Error("already processing an entry"))}else r(new Error("not a valid instance of ArchiveEntry"))},KM.prototype.finish=function(){this._archive.processing?this._archive.finish=!0:this._finish()},KM.prototype.getBytesWritten=function(){return this.offset},KM.prototype.write=function(t,e){return t&&(this.offset+=t.length),VM.prototype.write.call(this,t,e)};var QM,JM=zM.exports,XM={exports:{}},tj={};QM=function(t){t.version="1.2.2";var e=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),r=function(t){var e=0,r=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)i[n]=t[n];for(n=0;256!=n;++n)for(r=t[n],e=256+n;e<4096;e+=256)r=i[e]=r>>>8^t[255&r];var s=[];for(n=1;16!=n;++n)s[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return s}(e),n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],l=r[5],u=r[6],c=r[7],h=r[8],f=r[9],d=r[10],p=r[11],b=r[12],y=r[13],m=r[14];t.table=e,t.bstr=function(t,r){for(var n=-1^r,i=0,s=t.length;i<s;)n=n>>>8^e[255&(n^t.charCodeAt(i++))];return~n},t.buf=function(t,r){for(var v=-1^r,g=t.length-15,w=0;w<g;)v=m[t[w++]^255&v]^y[t[w++]^v>>8&255]^b[t[w++]^v>>16&255]^p[t[w++]^v>>>24]^d[t[w++]]^f[t[w++]]^h[t[w++]]^c[t[w++]]^u[t[w++]]^l[t[w++]]^a[t[w++]]^o[t[w++]]^s[t[w++]]^i[t[w++]]^n[t[w++]]^e[t[w++]];for(g+=15;w<g;)v=v>>>8^e[255&(v^t[w++])];return~v},t.str=function(t,r){for(var n=-1^r,i=0,s=t.length,o=0,a=0;i<s;)(o=t.charCodeAt(i++))<128?n=n>>>8^e[255&(n^o)]:o<2048?n=(n=n>>>8^e[255&(n^(192|o>>6&31))])>>>8^e[255&(n^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&t.charCodeAt(i++),n=(n=(n=(n=n>>>8^e[255&(n^(240|o>>8&7))])>>>8^e[255&(n^(128|o>>2&63))])>>>8^e[255&(n^(128|a>>6&15|(3&o)<<4))])>>>8^e[255&(n^(128|63&a))]):n=(n=(n=n>>>8^e[255&(n^(224|o>>12&15))])>>>8^e[255&(n^(128|o>>6&63))])>>>8^e[255&(n^(128|63&o))];return~n}},"undefined"==typeof DO_NOT_EXPORT_CRC?QM(tj):QM({});const{Transform:ej}=Wx,rj=tj;var nj=class extends ej{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(t,e,r){t&&(this.checksum=rj.buf(t,this.checksum)>>>0,this.rawSize+=t.length),r(null,t)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};const{DeflateRaw:ij}=v,sj=tj;var oj={CRC32Stream:nj,DeflateCRC32Stream:class extends ij{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(t,e){return t&&(this.compressedSize+=t.length),super.push(t,e)}_transform(t,e,r){t&&(this.checksum=sj.buf(t,this.checksum)>>>0,this.rawSize+=t.length),super._transform(t,e,r)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(t=!1){return t?this.compressedSize:this.rawSize}}},aj=l.inherits,lj=tj,{CRC32Stream:uj}=oj,{DeflateCRC32Stream:cj}=oj,hj=JM,fj=MM,dj=TM,pj=XM.exports=function(t){if(!(this instanceof pj))return new pj(t);t=this.options=this._defaults(t),hj.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};aj(pj,hj),pj.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()},pj.prototype._appendBuffer=function(t,e,r){0===e.length&&t.setMethod(fj.METHOD_STORED);var n=t.getMethod();return n===fj.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(lj.buf(e)>>>0)),this._writeLocalFileHeader(t),n===fj.METHOD_STORED?(this.write(e),this._afterAppend(t),void r(null,t)):n===fj.METHOD_DEFLATED?void this._smartStream(t,r).end(e):void r(new Error("compression method "+n+" not implemented"))},pj.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(fj.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(t){n.emit("error",t),n.end()}),e.pipe(n)},pj.prototype._defaults=function(t){return"object"!=typeof t&&(t={}),"object"!=typeof t.zlib&&(t.zlib={}),"number"!=typeof t.zlib.level&&(t.zlib.level=fj.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t},pj.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()},pj.prototype._normalizeEntry=function(t){-1===t.getMethod()&&t.setMethod(fj.METHOD_DEFLATED),t.getMethod()===fj.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(fj.MIN_VERSION_DATA_DESCRIPTOR)),-1===t.getTime()&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}},pj.prototype._smartStream=function(t,e){var r=t.getMethod()===fj.METHOD_DEFLATED?new cj(this.options.zlib):new uj,n=null;return r.once("end",function(){var i=r.digest().readUInt32BE(0);t.setCrc(i),t.setSize(r.size()),t.setCompressedSize(r.size(!0)),this._afterAppend(t),e(n,t)}.bind(this)),r.once("error",function(t){n=t}),r.pipe(this,{end:!1}),r},pj.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=fj.ZIP64_MAGIC_SHORT,e=fj.ZIP64_MAGIC,r=fj.ZIP64_MAGIC),this.write(dj.getLongBytes(fj.SIG_EOCD)),this.write(fj.SHORT_ZERO),this.write(fj.SHORT_ZERO),this.write(dj.getShortBytes(t)),this.write(dj.getShortBytes(t)),this.write(dj.getLongBytes(e)),this.write(dj.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(dj.getShortBytes(i)),this.write(n)},pj.prototype._writeCentralDirectoryZip64=function(){this.write(dj.getLongBytes(fj.SIG_ZIP64_EOCD)),this.write(dj.getEightBytes(44)),this.write(dj.getShortBytes(fj.MIN_VERSION_ZIP64)),this.write(dj.getShortBytes(fj.MIN_VERSION_ZIP64)),this.write(fj.LONG_ZERO),this.write(fj.LONG_ZERO),this.write(dj.getEightBytes(this._entries.length)),this.write(dj.getEightBytes(this._entries.length)),this.write(dj.getEightBytes(this._archive.centralLength)),this.write(dj.getEightBytes(this._archive.centralOffset)),this.write(dj.getLongBytes(fj.SIG_ZIP64_EOCD_LOC)),this.write(fj.LONG_ZERO),this.write(dj.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(dj.getLongBytes(1))},pj.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>fj.ZIP64_MAGIC){i=fj.ZIP64_MAGIC,s=fj.ZIP64_MAGIC,n=fj.ZIP64_MAGIC,t.setVersionNeededToExtract(fj.MIN_VERSION_ZIP64);var o=Buffer.concat([dj.getShortBytes(fj.ZIP64_EXTRA_ID),dj.getShortBytes(24),dj.getEightBytes(t.getSize()),dj.getEightBytes(t.getCompressedSize()),dj.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(dj.getLongBytes(fj.SIG_CFH)),this.write(dj.getShortBytes(t.getPlatform()<<8|fj.VERSION_MADEBY)),this.write(dj.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(dj.getShortBytes(r)),this.write(dj.getLongBytes(t.getTimeDos())),this.write(dj.getLongBytes(t.getCrc())),this.write(dj.getLongBytes(s)),this.write(dj.getLongBytes(i));var a=t.getName(),l=t.getComment(),u=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(dj.getShortBytes(a.length)),this.write(dj.getShortBytes(u.length)),this.write(dj.getShortBytes(l.length)),this.write(fj.SHORT_ZERO),this.write(dj.getShortBytes(t.getInternalAttributes())),this.write(dj.getLongBytes(t.getExternalAttributes())),this.write(dj.getLongBytes(n)),this.write(a),this.write(u),this.write(l)},pj.prototype._writeDataDescriptor=function(t){this.write(dj.getLongBytes(fj.SIG_DD)),this.write(dj.getLongBytes(t.getCrc())),t.isZip64()?(this.write(dj.getEightBytes(t.getCompressedSize())),this.write(dj.getEightBytes(t.getSize()))):(this.write(dj.getLongBytes(t.getCompressedSize())),this.write(dj.getLongBytes(t.getSize())))},pj.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(fj.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(dj.getLongBytes(fj.SIG_LFH)),this.write(dj.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(dj.getShortBytes(r)),this.write(dj.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(fj.LONG_ZERO),this.write(fj.LONG_ZERO),this.write(fj.LONG_ZERO)):(this.write(dj.getLongBytes(t.getCrc())),this.write(dj.getLongBytes(t.getCompressedSize())),this.write(dj.getLongBytes(t.getSize()))),this.write(dj.getShortBytes(n.length)),this.write(dj.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset},pj.prototype.getComment=function(t){return null!==this._archive.comment?this._archive.comment:""},pj.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>fj.ZIP64_MAGIC_SHORT||this._archive.centralLength>fj.ZIP64_MAGIC||this._archive.centralOffset>fj.ZIP64_MAGIC},pj.prototype.setComment=function(t){this._archive.comment=t};var bj={ArchiveEntry:_M,ZipArchiveEntry:BM,ArchiveOutputStream:JM,ZipArchiveOutputStream:XM.exports},yj=l.inherits,mj=bj.ZipArchiveOutputStream,vj=bj.ZipArchiveEntry,gj=iM,wj=vM.exports=function(t){if(!(this instanceof wj))return new wj(t);(t=this.options=t||{}).zlib=t.zlib||{},mj.call(this,t),"number"==typeof t.level&&t.level>=0&&(t.zlib.level=t.level,delete t.level),t.forceZip64||"number"!=typeof t.zlib.level||0!==t.zlib.level||(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};yj(wj,mj),wj.prototype._normalizeFileData=function(t){var e="directory"===(t=gj.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""})).type,r="symlink"===t.type;return t.name&&(t.name=gj.sanitizePath(t.name),r||"/"!==t.name.slice(-1)?e&&(t.name+="/"):(e=!0,t.type="directory")),(e||r)&&(t.store=!0),t.date=gj.dateify(t.date),t},wj.prototype.entry=function(t,e,r){if("function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),"file"===(e=this._normalizeFileData(e)).type||"directory"===e.type||"symlink"===e.type)if("string"==typeof e.name&&0!==e.name.length){if("symlink"!==e.type||"string"==typeof e.linkname){var n=new vj(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),"symlink"===e.type&&"number"!=typeof e.mode&&(e.mode=40960),"number"==typeof e.mode&&("symlink"===e.type&&(e.mode|=40960),n.setUnixMode(e.mode)),"symlink"===e.type&&"string"==typeof e.linkname&&(t=Buffer.from(e.linkname)),mj.prototype.entry.call(this,n,t,r)}r(new Error("entry linkname must be a non-empty string value when type equals symlink"))}else r(new Error("entry name must be a non-empty string value"));else r(new Error(e.type+" entries not currently supported"))},wj.prototype.finalize=function(){this.finish()};var _j=vM.exports,Sj=iM,Ej=function(t){if(!(this instanceof Ej))return new Ej(t);t=this.options=Sj.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new _j(t)};
/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */Ej.prototype.append=function(t,e,r){this.engine.entry(t,e,r)},Ej.prototype.finalize=function(){this.engine.finalize()},Ej.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},Ej.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)},Ej.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};var Oj=Ej,xj={};const Tj=class{constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};var kj=class{constructor(t){this.hwm=t||16,this.head=new Tj(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){const e=this.head;this.head=e.next=new Tj(2*this.head.buffer.length),this.head.push(t)}}shift(){0!==this.length&&this.length--;const t=this.tail.shift();if(void 0===t&&this.tail.next){const t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return t}peek(){const t=this.tail.peek();return void 0===t&&this.tail.next?this.tail.next.peek():t}isEmpty(){return 0===this.length}};function Aj(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}var Pj={isBuffer:function(t){return Buffer.isBuffer(t)||t instanceof Uint8Array},isEncoding:function(t){return Buffer.isEncoding(t)},alloc:function(t,e,r){return Buffer.alloc(t,e,r)},allocUnsafe:function(t){return Buffer.allocUnsafe(t)},allocUnsafeSlow:function(t){return Buffer.allocUnsafeSlow(t)},byteLength:function(t,e){return Buffer.byteLength(t,e)},compare:function(t,e){return Buffer.compare(t,e)},concat:function(t,e){return Buffer.concat(t,e)},copy:function(t,e,r,n,i){return Aj(t).copy(e,r,n,i)},equals:function(t,e){return Aj(t).equals(e)},fill:function(t,e,r,n,i){return Aj(t).fill(e,r,n,i)},from:function(t,e,r){return Buffer.from(t,e,r)},includes:function(t,e,r,n){return Aj(t).includes(e,r,n)},indexOf:function(t,e,r,n){return Aj(t).indexOf(e,r,n)},lastIndexOf:function(t,e,r,n){return Aj(t).lastIndexOf(e,r,n)},swap16:function(t){return Aj(t).swap16()},swap32:function(t){return Aj(t).swap32()},swap64:function(t){return Aj(t).swap64()},toBuffer:Aj,toString:function(t,e,r,n){return Aj(t).toString(e,r,n)},write:function(t,e,r,n,i){return Aj(t).write(e,r,n,i)},writeDoubleLE:function(t,e,r){return Aj(t).writeDoubleLE(e,r)},writeFloatLE:function(t,e,r){return Aj(t).writeFloatLE(e,r)},writeUInt32LE:function(t,e,r){return Aj(t).writeUInt32LE(e,r)},writeInt32LE:function(t,e,r){return Aj(t).writeInt32LE(e,r)},readDoubleLE:function(t,e){return Aj(t).readDoubleLE(e)},readFloatLE:function(t,e){return Aj(t).readFloatLE(e)},readUInt32LE:function(t,e){return Aj(t).readUInt32LE(e)},readInt32LE:function(t,e){return Aj(t).readInt32LE(e)},writeDoubleBE:function(t,e,r){return Aj(t).writeDoubleBE(e,r)},writeFloatBE:function(t,e,r){return Aj(t).writeFloatBE(e,r)},writeUInt32BE:function(t,e,r){return Aj(t).writeUInt32BE(e,r)},writeInt32BE:function(t,e,r){return Aj(t).writeInt32BE(e,r)},readDoubleBE:function(t,e){return Aj(t).readDoubleBE(e)},readFloatBE:function(t,e){return Aj(t).readFloatBE(e)},readUInt32BE:function(t,e){return Aj(t).readUInt32BE(e)},readInt32BE:function(t,e){return Aj(t).readInt32BE(e)}};const Mj=Pj;const jj=Pj;const Rj=class{constructor(t){this.encoding=t}get remaining(){return 0}decode(t){return Mj.toString(t,this.encoding)}flush(){return""}},Lj=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(t){if(0===this.bytesNeeded){let e=!0;for(let r=Math.max(0,t.byteLength-4),n=t.byteLength;r<n&&e;r++)e=t[r]<=127;if(e)return jj.toString(t,"utf8")}let e="";for(let r=0,n=t.byteLength;r<n;r++){const n=t[r];0!==this.bytesNeeded?n<this.lowerBoundary||n>this.upperBoundary?(this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e+="�"):(this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|63&n,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(e+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)):n<=127?e+=String.fromCharCode(n):(this.bytesSeen=1,n>=194&&n<=223?(this.bytesNeeded=2,this.codePoint=31&n):n>=224&&n<=239?(224===n?this.lowerBoundary=160:237===n&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=15&n):n>=240&&n<=244?(240===n&&(this.lowerBoundary=144),244===n&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=7&n):e+="�")}return e}flush(){const t=this.bytesNeeded>0?"�":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,t}};const{EventEmitter:Cj}=s,Ij=new Error("Stream was destroyed"),Fj=new Error("Premature close"),Nj=kj,Dj=class{constructor(t="utf8"){switch(this.encoding=function(t){switch(t=t.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}(t),this.encoding){case"utf8":this.decoder=new Lj;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new Rj(this.encoding)}}get remaining(){return this.decoder.remaining}push(t){return"string"==typeof t?t:this.decoder.decode(t)}write(t){return this.push(t)}end(t){let e="";return t&&(e=this.push(t)),e+=this.decoder.flush(),e}},Bj="undefined"==typeof queueMicrotask?t=>J.process.nextTick(t):queueMicrotask,zj=536870911,Wj=1^zj,Uj=2^zj,$j=32,Gj=64,Hj=128,qj=256,Vj=1024,Yj=2048,Zj=4096,Kj=8192,Qj=16384,Jj=32768,Xj=131072,tR=131328,eR=16^zj,rR=536805375,nR=768^zj,iR=536838143,sR=536739839,oR=1<<18,aR=2<<18,lR=4<<18,uR=8<<18,cR=16<<18,hR=32<<18,fR=64<<18,dR=128<<18,pR=256<<18,bR=512<<18,yR=1024<<18,mR=535822335,vR=503316479,gR=268435455,wR=262160,_R=536608751,SR=8404992,ER=14,OR=15,xR=8405006,TR=33587200,kR=33587215,AR=2359296,PR=270794767,MR=Symbol.asyncIterator||Symbol("asyncIterator");class jR{constructor(t,{highWaterMark:e=16384,map:r=null,mapWritable:n,byteLength:i,byteLengthWritable:s}={}){this.stream=t,this.queue=new Nj,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||eL,this.map=n||r,this.afterWrite=DR.bind(this),this.afterUpdateNextTick=WR.bind(this)}get ended(){return 0!==(this.stream._duplexState&hR)}push(t){return!(142606350&this.stream._duplexState)&&(null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=uR,!0):(this.stream._duplexState|=6291456,!1))}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=534773759),t}end(t){"function"==typeof t?this.stream.once("finish",t):null!=t&&this.push(t),this.stream._duplexState=(this.stream._duplexState|bR)&mR}autoBatch(t,e){const r=[],n=this.stream;for(r.push(t);(n._duplexState&PR)===AR;)r.push(n._writableState.shift());if(0!==(n._duplexState&OR))return e(null);n._writev(r,e)}update(){const t=this.stream;t._duplexState|=aR;do{for(;(t._duplexState&PR)===uR;){const e=this.shift();t._duplexState|=67371008,t._write(e,this.afterWrite)}1310720&t._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=536346623}updateNonPrimary(){const t=this.stream;if((144965647&t._duplexState)===bR)return t._duplexState=t._duplexState|oR,void t._final(FR.bind(this));4!==(t._duplexState&ER)?1===(t._duplexState&kR)&&(t._duplexState=(t._duplexState|wR)&Wj,t._open(UR.bind(this))):0===(t._duplexState&TR)&&(t._duplexState|=wR,t._destroy(NR.bind(this)))}continueUpdate(){return 0!==(this.stream._duplexState&dR)&&(this.stream._duplexState&=vR,!0)}updateCallback(){(35127311&this.stream._duplexState)===lR?this.update():this.updateNextTick()}updateNextTick(){0===(this.stream._duplexState&dR)&&(this.stream._duplexState|=dR,0===(this.stream._duplexState&aR)&&Bj(this.afterUpdateNextTick))}}class RR{constructor(t,{highWaterMark:e=16384,map:r=null,mapReadable:n,byteLength:i,byteLengthReadable:s}={}){this.stream=t,this.queue=new Nj,this.highWaterMark=0===e?1:e,this.buffered=0,this.readAhead=e>0,this.error=null,this.pipeline=null,this.byteLength=s||i||eL,this.map=n||r,this.pipeTo=null,this.afterRead=BR.bind(this),this.afterUpdateNextTick=zR.bind(this)}get ended(){return 0!==(this.stream._duplexState&Qj)}pipe(t,e){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof e&&(e=null),this.stream._duplexState|=512,this.pipeTo=t,this.pipeline=new CR(this.stream,t,e),e&&this.stream.on("error",rL),tL(t))t._writableState.pipeline=this.pipeline,e&&t.on("error",rL),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{const e=this.pipeline.done.bind(this.pipeline,t),r=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",e),t.on("close",r),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",IR.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){const e=this.stream;return null===t?(this.highWaterMark=0,e._duplexState=536805311&e._duplexState|1024,!1):null!==this.map&&null===(t=this.map(t))?(e._duplexState&=rR,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(t),this.queue.push(t),e._duplexState=(e._duplexState|Hj)&rR,this.buffered<this.highWaterMark)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=536862591),t}unshift(t){const e=[null!==this.map?this.map(t):t];for(;this.buffered>0;)e.push(this.shift());for(let t=0;t<e.length-1;t++){const r=e[t];this.buffered+=this.byteLength(r),this.queue.push(r)}this.push(e[e.length-1])}read(){const t=this.stream;if((16527&t._duplexState)===Hj){const e=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=nR),0!==(t._duplexState&Yj)&&t.emit("data",e),e}return!1===this.readAhead&&(t._duplexState|=Xj,this.updateNextTick()),null}drain(){const t=this.stream;for(;(16527&t._duplexState)===Hj&&768&t._duplexState;){const e=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=nR),0!==(t._duplexState&Yj)&&t.emit("data",e)}}update(){const t=this.stream;t._duplexState|=$j;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&t._duplexState)===Xj;)t._duplexState|=65552,t._read(this.afterRead),this.drain();4224==(12431&t._duplexState)&&(t._duplexState|=Kj,t.emit("readable")),80&t._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=536870879}updateNonPrimary(){const t=this.stream;(1167&t._duplexState)===Vj&&(t._duplexState=536869887&t._duplexState|16384,t.emit("end"),(t._duplexState&xR)===SR&&(t._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!==(t._duplexState&ER)?1===(t._duplexState&kR)&&(t._duplexState=(t._duplexState|wR)&Wj,t._open(UR.bind(this))):0===(t._duplexState&TR)&&(t._duplexState|=wR,t._destroy(NR.bind(this)))}continueUpdate(){return 0!==(this.stream._duplexState&Jj)&&(this.stream._duplexState&=iR,!0)}updateCallback(){(32879&this.stream._duplexState)===Gj?this.update():this.updateNextTick()}updateNextTickIfOpen(){32769&this.stream._duplexState||(this.stream._duplexState|=Jj,0===(this.stream._duplexState&$j)&&Bj(this.afterUpdateNextTick))}updateNextTick(){0===(this.stream._duplexState&Jj)&&(this.stream._duplexState|=Jj,0===(this.stream._duplexState&$j)&&Bj(this.afterUpdateNextTick))}}class LR{constructor(t){this.data=null,this.afterTransform=$R.bind(t),this.afterFinal=null}}class CR{constructor(t,e,r){this.from=t,this.to=e,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,e){e&&(this.error=e),t!==this.to||(this.to=null,null===this.from)?t!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0===(t._duplexState&Qj)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!==(this.from._duplexState&Qj)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function IR(){this.stream._duplexState|=512,this.updateCallback()}function FR(t){const e=this.stream;t&&e.destroy(t),0===(e._duplexState&ER)&&(e._duplexState|=hR,e.emit("finish")),(e._duplexState&xR)===SR&&(e._duplexState|=4),e._duplexState&=402391039,0===(e._duplexState&aR)?this.update():this.updateNextTick()}function NR(t){const e=this.stream;t||this.error===Ij||(t=this.error),t&&e.emit("error",t),e._duplexState|=8,e.emit("close");const r=e._readableState,n=e._writableState;if(null!==r&&null!==r.pipeline&&r.pipeline.done(e,t),null!==n){for(;null!==n.drains&&n.drains.length>0;)n.drains.shift().resolve(!1);null!==n.pipeline&&n.pipeline.done(e,t)}}function DR(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=469499903,null!==this.drains&&function(t){for(let e=0;e<t.length;e++)0===--t[e].writes&&(t.shift().resolve(!0),e--)}(this.drains),(6553615&e._duplexState)===cR&&(e._duplexState&=532676607,(e._duplexState&fR)===fR&&e.emit("drain")),this.updateCallback()}function BR(t){t&&this.stream.destroy(t),this.stream._duplexState&=eR,!1===this.readAhead&&0===(this.stream._duplexState&qj)&&(this.stream._duplexState&=sR),this.updateCallback()}function zR(){0===(this.stream._duplexState&$j)&&(this.stream._duplexState&=iR,this.update())}function WR(){0===(this.stream._duplexState&aR)&&(this.stream._duplexState&=vR,this.update())}function UR(t){const e=this.stream;t&&e.destroy(t),4&e._duplexState||(17423&e._duplexState||(e._duplexState|=Gj),142606351&e._duplexState||(e._duplexState|=lR),e.emit("open")),e._duplexState&=_R,null!==e._writableState&&e._writableState.updateCallback(),null!==e._readableState&&e._readableState.updateCallback()}function $R(t,e){null!=e&&this.push(e),this._writableState.afterWrite(t)}function GR(t){null!==this._readableState&&("data"===t&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===t&&(this._duplexState|=Zj,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===t&&(this._duplexState|=fR,this._writableState.updateNextTick())}class HR extends Cj{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",nL.bind(this))),this.on("newListener",GR)}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return!!(8&this._duplexState)}get destroying(){return 0!==(this._duplexState&ER)}destroy(t){0===(this._duplexState&ER)&&(t||(t=Ij),this._duplexState=535822271&this._duplexState|4,null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=t),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=2,this._predestroy(),this._duplexState&=Uj,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}let qR=class t extends HR{constructor(t){super(t),this._duplexState|=8519681,this._readableState=new RR(this,t),t&&(!1===this._readableState.readAhead&&(this._duplexState&=sR),t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick(),t.encoding&&this.setEncoding(t.encoding))}setEncoding(t){const e=new Dj(t),r=this._readableState.map||JR;return this._readableState.map=function(t){const n=e.push(t);return""===n&&(0!==t.byteLength||e.remaining>0)?null:r(n)},this}_read(t){t(null)}pipe(t,e){return this._readableState.updateNextTick(),this._readableState.pipe(t,e),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTickIfOpen(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(t)}resume(){return this._duplexState|=tR,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?536739583:536870655,this}static _fromAsyncIterator(e,r){let n;const i=new t({...r,read(t){e.next().then(s).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(t){if(!n)return t(null);n.then(t.bind(null,null)).catch(t)}});return i;function s(t){t.done?i.push(null):i.push(t.value)}}static from(e,r){if(function(t){return tL(t)&&t.readable}(e))return e;if(e[MR])return this._fromAsyncIterator(e[MR](),r);Array.isArray(e)||(e=void 0===e?[]:[e]);let n=0;return new t({...r,read(t){this.push(n===e.length?null:e[n++]),t(null)}})}static isBackpressured(t){return!!(17422&t._duplexState)||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return 0===(t._duplexState&qj)}[MR](){const t=this;let e=null,r=null,n=null;return this.on("error",t=>{e=t}),this.on("readable",function(){null!==r&&i(t.read())}),this.on("close",function(){null!==r&&i(null)}),{[MR](){return this},next:()=>new Promise(function(e,s){r=e,n=s;const o=t.read();null!==o?i(o):8&t._duplexState&&i(null)}),return:()=>s(null),throw:t=>s(t)};function i(i){null!==n&&(e?n(e):null===i&&0===(t._duplexState&Qj)?n(Ij):r({value:i,done:null===i}),n=r=null)}function s(e){return t.destroy(e),new Promise((r,n)=>{if(8&t._duplexState)return r({value:void 0,done:!0});t.once("close",function(){e?n(e):r({value:void 0,done:!0})})})}}},VR=class extends HR{constructor(t){super(t),this._duplexState|=16385,this._writableState=new jR(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=yR}uncork(){this._duplexState&=gR,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}static isBackpressured(t){return!!(146800654&t._duplexState)}static drained(t){if(t.destroyed)return Promise.resolve(!1);const e=t._writableState;var r;const n=((r=t)._writev!==VR.prototype._writev&&r._writev!==YR.prototype._writev?Math.min(1,e.queue.length):e.queue.length)+(t._duplexState&pR?1:0);return 0===n?Promise.resolve(!0):(null===e.drains&&(e.drains=[]),new Promise(t=>{e.drains.push({writes:n,resolve:t})}))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};class YR extends qR{constructor(t){super(t),this._duplexState=1|this._duplexState&Xj,this._writableState=new jR(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}cork(){this._duplexState|=yR}uncork(){this._duplexState&=gR,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}let ZR=class extends YR{constructor(t){super(t),this._transformState=new LR(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,e){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(null!==this._transformState.data){const e=this._transformState.data;this._transformState.data=null,t(null),this._transform(e,this._transformState.afterTransform)}else t(null)}destroy(t){super.destroy(t),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(t,e){e(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(KR.bind(this))}};function KR(t,e){const r=this._transformState.afterFinal;if(t)return r(t);null!=e&&this.push(e),this.push(null),r(null)}function QR(t,...e){const r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&"function"==typeof r[r.length-1]?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let t=1;t<r.length;t++)s=r[t],tL(i)?i.pipe(s,l):(a(i,!0,t>1,l),i.pipe(s)),i=s;if(n){let t=!1;const e=tL(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",t=>{null===o&&(o=t)}),s.on("finish",()=>{t=!0,e||n(o)}),e&&s.on("close",()=>n(o||(t?null:Fj)))}return s;function a(t,e,r,n){t.on("error",n),t.on("close",function(){if(t._readableState&&!t._readableState.ended)return n(Fj);if(r&&t._writableState&&!t._writableState.ended)return n(Fj)})}function l(t){if(t&&!o){o=t;for(const e of r)e.destroy(t)}}}function JR(t){return t}function XR(t){return!!t._readableState||!!t._writableState}function tL(t){return"number"==typeof t._duplexState&&XR(t)}function eL(t){return function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.byteLength}(t)?t.byteLength:1024}function rL(){}function nL(){this.destroy(new Error("Stream aborted."))}var iL={pipeline:QR,pipelinePromise:function(...t){return new Promise((e,r)=>QR(...t,t=>{if(t)return r(t);e()}))},isStream:XR,isStreamx:tL,isEnded:function(t){return!!t._readableState&&t._readableState.ended},isFinished:function(t){return!!t._writableState&&t._writableState.ended},isDisturbed:function(t){return!!(1&~t._duplexState)||0!==(t._duplexState&TR)},getStreamError:function(t,e={}){const r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e.all||r!==Ij?r:null},Stream:HR,Writable:VR,Readable:qR,Duplex:YR,Transform:ZR,PassThrough:class extends ZR{}},sL={};const oL=Pj,aL="0".charCodeAt(0),lL=oL.from([117,115,116,97,114,0]),uL=oL.from([aL,aL]),cL=oL.from([117,115,116,97,114,32]),hL=oL.from([32,0]),fL=257,dL=263;function pL(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function bL(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function yL(t,e){return(t=t.toString(8)).length>e?"7777777777777777777".slice(0,e)+" ":"0000000000000000000".slice(0,e-t.length)+t+" "}function mL(t,e,r){if(128&(t=t.subarray(e,e+r))[e=0])return function(t){let e;if(128===t[0])e=!0;else{if(255!==t[0])return null;e=!1}const r=[];let n;for(n=t.length-1;n>0;n--){const i=t[n];e?r.push(i):r.push(255-i)}let i=0;const s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}(t);{for(;e<t.length&&32===t[e];)e++;const r=function(t,e,r){return"number"!=typeof t?r:(t=~~t)>=e?e:t>=0||(t+=e)>=0?t:0}(pL(t,32,e,t.length),t.length,t.length);for(;e<r&&0===t[e];)e++;return r===e?0:parseInt(oL.toString(t.subarray(e,r)),8)}}function vL(t,e,r,n){return oL.toString(t.subarray(e,pL(t,0,e,e+r)),n)}function gL(t){const e=oL.byteLength(t);let r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}sL.decodeLongPath=function(t,e){return vL(t,0,t.length,e)},sL.encodePax=function(t){let e="";t.name&&(e+=gL(" path="+t.name+"\n")),t.linkname&&(e+=gL(" linkpath="+t.linkname+"\n"));const r=t.pax;if(r)for(const t in r)e+=gL(" "+t+"="+r[t]+"\n");return oL.from(e)},sL.decodePax=function(t){const e={};for(;t.length;){let r=0;for(;r<t.length&&32!==t[r];)r++;const n=parseInt(oL.toString(t.subarray(0,r)),10);if(!n)return e;const i=oL.toString(t.subarray(r+1,n-1)),s=i.indexOf("=");if(-1===s)return e;e[i.slice(0,s)]=i.slice(s+1),t=t.subarray(n)}return e},sL.encode=function(t){const e=oL.alloc(512);let r=t.name,n="";if(5===t.typeflag&&"/"!==r[r.length-1]&&(r+="/"),oL.byteLength(r)!==r.length)return null;for(;oL.byteLength(r)>100;){const t=r.indexOf("/");if(-1===t)return null;n+=n?"/"+r.slice(0,t):r.slice(0,t),r=r.slice(t+1)}return oL.byteLength(r)>100||oL.byteLength(n)>155||t.linkname&&oL.byteLength(t.linkname)>100?null:(oL.write(e,r),oL.write(e,yL(4095&t.mode,6),100),oL.write(e,yL(t.uid,6),108),oL.write(e,yL(t.gid,6),116),function(t,e,r){t.toString(8).length>11?function(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=255&t,t=Math.floor(t/256)}(t,e,r):oL.write(e,yL(t,11),r)}(t.size,e,124),oL.write(e,yL(t.mtime.getTime()/1e3|0,11),136),e[156]=aL+function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(t.type),t.linkname&&oL.write(e,t.linkname,157),oL.copy(lL,e,fL),oL.copy(uL,e,263),t.uname&&oL.write(e,t.uname,265),t.gname&&oL.write(e,t.gname,297),oL.write(e,yL(t.devmajor||0,6),329),oL.write(e,yL(t.devminor||0,6),337),n&&oL.write(e,n,345),oL.write(e,yL(bL(e),6),148),e)},sL.decode=function(t,e,r){let n=0===t[156]?0:t[156]-aL,i=vL(t,0,100,e);const s=mL(t,100,8),o=mL(t,108,8),a=mL(t,116,8),l=mL(t,124,12),u=mL(t,136,12),c=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(n),h=0===t[157]?null:vL(t,157,100,e),f=vL(t,265,32),d=vL(t,297,32),p=mL(t,329,8),b=mL(t,337,8),y=bL(t);if(256===y)return null;if(y!==mL(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(t){return oL.equals(lL,t.subarray(fL,263))}(t))t[345]&&(i=vL(t,345,155,e)+"/"+i);else if(function(t){return oL.equals(cL,t.subarray(fL,263))&&oL.equals(hL,t.subarray(dL,265))}(t));else if(!r)throw new Error("Invalid tar header: unknown format.");return 0===n&&i&&"/"===i[i.length-1]&&(n=5),{name:i,mode:s,uid:o,gid:a,size:l,mtime:new Date(1e3*u),type:c,linkname:h,uname:f,gname:d,devmajor:p,devminor:b,pax:null}};const{Writable:wL,Readable:_L,getStreamError:SL}=iL,EL=kj,OL=Pj,xL=sL,TL=OL.alloc(0);class kL{constructor(){this.buffered=0,this.shifted=0,this.queue=new EL,this._offset=0}push(t){this.buffered+=t.byteLength,this.queue.push(t)}shiftFirst(t){return 0===this._buffered?null:this._next(t)}shift(t){if(t>this.buffered)return null;if(0===t)return TL;let e=this._next(t);if(t===e.byteLength)return e;const r=[e];for(;(t-=e.byteLength)>0;)e=this._next(t),r.push(e);return OL.concat(r)}_next(t){const e=this.queue.peek(),r=e.byteLength-this._offset;if(t>=r){const t=this._offset?e.subarray(this._offset,e.byteLength):e;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,t}return this.buffered-=t,this.shifted+=t,e.subarray(this._offset,this._offset+=t)}}class AL extends _L{constructor(t,e,r){super(),this.header=e,this.offset=r,this._parent=t}_read(t){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),t(null)}_predestroy(){this._parent.destroy(SL(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=jL(this.header.size),this._parent._update())}_destroy(t){this._detach(),t(null)}}class PL extends wL{constructor(t){super(t),t||(t={}),this._buffer=new kL,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=ML,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=t.filenameEncoding||"utf-8",this._allowUnknownFormat=!!t.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(t){if(this._locked=!1,t)return this.destroy(t),void this._continueWrite(t);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=xL.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(t){return this._continueWrite(t),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(t){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=xL.decodeLongPath(t,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=xL.decodeLongPath(t,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=xL.decodePax(t);break;case"pax-header":this._pax=null===this._paxGlobal?xL.decodePax(t):Object.assign({},this._paxGlobal,xL.decodePax(t))}}_consumeLongHeader(){this._longHeader=!1,this._missing=jL(this._header.size);const t=this._buffer.shift(this._header.size);try{this._decodeLongHeader(t)}catch(t){return this._continueWrite(t),!1}return!0}_consumeStream(){const t=this._buffer.shiftFirst(this._missing);if(null===t)return!1;this._missing-=t.byteLength;const e=this._stream.push(t);return 0===this._missing?(this._stream.push(null),e&&this._stream._detach(),e&&!1===this._locked):e}_createStream(){return new AL(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const t=this._buffer.shiftFirst(this._missing);null!==t&&(this._missing-=t.byteLength);continue}if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(t){const e=this._callback;this._callback=ML,e(t)}_write(t,e){this._callback=e,this._buffer.push(t),this._update()}_final(t){this._finished=0===this._missing&&0===this._buffer.buffered,t(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(t){this._stream&&this._stream.destroy(SL(this)),t(null)}[Symbol.asyncIterator](){let t=null,e=null,r=null,n=null,i=null;const s=this;return this.on("entry",function(t,s,o){i=o,s.on("error",ML),e?(e({value:s,done:!1}),e=r=null):n=s}),this.on("error",e=>{t=e}),this.on("close",function(){if(o(t),!e)return;t?r(t):e({value:void 0,done:!0});e=r=null}),{[Symbol.asyncIterator](){return this},next:()=>new Promise(a),return:()=>l(null),throw:t=>l(t)};function o(t){if(!i)return;const e=i;i=null,e(t)}function a(i,a){return t?a(t):n?(i({value:n,done:!1}),void(n=null)):(e=i,r=a,o(null),void(s._finished&&e&&(e({value:void 0,done:!0}),e=r=null)))}function l(t){return s.destroy(t),o(t),new Promise((e,r)=>{if(s.destroyed)return e({value:void 0,done:!0});s.once("close",function(){t?r(t):e({value:void 0,done:!0})})})}}}function ML(){}function jL(t){return(t&=511)&&512-t}var RL={exports:{}};const LL={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{RL.exports=require("fs").constants||LL}catch{RL.exports=LL}var CL=RL.exports;const{Readable:IL,Writable:FL,getStreamError:NL}=iL,DL=Pj,BL=CL,zL=sL,WL=DL.alloc(1024);class UL extends FL{constructor(t,e,r){super({mapWritable:qL,eagerOpen:!0}),this.written=0,this.header=e,this._callback=r,this._linkname=null,this._isLinkname="symlink"===e.type&&!e.linkname,this._isVoid="file"!==e.type&&"contiguous-file"!==e.type,this._finished=!1,this._pack=t,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(t){this._openCallback=t,this._pack._stream===this&&this._continueOpen()}_continuePack(t){if(null===this._callback)return;const e=this._callback;this._callback=null,e(t)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const t=this._openCallback;if(this._openCallback=null,null!==t){if(this._pack.destroying)return t(new Error("pack stream destroyed"));if(this._pack._finalized)return t(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),t(null)}}_write(t,e){return this._isLinkname?(this._linkname=this._linkname?DL.concat([this._linkname,t]):t,e(null)):this._isVoid?t.byteLength>0?e(new Error("No body allowed for this entry")):e():(this.written+=t.byteLength,this._pack.push(t)?e():void(this._pack._drain=e))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?DL.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),HL(this._pack,this.header.size),this._pack._done(this))}_final(t){if(this.written!==this.header.size)return t(new Error("Size mismatch"));this._finish(),t(null)}_getError(){return NL(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(t){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),t()}}class $L extends IL{constructor(t){super(t),this._drain=GL,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(t,e,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof e&&(r=e,e=null),r||(r=GL),t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=function(t){switch(t&BL.S_IFMT){case BL.S_IFBLK:return"block-device";case BL.S_IFCHR:return"character-device";case BL.S_IFDIR:return"directory";case BL.S_IFIFO:return"fifo";case BL.S_IFLNK:return"symlink"}return"file"}(t.mode)),t.mode||(t.mode="directory"===t.type?493:420),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"==typeof e&&(e=DL.from(e));const n=new UL(this,t,r);return DL.isBuffer(e)?(t.size=e.byteLength,n.write(e),n.end(),n):(n._isVoid,n)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(WL),this.push(null))}_done(t){t===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(t){if(!t.pax){const e=zL.encode(t);if(e)return void this.push(e)}this._encodePax(t)}_encodePax(t){const e=zL.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.byteLength,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(zL.encode(r)),this.push(e),HL(this,e.byteLength),r.size=t.size,r.type=t.type,this.push(zL.encode(r))}_doDrain(){const t=this._drain;this._drain=GL,t()}_predestroy(){const t=NL(this);for(this._stream&&this._stream.destroy(t);this._pending.length;){const e=this._pending.shift();e.destroy(t),e._continueOpen()}this._doDrain()}_read(t){this._doDrain(),t()}}function GL(){}function HL(t,e){(e&=511)&&t.push(WL.subarray(0,512-e))}function qL(t){return DL.isBuffer(t)?t:DL.from(t)}xj.extract=function(t){return new PL(t)},xj.pack=function(t){return new $L(t)};
/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var VL=v,YL=xj,ZL=iM,KL=function(t){if(!(this instanceof KL))return new KL(t);"object"!=typeof(t=this.options=ZL.defaults(t,{gzip:!1})).gzipOptions&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=YL.pack(t),this.compressor=!1,t.gzip&&(this.compressor=VL.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};KL.prototype._onCompressorError=function(t){this.engine.emit("error",t)},KL.prototype.append=function(t,e,r){var n=this;function i(t,i){t?r(t):n.engine.entry(e,i,function(t){r(t,e)})}if(e.mtime=e.date,"buffer"===e.sourceType)i(null,t);else if("stream"===e.sourceType&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(t){r(t,e)});t.pipe(s)}else"stream"===e.sourceType&&ZL.collectStream(t,i)},KL.prototype.finalize=function(){this.engine.finalize()},KL.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},KL.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)},KL.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};var QL=KL;function JL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const XL=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function tC(t){if(Buffer.isBuffer(t))return t;if("number"==typeof t)return Buffer.alloc(t);if("string"==typeof t)return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function eC(t,e){t=tC(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=-1^e;for(var n=0;n<t.length;n++)r=XL[255&(r^t[n])]^r>>>8;return-1^r}function rC(){return function(t){const e=tC(4);return e.writeInt32BE(t,0),e}(eC.apply(null,arguments))}rC.signed=function(){return eC.apply(null,arguments)},rC.unsigned=function(){return eC.apply(null,arguments)>>>0};var nC=JL(rC),iC=l.inherits,sC=Wx.Transform,oC=nC,aC=iM,lC=function(t){if(!(this instanceof lC))return new lC(t);t=this.options=aC.defaults(t,{}),sC.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};
/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */iC(lC,sC),lC.prototype._transform=function(t,e,r){r(null,t)},lC.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)},lC.prototype.append=function(t,e,r){var n=this;function i(t,i){t?r(t):(e.size=i.length||0,e.crc32=oC.unsigned(i),n.files.push(e),r(null,e))}e.crc32=0,"buffer"===e.sourceType?i(null,t):"stream"===e.sourceType&&aC.collectStream(t,i)},lC.prototype.finalize=function(){this._writeStringified(),this.end()};var uC=lC,cC=mM,hC={},fC=function(t,e){return fC.create(t,e)};
/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */fC.create=function(t,e){if(hC[t]){var r=new cC(t,e);return r.setFormat(t),r.setModule(new hC[t](e)),r}throw new Error("create("+t+"): format not registered")},fC.registerFormat=function(t,e){if(hC[t])throw new Error("register("+t+"): format already registered");if("function"!=typeof e)throw new Error("register("+t+"): format module invalid");if("function"!=typeof e.prototype.append||"function"!=typeof e.prototype.finalize)throw new Error("register("+t+"): format module missing methods");hC[t]=e},fC.isRegisteredFormat=function(t){return!!hC[t]},fC.registerFormat("zip",Oj),fC.registerFormat("tar",QL),fC.registerFormat("json",uC);var dC=X(fC),pC=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1},bC={"{":"}","(":")","[":"]"},yC=function(t){if("!"===t[0])return!0;for(var e=0,r=-2,n=-2,i=-2,s=-2,o=-2;e<t.length;){if("*"===t[e])return!0;if("?"===t[e+1]&&/[\].+)]/.test(t[e]))return!0;if(-1!==n&&"["===t[e]&&"]"!==t[e+1]&&(n<e&&(n=t.indexOf("]",e)),n>e)){if(-1===o||o>n)return!0;if(-1===(o=t.indexOf("\\",e))||o>n)return!0}if(-1!==i&&"{"===t[e]&&"}"!==t[e+1]&&(i=t.indexOf("}",e))>e&&(-1===(o=t.indexOf("\\",e))||o>i))return!0;if(-1!==s&&"("===t[e]&&"?"===t[e+1]&&/[:!=]/.test(t[e+2])&&")"!==t[e+3]&&(s=t.indexOf(")",e))>e&&(-1===(o=t.indexOf("\\",e))||o>s))return!0;if(-1!==r&&"("===t[e]&&"|"!==t[e+1]&&(r<e&&(r=t.indexOf("|",e)),-1!==r&&")"!==t[r+1]&&(s=t.indexOf(")",r))>r&&(-1===(o=t.indexOf("\\",r))||o>s)))return!0;if("\\"===t[e]){var a=t[e+1];e+=2;var l=bC[a];if(l){var u=t.indexOf(l,e);-1!==u&&(e=u+1)}if("!"===t[e])return!0}else e++}return!1},mC=function(t){if("!"===t[0])return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if("\\"===t[e]){var r=t[e+1];e+=2;var n=bC[r];if(n){var i=t.indexOf(n,e);-1!==i&&(e=i+1)}if("!"===t[e])return!0}else e++}return!1},vC=X(function(t,e){if("string"!=typeof t||""===t)return!1;if(pC(t))return!0;var r=yC;return e&&!1===e.strict&&(r=mC),r(t)});const gC=(t,e,r)=>{const n=t instanceof RegExp?wC(t,r):t,i=e instanceof RegExp?wC(e,r):e,s=null!==n&&null!=i&&_C(n,i,r);return s&&{start:s[0],end:s[1],pre:r.slice(0,s[0]),body:r.slice(s[0]+n.length,s[1]),post:r.slice(s[1]+i.length)}},wC=(t,e)=>{const r=e.match(t);return r?r[0]:null},_C=(t,e,r)=>{let n,i,s,o,a,l=r.indexOf(t),u=r.indexOf(e,l+1),c=l;if(l>=0&&u>0){if(t===e)return[l,u];for(n=[],s=r.length;c>=0&&!a;){if(c===l)n.push(c),l=r.indexOf(t,c+1);else if(1===n.length){const t=n.pop();void 0!==t&&(a=[t,u])}else i=n.pop(),void 0!==i&&i<s&&(s=i,o=u),u=r.indexOf(e,c+1);c=l<u&&l>=0?l:u}n.length&&void 0!==o&&(a=[s,o])}return a},SC="\0SLASH"+Math.random()+"\0",EC="\0OPEN"+Math.random()+"\0",OC="\0CLOSE"+Math.random()+"\0",xC="\0COMMA"+Math.random()+"\0",TC="\0PERIOD"+Math.random()+"\0",kC=new RegExp(SC,"g"),AC=new RegExp(EC,"g"),PC=new RegExp(OC,"g"),MC=new RegExp(xC,"g"),jC=new RegExp(TC,"g"),RC=/\\\\/g,LC=/\\{/g,CC=/\\}/g,IC=/\\,/g,FC=/\\./g;function NC(t){return isNaN(t)?t.charCodeAt(0):parseInt(t,10)}function DC(t){return t.replace(kC,"\\").replace(AC,"{").replace(PC,"}").replace(MC,",").replace(jC,".")}function BC(t){if(!t)return[""];const e=[],r=gC("{","}",t);if(!r)return t.split(",");const{pre:n,body:i,post:s}=r,o=n.split(",");o[o.length-1]+="{"+i+"}";const a=BC(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function zC(t){return t?("{}"===t.slice(0,2)&&(t="\\{\\}"+t.slice(2)),HC(function(t){return t.replace(RC,SC).replace(LC,EC).replace(CC,OC).replace(IC,xC).replace(FC,TC)}(t),!0).map(DC)):[]}function WC(t){return"{"+t+"}"}function UC(t){return/^-?0\d/.test(t)}function $C(t,e){return t<=e}function GC(t,e){return t>=e}function HC(t,e){const r=[],n=gC("{","}",t);if(!n)return[t];const i=n.pre,s=n.post.length?HC(n.post,!1):[""];if(/\$$/.test(n.pre))for(let t=0;t<s.length;t++){const e=i+"{"+n.body+"}"+s[t];r.push(e)}else{const o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=o||a,u=n.body.indexOf(",")>=0;if(!l&&!u)return n.post.match(/,(?!,).*\}/)?HC(t=n.pre+"{"+n.body+OC+n.post):[t];let c,h;if(l)c=n.body.split(/\.\./);else if(c=BC(n.body),1===c.length&&void 0!==c[0]&&(c=HC(c[0],!1).map(WC),1===c.length))return s.map(t=>n.pre+c[0]+t);if(l&&void 0!==c[0]&&void 0!==c[1]){const t=NC(c[0]),e=NC(c[1]),r=Math.max(c[0].length,c[1].length);let n=3===c.length&&void 0!==c[2]?Math.abs(NC(c[2])):1,i=$C;e<t&&(n*=-1,i=GC);const s=c.some(UC);h=[];for(let o=t;i(o,e);o+=n){let t;if(a)t=String.fromCharCode(o),"\\"===t&&(t="");else if(t=String(o),s){const e=r-t.length;if(e>0){const r=new Array(e+1).join("0");t=o<0?"-"+r+t.slice(1):r+t}}h.push(t)}}else{h=[];for(let t=0;t<c.length;t++)h.push.apply(h,HC(c[t],!1))}for(let t=0;t<h.length;t++)for(let n=0;n<s.length;n++){const o=i+h[t]+s[n];(!e||l||o)&&r.push(o)}}return r}const qC=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},VC={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},YC=t=>t.replace(/[[\]\\-]/g,"\\$&"),ZC=t=>t.join(""),KC=(t,e)=>{const r=e;if("["!==t.charAt(r))throw new Error("not in a brace expression");const n=[],i=[];let s=r+1,o=!1,a=!1,l=!1,u=!1,c=r,h="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==r+1){if("]"===e&&o&&!l){c=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,u]]of Object.entries(VC))if(t.startsWith(e,s)){if(h)return["$.",!1,t.length-r,!0];s+=e.length,u?i.push(o):n.push(o),a=a||l;continue t}l=!1,h?(e>h?n.push(YC(h)+"-"+YC(e)):e===h&&n.push(YC(e)),h="",s++):t.startsWith("-]",s+1)?(n.push(YC(e+"-")),s+=2):t.startsWith("-",s+1)?(h=e,s+=2):(n.push(YC(e)),s++)}else l=!0,s++}else u=!0,s++}if(c<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(0===i.length&&1===n.length&&/^\\?.$/.test(n[0])&&!u){const t=2===n[0].length?n[0].slice(-1):n[0];return[(f=t,f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,c-r,!1]}var f;const d="["+(u?"^":"")+ZC(n)+"]",p="["+(u?"":"^")+ZC(i)+"]";return[n.length&&i.length?"("+d+"|"+p+")":n.length?d:p,a,c-r,!0]},QC=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),JC=new Set(["!","?","+","*","@"]),XC=t=>JC.has(t),tI="(?!\\.)",eI=new Set(["[","."]),rI=new Set(["..","."]),nI=new Set("().*{}+?[]^$\\!"),iI=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),sI="[^/]",oI=sI+"*?",aI=sI+"+?";class lI{type;#t;#e;#r=!1;#n=[];#i;#s;#o;#a=!1;#l;#u;#c=!1;constructor(t,e,r={}){this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#l=this.#t===this?r:this.#t.#l,this.#o=this.#t===this?[]:this.#t.#o,"!"!==t||this.#t.#a||this.#o.push(this),this.#s=this.#i?this.#i.#n.length:0}get hasMagic(){if(void 0!==this.#e)return this.#e;for(const t of this.#n)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return void 0!==this.#u?this.#u:this.type?this.#u=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#u=this.#n.map(t=>String(t)).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#o.pop();){if("!"!==t.type)continue;let e=t,r=e.#i;for(;r;){for(let n=e.#s+1;!r.type&&n<r.#n.length;n++)for(const e of t.#n){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(r.#n[n])}e=r,r=e.#i}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof lI&&e.#i===this))throw new Error("invalid part: "+e);this.#n.push(e)}}toJSON(){const t=null===this.type?this.#n.slice().map(t=>"string"==typeof t?t:t.toJSON()):[this.type,...this.#n.map(t=>t.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&"!"===this.#i?.type)&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#s)return!0;const t=this.#i;for(let e=0;e<this.#s;e++){const r=t.#n[e];if(!(r instanceof lI&&"!"===r.type))return!1}return!0}isEnd(){if(this.#t===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#n.length:0;return this.#s===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new lI(this.type,t);for(const t of this.#n)e.copyIn(t);return e}static#f(t,e,r,n){let i=!1,s=!1,o=-1,a=!1;if(null===e.type){let l=r,u="";for(;l<t.length;){const r=t.charAt(l++);if(i||"\\"===r)i=!i,u+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),u+=r;else if("["!==r){if(!n.noext&&XC(r)&&"("===t.charAt(l)){e.push(u),u="";const i=new lI(r,e);l=lI.#f(t,i,l,n),e.push(i);continue}u+=r}else s=!0,o=l,a=!1,u+=r}return e.push(u),l}let l=r+1,u=new lI(null,e);const c=[];let h="";for(;l<t.length;){const r=t.charAt(l++);if(i||"\\"===r)i=!i,h+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),h+=r;else if("["!==r){if(XC(r)&&"("===t.charAt(l)){u.push(h),h="";const e=new lI(r,u);u.push(e),l=lI.#f(t,e,l,n);continue}if("|"!==r){if(")"===r)return""===h&&0===e.#n.length&&(e.#c=!0),u.push(h),h="",e.push(...c,u),l;h+=r}else u.push(h),h="",c.push(u),u=new lI(null,e)}else s=!0,o=l,a=!1,h+=r}return e.type=null,e.#e=void 0,e.#n=[t.substring(r-1)],l}static fromGlob(t,e={}){const r=new lI(null,void 0,e);return lI.#f(t,r,0,e),r}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,r,n,i]=this.toRegExpSource();if(!(n||this.#e||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const s=(this.#l.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}get options(){return this.#l}toRegExpSource(t){const e=t??!!this.#l.dot;if(this.#t===this&&this.#h(),!this.type){const r=this.isStart()&&this.isEnd(),n=this.#n.map(e=>{const[n,i,s,o]="string"==typeof e?lI.#d(e,this.#e,r):e.toRegExpSource(t);return this.#e=this.#e||s,this.#r=this.#r||o,n}).join("");let i="";if(this.isStart()&&"string"==typeof this.#n[0]){if(!(1===this.#n.length&&rI.has(this.#n[0]))){const r=eI,s=e&&r.has(n.charAt(0))||n.startsWith("\\.")&&r.has(n.charAt(2))||n.startsWith("\\.\\.")&&r.has(n.charAt(4)),o=!e&&!t&&r.has(n.charAt(0));i=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?tI:""}}let s="";this.isEnd()&&this.#t.#a&&"!"===this.#i?.type&&(s="(?:$|\\/)");return[i+n+s,QC(n),this.#e=!!this.#e,this.#r]}const r="*"===this.type||"+"===this.type,n="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#p(e);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const t=this.toString();return this.#n=[t],this.type=null,this.#e=void 0,[t,QC(this.toString()),!1,!1]}let s=!r||t||e?"":this.#p(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let o="";if("!"===this.type&&this.#c)o=(this.isStart()&&!e?tI:"")+aI;else{o=n+i+("!"===this.type?"))"+(!this.isStart()||e||t?"":tI)+oI+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,QC(i),this.#e=!!this.#e,this.#r]}#p(t){return this.#n.map(e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,n,i,s]=e.toRegExpSource(t);return this.#r=this.#r||s,r}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")}static#d(t,e,r=!1){let n=!1,i="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(n)n=!1,i+=(nI.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[r,n,a,l]=KC(t,o);if(a){i+=r,s=s||n,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?i+=iI(a):(i+=sI,e=!0):(i+=r&&"*"===t?aI:oI,e=!0)}else o===t.length-1?i+="\\\\":n=!0}return[i,QC(t),!!e,s]}}const uI=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),cI=(t,e,r={})=>(qC(e),!(!r.nocomment&&"#"===e.charAt(0))&&new FI(e,r).match(t)),hI=/^\*+([^+@!?\*\[\(]*)$/,fI=t=>e=>!e.startsWith(".")&&e.endsWith(t),dI=t=>e=>e.endsWith(t),pI=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),bI=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),yI=/^\*+\.\*+$/,mI=t=>!t.startsWith(".")&&t.includes("."),vI=t=>"."!==t&&".."!==t&&t.includes("."),gI=/^\.\*+$/,wI=t=>"."!==t&&".."!==t&&t.startsWith("."),_I=/^\*+$/,SI=t=>0!==t.length&&!t.startsWith("."),EI=t=>0!==t.length&&"."!==t&&".."!==t,OI=/^\?+([^+@!?\*\[\(]*)?$/,xI=([t,e=""])=>{const r=PI([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},TI=([t,e=""])=>{const r=MI([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},kI=([t,e=""])=>{const r=MI([t]);return e?t=>r(t)&&t.endsWith(e):r},AI=([t,e=""])=>{const r=PI([t]);return e?t=>r(t)&&t.endsWith(e):r},PI=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},MI=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},jI="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";cI.sep="win32"===jI?{sep:"\\"}.sep:{sep:"/"}.sep;const RI=Symbol("globstar **");cI.GLOBSTAR=RI;cI.filter=(t,e={})=>r=>cI(r,t,e);const LI=(t,e={})=>Object.assign({},t,e);cI.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return cI;const e=cI;return Object.assign((r,n,i={})=>e(r,n,LI(t,i)),{Minimatch:class extends e.Minimatch{constructor(e,r={}){super(e,LI(t,r))}static defaults(r){return e.defaults(LI(t,r)).Minimatch}},AST:class extends e.AST{constructor(e,r,n={}){super(e,r,LI(t,n))}static fromGlob(r,n={}){return e.AST.fromGlob(r,LI(t,n))}},unescape:(r,n={})=>e.unescape(r,LI(t,n)),escape:(r,n={})=>e.escape(r,LI(t,n)),filter:(r,n={})=>e.filter(r,LI(t,n)),defaults:r=>e.defaults(LI(t,r)),makeRe:(r,n={})=>e.makeRe(r,LI(t,n)),braceExpand:(r,n={})=>e.braceExpand(r,LI(t,n)),match:(r,n,i={})=>e.match(r,n,LI(t,i)),sep:e.sep,GLOBSTAR:RI})};const CI=(t,e={})=>(qC(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:zC(t));cI.braceExpand=CI;cI.makeRe=(t,e={})=>new FI(t,e).makeRe();cI.match=(t,e,r={})=>{const n=new FI(e,r);return t=t.filter(t=>n.match(t)),n.options.nonull&&!t.length&&t.push(e),t};const II=/[?*]|[+@!]\(.*?\)|\[|\]/;class FI{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){qC(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||jI,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map(t=>this.slashSplit(t));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let n=this.globParts.map((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&II.test(t[2])||II.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map(t=>this.parse(t))];if(r)return[t[0],...t.slice(1).map(t=>this.parse(t))]}return t.map(t=>this.parse(t))});if(this.debug(this.pattern,n),this.set=n.filter(t=>-1===t.indexOf(!1)),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t})}levelOneOptimize(t){return t.map(t=>0===(t=t.reduce((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)},[])).length?[""]:t)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const n=t[r];1===r&&""===n&&""===t[0]||("."!==n&&""!==n||(e=!0,t.splice(r,1),r--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const n=t[r-1];n&&"."!==n&&".."!==n&&"**"!==n&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let n=-1;for(;-1!==(n=r.indexOf("**",n+1));){let i=n;for(;"**"===r[i+1];)i++;i>n&&r.splice(n+1,i-n);let s=r[n+1];const o=r[n+2],a=r[n+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(n,1);const l=r.slice(0);l[n]="**",t.push(l),n--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const n=r[t];1===t&&""===n&&""===r[0]||("."!==n&&""!==n||(e=!0,r.splice(t,1),t--))}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let i=0;for(;-1!==(i=r.indexOf("..",i+1));){const t=r[i-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===i&&"**"===r[i+1]?["."]:[];r.splice(i-1,2,...t),0===r.length&&r.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const n=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);if(n){t[e]=[],t[r]=n;break}}return t.filter(t=>t.length)}partsMatch(t,e,r=!1){let n=0,i=0,s=[],o="";for(;n<t.length&&i<e.length;)if(t[n]===e[i])s.push("b"===o?e[i]:t[n]),n++,i++;else if(r&&"**"===t[n]&&e[i]===t[n+1])s.push(t[n]),n++;else if(r&&"**"===e[i]&&t[n]===e[i+1])s.push(e[i]),i++;else if("*"!==t[n]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i]){if("*"!==e[i]||!t[n]||!this.options.dot&&t[n].startsWith(".")||"**"===t[n])return!1;if("a"===o)return!1;o="b",s.push(e[i]),n++,i++}else{if("b"===o)return!1;o="a",s.push(t[n]),n++,i++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r=!1){const n=this.options;if(this.isWindows){const r="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),n=!r&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),i="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),s=n?3:r?0:void 0,o=!i&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[r,n]=[t[s],e[o]];r.toLowerCase()===n.toLowerCase()&&(e[o]=r,o>s?e=e.slice(o):s>o&&(t=t.slice(s)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,l=e.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var u=e[o],c=t[s];if(this.debug(e,u,c),!1===u)return!1;if(u===RI){this.debug("GLOBSTAR",[e,u,c]);var h=s,f=o+1;if(f===l){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<a;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,f,d),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,a,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,f),h!==a))}let i;if("string"==typeof u?(i=c===u,this.debug("string match",u,c,i)):(i=u.test(c),this.debug("pattern match",u,c,i)),!i)return!1}if(s===a&&o===l)return!0;if(s===a)return r;if(o===l)return s===a-1&&""===t[s];throw new Error("wtf?")}braceExpand(){return CI(this.pattern,this.options)}parse(t){qC(t);const e=this.options;if("**"===t)return RI;if(""===t)return"";let r,n=null;(r=t.match(_I))?n=e.dot?EI:SI:(r=t.match(hI))?n=(e.nocase?e.dot?bI:pI:e.dot?dI:fI)(r[1]):(r=t.match(OI))?n=(e.nocase?e.dot?TI:xI:e.dot?kI:AI)(r):(r=t.match(yI))?n=e.dot?vI:mI:(r=t.match(gI))&&(n=wI);const i=lI.fromGlob(t,this.options).toMMPattern();return n&&"object"==typeof i&&Reflect.defineProperty(i,"test",{value:n}),i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=new Set(e.nocase?["i"]:[]);let i=t.map(t=>{const e=t.map(t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))n.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===RI?RI:t._src});return e.forEach((t,n)=>{const i=e[n+1],s=e[n-1];t===RI&&s!==RI&&(void 0===s?void 0!==i&&i!==RI?e[n+1]="(?:\\/|"+r+"\\/)?"+i:e[n]=r:void 0===i?e[n-1]=s+"(?:\\/|"+r+")?":i!==RI&&(e[n-1]=s+"(?:\\/|\\/"+r+"\\/)"+i,e[n+1]=RI))}),e.filter(t=>t!==RI).join("/")}).join("|");const[s,o]=t.length>1?["(?:",")"]:["",""];i="^"+s+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...n].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const n=this.slashSplit(t);this.debug(this.pattern,"split",n);const i=this.set;this.debug(this.pattern,"set",i);let s=n[n.length-1];if(!s)for(let t=n.length-2;!s&&t>=0;t--)s=n[t];for(let t=0;t<i.length;t++){const o=i[t];let a=n;r.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return cI.defaults(t).Minimatch}}cI.AST=lI,cI.Minimatch=FI,cI.escape=uI,cI.unescape=QC;const NI="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,DI=new Set,BI="object"==typeof process&&process?process:{},zI=(t,e,r,n)=>{"function"==typeof BI.emitWarning?BI.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let WI=globalThis.AbortController,UI=globalThis.AbortSignal;if(void 0===WI){UI=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},WI=class{constructor(){e()}signal=new UI;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==BI.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,zI("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const $I=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),GI=t=>$I(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?HI:null:null;class HI extends Array{constructor(t){super(t),this.fill(0)}}class qI{heap;length;static#b=!1;static create(t){const e=GI(t);if(!e)return[];qI.#b=!0;const r=new qI(t,e);return qI.#b=!1,r}constructor(t,e){if(!qI.#b)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class VI{#y;#m;#v;#de;#g;#w;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#S;#E;#O;#x;#T;#k;#A;#P;#M;#j;#R;#L;#C;#I;#F;#N;#D;#pe;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#I,sizes:t.#L,keyMap:t.#O,keyList:t.#x,valList:t.#T,next:t.#k,prev:t.#A,get head(){return t.#P},get tail(){return t.#M},free:t.#j,isBackgroundFetch:e=>t.#B(e),backgroundFetch:(e,r,n,i)=>t.#z(e,r,n,i),moveToTail:e=>t.#W(e),indexes:e=>t.#U(e),rindexes:e=>t.#$(e),isStale:e=>t.#G(e)}}get max(){return this.#y}get maxSize(){return this.#m}get calculatedSize(){return this.#E}get size(){return this.#S}get fetchMethod(){return this.#w}get memoMethod(){return this.#_}get dispose(){return this.#v}get onInsert(){return this.#de}get disposeAfter(){return this.#g}constructor(t){const{max:e=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:l,onInsert:u,disposeAfter:c,noDisposeOnSet:h,noUpdateTTL:f,maxSize:d=0,maxEntrySize:p=0,sizeCalculation:b,fetchMethod:y,memoMethod:m,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:g,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:_,ignoreFetchAbort:S}=t;if(0!==e&&!$I(e))throw new TypeError("max option must be a nonnegative integer");const E=e?GI(e):Array;if(!E)throw new Error("invalid max value: "+e);if(this.#y=e,this.#m=d,this.maxEntrySize=p||this.#m,this.sizeCalculation=b,this.sizeCalculation){if(!this.#m&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==m&&"function"!=typeof m)throw new TypeError("memoMethod must be a function if defined");if(this.#_=m,void 0!==y&&"function"!=typeof y)throw new TypeError("fetchMethod must be a function if specified");if(this.#w=y,this.#N=!!y,this.#O=new Map,this.#x=new Array(e).fill(void 0),this.#T=new Array(e).fill(void 0),this.#k=new E(e),this.#A=new E(e),this.#P=0,this.#M=0,this.#j=qI.create(e),this.#S=0,this.#E=0,"function"==typeof l&&(this.#v=l),"function"==typeof u&&(this.#de=u),"function"==typeof c?(this.#g=c,this.#R=[]):(this.#g=void 0,this.#R=void 0),this.#F=!!this.#v,this.#pe=!!this.#de,this.#D=!!this.#g,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!S,0!==this.maxEntrySize){if(0!==this.#m&&!$I(this.#m))throw new TypeError("maxSize must be a positive integer if specified");if(!$I(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#H()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!g,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=$I(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!$I(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#q()}if(0===this.#y&&0===this.ttl&&0===this.#m)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#y&&!this.#m){const t="LRU_CACHE_UNBOUNDED";if((t=>!DI.has(t))(t)){DI.add(t);zI("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,VI)}}}getRemainingTTL(t){return this.#O.has(t)?1/0:0}#q(){const t=new HI(this.#y),e=new HI(this.#y);this.#I=t,this.#C=e,this.#V=(r,n,i=NI.now())=>{if(e[r]=0!==n?i:0,t[r]=n,0!==n&&this.ttlAutopurge){const t=setTimeout(()=>{this.#G(r)&&this.#Y(this.#x[r],"expire")},n+1);t.unref&&t.unref()}},this.#Z=r=>{e[r]=0!==t[r]?NI.now():0},this.#K=(i,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;i.ttl=o,i.start=a,i.now=r||n();const l=i.now-a;i.remainingTTL=o-l}};let r=0;const n=()=>{const t=NI.now();if(this.ttlResolution>0){r=t;const e=setTimeout(()=>r=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=i=>{const s=this.#O.get(i);if(void 0===s)return 0;const o=t[s],a=e[s];if(!o||!a)return 1/0;return o-((r||n())-a)},this.#G=i=>{const s=e[i],o=t[i];return!!o&&!!s&&(r||n())-s>o}}#Z=()=>{};#K=()=>{};#V=()=>{};#G=()=>!1;#H(){const t=new HI(this.#y);this.#E=0,this.#L=t,this.#Q=e=>{this.#E-=t[e],t[e]=0},this.#J=(t,e,r,n)=>{if(this.#B(e))return 0;if(!$I(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(e,t),!$I(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#X=(e,r,n)=>{if(t[e]=r,this.#m){const r=this.#m-t[e];for(;this.#E>r;)this.#tt(!0)}this.#E+=t[e],n&&(n.entrySize=r,n.totalCalculatedSize=this.#E)}}#Q=t=>{};#X=(t,e,r)=>{};#J=(t,e,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#U({allowStale:t=this.allowStale}={}){if(this.#S)for(let e=this.#M;this.#et(e)&&(!t&&this.#G(e)||(yield e),e!==this.#P);)e=this.#A[e]}*#$({allowStale:t=this.allowStale}={}){if(this.#S)for(let e=this.#P;this.#et(e)&&(!t&&this.#G(e)||(yield e),e!==this.#M);)e=this.#k[e]}#et(t){return void 0!==t&&this.#O.get(this.#x[t])===t}*entries(){for(const t of this.#U())void 0===this.#T[t]||void 0===this.#x[t]||this.#B(this.#T[t])||(yield[this.#x[t],this.#T[t]])}*rentries(){for(const t of this.#$())void 0===this.#T[t]||void 0===this.#x[t]||this.#B(this.#T[t])||(yield[this.#x[t],this.#T[t]])}*keys(){for(const t of this.#U()){const e=this.#x[t];void 0===e||this.#B(this.#T[t])||(yield e)}}*rkeys(){for(const t of this.#$()){const e=this.#x[t];void 0===e||this.#B(this.#T[t])||(yield e)}}*values(){for(const t of this.#U()){void 0===this.#T[t]||this.#B(this.#T[t])||(yield this.#T[t])}}*rvalues(){for(const t of this.#$()){void 0===this.#T[t]||this.#B(this.#T[t])||(yield this.#T[t])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const r of this.#U()){const n=this.#T[r],i=this.#B(n)?n.__staleWhileFetching:n;if(void 0!==i&&t(i,this.#x[r],this))return this.get(this.#x[r],e)}}forEach(t,e=this){for(const r of this.#U()){const n=this.#T[r],i=this.#B(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#x[r],this)}}rforEach(t,e=this){for(const r of this.#$()){const n=this.#T[r],i=this.#B(n)?n.__staleWhileFetching:n;void 0!==i&&t.call(e,i,this.#x[r],this)}}purgeStale(){let t=!1;for(const e of this.#$({allowStale:!0}))this.#G(e)&&(this.#Y(this.#x[e],"expire"),t=!0);return t}info(t){const e=this.#O.get(t);if(void 0===e)return;const r=this.#T[e],n=this.#B(r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(this.#I&&this.#C){const t=this.#I[e],r=this.#C[e];if(t&&r){const e=t-(NI.now()-r);i.ttl=e,i.start=Date.now()}}return this.#L&&(i.size=this.#L[e]),i}dump(){const t=[];for(const e of this.#U({allowStale:!0})){const r=this.#x[e],n=this.#T[e],i=this.#B(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const s={value:i};if(this.#I&&this.#C){s.ttl=this.#I[e];const t=NI.now()-this.#C[e];s.start=Math.floor(Date.now()-t)}this.#L&&(s.size=this.#L[e]),t.unshift([r,s])}return t}load(t){this.clear();for(const[e,r]of t){if(r.start){const t=Date.now()-r.start;r.start=NI.now()-t}this.set(e,r.value,r)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const u=this.#J(t,e,r.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#Y(t,"set"),this;let c=0===this.#S?void 0:this.#O.get(t);if(void 0===c)c=0===this.#S?this.#M:0!==this.#j.length?this.#j.pop():this.#S===this.#y?this.#tt(!1):this.#S,this.#x[c]=t,this.#T[c]=e,this.#O.set(t,c),this.#k[this.#M]=c,this.#A[c]=this.#M,this.#M=c,this.#S++,this.#X(c,u,a),a&&(a.set="add"),l=!1,this.#pe&&this.#de?.(e,t,"add");else{this.#W(c);const r=this.#T[c];if(e!==r){if(this.#N&&this.#B(r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||s||(this.#F&&this.#v?.(e,t,"set"),this.#D&&this.#R?.push([e,t,"set"]))}else s||(this.#F&&this.#v?.(r,t,"set"),this.#D&&this.#R?.push([r,t,"set"]));if(this.#Q(c),this.#X(c,u,a),this.#T[c]=e,a){a.set="replace";const t=r&&this.#B(r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update");this.#pe&&this.onInsert?.(e,t,e===r?"update":"replace")}if(0===n||this.#I||this.#q(),this.#I&&(l||this.#V(c,n,i),a&&this.#K(a,c)),!s&&this.#D&&this.#R){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}return this}pop(){try{for(;this.#S;){const t=this.#T[this.#P];if(this.#tt(!0),this.#B(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#D&&this.#R){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}}}#tt(t){const e=this.#P,r=this.#x[e],n=this.#T[e];return this.#N&&this.#B(n)?n.__abortController.abort(new Error("evicted")):(this.#F||this.#D)&&(this.#F&&this.#v?.(n,r,"evict"),this.#D&&this.#R?.push([n,r,"evict"])),this.#Q(e),t&&(this.#x[e]=void 0,this.#T[e]=void 0,this.#j.push(e)),1===this.#S?(this.#P=this.#M=0,this.#j.length=0):this.#P=this.#k[e],this.#O.delete(r),this.#S--,e}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=e,i=this.#O.get(t);if(void 0!==i){const t=this.#T[i];if(this.#B(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#G(i))return r&&this.#Z(i),n&&(n.has="hit",this.#K(n,i)),!0;n&&(n.has="stale",this.#K(n,i))}else n&&(n.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,n=this.#O.get(t);if(void 0===n||!r&&this.#G(n))return;const i=this.#T[n];return this.#B(i)?i.__staleWhileFetching:i}#z(t,e,r,n){const i=void 0===e?void 0:this.#T[e];if(this.#B(i))return i;const s=new WI,{signal:o}=r;o?.addEventListener("abort",()=>s.abort(o.reason),{signal:s.signal});const a={signal:s.signal,options:r,context:n},l=(n,i=!1)=>{const{aborted:o}=s.signal,l=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,l&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!l&&!i)return u(s.signal.reason);const h=c;return this.#T[e]===c&&(void 0===n?h.__staleWhileFetching?this.#T[e]=h.__staleWhileFetching:this.#Y(t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,n,a.options))),n},u=n=>{const{aborted:i}=s.signal,o=i&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,u=c;if(this.#T[e]===c){!l||void 0===u.__staleWhileFetching?this.#Y(t,"fetch"):o||(this.#T[e]=u.__staleWhileFetching)}if(a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw n};r.status&&(r.status.fetchDispatched=!0);const c=new Promise((e,n)=>{const o=this.#w?.(t,i,a);o&&o instanceof Promise&&o.then(t=>e(void 0===t?void 0:t),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))})}).then(l,t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),u(t))),h=Object.assign(c,{__abortController:s,__staleWhileFetching:i,__returned:void 0});return void 0===e?(this.set(t,h,{...a.options,status:void 0}),e=this.#O.get(t)):this.#T[e]=h,h}#B(t){if(!this.#N)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof WI}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:p,forceRefresh:b=!1,status:y,signal:m}=e;if(!this.#N)return y&&(y.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});const v={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:f,status:y,signal:m};let g=this.#O.get(t);if(void 0===g){y&&(y.fetch="miss");const e=this.#z(t,g,v,p);return e.__returned=e}{const e=this.#T[g];if(this.#B(e)){const t=r&&void 0!==e.__staleWhileFetching;return y&&(y.fetch="inflight",t&&(y.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const i=this.#G(g);if(!b&&!i)return y&&(y.fetch="hit"),this.#W(g),n&&this.#Z(g),y&&this.#K(y,g),e;const s=this.#z(t,g,v,p),o=void 0!==s.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",o&&i&&(y.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const r=await this.fetch(t,e);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(t,e={}){const r=this.#_;if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:i,...s}=e,o=this.get(t,s);if(!i&&void 0!==o)return o;const a=r(t,o,{options:s,context:n});return this.set(t,a,s),a}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:s}=e,o=this.#O.get(t);if(void 0!==o){const e=this.#T[o],a=this.#B(e);return s&&this.#K(s,o),this.#G(o)?(s&&(s.get="stale"),a?(s&&r&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),r?e.__staleWhileFetching:void 0):(i||this.#Y(t,"expire"),s&&r&&(s.returnedStale=!0),r?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(this.#W(o),n&&this.#Z(o),e))}s&&(s.get="miss")}#rt(t,e){this.#A[e]=t,this.#k[t]=e}#W(t){t!==this.#M&&(t===this.#P?this.#P=this.#k[t]:this.#rt(this.#A[t],this.#k[t]),this.#rt(this.#M,t),this.#M=t)}delete(t){return this.#Y(t,"delete")}#Y(t,e){let r=!1;if(0!==this.#S){const n=this.#O.get(t);if(void 0!==n)if(r=!0,1===this.#S)this.#nt(e);else{this.#Q(n);const r=this.#T[n];if(this.#B(r)?r.__abortController.abort(new Error("deleted")):(this.#F||this.#D)&&(this.#F&&this.#v?.(r,t,e),this.#D&&this.#R?.push([r,t,e])),this.#O.delete(t),this.#x[n]=void 0,this.#T[n]=void 0,n===this.#M)this.#M=this.#A[n];else if(n===this.#P)this.#P=this.#k[n];else{const t=this.#A[n];this.#k[t]=this.#k[n];const e=this.#k[n];this.#A[e]=this.#A[n]}this.#S--,this.#j.push(n)}}if(this.#D&&this.#R?.length){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}return r}clear(){return this.#nt("delete")}#nt(t){for(const e of this.#$({allowStale:!0})){const r=this.#T[e];if(this.#B(r))r.__abortController.abort(new Error("deleted"));else{const n=this.#x[e];this.#F&&this.#v?.(r,n,t),this.#D&&this.#R?.push([r,n,t])}}if(this.#O.clear(),this.#T.fill(void 0),this.#x.fill(void 0),this.#I&&this.#C&&(this.#I.fill(0),this.#C.fill(0)),this.#L&&this.#L.fill(0),this.#P=0,this.#M=0,this.#j.length=0,this.#E=0,this.#S=0,this.#D&&this.#R){const t=this.#R;let e;for(;e=t?.shift();)this.#g?.(...e)}}}const YI="object"==typeof process&&process?process:{stdout:null,stderr:null},ZI=t=>!!t&&"object"==typeof t&&(t instanceof LF||t instanceof y||KI(t)||QI(t)),KI=t=>!!t&&"object"==typeof t&&t instanceof b.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==y.Writable.prototype.pipe,QI=t=>!!t&&"object"==typeof t&&t instanceof b.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end,JI=Symbol("EOF"),XI=Symbol("maybeEmitEnd"),tF=Symbol("emittedEnd"),eF=Symbol("emittingEnd"),rF=Symbol("emittedError"),nF=Symbol("closed"),iF=Symbol("read"),sF=Symbol("flush"),oF=Symbol("flushChunk"),aF=Symbol("encoding"),lF=Symbol("decoder"),uF=Symbol("flowing"),cF=Symbol("paused"),hF=Symbol("resume"),fF=Symbol("buffer"),dF=Symbol("pipes"),pF=Symbol("bufferLength"),bF=Symbol("bufferPush"),yF=Symbol("bufferShift"),mF=Symbol("objectMode"),vF=Symbol("destroyed"),gF=Symbol("error"),wF=Symbol("emitData"),_F=Symbol("emitEnd"),SF=Symbol("emitEnd2"),EF=Symbol("async"),OF=Symbol("abort"),xF=Symbol("aborted"),TF=Symbol("signal"),kF=Symbol("dataListeners"),AF=Symbol("discarded"),PF=t=>Promise.resolve().then(t),MF=t=>t();class jF{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[hF](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class RF extends jF{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class LF extends b.EventEmitter{[uF]=!1;[cF]=!1;[dF]=[];[fF]=[];[mF];[aF];[EF];[lF];[JI]=!1;[tF]=!1;[eF]=!1;[nF]=!1;[rF]=null;[pF]=0;[vF]=!1;[TF];[xF]=!1;[kF]=0;[AF]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");e.objectMode?(this[mF]=!0,this[aF]=null):(t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding)(e)?(this[aF]=e.encoding,this[mF]=!1):(this[mF]=!1,this[aF]=null),this[EF]=!!e.async,this[lF]=this[aF]?new m.StringDecoder(this[aF]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[fF]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[dF]});const{signal:r}=e;r&&(this[TF]=r,r.aborted?this[OF]():r.addEventListener("abort",()=>this[OF]()))}get bufferLength(){return this[pF]}get encoding(){return this[aF]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[mF]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[EF]}set async(t){this[EF]=this[EF]||!!t}[OF](){this[xF]=!0,this.emit("abort",this[TF]?.reason),this.destroy(this[TF]?.reason)}get aborted(){return this[xF]}set aborted(t){}write(t,e,r){if(this[xF])return!1;if(this[JI])throw new Error("write after end");if(this[vF])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const n=this[EF]?PF:MF;if(!this[mF]&&!Buffer.isBuffer(t))if(i=t,!Buffer.isBuffer(i)&&ArrayBuffer.isView(i))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var i;return this[mF]?(this[uF]&&0!==this[pF]&&this[sF](!0),this[uF]?this.emit("data",t):this[bF](t),0!==this[pF]&&this.emit("readable"),r&&n(r),this[uF]):t.length?("string"!=typeof t||e===this[aF]&&!this[lF]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[aF]&&(t=this[lF].write(t)),this[uF]&&0!==this[pF]&&this[sF](!0),this[uF]?this.emit("data",t):this[bF](t),0!==this[pF]&&this.emit("readable"),r&&n(r),this[uF]):(0!==this[pF]&&this.emit("readable"),r&&n(r),this[uF])}read(t){if(this[vF])return null;if(this[AF]=!1,0===this[pF]||0===t||t&&t>this[pF])return this[XI](),null;this[mF]&&(t=null),this[fF].length>1&&!this[mF]&&(this[fF]=[this[aF]?this[fF].join(""):Buffer.concat(this[fF],this[pF])]);const e=this[iF](t||null,this[fF][0]);return this[XI](),e}[iF](t,e){if(this[mF])this[yF]();else{const r=e;t===r.length||null===t?this[yF]():"string"==typeof r?(this[fF][0]=r.slice(t),e=r.slice(0,t),this[pF]-=t):(this[fF][0]=r.subarray(t),e=r.subarray(0,t),this[pF]-=t)}return this.emit("data",e),this[fF].length||this[JI]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[JI]=!0,this.writable=!1,!this[uF]&&this[cF]||this[XI](),this}[hF](){this[vF]||(this[kF]||this[dF].length||(this[AF]=!0),this[cF]=!1,this[uF]=!0,this.emit("resume"),this[fF].length?this[sF]():this[JI]?this[XI]():this.emit("drain"))}resume(){return this[hF]()}pause(){this[uF]=!1,this[cF]=!0,this[AF]=!1}get destroyed(){return this[vF]}get flowing(){return this[uF]}get paused(){return this[cF]}[bF](t){this[mF]?this[pF]+=1:this[pF]+=t.length,this[fF].push(t)}[yF](){return this[mF]?this[pF]-=1:this[pF]-=this[fF][0].length,this[fF].shift()}[sF](t=!1){do{}while(this[oF](this[yF]())&&this[fF].length);t||this[fF].length||this[JI]||this.emit("drain")}[oF](t){return this.emit("data",t),this[uF]}pipe(t,e){if(this[vF])return t;this[AF]=!1;const r=this[tF];return e=e||{},t===YI.stdout||t===YI.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[dF].push(e.proxyErrors?new RF(this,t,e):new jF(this,t,e)),this[EF]?PF(()=>this[hF]()):this[hF]()),t}unpipe(t){const e=this[dF].find(e=>e.dest===t);e&&(1===this[dF].length?(this[uF]&&0===this[kF]&&(this[uF]=!1),this[dF]=[]):this[dF].splice(this[dF].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[AF]=!1,this[kF]++,this[dF].length||this[uF]||this[hF]();else if("readable"===t&&0!==this[pF])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[tF])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[rF]){const t=e;this[EF]?PF(()=>t.call(this,this[rF])):t.call(this,this[rF])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[kF]=this.listeners("data").length,0!==this[kF]||this[AF]||this[dF].length||(this[uF]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[kF]=0,this[AF]||this[dF].length||(this[uF]=!1)),e}get emittedEnd(){return this[tF]}[XI](){this[eF]||this[tF]||this[vF]||0!==this[fF].length||!this[JI]||(this[eF]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[nF]&&this.emit("close"),this[eF]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==vF&&this[vF])return!1;if("data"===t)return!(!this[mF]&&!r)&&(this[EF]?(PF(()=>this[wF](r)),!0):this[wF](r));if("end"===t)return this[_F]();if("close"===t){if(this[nF]=!0,!this[tF]&&!this[vF])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[rF]=r,super.emit(gF,r);const t=!(this[TF]&&!this.listeners("error").length)&&super.emit("error",r);return this[XI](),t}if("resume"===t){const t=super.emit("resume");return this[XI](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const n=super.emit(t,...e);return this[XI](),n}[wF](t){for(const e of this[dF])!1===e.dest.write(t)&&this.pause();const e=!this[AF]&&super.emit("data",t);return this[XI](),e}[_F](){return!this[tF]&&(this[tF]=!0,this.readable=!1,this[EF]?(PF(()=>this[SF]()),!0):this[SF]())}[SF](){if(this[lF]){const t=this[lF].end();if(t){for(const e of this[dF])e.dest.write(t);this[AF]||super.emit("data",t)}}for(const t of this[dF])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[mF]||(t.dataLength=0);const e=this.promise();return this.on("data",e=>{t.push(e),this[mF]||(t.dataLength+=e.length)}),await e,t}async concat(){if(this[mF])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[aF]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(vF,()=>e(new Error("stream destroyed"))),this.on("error",t=>e(t)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[AF]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[JI])return e();let n,i;const s=t=>{this.off("data",o),this.off("end",a),this.off(vF,l),e(),i(t)},o=t=>{this.off("error",s),this.off("end",a),this.off(vF,l),this.pause(),n({value:t,done:!!this[JI]})},a=()=>{this.off("error",s),this.off("data",o),this.off(vF,l),e(),n({done:!0,value:void 0})},l=()=>s(new Error("stream destroyed"));return new Promise((t,e)=>{i=e,n=t,this.once(vF,l),this.once("error",s),this.once("end",a),this.once("data",o)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[AF]=!1;let t=!1;const e=()=>(this.pause(),this.off(gF,e),this.off(vF,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(gF,e),this.once(vF,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[vF])return t?this.emit("error",t):this.emit(vF),this;this[vF]=!0,this[AF]=!0,this[fF].length=0,this[pF]=0;return"function"!=typeof this.close||this[nF]||this.close(),t?this.emit("error",t):this.emit(vF),this}static get isStream(){return ZI}}const CF=n.realpathSync.native,IF={lstatSync:n.lstatSync,readdir:n.readdir,readdirSync:n.readdirSync,readlinkSync:n.readlinkSync,realpathSync:CF,promises:{lstat:p.lstat,readdir:p.readdir,readlink:p.readlink,realpath:p.realpath}},FF=t=>t&&t!==IF&&t!==E?{...IF,...t,promises:{...IF.promises,...t.promises||{}}}:IF,NF=/^\\\\\?\\([a-z]:)\\?$/i,DF=/[\\\/]/,BF=10,zF=15,WF=-16,UF=128,$F=256,GF=512,HF=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?BF:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,qF=new Map,VF=t=>{const e=qF.get(t);if(e)return e;const r=t.normalize("NFKD");return qF.set(t,r),r},YF=new Map,ZF=t=>{const e=YF.get(t);if(e)return e;const r=VF(t.toLowerCase());return YF.set(t,r),r};class KF extends VI{constructor(){super({max:256})}}class QF extends VI{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}const JF=Symbol("PathScurry setAsCwd");class XF{name;root;roots;parent;nocase;isCWD=!1;#it;#st;get dev(){return this.#st}#ot;get mode(){return this.#ot}#at;get nlink(){return this.#at}#lt;get uid(){return this.#lt}#ut;get gid(){return this.#ut}#ct;get rdev(){return this.#ct}#ht;get blksize(){return this.#ht}#ft;get ino(){return this.#ft}#S;get size(){return this.#S}#dt;get blocks(){return this.#dt}#pt;get atimeMs(){return this.#pt}#bt;get mtimeMs(){return this.#bt}#yt;get ctimeMs(){return this.#yt}#mt;get birthtimeMs(){return this.#mt}#vt;get atime(){return this.#vt}#gt;get mtime(){return this.#gt}#wt;get ctime(){return this.#wt}#_t;get birthtime(){return this.#_t}#St;#Et;#Ot;#xt;#Tt;#kt;#At;#Pt;#Mt;#jt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,r,n,i,s,o){this.name=t,this.#St=i?ZF(t):VF(t),this.#At=1023&e,this.nocase=i,this.roots=n,this.root=r||this,this.#Pt=s,this.#Ot=o.fullpath,this.#Tt=o.relative,this.#kt=o.relativePosix,this.parent=o.parent,this.parent?this.#it=this.parent.#it:this.#it=FF(o.fs)}depth(){return void 0!==this.#Et?this.#Et:this.parent?this.#Et=this.parent.depth()+1:this.#Et=0}childrenCache(){return this.#Pt}resolve(t){if(!t)return this;const e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#Rt(r):this.#Rt(r)}#Rt(t){let e=this;for(const r of t)e=e.child(r);return e}children(){const t=this.#Pt.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#Pt.set(this,e),this.#At&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),n=this.nocase?ZF(t):VF(t);for(const t of r)if(t.#St===n)return t;const i=this.parent?this.sep:"",s=this.#Ot?this.#Ot+i+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:s});return this.canReaddir()||(o.#At|=UF),r.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Tt)return this.#Tt;const t=this.name,e=this.parent;if(!e)return this.#Tt=this.name;const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#kt)return this.#kt;const t=this.name,e=this.parent;if(!e)return this.#kt=this.fullpathPosix();const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#Ot)return this.#Ot;const t=this.name,e=this.parent;if(!e)return this.#Ot=this.name;const r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#Ot=r}fullpathPosix(){if(void 0!==this.#xt)return this.#xt;if("/"===this.sep)return this.#xt=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#xt=`//?/${t}`:this.#xt=t}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return this.#xt=r}isUnknown(){return 0===(this.#At&zF)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8===(this.#At&zF)}isDirectory(){return 4===(this.#At&zF)}isCharacterDevice(){return 2===(this.#At&zF)}isBlockDevice(){return 6===(this.#At&zF)}isFIFO(){return 1===(this.#At&zF)}isSocket(){return 12===(this.#At&zF)}isSymbolicLink(){return(this.#At&BF)===BF}lstatCached(){return 32&this.#At?this:void 0}readlinkCached(){return this.#Mt}realpathCached(){return this.#jt}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#Mt)return!0;if(!this.parent)return!1;const t=this.#At&zF;return!(0!==t&&t!==BF||this.#At&$F||this.#At&UF)}calledReaddir(){return!!(16&this.#At)}isENOENT(){return!!(this.#At&UF)}isNamed(t){return this.nocase?this.#St===ZF(t):this.#St===VF(t)}async readlink(){const t=this.#Mt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#it.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#Mt=e}catch(t){return void this.#Lt(t.code)}}readlinkSync(){const t=this.#Mt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#it.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#Mt=e}catch(t){return void this.#Lt(t.code)}}#Ct(t){this.#At|=16;for(let e=t.provisional;e<t.length;e++){const r=t[e];r&&r.#It()}}#It(){this.#At&UF||(this.#At=(this.#At|UF)&WF,this.#Ft())}#Ft(){const t=this.children();t.provisional=0;for(const e of t)e.#It()}#Nt(){this.#At|=GF,this.#Dt()}#Dt(){if(64&this.#At)return;let t=this.#At;4===(t&zF)&&(t&=WF),this.#At=64|t,this.#Ft()}#Bt(t=""){"ENOTDIR"===t||"EPERM"===t?this.#Dt():"ENOENT"===t?this.#It():this.children().provisional=0}#zt(t=""){if("ENOTDIR"===t){this.parent.#Dt()}else"ENOENT"===t&&this.#It()}#Lt(t=""){let e=this.#At;e|=$F,"ENOENT"===t&&(e|=UF),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=WF),this.#At=e,"ENOTDIR"===t&&this.parent&&this.parent.#Dt()}#Wt(t,e){return this.#Ut(t,e)||this.#$t(t,e)}#$t(t,e){const r=HF(t),n=this.newChild(t.name,r,{parent:this}),i=n.#At&zF;return 4!==i&&i!==BF&&0!==i&&(n.#At|=64),e.unshift(n),e.provisional++,n}#Ut(t,e){for(let r=e.provisional;r<e.length;r++){const n=e[r];if((this.nocase?ZF(t.name):VF(t.name))===n.#St)return this.#Gt(t,n,r,e)}}#Gt(t,e,r,n){const i=e.name;return e.#At=e.#At&WF|HF(t),i!==t.name&&(e.name=t.name),r!==n.provisional&&(r===n.length-1?n.pop():n.splice(r,1),n.unshift(e)),n.provisional++,e}async lstat(){if(0===(this.#At&UF))try{return this.#Ht(await this.#it.promises.lstat(this.fullpath())),this}catch(t){this.#zt(t.code)}}lstatSync(){if(0===(this.#At&UF))try{return this.#Ht(this.#it.lstatSync(this.fullpath())),this}catch(t){this.#zt(t.code)}}#Ht(t){const{atime:e,atimeMs:r,birthtime:n,birthtimeMs:i,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:u,gid:c,ino:h,mode:f,mtime:d,mtimeMs:p,nlink:b,rdev:y,size:m,uid:v}=t;this.#vt=e,this.#pt=r,this.#_t=n,this.#mt=i,this.#ht=s,this.#dt=o,this.#wt=a,this.#yt=l,this.#st=u,this.#ut=c,this.#ft=h,this.#ot=f,this.#gt=d,this.#bt=p,this.#at=b,this.#ct=y,this.#S=m,this.#lt=v;const g=HF(t);this.#At=this.#At&WF|g|32,0!==g&&4!==g&&g!==BF&&(this.#At|=64)}#qt=[];#Vt=!1;#Yt(t){this.#Vt=!1;const e=this.#qt.slice();this.#qt.length=0,e.forEach(e=>e(null,t))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask(()=>t(null,[])));const r=this.children();if(this.calledReaddir()){const n=r.slice(0,r.provisional);return void(e?t(null,n):queueMicrotask(()=>t(null,n)))}if(this.#qt.push(t),this.#Vt)return;this.#Vt=!0;const n=this.fullpath();this.#it.readdir(n,{withFileTypes:!0},(t,e)=>{if(t)this.#Bt(t.code),r.provisional=0;else{for(const t of e)this.#Wt(t,r);this.#Ct(r)}this.#Yt(r.slice(0,r.provisional))})}#Zt;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#Zt)await this.#Zt;else{let r=()=>{};this.#Zt=new Promise(t=>r=t);try{for(const r of await this.#it.promises.readdir(e,{withFileTypes:!0}))this.#Wt(r,t);this.#Ct(t)}catch(e){this.#Bt(e.code),t.provisional=0}this.#Zt=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of this.#it.readdirSync(e,{withFileTypes:!0}))this.#Wt(r,t);this.#Ct(t)}catch(e){this.#Bt(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#At)return!1;const t=zF&this.#At;return 0===t||4===t||t===BF}shouldWalk(t,e){return!(4&~this.#At)&&!(704&this.#At)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#jt)return this.#jt;if(!(896&this.#At))try{const t=await this.#it.promises.realpath(this.fullpath());return this.#jt=this.resolve(t)}catch(t){this.#Nt()}}realpathSync(){if(this.#jt)return this.#jt;if(!(896&this.#At))try{const t=this.#it.realpathSync(this.fullpath());return this.#jt=this.resolve(t)}catch(t){this.#Nt()}}[JF](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let r=[],n=this;for(;n&&n.parent;)e.add(n),n.#Tt=r.join(this.sep),n.#kt=r.join("/"),n=n.parent,r.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#Tt=void 0,n.#kt=void 0,n=n.parent}}class tN extends XF{sep="\\";splitSep=DF;constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}newChild(t,e=0,r={}){return new tN(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return f.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(NF,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new nN(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(NF,"$1\\"))===e}}class eN extends XF{splitSep="/";sep="/";constructor(t,e=0,r,n,i,s,o){super(t,e,r,n,i,s,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,r={}){return new eN(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}}class rN{root;rootPath;roots;cwd;#Kt;#Qt;#Pt;nocase;#it;constructor(t=process.cwd(),e,r,{nocase:n,childrenCacheSize:i=16384,fs:s=IF}={}){this.#it=FF(s),(t instanceof URL||t.startsWith("file://"))&&(t=h.fileURLToPath(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#Kt=new KF,this.#Qt=new KF,this.#Pt=new QF(i);const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===n)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#it),this.roots[this.rootPath]=this.root;let l=this.root,u=a.length-1;const c=e.sep;let f=this.rootPath,d=!1;for(const t of a){const e=u--;l=l.child(t,{relative:new Array(e).fill("..").join(c),relativePosix:new Array(e).fill("..").join("/"),fullpath:f+=(d?"":c)+t}),d=!0}this.cwd=l}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#Pt}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#Kt.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpath();return this.#Kt.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const n=t[r];if(n&&"."!==n&&(e=e?`${n}/${e}`:n,this.isAbsolute(n)))break}const r=this.#Qt.get(e);if(void 0!==r)return r;const n=this.cwd.resolve(e).fullpathPosix();return this.#Qt.set(e,n),n}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map(t=>t.name)}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map(t=>t.name):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB((t,u)=>{if(t)return e(t);let c=u.length;if(!c)return e();const h=()=>{0===--c&&e()};for(const t of u)i&&!i(t)||o.push(r?t:t.fullpath()),n&&t.isSymbolicLink()?t.realpath().then(t=>t?.isUnknown()?t.lstat():t).then(t=>t?.shouldWalk(a,s)?l(t,h):h()):t.shouldWalk(a,s)?l(t,h):h()},!0)},u=t;return new Promise((t,e)=>{l(u,r=>{if(r)return e(r);t(o)})})}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=[];i&&!i(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){i&&!i(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e;i&&!i(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){i&&!i(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new LF({objectMode:!0});i&&!i(t)||o.write(r?t:t.fullpath());const a=new Set,l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const h=(e,d,p=!1)=>{if(e)return o.emit("error",e);if(n&&!p){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then(t=>t?.isUnknown()?t.lstat():t));if(t.length)return void Promise.all(t).then(()=>h(null,d,!0))}for(const e of d)!e||i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",c):f||c()};let f=!0;e.readdirCB(h,!0),f=!1}};return c(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof XF||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:i,walkFilter:s}=e,o=new LF({objectMode:!0}),a=new Set;i&&!i(t)||o.write(r?t:t.fullpath());const l=[t];let u=0;const c=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const c=e.readdirSync();for(const e of c)i&&!i(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of c){let e=t;if(t.isSymbolicLink()){if(!n||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",c)};return c(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[JF](e)}}class nN extends rN{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,f.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return f.win32.parse(t).root.toUpperCase()}newRoot(t){return new tN(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}class iN extends rN{sep="/";constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,f.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new eN(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}class sN extends iN{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}}process.platform;const oN="win32"===process.platform?nN:"darwin"===process.platform?sN:iN;class aN{#Jt;#Xt;#te;length;#ee;#re;#ne;#ie;#se;#oe;#ae=!0;constructor(t,e,r,n){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#Jt=t,this.#Xt=e,this.#te=r,this.#ee=n,0===this.#te)if(this.isUNC()){const[t,e,r,n,...i]=this.#Jt,[s,o,a,l,...u]=this.#Xt;""===i[0]&&(i.shift(),u.shift());const c=[t,e,r,n,""].join("/"),h=[s,o,a,l,""].join("/");this.#Jt=[c,...i],this.#Xt=[h,...u],this.length=this.#Jt.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#Jt,[r,...n]=this.#Xt;""===e[0]&&(e.shift(),n.shift());const i=t+"/",s=r+"/";this.#Jt=[i,...e],this.#Xt=[s,...n],this.length=this.#Jt.length}}pattern(){return this.#Jt[this.#te]}isString(){return"string"==typeof this.#Jt[this.#te]}isGlobstar(){return this.#Jt[this.#te]===RI}isRegExp(){return this.#Jt[this.#te]instanceof RegExp}globString(){return this.#ne=this.#ne||(0===this.#te?this.isAbsolute()?this.#Xt[0]+this.#Xt.slice(1).join("/"):this.#Xt.join("/"):this.#Xt.slice(this.#te).join("/"))}hasMore(){return this.length>this.#te+1}rest(){return void 0!==this.#re?this.#re:this.hasMore()?(this.#re=new aN(this.#Jt,this.#Xt,this.#te+1,this.#ee),this.#re.#oe=this.#oe,this.#re.#se=this.#se,this.#re.#ie=this.#ie,this.#re):this.#re=null}isUNC(){const t=this.#Jt;return void 0!==this.#se?this.#se:this.#se="win32"===this.#ee&&0===this.#te&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#Jt;return void 0!==this.#ie?this.#ie:this.#ie="win32"===this.#ee&&0===this.#te&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#Jt;return void 0!==this.#oe?this.#oe:this.#oe=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#Jt[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#te?t:""}checkFollowGlobstar(){return!(0===this.#te||!this.isGlobstar()||!this.#ae)}markFollowGlobstar(){return!(0===this.#te||!this.isGlobstar()||!this.#ae)&&(this.#ae=!1,!0)}}const lN="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class uN{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:r,noext:n,noglobstar:i,platform:s=lN}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=s,this.mmopts={dot:!0,nobrace:e,nocase:r,noext:n,noglobstar:i,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new FI(t,this.mmopts);for(let t=0;t<e.set.length;t++){const r=e.set[t],n=e.globParts[t];if(!r||!n)throw new Error("invalid pattern object");for(;"."===r[0]&&"."===n[0];)r.shift(),n.shift();const i=new aN(r,n,0,this.platform),s=new FI(i.globString(),this.mmopts),o="**"===n[n.length-1],a=i.isAbsolute();a?this.absolute.push(s):this.relative.push(s),o&&(a?this.absoluteChildren.push(s):this.relativeChildren.push(s))}}ignored(t){const e=t.fullpath(),r=`${e}/`,n=t.relative()||".",i=`${n}/`;for(const t of this.relative)if(t.match(n)||t.match(i))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}}class cN{store;constructor(t=new Map){this.store=t}copy(){return new cN(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),n=this.store.get(r);n?n.add(e.globString()):this.store.set(r,new Set([e.globString()]))}}class hN{store=new Map;add(t,e,r){const n=(e?2:0)|(r?1:0),i=this.store.get(t);this.store.set(t,void 0===i?n:n&i)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(2&e),!!(1&e)])}}class fN{store=new Map;add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find(t=>t.globString()===e.globString())||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}class dN{hasWalkedCache;matches=new hN;subwalks=new fN;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new cN}processPatterns(t,e){this.patterns=e;const r=e.map(e=>[t,e]);for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),n=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const n=e.rest();if(!n){this.matches.add(t,!0,!1);continue}e=n}if(t.isENOENT())continue;let i,s,o=!1;for(;"string"==typeof(i=e.pattern())&&(s=e.rest());){const r=t.resolve(i);t=r,e=s,o=!0}if(i=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"==typeof i){const e=".."===i||""===i||"."===i;this.matches.add(t.resolve(i),n,e);continue}if(i===RI){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=s?.pattern(),i=s?.rest();if(s&&(""!==r&&"."!==r||i)){if(".."===r){const e=t.parent||t;i?this.hasWalkedCache.hasWalked(e,i)||this.subwalks.add(e,i):this.matches.add(e,n,!0)}}else this.matches.add(t,n,""===r||"."===r)}else i instanceof RegExp&&this.subwalks.add(t,e)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new dN(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),n=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),i=e.pattern(),s=e.rest();i===RI?n.testGlobstar(t,e,s,r):i instanceof RegExp?n.testRegExp(t,i,s,r):n.testString(t,i,s,r)}return n}testGlobstar(t,e,r,n){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),n);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),n)}}testRegExp(t,e,r,n){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}testString(t,e,r,n){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,n,!1))}}class pN{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#le=[];#ue;#ce;signal;maxDepth;includeChildMatches;constructor(t,e,r){if(this.patterns=t,this.path=e,this.opts=r,this.#ce=r.posix||"win32"!==r.platform?"/":"\\",this.includeChildMatches=!1!==r.includeChildMatches,(r.ignore||!this.includeChildMatches)&&(this.#ue=((t,e)=>"string"==typeof t?new uN([t],e):Array.isArray(t)?new uN(t,e):t)(r.ignore??[],r),!this.includeChildMatches&&"function"!=typeof this.#ue.add)){throw new Error("cannot ignore child matches, ignore lacks add() method.")}this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",()=>{this.#le.length=0}))}#he(t){return this.seen.has(t)||!!this.#ue?.ignored?.(t)}#fe(t){return!!this.#ue?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#le.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#le.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=await n.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(n,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#he(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const n=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){const t=n.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(n,e)}matchFinish(t,e){if(this.#he(t))return;if(!this.includeChildMatches&&this.#ue?.add){const e=`${t.relativePosix()}/**`;this.#ue.add(e)}const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const n=this.opts.mark&&t.isDirectory()?this.#ce:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+n)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+this.#ce)?"."+this.#ce:"";this.matchEmit(e?r+e+n:"."+n)}}async match(t,e,r){const n=await this.matchCheck(t,r);n&&this.matchFinish(n,e)}matchSync(t,e,r){const n=this.matchCheckSync(t,r);n&&this.matchFinish(n,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new dN(this.opts),r)}walkCB2(t,e,r,n){if(this.#fe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||(i++,this.match(t,e,n).then(()=>s()));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,s):t.readdirCB((e,n)=>this.walkCB3(t,n,r,s),!0)}s()}walkCB3(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||(i++,this.match(t,e,n).then(()=>s()));for(const[t,e]of r.subwalks.entries())i++,this.walkCB2(t,e,r.child(),s);s()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new dN(this.opts),r)}walkCB2Sync(t,e,r,n){if(this.#fe(t))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume(()=>this.walkCB2Sync(t,e,r,n));r.processPatterns(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||this.matchSync(t,e,n);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;i++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,s)}s()}walkCB3Sync(t,e,r,n){r=r.filterEntries(t,e);let i=1;const s=()=>{0===--i&&n()};for(const[t,e,n]of r.matches.entries())this.#he(t)||this.matchSync(t,e,n);for(const[t,e]of r.subwalks.entries())i++,this.walkCB2Sync(t,e,r.child(),s);s()}}class bN extends pN{matches=new Set;constructor(t,e,r){super(t,e,r)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}class yN extends pN{results;constructor(t,e,r){super(t,e,r),this.results=new LF({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}const mN="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class vN{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=h.fileURLToPath(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map(t=>t.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(t=>t.includes("/")?t:`./**/${t}`)}if(this.pattern=t,this.platform=e.platform||mN,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?nN:"darwin"===e.platform?sN:e.platform?iN:oN;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},i=this.pattern.map(t=>new FI(t,n)),[s,o]=i.reduce((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t),[[],[]]);this.patterns=s.map((t,e)=>{const r=o[e];if(!r)throw new Error("invalid pattern object");return new aN(t,r,0,this.platform)})}async walk(){return[...await new bN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new bN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new yN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new yN(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}function gN(t,e={}){return new vN(t,e).streamSync()}function wN(t,e={}){return new vN(t,e).stream()}function _N(t,e={}){return new vN(t,e).walkSync()}async function SN(t,e={}){return new vN(t,e).walk()}function EN(t,e={}){return new vN(t,e).iterateSync()}function ON(t,e={}){return new vN(t,e).iterate()}const xN=gN,TN=Object.assign(wN,{sync:gN}),kN=EN,AN=Object.assign(ON,{sync:EN}),PN=Object.assign(_N,{stream:gN,iterate:EN}),MN=Object.assign(SN,{glob:SN,globSync:_N,sync:PN,globStream:wN,stream:TN,globStreamSync:gN,streamSync:xN,globIterate:ON,iterate:AN,globIterateSync:EN,iterateSync:kN,Glob:vN,hasMagic:(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new FI(r,e).hasMagic())return!0;return!1},escape:uI,unescape:QC});var jN;MN.glob=MN,function(t){t[t.uncompressed=0]="uncompressed",t[t.medium=5]="medium",t[t.high=9]="high"}(jN||(jN={}));class RN{static async tar(t,e,r){const n=r||{compression:jN.high};n.compression===jN.uncompressed?await RN.compress({src:t,targetFilePath:e,format:"tar",zipAFolderOptions:r}):await RN.compress({src:t,targetFilePath:e,format:"tar",zipAFolderOptions:r,archiverOptions:{gzip:!0,gzipOptions:{level:n.compression}}})}static async zip(t,e,r){const n=r||{compression:jN.high};n.compression===jN.uncompressed?await RN.compress({src:t,targetFilePath:e,format:"zip",zipAFolderOptions:r,archiverOptions:{store:!0}}):await RN.compress({src:t,targetFilePath:e,format:"zip",zipAFolderOptions:r,archiverOptions:{zlib:{level:n.compression}}})}static async compress({src:t,targetFilePath:e,format:r,zipAFolderOptions:s,archiverOptions:o}){let a;const l=[];if(!s?.customWriteStream&&e){const r=i.dirname(e);if(r===t)throw new Error("Source and target folder must be different.");try{vC(t)||await g.access(t,g.constants.R_OK),await g.access(r,g.constants.R_OK|g.constants.W_OK)}catch(t){throw new Error(`Permission error: ${t.message}`)}if(vC(t)){for(const e of t.split(","))l.push(...await MN(e.trim()));if(0===l.length)throw new Error(`No glob match found for "${t}".`)}a=n.createWriteStream(e)}else{if(!s||!s.customWriteStream)throw new Error("You must either provide a target file path or a custom write stream to write to.");a=s.customWriteStream}const u=dC(r,o||{});return new Promise(async(e,r)=>{if(a.on("close",e),a.on("error",r),u.pipe(a),vC(t)){for(const t of l)if((await g.lstat(t)).isFile()){const e=await g.readFile(t);u.append(e,{name:t})}}else u.directory(t,s?.destPath||!1);await u.finalize()})}}const LN=RN.zip;const CN=(t,e,r,s)=>new It.Observable(o=>{e.sftp((e,a)=>tm(void 0,void 0,void 0,function*(){if(e)throw e;const l=`${t.project}-5p2O5qKT6JCM.zip`,u=`${t.serverDir}/${l}`,c=`unzip ${u} -d ${t.serverDir}/${t.project}`,h=a.createWriteStream(u),f=i.resolve(process.cwd(),"dist.zip");h.on("close",()=>{o.next({command:c,del:`rm -r ${u}`}),o.complete(),n.rmSync(f)}),h.on("end",()=>{o.next({command:c,del:`rm -r ${u}`}),o.complete(),n.rmSync(f)}),yield function(t,e,r){return LN(i.join(t,e),r)}(r,s,f);n.createReadStream(f).pipe(h)}))}),IN=(t,e)=>new It.Observable(r=>{t.exec(e,(t,e)=>{if(t)throw t;let n="";e.on("data",t=>{n=t.toString()}),e.on("close",()=>{r.next(n),r.complete(),e.destroy()})})}),FN=new Set(Object.keys(Xy));["serverDir","host","port","username","project","dist"].some(t=>{if(!FN.has(t))throw new Error("配置文件缺少"+t)}),["privateKey","password"].every(t=>{if(!FN.has(t))throw new Error("密码或私钥缺少"+t)});let NN=null,DN="echo no file delete";(t=>(t=>new It.Observable(e=>{const r=new w.Client;if(t.forward){const n=new w.Client;n.on("ready",()=>{n.forwardOut("127.0.0.1",8797,t.host,t.port,(i,s)=>{if(i)return console.log("FIRST :: exec error: "+i),n.end();r.on("ready",()=>{e.next(r)}).on("close",()=>{e.complete()}).connect(Object.assign({sock:s,host:t.host,port:t.port,username:t.username},"password"in t?{password:t.password}:{privateKey:t.privateKey}))})}).connect(t.forward)}else r.on("ready",()=>{e.next(r)}).on("close",()=>{e.complete()}).connect(Object.assign({host:t.host,port:t.port,username:t.username},"password"in t?{password:t.password}:{privateKey:t.privateKey}))}))(t).pipe(It.tap(t=>{NN=t}),It.concatMap(e=>IN(e,`ls ${t.serverDir}`).pipe(It.map(t=>t.split("\n")))),It.map(e=>{const r=new RegExp(`${t.project}.bak.([0-9]{13})`),n=e.filter(e=>0===e.indexOf(t.project+".bak")).map(t=>{const e=t.match(r);return{filename:t,date:e?Ct(Number(e[1])).format("YYYY-MM-DD HH:mm:ss"):""}}).sort((t,e)=>Number(t.date<e.date));if(console.log(Q.green(`共存在${n.length}份备份;`)),t.timeout){const e=t.timeout,i=n.filter(({date:t})=>Ct().subtract(e,"day").isAfter(t)).map(({filename:t})=>t.match(r)[1]);DN=`rm -r ${t.serverDir}/${t.project}.bak.{${i.join(",")}}`,console.log(Q.green(`共需要删除${i.length}份备份`))}if(n.length>0){const t=new et.Table({columns:[{name:"index",alignment:"right",color:"green"},{name:"filename",color:"green"},{name:"date",color:"green"}]});t.addRows(n.map((t,e)=>({index:e+1,filename:t.filename,date:t.date}))),t.printTable()}let i=`mv -v ${t.serverDir}/${t.project} ${t.serverDir}/${t.project}.bak.${Date.now()}`;return e.includes(t.project)||(i='echo "success"'),i}),It.concatMap(t=>IN(NN,t)),It.concatMap(()=>CN(t,NN,process.cwd(),t.dist)),It.concatMap(t=>IN(NN,t.command).pipe(It.map(e=>t))),It.map(t=>t.del),It.concatMap(t=>IN(NN,t)),It.concatMap(()=>IN(NN,DN))))(Xy).subscribe(t=>{console.log(Q.green("上传成功")),NN&&NN.end()});
