(()=>{var __webpack_modules__={26335:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});var i=n(54343);class AbortSignal extends i.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=s.get(this);if(typeof e!=="boolean"){throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`)}return e}}i.defineEventAttribute(AbortSignal.prototype,"abort");function createAbortSignal(){const e=Object.create(AbortSignal.prototype);i.EventTarget.call(e);s.set(e,false);return e}function abortSignal(e){if(s.get(e)!==false){return}s.set(e,true);e.dispatchEvent({type:"abort"})}const s=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:true}});if(typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol"){Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:true,value:"AbortSignal"})}class AbortController{constructor(){o.set(this,createAbortSignal())}get signal(){return getSignal(this)}abort(){abortSignal(getSignal(this))}}const o=new WeakMap;function getSignal(e){const r=o.get(e);if(r==null){throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${e===null?"null":typeof e}`)}return r}Object.defineProperties(AbortController.prototype,{signal:{enumerable:true},abort:{enumerable:true}});if(typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol"){Object.defineProperty(AbortController.prototype,Symbol.toStringTag,{configurable:true,value:"AbortController"})}r.AbortController=AbortController;r.AbortSignal=AbortSignal;r["default"]=AbortController;e.exports=AbortController;e.exports.AbortController=e.exports["default"]=AbortController;e.exports.AbortSignal=AbortSignal},70081:(e,r,n)=>{var i=n(17551);var s=n(16928);var o=n(43281);var u=n(9176);var f=n(13124);var p=n(18600);var g=n(13210);var b=e.exports={};var v=/[\/\\]/g;var processPatterns=function(e,r){var n=[];o(e).forEach((function(e){var i=e.indexOf("!")===0;if(i){e=e.slice(1)}var s=r(e);if(i){n=u(n,s)}else{n=f(n,s)}}));return n};b.exists=function(){var e=s.join.apply(s,arguments);return i.existsSync(e)};b.expand=function(...e){var r=p(e[0])?e.shift():{};var n=Array.isArray(e[0])?e[0]:e;if(n.length===0){return[]}var o=processPatterns(n,(function(e){return g.sync(e,r)}));if(r.filter){o=o.filter((function(e){e=s.join(r.cwd||"",e);try{if(typeof r.filter==="function"){return r.filter(e)}else{return i.statSync(e)[r.filter]()}}catch(e){return false}}))}return o};b.expandMapping=function(e,r,n){n=Object.assign({rename:function(e,r){return s.join(e||"",r)}},n);var i=[];var o={};b.expand(n,e).forEach((function(e){var u=e;if(n.flatten){u=s.basename(u)}if(n.ext){u=u.replace(/(\.[^\/]*)?$/,n.ext)}var f=n.rename(r,u,n);if(n.cwd){e=s.join(n.cwd,e)}f=f.replace(v,"/");e=e.replace(v,"/");if(o[f]){o[f].src.push(e)}else{i.push({src:[e],dest:f});o[f]=i[i.length-1]}}));return i};b.normalizeFilesArray=function(e){var r=[];e.forEach((function(e){var n;if("src"in e||"dest"in e){r.push(e)}}));if(r.length===0){return[]}r=_(r).chain().forEach((function(e){if(!("src"in e)||!e.src){return}if(Array.isArray(e.src)){e.src=o(e.src)}else{e.src=[e.src]}})).map((function(e){var r=Object.assign({},e);delete r.src;delete r.dest;if(e.expand){return b.expandMapping(e.src,e.dest,r).map((function(r){var n=Object.assign({},e);n.orig=Object.assign({},e);n.src=r.src;n.dest=r.dest;["expand","cwd","flatten","rename","ext"].forEach((function(e){delete n[e]}));return n}))}var n=Object.assign({},e);n.orig=Object.assign({},e);if("src"in n){Object.defineProperty(n,"src",{enumerable:true,get:function fn(){var n;if(!("result"in fn)){n=e.src;n=Array.isArray(n)?o(n):[n];fn.result=b.expand(r,n)}return fn.result}})}if("dest"in n){n.dest=e.dest}return n})).flatten().value();return r}},34747:(e,r,n)=>{var i=n(17551);var s=n(16928);var o=n(53187);var u=n(32186);var f=n(44527);var p=n(78309);var g=n(2203).Stream;var b=n(88523).PassThrough;var _=e.exports={};_.file=n(70081);_.collectStream=function(e,r){var n=[];var i=0;e.on("error",r);e.on("data",(function(e){n.push(e);i+=e.length}));e.on("end",(function(){var e=Buffer.alloc(i);var s=0;n.forEach((function(r){r.copy(e,s);s+=r.length}));r(null,e)}))};_.dateify=function(e){e=e||new Date;if(e instanceof Date){e=e}else if(typeof e==="string"){e=new Date(e)}else{e=new Date}return e};_.defaults=function(e,r,n){var i=arguments;i[0]=i[0]||{};return p(...i)};_.isStream=function(e){return o(e)};_.lazyReadStream=function(e){return new u.Readable((function(){return i.createReadStream(e)}))};_.normalizeInputSource=function(e){if(e===null){return Buffer.alloc(0)}else if(typeof e==="string"){return Buffer.from(e)}else if(_.isStream(e)){return e.pipe(new b)}return e};_.sanitizePath=function(e){return f(e,false).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};_.trailingSlashIt=function(e){return e.slice(-1)!=="/"?e+"/":e};_.unixifyPath=function(e){return f(e,false).replace(/^\w+:/,"")};_.walkdir=function(e,r,n){var o=[];if(typeof r==="function"){n=r;r=e}i.readdir(e,(function(u,f){var p=0;var g;var b;if(u){return n(u)}(function next(){g=f[p++];if(!g){return n(null,o)}b=s.join(e,g);i.stat(b,(function(e,i){o.push({path:b,relative:s.relative(r,b).replace(/\\/g,"/"),stats:i});if(i&&i.isDirectory()){_.walkdir(b,r,(function(e,r){if(e){return n(e)}r.forEach((function(e){o.push(e)}));next()}))}else{next()}}))})()}))}},62888:(e,r,n)=>{
/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var i=n(34781);var s={};var vending=function(e,r){return vending.create(e,r)};vending.create=function(e,r){if(s[e]){var n=new i(e,r);n.setFormat(e);n.setModule(new s[e](r));return n}else{throw new Error("create("+e+"): format not registered")}};vending.registerFormat=function(e,r){if(s[e]){throw new Error("register("+e+"): format already registered")}if(typeof r!=="function"){throw new Error("register("+e+"): format module invalid")}if(typeof r.prototype.append!=="function"||typeof r.prototype.finalize!=="function"){throw new Error("register("+e+"): format module missing methods")}s[e]=r};vending.isRegisteredFormat=function(e){if(s[e]){return true}return false};vending.registerFormat("zip",n(83964));vending.registerFormat("tar",n(38628));vending.registerFormat("json",n(98957));e.exports=vending},34781:(e,r,n)=>{
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var i=n(79896);var s=n(68975);var o=n(95990);var u=n(16928);var f=n(34747);var p=n(39023).inherits;var g=n(86574);var b=n(88523).Transform;var _=process.platform==="win32";var Archiver=function(e,r){if(!(this instanceof Archiver)){return new Archiver(e,r)}if(typeof e!=="string"){r=e;e="zip"}r=this.options=f.defaults(r,{highWaterMark:1024*1024,statConcurrency:4});b.call(this,r);this._format=false;this._module=false;this._pending=0;this._pointer=0;this._entriesCount=0;this._entriesProcessedCount=0;this._fsEntriesTotalBytes=0;this._fsEntriesProcessedBytes=0;this._queue=o.queue(this._onQueueTask.bind(this),1);this._queue.drain(this._onQueueDrain.bind(this));this._statQueue=o.queue(this._onStatQueueTask.bind(this),r.statConcurrency);this._statQueue.drain(this._onQueueDrain.bind(this));this._state={aborted:false,finalize:false,finalizing:false,finalized:false,modulePiped:false};this._streams=[]};p(Archiver,b);Archiver.prototype._abort=function(){this._state.aborted=true;this._queue.kill();this._statQueue.kill();if(this._queue.idle()){this._shutdown()}};Archiver.prototype._append=function(e,r){r=r||{};var n={source:null,filepath:e};if(!r.name){r.name=e}r.sourcePath=e;n.data=r;this._entriesCount++;if(r.stats&&r.stats instanceof i.Stats){n=this._updateQueueTaskWithStats(n,r.stats);if(n){if(r.stats.size){this._fsEntriesTotalBytes+=r.stats.size}this._queue.push(n)}}else{this._statQueue.push(n)}};Archiver.prototype._finalize=function(){if(this._state.finalizing||this._state.finalized||this._state.aborted){return}this._state.finalizing=true;this._moduleFinalize();this._state.finalizing=false;this._state.finalized=true};Archiver.prototype._maybeFinalize=function(){if(this._state.finalizing||this._state.finalized||this._state.aborted){return false}if(this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()){this._finalize();return true}return false};Archiver.prototype._moduleAppend=function(e,r,n){if(this._state.aborted){n();return}this._module.append(e,r,function(e){this._task=null;if(this._state.aborted){this._shutdown();return}if(e){this.emit("error",e);setImmediate(n);return}this.emit("entry",r);this._entriesProcessedCount++;if(r.stats&&r.stats.size){this._fsEntriesProcessedBytes+=r.stats.size}this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}});setImmediate(n)}.bind(this))};Archiver.prototype._moduleFinalize=function(){if(typeof this._module.finalize==="function"){this._module.finalize()}else if(typeof this._module.end==="function"){this._module.end()}else{this.emit("error",new g("NOENDMETHOD"))}};Archiver.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this));this._module.pipe(this);this._state.modulePiped=true};Archiver.prototype._moduleSupports=function(e){if(!this._module.supports||!this._module.supports[e]){return false}return this._module.supports[e]};Archiver.prototype._moduleUnpipe=function(){this._module.unpipe(this);this._state.modulePiped=false};Archiver.prototype._normalizeEntryData=function(e,r){e=f.defaults(e,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:false});if(r&&e.stats===false){e.stats=r}var n=e.type==="directory";if(e.name){if(typeof e.prefix==="string"&&""!==e.prefix){e.name=e.prefix+"/"+e.name;e.prefix=null}e.name=f.sanitizePath(e.name);if(e.type!=="symlink"&&e.name.slice(-1)==="/"){n=true;e.type="directory"}else if(n){e.name+="/"}}if(typeof e.mode==="number"){if(_){e.mode&=511}else{e.mode&=4095}}else if(e.stats&&e.mode===null){if(_){e.mode=e.stats.mode&511}else{e.mode=e.stats.mode&4095}if(_&&n){e.mode=493}}else if(e.mode===null){e.mode=n?493:420}if(e.stats&&e.date===null){e.date=e.stats.mtime}else{e.date=f.dateify(e.date)}return e};Archiver.prototype._onModuleError=function(e){this.emit("error",e)};Archiver.prototype._onQueueDrain=function(){if(this._state.finalizing||this._state.finalized||this._state.aborted){return}if(this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()){this._finalize()}};Archiver.prototype._onQueueTask=function(e,r){var fullCallback=()=>{if(e.data.callback){e.data.callback()}r()};if(this._state.finalizing||this._state.finalized||this._state.aborted){fullCallback();return}this._task=e;this._moduleAppend(e.source,e.data,fullCallback)};Archiver.prototype._onStatQueueTask=function(e,r){if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}i.lstat(e.filepath,function(n,i){if(this._state.aborted){setImmediate(r);return}if(n){this._entriesCount--;this.emit("warning",n);setImmediate(r);return}e=this._updateQueueTaskWithStats(e,i);if(e){if(i.size){this._fsEntriesTotalBytes+=i.size}this._queue.push(e)}setImmediate(r)}.bind(this))};Archiver.prototype._shutdown=function(){this._moduleUnpipe();this.end()};Archiver.prototype._transform=function(e,r,n){if(e){this._pointer+=e.length}n(null,e)};Archiver.prototype._updateQueueTaskWithStats=function(e,r){if(r.isFile()){e.data.type="file";e.data.sourceType="stream";e.source=f.lazyReadStream(e.filepath)}else if(r.isDirectory()&&this._moduleSupports("directory")){e.data.name=f.trailingSlashIt(e.data.name);e.data.type="directory";e.data.sourcePath=f.trailingSlashIt(e.filepath);e.data.sourceType="buffer";e.source=Buffer.concat([])}else if(r.isSymbolicLink()&&this._moduleSupports("symlink")){var n=i.readlinkSync(e.filepath);var s=u.dirname(e.filepath);e.data.type="symlink";e.data.linkname=u.relative(s,u.resolve(s,n));e.data.sourceType="buffer";e.source=Buffer.concat([])}else{if(r.isDirectory()){this.emit("warning",new g("DIRECTORYNOTSUPPORTED",e.data))}else if(r.isSymbolicLink()){this.emit("warning",new g("SYMLINKNOTSUPPORTED",e.data))}else{this.emit("warning",new g("ENTRYNOTSUPPORTED",e.data))}return null}e.data=this._normalizeEntryData(e.data,r);return e};Archiver.prototype.abort=function(){if(this._state.aborted||this._state.finalized){return this}this._abort();return this};Archiver.prototype.append=function(e,r){if(this._state.finalize||this._state.aborted){this.emit("error",new g("QUEUECLOSED"));return this}r=this._normalizeEntryData(r);if(typeof r.name!=="string"||r.name.length===0){this.emit("error",new g("ENTRYNAMEREQUIRED"));return this}if(r.type==="directory"&&!this._moduleSupports("directory")){this.emit("error",new g("DIRECTORYNOTSUPPORTED",{name:r.name}));return this}e=f.normalizeInputSource(e);if(Buffer.isBuffer(e)){r.sourceType="buffer"}else if(f.isStream(e)){r.sourceType="stream"}else{this.emit("error",new g("INPUTSTEAMBUFFERREQUIRED",{name:r.name}));return this}this._entriesCount++;this._queue.push({data:r,source:e});return this};Archiver.prototype.directory=function(e,r,n){if(this._state.finalize||this._state.aborted){this.emit("error",new g("QUEUECLOSED"));return this}if(typeof e!=="string"||e.length===0){this.emit("error",new g("DIRECTORYDIRPATHREQUIRED"));return this}this._pending++;if(r===false){r=""}else if(typeof r!=="string"){r=e}var i=false;if(typeof n==="function"){i=n;n={}}else if(typeof n!=="object"){n={}}var o={stat:true,dot:true};function onGlobEnd(){this._pending--;this._maybeFinalize()}function onGlobError(e){this.emit("error",e)}function onGlobMatch(s){u.pause();var o=false;var f=Object.assign({},n);f.name=s.relative;f.prefix=r;f.stats=s.stat;f.callback=u.resume.bind(u);try{if(i){f=i(f);if(f===false){o=true}else if(typeof f!=="object"){throw new g("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:e})}}}catch(e){this.emit("error",e);return}if(o){u.resume();return}this._append(s.absolute,f)}var u=s(e,o);u.on("error",onGlobError.bind(this));u.on("match",onGlobMatch.bind(this));u.on("end",onGlobEnd.bind(this));return this};Archiver.prototype.file=function(e,r){if(this._state.finalize||this._state.aborted){this.emit("error",new g("QUEUECLOSED"));return this}if(typeof e!=="string"||e.length===0){this.emit("error",new g("FILEFILEPATHREQUIRED"));return this}this._append(e,r);return this};Archiver.prototype.glob=function(e,r,n){this._pending++;r=f.defaults(r,{stat:true,pattern:e});function onGlobEnd(){this._pending--;this._maybeFinalize()}function onGlobError(e){this.emit("error",e)}function onGlobMatch(e){i.pause();var r=Object.assign({},n);r.callback=i.resume.bind(i);r.stats=e.stat;r.name=e.relative;this._append(e.absolute,r)}var i=s(r.cwd||".",r);i.on("error",onGlobError.bind(this));i.on("match",onGlobMatch.bind(this));i.on("end",onGlobEnd.bind(this));return this};Archiver.prototype.finalize=function(){if(this._state.aborted){var e=new g("ABORTED");this.emit("error",e);return Promise.reject(e)}if(this._state.finalize){var r=new g("FINALIZING");this.emit("error",r);return Promise.reject(r)}this._state.finalize=true;if(this._pending===0&&this._queue.idle()&&this._statQueue.idle()){this._finalize()}var n=this;return new Promise((function(e,r){var i;n._module.on("end",(function(){if(!i){e()}}));n._module.on("error",(function(e){i=true;r(e)}))}))};Archiver.prototype.setFormat=function(e){if(this._format){this.emit("error",new g("FORMATSET"));return this}this._format=e;return this};Archiver.prototype.setModule=function(e){if(this._state.aborted){this.emit("error",new g("ABORTED"));return this}if(this._state.module){this.emit("error",new g("MODULESET"));return this}this._module=e;this._modulePipe();return this};Archiver.prototype.symlink=function(e,r,n){if(this._state.finalize||this._state.aborted){this.emit("error",new g("QUEUECLOSED"));return this}if(typeof e!=="string"||e.length===0){this.emit("error",new g("SYMLINKFILEPATHREQUIRED"));return this}if(typeof r!=="string"||r.length===0){this.emit("error",new g("SYMLINKTARGETREQUIRED",{filepath:e}));return this}if(!this._moduleSupports("symlink")){this.emit("error",new g("SYMLINKNOTSUPPORTED",{filepath:e}));return this}var i={};i.type="symlink";i.name=e.replace(/\\/g,"/");i.linkname=r.replace(/\\/g,"/");i.sourceType="buffer";if(typeof n==="number"){i.mode=n}this._entriesCount++;this._queue.push({data:i,source:Buffer.concat([])});return this};Archiver.prototype.pointer=function(){return this._pointer};Archiver.prototype.use=function(e){this._streams.push(e);return this};e.exports=Archiver},86574:(e,r,n)=>{
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var i=n(39023);const s={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function ArchiverError(e,r){Error.captureStackTrace(this,this.constructor);this.message=s[e]||e;this.code=e;this.data=r}i.inherits(ArchiverError,Error);r=e.exports=ArchiverError},98957:(e,r,n)=>{
/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var i=n(39023).inherits;var s=n(88523).Transform;var o=n(97965);var u=n(34747);var Json=function(e){if(!(this instanceof Json)){return new Json(e)}e=this.options=u.defaults(e,{});s.call(this,e);this.supports={directory:true,symlink:true};this.files=[]};i(Json,s);Json.prototype._transform=function(e,r,n){n(null,e)};Json.prototype._writeStringified=function(){var e=JSON.stringify(this.files);this.write(e)};Json.prototype.append=function(e,r,n){var i=this;r.crc32=0;function onend(e,s){if(e){n(e);return}r.size=s.length||0;r.crc32=o.unsigned(s);i.files.push(r);n(null,r)}if(r.sourceType==="buffer"){onend(null,e)}else if(r.sourceType==="stream"){u.collectStream(e,onend)}};Json.prototype.finalize=function(){this._writeStringified();this.end()};e.exports=Json},38628:(e,r,n)=>{
/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var i=n(43106);var s=n(82753);var o=n(34747);var Tar=function(e){if(!(this instanceof Tar)){return new Tar(e)}e=this.options=o.defaults(e,{gzip:false});if(typeof e.gzipOptions!=="object"){e.gzipOptions={}}this.supports={directory:true,symlink:true};this.engine=s.pack(e);this.compressor=false;if(e.gzip){this.compressor=i.createGzip(e.gzipOptions);this.compressor.on("error",this._onCompressorError.bind(this))}};Tar.prototype._onCompressorError=function(e){this.engine.emit("error",e)};Tar.prototype.append=function(e,r,n){var i=this;r.mtime=r.date;function append(e,s){if(e){n(e);return}i.engine.entry(r,s,(function(e){n(e,r)}))}if(r.sourceType==="buffer"){append(null,e)}else if(r.sourceType==="stream"&&r.stats){r.size=r.stats.size;var s=i.engine.entry(r,(function(e){n(e,r)}));e.pipe(s)}else if(r.sourceType==="stream"){o.collectStream(e,append)}};Tar.prototype.finalize=function(){this.engine.finalize()};Tar.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Tar.prototype.pipe=function(e,r){if(this.compressor){return this.engine.pipe.apply(this.engine,[this.compressor]).pipe(e,r)}else{return this.engine.pipe.apply(this.engine,arguments)}};Tar.prototype.unpipe=function(){if(this.compressor){return this.compressor.unpipe.apply(this.compressor,arguments)}else{return this.engine.unpipe.apply(this.engine,arguments)}};e.exports=Tar},83964:(e,r,n)=>{
/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var i=n(88599);var s=n(34747);var Zip=function(e){if(!(this instanceof Zip)){return new Zip(e)}e=this.options=s.defaults(e,{comment:"",forceUTC:false,namePrependSlash:false,store:false});this.supports={directory:true,symlink:true};this.engine=new i(e)};Zip.prototype.append=function(e,r,n){this.engine.entry(e,r,n)};Zip.prototype.finalize=function(){this.engine.finalize()};Zip.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Zip.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};Zip.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};e.exports=Zip},75089:e=>{e.exports={newInvalidAsn1Error:function(e){var r=new Error;r.name="InvalidAsn1Error";r.message=e||"";return r}}},69376:(e,r,n)=>{var i=n(75089);var s=n(58245);var o=n(95081);var u=n(16229);e.exports={Reader:o,Writer:u};for(var f in s){if(s.hasOwnProperty(f))e.exports[f]=s[f]}for(var p in i){if(i.hasOwnProperty(p))e.exports[p]=i[p]}},95081:(e,r,n)=>{var i=n(42613);var s=n(39392).Buffer;var o=n(58245);var u=n(75089);var f=u.newInvalidAsn1Error;function Reader(e){if(!e||!s.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e;this._size=e.length;this._len=0;this._offset=0}Object.defineProperty(Reader.prototype,"length",{enumerable:true,get:function(){return this._len}});Object.defineProperty(Reader.prototype,"offset",{enumerable:true,get:function(){return this._offset}});Object.defineProperty(Reader.prototype,"remain",{get:function(){return this._size-this._offset}});Object.defineProperty(Reader.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}});Reader.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var r=this._buf[this._offset]&255;if(!e)this._offset+=1;return r};Reader.prototype.peek=function(){return this.readByte(true)};Reader.prototype.readLength=function(e){if(e===undefined)e=this._offset;if(e>=this._size)return null;var r=this._buf[e++]&255;if(r===null)return null;if((r&128)===128){r&=127;if(r===0)throw f("Indefinite length not supported");if(r>4)throw f("encoding too long");if(this._size-e<r)return null;this._len=0;for(var n=0;n<r;n++)this._len=(this._len<<8)+(this._buf[e++]&255)}else{this._len=r}return e};Reader.prototype.readSequence=function(e){var r=this.peek();if(r===null)return null;if(e!==undefined&&e!==r)throw f("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(n===null)return null;this._offset=n;return r};Reader.prototype.readInt=function(){return this._readTag(o.Integer)};Reader.prototype.readBoolean=function(){return this._readTag(o.Boolean)===0?false:true};Reader.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)};Reader.prototype.readString=function(e,r){if(!e)e=o.OctetString;var n=this.peek();if(n===null)return null;if(n!==e)throw f("Expected 0x"+e.toString(16)+": got 0x"+n.toString(16));var i=this.readLength(this._offset+1);if(i===null)return null;if(this.length>this._size-i)return null;this._offset=i;if(this.length===0)return r?s.alloc(0):"";var u=this._buf.slice(this._offset,this._offset+this.length);this._offset+=this.length;return r?u:u.toString("utf8")};Reader.prototype.readOID=function(e){if(!e)e=o.OID;var r=this.readString(e,true);if(r===null)return null;var n=[];var i=0;for(var s=0;s<r.length;s++){var u=r[s]&255;i<<=7;i+=u&127;if((u&128)===0){n.push(i);i=0}}i=n.shift();n.unshift(i%40);n.unshift(i/40>>0);return n.join(".")};Reader.prototype._readTag=function(e){i.ok(e!==undefined);var r=this.peek();if(r===null)return null;if(r!==e)throw f("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(n===null)return null;if(this.length>4)throw f("Integer too long: "+this.length);if(this.length>this._size-n)return null;this._offset=n;var s=this._buf[this._offset];var o=0;for(var u=0;u<this.length;u++){o<<=8;o|=this._buf[this._offset++]&255}if((s&128)===128&&u!==4)o-=1<<u*8;return o>>0};e.exports=Reader},58245:e=>{e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},16229:(e,r,n)=>{var i=n(42613);var s=n(39392).Buffer;var o=n(58245);var u=n(75089);var f=u.newInvalidAsn1Error;var p={size:1024,growthFactor:8};function merge(e,r){i.ok(e);i.equal(typeof e,"object");i.ok(r);i.equal(typeof r,"object");var n=Object.getOwnPropertyNames(e);n.forEach((function(n){if(r[n])return;var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i)}));return r}function Writer(e){e=merge(p,e||{});this._buf=s.alloc(e.size||1024);this._size=this._buf.length;this._offset=0;this._options=e;this._seq=[]}Object.defineProperty(Writer.prototype,"buffer",{get:function(){if(this._seq.length)throw f(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}});Writer.prototype.writeByte=function(e){if(typeof e!=="number")throw new TypeError("argument must be a Number");this._ensure(1);this._buf[this._offset++]=e};Writer.prototype.writeInt=function(e,r){if(typeof e!=="number")throw new TypeError("argument must be a Number");if(typeof r!=="number")r=o.Integer;var n=4;while(((e&4286578688)===0||(e&4286578688)===4286578688>>0)&&n>1){n--;e<<=8}if(n>4)throw f("BER ints cannot be > 0xffffffff");this._ensure(2+n);this._buf[this._offset++]=r;this._buf[this._offset++]=n;while(n-- >0){this._buf[this._offset++]=(e&4278190080)>>>24;e<<=8}};Writer.prototype.writeNull=function(){this.writeByte(o.Null);this.writeByte(0)};Writer.prototype.writeEnumeration=function(e,r){if(typeof e!=="number")throw new TypeError("argument must be a Number");if(typeof r!=="number")r=o.Enumeration;return this.writeInt(e,r)};Writer.prototype.writeBoolean=function(e,r){if(typeof e!=="boolean")throw new TypeError("argument must be a Boolean");if(typeof r!=="number")r=o.Boolean;this._ensure(3);this._buf[this._offset++]=r;this._buf[this._offset++]=1;this._buf[this._offset++]=e?255:0};Writer.prototype.writeString=function(e,r){if(typeof e!=="string")throw new TypeError("argument must be a string (was: "+typeof e+")");if(typeof r!=="number")r=o.OctetString;var n=s.byteLength(e);this.writeByte(r);this.writeLength(n);if(n){this._ensure(n);this._buf.write(e,this._offset);this._offset+=n}};Writer.prototype.writeBuffer=function(e,r){if(typeof r!=="number")throw new TypeError("tag must be a number");if(!s.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(r);this.writeLength(e.length);this._ensure(e.length);e.copy(this._buf,this._offset,0,e.length);this._offset+=e.length};Writer.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var r=this;e.forEach((function(e){r.writeString(e)}))};Writer.prototype.writeOID=function(e,r){if(typeof e!=="string")throw new TypeError("argument must be a string");if(typeof r!=="number")r=o.OID;if(!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");function encodeOctet(e,r){if(r<128){e.push(r)}else if(r<16384){e.push(r>>>7|128);e.push(r&127)}else if(r<2097152){e.push(r>>>14|128);e.push((r>>>7|128)&255);e.push(r&127)}else if(r<268435456){e.push(r>>>21|128);e.push((r>>>14|128)&255);e.push((r>>>7|128)&255);e.push(r&127)}else{e.push((r>>>28|128)&255);e.push((r>>>21|128)&255);e.push((r>>>14|128)&255);e.push((r>>>7|128)&255);e.push(r&127)}}var n=e.split(".");var i=[];i.push(parseInt(n[0],10)*40+parseInt(n[1],10));n.slice(2).forEach((function(e){encodeOctet(i,parseInt(e,10))}));var s=this;this._ensure(2+i.length);this.writeByte(r);this.writeLength(i.length);i.forEach((function(e){s.writeByte(e)}))};Writer.prototype.writeLength=function(e){if(typeof e!=="number")throw new TypeError("argument must be a Number");this._ensure(4);if(e<=127){this._buf[this._offset++]=e}else if(e<=255){this._buf[this._offset++]=129;this._buf[this._offset++]=e}else if(e<=65535){this._buf[this._offset++]=130;this._buf[this._offset++]=e>>8;this._buf[this._offset++]=e}else if(e<=16777215){this._buf[this._offset++]=131;this._buf[this._offset++]=e>>16;this._buf[this._offset++]=e>>8;this._buf[this._offset++]=e}else{throw f("Length too long (> 4 bytes)")}};Writer.prototype.startSequence=function(e){if(typeof e!=="number")e=o.Sequence|o.Constructor;this.writeByte(e);this._seq.push(this._offset);this._ensure(3);this._offset+=3};Writer.prototype.endSequence=function(){var e=this._seq.pop();var r=e+3;var n=this._offset-r;if(n<=127){this._shift(r,n,-2);this._buf[e]=n}else if(n<=255){this._shift(r,n,-1);this._buf[e]=129;this._buf[e+1]=n}else if(n<=65535){this._buf[e]=130;this._buf[e+1]=n>>8;this._buf[e+2]=n}else if(n<=16777215){this._shift(r,n,1);this._buf[e]=131;this._buf[e+1]=n>>16;this._buf[e+2]=n>>8;this._buf[e+3]=n}else{throw f("Sequence too long")}};Writer.prototype._shift=function(e,r,n){i.ok(e!==undefined);i.ok(r!==undefined);i.ok(n);this._buf.copy(this._buf,e+n,e,e+r);this._offset+=n};Writer.prototype._ensure=function(e){i.ok(e);if(this._size-this._offset<e){var r=this._size*this._options.growthFactor;if(r-this._offset<e)r+=e;var n=s.alloc(r);this._buf.copy(n,0,0,this._offset);this._buf=n;this._size=r}};e.exports=Writer},1594:(e,r,n)=>{var i=n(69376);e.exports={Ber:i,BerReader:i.Reader,BerWriter:i.Writer}},95990:function(e,r){(function(e,n){true?n(r):0})(this,(function(e){"use strict";function apply(e,...r){return(...n)=>e(...r,...n)}function initialParams(e){return function(...r){var n=r.pop();return e.call(this,r,n)}}var r=typeof queueMicrotask==="function"&&queueMicrotask;var n=typeof setImmediate==="function"&&setImmediate;var i=typeof process==="object"&&typeof process.nextTick==="function";function fallback(e){setTimeout(e,0)}function wrap(e){return(r,...n)=>e((()=>r(...n)))}var s;if(r){s=queueMicrotask}else if(n){s=setImmediate}else if(i){s=process.nextTick}else{s=fallback}var o=wrap(s);function asyncify(e){if(isAsync(e)){return function(...r){const n=r.pop();const i=e.apply(this,r);return handlePromise(i,n)}}return initialParams((function(r,n){var i;try{i=e.apply(this,r)}catch(e){return n(e)}if(i&&typeof i.then==="function"){return handlePromise(i,n)}else{n(null,i)}}))}function handlePromise(e,r){return e.then((e=>{invokeCallback(r,null,e)}),(e=>{invokeCallback(r,e&&(e instanceof Error||e.message)?e:new Error(e))}))}function invokeCallback(e,r,n){try{e(r,n)}catch(e){o((e=>{throw e}),e)}}function isAsync(e){return e[Symbol.toStringTag]==="AsyncFunction"}function isAsyncGenerator(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function isAsyncIterable(e){return typeof e[Symbol.asyncIterator]==="function"}function wrapAsync(e){if(typeof e!=="function")throw new Error("expected a function");return isAsync(e)?asyncify(e):e}function awaitify(e,r){if(!r)r=e.length;if(!r)throw new Error("arity is undefined");function awaitable(...n){if(typeof n[r-1]==="function"){return e.apply(this,n)}return new Promise(((i,s)=>{n[r-1]=(e,...r)=>{if(e)return s(e);i(r.length>1?r:r[0])};e.apply(this,n)}))}return awaitable}function applyEach$1(e){return function applyEach(r,...n){const i=awaitify((function(i){var s=this;return e(r,((e,r)=>{wrapAsync(e).apply(s,n.concat(r))}),i)}));return i}}function _asyncMap(e,r,n,i){r=r||[];var s=[];var o=0;var u=wrapAsync(n);return e(r,((e,r,n)=>{var i=o++;u(e,((e,r)=>{s[i]=r;n(e)}))}),(e=>{i(e,s)}))}function isArrayLike(e){return e&&typeof e.length==="number"&&e.length>=0&&e.length%1===0}const u={};function once(e){function wrapper(...r){if(e===null)return;var n=e;e=null;n.apply(this,r)}Object.assign(wrapper,e);return wrapper}function getIterator(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}function createArrayIterator(e){var r=-1;var n=e.length;return function next(){return++r<n?{value:e[r],key:r}:null}}function createES2015Iterator(e){var r=-1;return function next(){var n=e.next();if(n.done)return null;r++;return{value:n.value,key:r}}}function createObjectIterator(e){var r=e?Object.keys(e):[];var n=-1;var i=r.length;return function next(){var s=r[++n];if(s==="__proto__"){return next()}return n<i?{value:e[s],key:s}:null}}function createIterator(e){if(isArrayLike(e)){return createArrayIterator(e)}var r=getIterator(e);return r?createES2015Iterator(r):createObjectIterator(e)}function onlyOnce(e){return function(...r){if(e===null)throw new Error("Callback was already called.");var n=e;e=null;n.apply(this,r)}}function asyncEachOfLimit(e,r,n,i){let s=false;let o=false;let f=false;let p=0;let g=0;function replenish(){if(p>=r||f||s)return;f=true;e.next().then((({value:e,done:r})=>{if(o||s)return;f=false;if(r){s=true;if(p<=0){i(null)}return}p++;n(e,g,iterateeCallback);g++;replenish()})).catch(handleError)}function iterateeCallback(e,r){p-=1;if(o)return;if(e)return handleError(e);if(e===false){s=true;o=true;return}if(r===u||s&&p<=0){s=true;return i(null)}replenish()}function handleError(e){if(o)return;f=false;s=true;i(e)}replenish()}var eachOfLimit$2=e=>(r,n,i)=>{i=once(i);if(e<=0){throw new RangeError("concurrency limit cannot be less than 1")}if(!r){return i(null)}if(isAsyncGenerator(r)){return asyncEachOfLimit(r,e,n,i)}if(isAsyncIterable(r)){return asyncEachOfLimit(r[Symbol.asyncIterator](),e,n,i)}var s=createIterator(r);var o=false;var f=false;var p=0;var g=false;function iterateeCallback(e,r){if(f)return;p-=1;if(e){o=true;i(e)}else if(e===false){o=true;f=true}else if(r===u||o&&p<=0){o=true;return i(null)}else if(!g){replenish()}}function replenish(){g=true;while(p<e&&!o){var r=s();if(r===null){o=true;if(p<=0){i(null)}return}p+=1;n(r.value,r.key,onlyOnce(iterateeCallback))}g=false}replenish()};function eachOfLimit(e,r,n,i){return eachOfLimit$2(r)(e,wrapAsync(n),i)}var f=awaitify(eachOfLimit,4);function eachOfArrayLike(e,r,n){n=once(n);var i=0,s=0,{length:o}=e,f=false;if(o===0){n(null)}function iteratorCallback(e,r){if(e===false){f=true}if(f===true)return;if(e){n(e)}else if(++s===o||r===u){n(null)}}for(;i<o;i++){r(e[i],i,onlyOnce(iteratorCallback))}}function eachOfGeneric(e,r,n){return f(e,Infinity,r,n)}function eachOf(e,r,n){var i=isArrayLike(e)?eachOfArrayLike:eachOfGeneric;return i(e,wrapAsync(r),n)}var p=awaitify(eachOf,3);function map(e,r,n){return _asyncMap(p,e,r,n)}var g=awaitify(map,3);var b=applyEach$1(g);function eachOfSeries(e,r,n){return f(e,1,r,n)}var _=awaitify(eachOfSeries,3);function mapSeries(e,r,n){return _asyncMap(_,e,r,n)}var v=awaitify(mapSeries,3);var w=applyEach$1(v);const I=Symbol("promiseCallback");function promiseCallback(){let e,r;function callback(n,...i){if(n)return r(n);e(i.length>1?i:i[0])}callback[I]=new Promise(((n,i)=>{e=n,r=i}));return callback}function auto(e,r,n){if(typeof r!=="number"){n=r;r=null}n=once(n||promiseCallback());var i=Object.keys(e).length;if(!i){return n(null)}if(!r){r=i}var s={};var o=0;var u=false;var f=false;var p=Object.create(null);var g=[];var b=[];var _={};Object.keys(e).forEach((r=>{var n=e[r];if(!Array.isArray(n)){enqueueTask(r,[n]);b.push(r);return}var i=n.slice(0,n.length-1);var s=i.length;if(s===0){enqueueTask(r,n);b.push(r);return}_[r]=s;i.forEach((o=>{if(!e[o]){throw new Error("async.auto task `"+r+"` has a non-existent dependency `"+o+"` in "+i.join(", "))}addListener(o,(()=>{s--;if(s===0){enqueueTask(r,n)}}))}))}));checkForDeadlocks();processQueue();function enqueueTask(e,r){g.push((()=>runTask(e,r)))}function processQueue(){if(u)return;if(g.length===0&&o===0){return n(null,s)}while(g.length&&o<r){var e=g.shift();e()}}function addListener(e,r){var n=p[e];if(!n){n=p[e]=[]}n.push(r)}function taskComplete(e){var r=p[e]||[];r.forEach((e=>e()));processQueue()}function runTask(e,r){if(f)return;var i=onlyOnce(((r,...i)=>{o--;if(r===false){u=true;return}if(i.length<2){[i]=i}if(r){var g={};Object.keys(s).forEach((e=>{g[e]=s[e]}));g[e]=i;f=true;p=Object.create(null);if(u)return;n(r,g)}else{s[e]=i;taskComplete(e)}}));o++;var g=wrapAsync(r[r.length-1]);if(r.length>1){g(s,i)}else{g(i)}}function checkForDeadlocks(){var e;var r=0;while(b.length){e=b.pop();r++;getDependents(e).forEach((e=>{if(--_[e]===0){b.push(e)}}))}if(r!==i){throw new Error("async.auto cannot execute tasks due to a recursive dependency")}}function getDependents(r){var n=[];Object.keys(e).forEach((i=>{const s=e[i];if(Array.isArray(s)&&s.indexOf(r)>=0){n.push(i)}}));return n}return n[I]}var k=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/;var C=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/;var R=/,/;var T=/(=.+)?(\s*)$/;function stripComments(e){let r="";let n=0;let i=e.indexOf("*/");while(n<e.length){if(e[n]==="/"&&e[n+1]==="/"){let r=e.indexOf("\n",n);n=r===-1?e.length:r}else if(i!==-1&&e[n]==="/"&&e[n+1]==="*"){let s=e.indexOf("*/",n);if(s!==-1){n=s+2;i=e.indexOf("*/",n)}else{r+=e[n];n++}}else{r+=e[n];n++}}return r}function parseParams(e){const r=stripComments(e.toString());let n=r.match(k);if(!n){n=r.match(C)}if(!n)throw new Error("could not parse args in autoInject\nSource:\n"+r);let[,i]=n;return i.replace(/\s/g,"").split(R).map((e=>e.replace(T,"").trim()))}function autoInject(e,r){var n={};Object.keys(e).forEach((r=>{var i=e[r];var s;var o=isAsync(i);var u=!o&&i.length===1||o&&i.length===0;if(Array.isArray(i)){s=[...i];i=s.pop();n[r]=s.concat(s.length>0?newTask:i)}else if(u){n[r]=i}else{s=parseParams(i);if(i.length===0&&!o&&s.length===0){throw new Error("autoInject task functions require explicit parameters.")}if(!o)s.pop();n[r]=s.concat(newTask)}function newTask(e,r){var n=s.map((r=>e[r]));n.push(r);wrapAsync(i)(...n)}}));return auto(n,r)}class DLL{constructor(){this.head=this.tail=null;this.length=0}removeLink(e){if(e.prev)e.prev.next=e.next;else this.head=e.next;if(e.next)e.next.prev=e.prev;else this.tail=e.prev;e.prev=e.next=null;this.length-=1;return e}empty(){while(this.head)this.shift();return this}insertAfter(e,r){r.prev=e;r.next=e.next;if(e.next)e.next.prev=r;else this.tail=r;e.next=r;this.length+=1}insertBefore(e,r){r.prev=e.prev;r.next=e;if(e.prev)e.prev.next=r;else this.head=r;e.prev=r;this.length+=1}unshift(e){if(this.head)this.insertBefore(this.head,e);else setInitial(this,e)}push(e){if(this.tail)this.insertAfter(this.tail,e);else setInitial(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){var e=this.head;while(e){yield e.data;e=e.next}}remove(e){var r=this.head;while(r){var{next:n}=r;if(e(r)){this.removeLink(r)}r=n}return this}}function setInitial(e,r){e.length=1;e.head=e.tail=r}function queue$1(e,r,n){if(r==null){r=1}else if(r===0){throw new RangeError("Concurrency must not be zero")}var i=wrapAsync(e);var s=0;var u=[];const f={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function on(e,r){f[e].push(r)}function once(e,r){const handleAndRemove=(...n)=>{off(e,handleAndRemove);r(...n)};f[e].push(handleAndRemove)}function off(e,r){if(!e)return Object.keys(f).forEach((e=>f[e]=[]));if(!r)return f[e]=[];f[e]=f[e].filter((e=>e!==r))}function trigger(e,...r){f[e].forEach((e=>e(...r)))}var p=false;function _insert(e,r,n,i){if(i!=null&&typeof i!=="function"){throw new Error("task callback must be a function")}b.started=true;var s,u;function promiseCallback(e,...r){if(e)return n?u(e):s();if(r.length<=1)return s(r[0]);s(r)}var f=b._createTaskItem(e,n?promiseCallback:i||promiseCallback);if(r){b._tasks.unshift(f)}else{b._tasks.push(f)}if(!p){p=true;o((()=>{p=false;b.process()}))}if(n||!i){return new Promise(((e,r)=>{s=e;u=r}))}}function _createCB(e){return function(r,...n){s-=1;for(var i=0,o=e.length;i<o;i++){var f=e[i];var p=u.indexOf(f);if(p===0){u.shift()}else if(p>0){u.splice(p,1)}f.callback(r,...n);if(r!=null){trigger("error",r,f.data)}}if(s<=b.concurrency-b.buffer){trigger("unsaturated")}if(b.idle()){trigger("drain")}b.process()}}function _maybeDrain(e){if(e.length===0&&b.idle()){o((()=>trigger("drain")));return true}return false}const eventMethod=e=>r=>{if(!r){return new Promise(((r,n)=>{once(e,((e,i)=>{if(e)return n(e);r(i)}))}))}off(e);on(e,r)};var g=false;var b={_tasks:new DLL,_createTaskItem(e,r){return{data:e,callback:r}},*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:r,payload:n,buffer:r/4,started:false,paused:false,push(e,r){if(Array.isArray(e)){if(_maybeDrain(e))return;return e.map((e=>_insert(e,false,false,r)))}return _insert(e,false,false,r)},pushAsync(e,r){if(Array.isArray(e)){if(_maybeDrain(e))return;return e.map((e=>_insert(e,false,true,r)))}return _insert(e,false,true,r)},kill(){off();b._tasks.empty()},unshift(e,r){if(Array.isArray(e)){if(_maybeDrain(e))return;return e.map((e=>_insert(e,true,false,r)))}return _insert(e,true,false,r)},unshiftAsync(e,r){if(Array.isArray(e)){if(_maybeDrain(e))return;return e.map((e=>_insert(e,true,true,r)))}return _insert(e,true,true,r)},remove(e){b._tasks.remove(e)},process(){if(g){return}g=true;while(!b.paused&&s<b.concurrency&&b._tasks.length){var e=[],r=[];var n=b._tasks.length;if(b.payload)n=Math.min(n,b.payload);for(var o=0;o<n;o++){var f=b._tasks.shift();e.push(f);u.push(f);r.push(f.data)}s+=1;if(b._tasks.length===0){trigger("empty")}if(s===b.concurrency){trigger("saturated")}var p=onlyOnce(_createCB(e));i(r,p)}g=false},length(){return b._tasks.length},running(){return s},workersList(){return u},idle(){return b._tasks.length+s===0},pause(){b.paused=true},resume(){if(b.paused===false){return}b.paused=false;o(b.process)}};Object.defineProperties(b,{saturated:{writable:false,value:eventMethod("saturated")},unsaturated:{writable:false,value:eventMethod("unsaturated")},empty:{writable:false,value:eventMethod("empty")},drain:{writable:false,value:eventMethod("drain")},error:{writable:false,value:eventMethod("error")}});return b}function cargo$1(e,r){return queue$1(e,1,r)}function cargo(e,r,n){return queue$1(e,r,n)}function reduce(e,r,n,i){i=once(i);var s=wrapAsync(n);return _(e,((e,n,i)=>{s(r,e,((e,n)=>{r=n;i(e)}))}),(e=>i(e,r)))}var x=awaitify(reduce,4);function seq(...e){var r=e.map(wrapAsync);return function(...e){var n=this;var i=e[e.length-1];if(typeof i=="function"){e.pop()}else{i=promiseCallback()}x(r,e,((e,r,i)=>{r.apply(n,e.concat(((e,...r)=>{i(e,r)})))}),((e,r)=>i(e,...r)));return i[I]}}function compose(...e){return seq(...e.reverse())}function mapLimit(e,r,n,i){return _asyncMap(eachOfLimit$2(r),e,n,i)}var P=awaitify(mapLimit,4);function concatLimit(e,r,n,i){var s=wrapAsync(n);return P(e,r,((e,r)=>{s(e,((e,...n)=>{if(e)return r(e);return r(e,n)}))}),((e,r)=>{var n=[];for(var s=0;s<r.length;s++){if(r[s]){n=n.concat(...r[s])}}return i(e,n)}))}var B=awaitify(concatLimit,4);function concat(e,r,n){return B(e,Infinity,r,n)}var L=awaitify(concat,3);function concatSeries(e,r,n){return B(e,1,r,n)}var U=awaitify(concatSeries,3);function constant$1(...e){return function(...r){var n=r.pop();return n(null,...e)}}function _createTester(e,r){return(n,i,s,o)=>{var f=false;var p;const g=wrapAsync(s);n(i,((n,i,s)=>{g(n,((i,o)=>{if(i||i===false)return s(i);if(e(o)&&!p){f=true;p=r(true,n);return s(null,u)}s()}))}),(e=>{if(e)return o(e);o(null,f?p:r(false))}))}}function detect(e,r,n){return _createTester((e=>e),((e,r)=>r))(p,e,r,n)}var j=awaitify(detect,3);function detectLimit(e,r,n,i){return _createTester((e=>e),((e,r)=>r))(eachOfLimit$2(r),e,n,i)}var W=awaitify(detectLimit,4);function detectSeries(e,r,n){return _createTester((e=>e),((e,r)=>r))(eachOfLimit$2(1),e,r,n)}var Q=awaitify(detectSeries,3);function consoleFunc(e){return(r,...n)=>wrapAsync(r)(...n,((r,...n)=>{if(typeof console==="object"){if(r){if(console.error){console.error(r)}}else if(console[e]){n.forEach((r=>console[e](r)))}}}))}var z=consoleFunc("dir");function doWhilst(e,r,n){n=onlyOnce(n);var i=wrapAsync(e);var s=wrapAsync(r);var o;function next(e,...r){if(e)return n(e);if(e===false)return;o=r;s(...r,check)}function check(e,r){if(e)return n(e);if(e===false)return;if(!r)return n(null,...o);i(next)}return check(null,true)}var G=awaitify(doWhilst,3);function doUntil(e,r,n){const i=wrapAsync(r);return G(e,((...e)=>{const r=e.pop();i(...e,((e,n)=>r(e,!n)))}),n)}function _withoutIndex(e){return(r,n,i)=>e(r,i)}function eachLimit$2(e,r,n){return p(e,_withoutIndex(wrapAsync(r)),n)}var q=awaitify(eachLimit$2,3);function eachLimit(e,r,n,i){return eachOfLimit$2(r)(e,_withoutIndex(wrapAsync(n)),i)}var Y=awaitify(eachLimit,4);function eachSeries(e,r,n){return Y(e,1,r,n)}var V=awaitify(eachSeries,3);function ensureAsync(e){if(isAsync(e))return e;return function(...r){var n=r.pop();var i=true;r.push(((...e)=>{if(i){o((()=>n(...e)))}else{n(...e)}}));e.apply(this,r);i=false}}function every(e,r,n){return _createTester((e=>!e),(e=>!e))(p,e,r,n)}var J=awaitify(every,3);function everyLimit(e,r,n,i){return _createTester((e=>!e),(e=>!e))(eachOfLimit$2(r),e,n,i)}var ee=awaitify(everyLimit,4);function everySeries(e,r,n){return _createTester((e=>!e),(e=>!e))(_,e,r,n)}var te=awaitify(everySeries,3);function filterArray(e,r,n,i){var s=new Array(r.length);e(r,((e,r,i)=>{n(e,((e,n)=>{s[r]=!!n;i(e)}))}),(e=>{if(e)return i(e);var n=[];for(var o=0;o<r.length;o++){if(s[o])n.push(r[o])}i(null,n)}))}function filterGeneric(e,r,n,i){var s=[];e(r,((e,r,i)=>{n(e,((n,o)=>{if(n)return i(n);if(o){s.push({index:r,value:e})}i(n)}))}),(e=>{if(e)return i(e);i(null,s.sort(((e,r)=>e.index-r.index)).map((e=>e.value)))}))}function _filter(e,r,n,i){var s=isArrayLike(r)?filterArray:filterGeneric;return s(e,r,wrapAsync(n),i)}function filter(e,r,n){return _filter(p,e,r,n)}var re=awaitify(filter,3);function filterLimit(e,r,n,i){return _filter(eachOfLimit$2(r),e,n,i)}var ne=awaitify(filterLimit,4);function filterSeries(e,r,n){return _filter(_,e,r,n)}var ie=awaitify(filterSeries,3);function forever(e,r){var n=onlyOnce(r);var i=wrapAsync(ensureAsync(e));function next(e){if(e)return n(e);if(e===false)return;i(next)}return next()}var se=awaitify(forever,2);function groupByLimit(e,r,n,i){var s=wrapAsync(n);return P(e,r,((e,r)=>{s(e,((n,i)=>{if(n)return r(n);return r(n,{key:i,val:e})}))}),((e,r)=>{var n={};var{hasOwnProperty:s}=Object.prototype;for(var o=0;o<r.length;o++){if(r[o]){var{key:u}=r[o];var{val:f}=r[o];if(s.call(n,u)){n[u].push(f)}else{n[u]=[f]}}}return i(e,n)}))}var oe=awaitify(groupByLimit,4);function groupBy(e,r,n){return oe(e,Infinity,r,n)}function groupBySeries(e,r,n){return oe(e,1,r,n)}var ae=consoleFunc("log");function mapValuesLimit(e,r,n,i){i=once(i);var s={};var o=wrapAsync(n);return eachOfLimit$2(r)(e,((e,r,n)=>{o(e,r,((e,i)=>{if(e)return n(e);s[r]=i;n(e)}))}),(e=>i(e,s)))}var le=awaitify(mapValuesLimit,4);function mapValues(e,r,n){return le(e,Infinity,r,n)}function mapValuesSeries(e,r,n){return le(e,1,r,n)}function memoize(e,r=e=>e){var n=Object.create(null);var i=Object.create(null);var s=wrapAsync(e);var u=initialParams(((e,u)=>{var f=r(...e);if(f in n){o((()=>u(null,...n[f])))}else if(f in i){i[f].push(u)}else{i[f]=[u];s(...e,((e,...r)=>{if(!e){n[f]=r}var s=i[f];delete i[f];for(var o=0,u=s.length;o<u;o++){s[o](e,...r)}}))}}));u.memo=n;u.unmemoized=e;return u}var ce;if(i){ce=process.nextTick}else if(n){ce=setImmediate}else{ce=fallback}var ue=wrap(ce);var fe=awaitify(((e,r,n)=>{var i=isArrayLike(r)?[]:{};e(r,((e,r,n)=>{wrapAsync(e)(((e,...s)=>{if(s.length<2){[s]=s}i[r]=s;n(e)}))}),(e=>n(e,i)))}),3);function parallel(e,r){return fe(p,e,r)}function parallelLimit(e,r,n){return fe(eachOfLimit$2(r),e,n)}function queue(e,r){var n=wrapAsync(e);return queue$1(((e,r)=>{n(e[0],r)}),r,1)}class Heap{constructor(){this.heap=[];this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){this.heap=[];return this}percUp(e){let r;while(e>0&&smaller(this.heap[e],this.heap[r=parent(e)])){let n=this.heap[e];this.heap[e]=this.heap[r];this.heap[r]=n;e=r}}percDown(e){let r;while((r=leftChi(e))<this.heap.length){if(r+1<this.heap.length&&smaller(this.heap[r+1],this.heap[r])){r=r+1}if(smaller(this.heap[e],this.heap[r])){break}let n=this.heap[e];this.heap[e]=this.heap[r];this.heap[r]=n;e=r}}push(e){e.pushCount=++this.pushCount;this.heap.push(e);this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;this.heap[0]=this.heap[this.heap.length-1];this.heap.pop();this.percDown(0);return e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++){yield this.heap[e].data}}remove(e){let r=0;for(let n=0;n<this.heap.length;n++){if(!e(this.heap[n])){this.heap[r]=this.heap[n];r++}}this.heap.splice(r);for(let e=parent(this.heap.length-1);e>=0;e--){this.percDown(e)}return this}}function leftChi(e){return(e<<1)+1}function parent(e){return(e+1>>1)-1}function smaller(e,r){if(e.priority!==r.priority){return e.priority<r.priority}else{return e.pushCount<r.pushCount}}function priorityQueue(e,r){var n=queue(e,r);var{push:i,pushAsync:s}=n;n._tasks=new Heap;n._createTaskItem=({data:e,priority:r},n)=>({data:e,priority:r,callback:n});function createDataItems(e,r){if(!Array.isArray(e)){return{data:e,priority:r}}return e.map((e=>({data:e,priority:r})))}n.push=function(e,r=0,n){return i(createDataItems(e,r),n)};n.pushAsync=function(e,r=0,n){return s(createDataItems(e,r),n)};delete n.unshift;delete n.unshiftAsync;return n}function race(e,r){r=once(r);if(!Array.isArray(e))return r(new TypeError("First argument to race must be an array of functions"));if(!e.length)return r();for(var n=0,i=e.length;n<i;n++){wrapAsync(e[n])(r)}}var he=awaitify(race,2);function reduceRight(e,r,n,i){var s=[...e].reverse();return x(s,r,n,i)}function reflect(e){var r=wrapAsync(e);return initialParams((function reflectOn(e,n){e.push(((e,...r)=>{let i={};if(e){i.error=e}if(r.length>0){var s=r;if(r.length<=1){[s]=r}i.value=s}n(null,i)}));return r.apply(this,e)}))}function reflectAll(e){var r;if(Array.isArray(e)){r=e.map(reflect)}else{r={};Object.keys(e).forEach((n=>{r[n]=reflect.call(this,e[n])}))}return r}function reject$2(e,r,n,i){const s=wrapAsync(n);return _filter(e,r,((e,r)=>{s(e,((e,n)=>{r(e,!n)}))}),i)}function reject(e,r,n){return reject$2(p,e,r,n)}var de=awaitify(reject,3);function rejectLimit(e,r,n,i){return reject$2(eachOfLimit$2(r),e,n,i)}var pe=awaitify(rejectLimit,4);function rejectSeries(e,r,n){return reject$2(_,e,r,n)}var ge=awaitify(rejectSeries,3);function constant(e){return function(){return e}}const be=5;const ye=0;function retry(e,r,n){var i={times:be,intervalFunc:constant(ye)};if(arguments.length<3&&typeof e==="function"){n=r||promiseCallback();r=e}else{parseTimes(i,e);n=n||promiseCallback()}if(typeof r!=="function"){throw new Error("Invalid arguments for async.retry")}var s=wrapAsync(r);var o=1;function retryAttempt(){s(((e,...r)=>{if(e===false)return;if(e&&o++<i.times&&(typeof i.errorFilter!="function"||i.errorFilter(e))){setTimeout(retryAttempt,i.intervalFunc(o-1))}else{n(e,...r)}}))}retryAttempt();return n[I]}function parseTimes(e,r){if(typeof r==="object"){e.times=+r.times||be;e.intervalFunc=typeof r.interval==="function"?r.interval:constant(+r.interval||ye);e.errorFilter=r.errorFilter}else if(typeof r==="number"||typeof r==="string"){e.times=+r||be}else{throw new Error("Invalid arguments for async.retry")}}function retryable(e,r){if(!r){r=e;e=null}let n=e&&e.arity||r.length;if(isAsync(r)){n+=1}var i=wrapAsync(r);return initialParams(((r,s)=>{if(r.length<n-1||s==null){r.push(s);s=promiseCallback()}function taskFn(e){i(...r,e)}if(e)retry(e,taskFn,s);else retry(taskFn,s);return s[I]}))}function series(e,r){return fe(_,e,r)}function some(e,r,n){return _createTester(Boolean,(e=>e))(p,e,r,n)}var me=awaitify(some,3);function someLimit(e,r,n,i){return _createTester(Boolean,(e=>e))(eachOfLimit$2(r),e,n,i)}var _e=awaitify(someLimit,4);function someSeries(e,r,n){return _createTester(Boolean,(e=>e))(_,e,r,n)}var ve=awaitify(someSeries,3);function sortBy(e,r,n){var i=wrapAsync(r);return g(e,((e,r)=>{i(e,((n,i)=>{if(n)return r(n);r(n,{value:e,criteria:i})}))}),((e,r)=>{if(e)return n(e);n(null,r.sort(comparator).map((e=>e.value)))}));function comparator(e,r){var n=e.criteria,i=r.criteria;return n<i?-1:n>i?1:0}}var we=awaitify(sortBy,3);function timeout(e,r,n){var i=wrapAsync(e);return initialParams(((s,o)=>{var u=false;var f;function timeoutCallback(){var r=e.name||"anonymous";var i=new Error('Callback function "'+r+'" timed out.');i.code="ETIMEDOUT";if(n){i.info=n}u=true;o(i)}s.push(((...e)=>{if(!u){o(...e);clearTimeout(f)}}));f=setTimeout(timeoutCallback,r);i(...s)}))}function range(e){var r=Array(e);while(e--){r[e]=e}return r}function timesLimit(e,r,n,i){var s=wrapAsync(n);return P(range(e),r,s,i)}function times(e,r,n){return timesLimit(e,Infinity,r,n)}function timesSeries(e,r,n){return timesLimit(e,1,r,n)}function transform(e,r,n,i){if(arguments.length<=3&&typeof r==="function"){i=n;n=r;r=Array.isArray(e)?[]:{}}i=once(i||promiseCallback());var s=wrapAsync(n);p(e,((e,n,i)=>{s(r,e,n,i)}),(e=>i(e,r)));return i[I]}function tryEach(e,r){var n=null;var i;return V(e,((e,r)=>{wrapAsync(e)(((e,...s)=>{if(e===false)return r(e);if(s.length<2){[i]=s}else{i=s}n=e;r(e?null:{})}))}),(()=>r(n,i)))}var Ae=awaitify(tryEach);function unmemoize(e){return(...r)=>(e.unmemoized||e)(...r)}function whilst(e,r,n){n=onlyOnce(n);var i=wrapAsync(r);var s=wrapAsync(e);var o=[];function next(e,...r){if(e)return n(e);o=r;if(e===false)return;s(check)}function check(e,r){if(e)return n(e);if(e===false)return;if(!r)return n(null,...o);i(next)}return s(check)}var Ee=awaitify(whilst,3);function until(e,r,n){const i=wrapAsync(e);return Ee((e=>i(((r,n)=>e(r,!n)))),r,n)}function waterfall(e,r){r=once(r);if(!Array.isArray(e))return r(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return r();var n=0;function nextTask(r){var i=wrapAsync(e[n++]);i(...r,onlyOnce(next))}function next(i,...s){if(i===false)return;if(i||n===e.length){return r(i,...s)}nextTask(s)}nextTask([])}var Se=awaitify(waterfall);var Ie={apply:apply,applyEach:b,applyEachSeries:w,asyncify:asyncify,auto:auto,autoInject:autoInject,cargo:cargo$1,cargoQueue:cargo,compose:compose,concat:L,concatLimit:B,concatSeries:U,constant:constant$1,detect:j,detectLimit:W,detectSeries:Q,dir:z,doUntil:doUntil,doWhilst:G,each:q,eachLimit:Y,eachOf:p,eachOfLimit:f,eachOfSeries:_,eachSeries:V,ensureAsync:ensureAsync,every:J,everyLimit:ee,everySeries:te,filter:re,filterLimit:ne,filterSeries:ie,forever:se,groupBy:groupBy,groupByLimit:oe,groupBySeries:groupBySeries,log:ae,map:g,mapLimit:P,mapSeries:v,mapValues:mapValues,mapValuesLimit:le,mapValuesSeries:mapValuesSeries,memoize:memoize,nextTick:ue,parallel:parallel,parallelLimit:parallelLimit,priorityQueue:priorityQueue,queue:queue,race:he,reduce:x,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:de,rejectLimit:pe,rejectSeries:ge,retry:retry,retryable:retryable,seq:seq,series:series,setImmediate:o,some:me,someLimit:_e,someSeries:ve,sortBy:we,timeout:timeout,times:times,timesLimit:timesLimit,timesSeries:timesSeries,transform:transform,tryEach:Ae,unmemoize:unmemoize,until:until,waterfall:Se,whilst:Ee,all:J,allLimit:ee,allSeries:te,any:me,anyLimit:_e,anySeries:ve,find:j,findLimit:W,findSeries:Q,flatMap:L,flatMapLimit:B,flatMapSeries:U,forEach:q,forEachSeries:V,forEachLimit:Y,forEachOf:p,forEachOfSeries:_,forEachOfLimit:f,inject:x,foldl:x,foldr:reduceRight,select:re,selectLimit:ne,selectSeries:ie,wrapSync:asyncify,during:Ee,doDuring:G};e.all=J;e.allLimit=ee;e.allSeries=te;e.any=me;e.anyLimit=_e;e.anySeries=ve;e.apply=apply;e.applyEach=b;e.applyEachSeries=w;e.asyncify=asyncify;e.auto=auto;e.autoInject=autoInject;e.cargo=cargo$1;e.cargoQueue=cargo;e.compose=compose;e.concat=L;e.concatLimit=B;e.concatSeries=U;e.constant=constant$1;e.default=Ie;e.detect=j;e.detectLimit=W;e.detectSeries=Q;e.dir=z;e.doDuring=G;e.doUntil=doUntil;e.doWhilst=G;e.during=Ee;e.each=q;e.eachLimit=Y;e.eachOf=p;e.eachOfLimit=f;e.eachOfSeries=_;e.eachSeries=V;e.ensureAsync=ensureAsync;e.every=J;e.everyLimit=ee;e.everySeries=te;e.filter=re;e.filterLimit=ne;e.filterSeries=ie;e.find=j;e.findLimit=W;e.findSeries=Q;e.flatMap=L;e.flatMapLimit=B;e.flatMapSeries=U;e.foldl=x;e.foldr=reduceRight;e.forEach=q;e.forEachLimit=Y;e.forEachOf=p;e.forEachOfLimit=f;e.forEachOfSeries=_;e.forEachSeries=V;e.forever=se;e.groupBy=groupBy;e.groupByLimit=oe;e.groupBySeries=groupBySeries;e.inject=x;e.log=ae;e.map=g;e.mapLimit=P;e.mapSeries=v;e.mapValues=mapValues;e.mapValuesLimit=le;e.mapValuesSeries=mapValuesSeries;e.memoize=memoize;e.nextTick=ue;e.parallel=parallel;e.parallelLimit=parallelLimit;e.priorityQueue=priorityQueue;e.queue=queue;e.race=he;e.reduce=x;e.reduceRight=reduceRight;e.reflect=reflect;e.reflectAll=reflectAll;e.reject=de;e.rejectLimit=pe;e.rejectSeries=ge;e.retry=retry;e.retryable=retryable;e.select=re;e.selectLimit=ne;e.selectSeries=ie;e.seq=seq;e.series=series;e.setImmediate=o;e.some=me;e.someLimit=_e;e.someSeries=ve;e.sortBy=we;e.timeout=timeout;e.times=times;e.timesLimit=timesLimit;e.timesSeries=timesSeries;e.transform=transform;e.tryEach=Ae;e.unmemoize=unmemoize;e.until=until;e.waterfall=Se;e.whilst=Ee;e.wrapSync=asyncify;Object.defineProperty(e,"__esModule",{value:true})}))},32312:e=>{function isBuffer(e){return Buffer.isBuffer(e)||e instanceof Uint8Array}function isEncoding(e){return Buffer.isEncoding(e)}function alloc(e,r,n){return Buffer.alloc(e,r,n)}function allocUnsafe(e){return Buffer.allocUnsafe(e)}function allocUnsafeSlow(e){return Buffer.allocUnsafeSlow(e)}function byteLength(e,r){return Buffer.byteLength(e,r)}function compare(e,r){return Buffer.compare(e,r)}function concat(e,r){return Buffer.concat(e,r)}function copy(e,r,n,i,s){return toBuffer(e).copy(r,n,i,s)}function equals(e,r){return toBuffer(e).equals(r)}function fill(e,r,n,i,s){return toBuffer(e).fill(r,n,i,s)}function from(e,r,n){return Buffer.from(e,r,n)}function includes(e,r,n,i){return toBuffer(e).includes(r,n,i)}function indexOf(e,r,n,i){return toBuffer(e).indexOf(r,n,i)}function lastIndexOf(e,r,n,i){return toBuffer(e).lastIndexOf(r,n,i)}function swap16(e){return toBuffer(e).swap16()}function swap32(e){return toBuffer(e).swap32()}function swap64(e){return toBuffer(e).swap64()}function toBuffer(e){if(Buffer.isBuffer(e))return e;return Buffer.from(e.buffer,e.byteOffset,e.byteLength)}function toString(e,r,n,i){return toBuffer(e).toString(r,n,i)}function write(e,r,n,i,s){return toBuffer(e).write(r,n,i,s)}function writeDoubleLE(e,r,n){return toBuffer(e).writeDoubleLE(r,n)}function writeFloatLE(e,r,n){return toBuffer(e).writeFloatLE(r,n)}function writeUInt32LE(e,r,n){return toBuffer(e).writeUInt32LE(r,n)}function writeInt32LE(e,r,n){return toBuffer(e).writeInt32LE(r,n)}function readDoubleLE(e,r){return toBuffer(e).readDoubleLE(r)}function readFloatLE(e,r){return toBuffer(e).readFloatLE(r)}function readUInt32LE(e,r){return toBuffer(e).readUInt32LE(r)}function readInt32LE(e,r){return toBuffer(e).readInt32LE(r)}function writeDoubleBE(e,r,n){return toBuffer(e).writeDoubleBE(r,n)}function writeFloatBE(e,r,n){return toBuffer(e).writeFloatBE(r,n)}function writeUInt32BE(e,r,n){return toBuffer(e).writeUInt32BE(r,n)}function writeInt32BE(e,r,n){return toBuffer(e).writeInt32BE(r,n)}function readDoubleBE(e,r){return toBuffer(e).readDoubleBE(r)}function readFloatBE(e,r){return toBuffer(e).readFloatBE(r)}function readUInt32BE(e,r){return toBuffer(e).readUInt32BE(r)}function readInt32BE(e,r){return toBuffer(e).readInt32BE(r)}e.exports={isBuffer:isBuffer,isEncoding:isEncoding,alloc:alloc,allocUnsafe:allocUnsafe,allocUnsafeSlow:allocUnsafeSlow,byteLength:byteLength,compare:compare,concat:concat,copy:copy,equals:equals,fill:fill,from:from,includes:includes,indexOf:indexOf,lastIndexOf:lastIndexOf,swap16:swap16,swap32:swap32,swap64:swap64,toBuffer:toBuffer,toString:toString,write:write,writeDoubleLE:writeDoubleLE,writeFloatLE:writeFloatLE,writeUInt32LE:writeUInt32LE,writeInt32LE:writeInt32LE,readDoubleLE:readDoubleLE,readFloatLE:readFloatLE,readUInt32LE:readUInt32LE,readInt32LE:readInt32LE,writeDoubleBE:writeDoubleBE,writeFloatBE:writeFloatBE,writeUInt32BE:writeUInt32BE,writeInt32BE:writeInt32BE,readDoubleBE:readDoubleBE,readFloatBE:readFloatBE,readUInt32BE:readUInt32BE,readInt32BE:readInt32BE}},20127:e=>{"use strict";e.exports=balanced;function balanced(e,r,n){if(e instanceof RegExp)e=maybeMatch(e,n);if(r instanceof RegExp)r=maybeMatch(r,n);var i=range(e,r,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+r.length)}}function maybeMatch(e,r){var n=r.match(e);return n?n[0]:null}balanced.range=range;function range(e,r,n){var i,s,o,u,f;var p=n.indexOf(e);var g=n.indexOf(r,p+1);var b=p;if(p>=0&&g>0){if(e===r){return[p,g]}i=[];o=n.length;while(b>=0&&!f){if(b==p){i.push(b);p=n.indexOf(e,b+1)}else if(i.length==1){f=[i.pop(),g]}else{s=i.pop();if(s<o){o=s;u=g}g=n.indexOf(r,b+1)}b=p<g&&p>=0?p:g}if(i.length){f=[o,u]}}return f}},92327:(e,r,n)=>{"use strict";var i=n(27567).lowlevel.crypto_hash;var s=0;var Blowfish=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])];this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function F(e,r,n){return(e[0][r[n+3]]+e[1][r[n+2]]^e[2][r[n+1]])+e[3][r[n]]}Blowfish.prototype.encipher=function(e,r){if(r===undefined){r=new Uint8Array(e.buffer);if(e.byteOffset!==0)r=r.subarray(e.byteOffset)}e[0]^=this.P[0];for(var n=1;n<16;n+=2){e[1]^=F(this.S,r,0)^this.P[n];e[0]^=F(this.S,r,4)^this.P[n+1]}var i=e[0];e[0]=e[1]^this.P[17];e[1]=i};Blowfish.prototype.decipher=function(e){var r=new Uint8Array(e.buffer);if(e.byteOffset!==0)r=r.subarray(e.byteOffset);e[0]^=this.P[17];for(var n=16;n>0;n-=2){e[1]^=F(this.S,r,0)^this.P[n];e[0]^=F(this.S,r,4)^this.P[n-1]}var i=e[0];e[0]=e[1]^this.P[0];e[1]=i};function stream2word(e,r){var n,i=0;for(n=0;n<4;n++,s++){if(s>=r)s=0;i=i<<8|e[s]}return i}Blowfish.prototype.expand0state=function(e,r){var n=new Uint32Array(2),i,o;var u=new Uint8Array(n.buffer);for(i=0,s=0;i<18;i++){this.P[i]^=stream2word(e,r)}s=0;for(i=0;i<18;i+=2){this.encipher(n,u);this.P[i]=n[0];this.P[i+1]=n[1]}for(i=0;i<4;i++){for(o=0;o<256;o+=2){this.encipher(n,u);this.S[i][o]=n[0];this.S[i][o+1]=n[1]}}};Blowfish.prototype.expandstate=function(e,r,n,i){var o=new Uint32Array(2),u,f;for(u=0,s=0;u<18;u++){this.P[u]^=stream2word(n,i)}for(u=0,s=0;u<18;u+=2){o[0]^=stream2word(e,r);o[1]^=stream2word(e,r);this.encipher(o);this.P[u]=o[0];this.P[u+1]=o[1]}for(u=0;u<4;u++){for(f=0;f<256;f+=2){o[0]^=stream2word(e,r);o[1]^=stream2word(e,r);this.encipher(o);this.S[u][f]=o[0];this.S[u][f+1]=o[1]}}s=0};Blowfish.prototype.enc=function(e,r){for(var n=0;n<r;n++){this.encipher(e.subarray(n*2))}};Blowfish.prototype.dec=function(e,r){for(var n=0;n<r;n++){this.decipher(e.subarray(n*2))}};var o=8,u=32;function bcrypt_hash(e,r,n){var i=new Blowfish,s=new Uint32Array(o),u,f=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);i.expandstate(r,64,e,64);for(u=0;u<64;u++){i.expand0state(r,64);i.expand0state(e,64)}for(u=0;u<o;u++)s[u]=stream2word(f,f.byteLength);for(u=0;u<64;u++)i.enc(s,s.byteLength/8);for(u=0;u<o;u++){n[4*u+3]=s[u]>>>24;n[4*u+2]=s[u]>>>16;n[4*u+1]=s[u]>>>8;n[4*u+0]=s[u]}}function bcrypt_pbkdf(e,r,n,s,o,f,p){var g=new Uint8Array(64),b=new Uint8Array(64),_=new Uint8Array(u),v=new Uint8Array(u),w=new Uint8Array(s+4),I,k,C,R,T,x,P=f;if(p<1)return-1;if(r===0||s===0||f===0||f>_.byteLength*_.byteLength||s>1<<20)return-1;R=Math.floor((f+_.byteLength-1)/_.byteLength);C=Math.floor((f+R-1)/R);for(I=0;I<s;I++)w[I]=n[I];i(g,e,r);for(x=1;f>0;x++){w[s+0]=x>>>24;w[s+1]=x>>>16;w[s+2]=x>>>8;w[s+3]=x;i(b,w,s+4);bcrypt_hash(g,b,v);for(I=_.byteLength;I--;)_[I]=v[I];for(I=1;I<p;I++){i(b,v,v.byteLength);bcrypt_hash(g,b,v);for(k=0;k<_.byteLength;k++)_[k]^=v[k]}C=Math.min(C,f);for(I=0;I<C;I++){T=I*R+(x-1);if(T>=P)break;o[T]=_[I]}f-=I}return 0}e.exports={BLOCKS:o,HASHSIZE:u,hash:bcrypt_hash,pbkdf:bcrypt_pbkdf}},56083:(e,r,n)=>{var i=n(20127);e.exports=expandTop;var s="\0SLASH"+Math.random()+"\0";var o="\0OPEN"+Math.random()+"\0";var u="\0CLOSE"+Math.random()+"\0";var f="\0COMMA"+Math.random()+"\0";var p="\0PERIOD"+Math.random()+"\0";function numeric(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(u).split("\\,").join(f).split("\\.").join(p)}function unescapeBraces(e){return e.split(s).join("\\").split(o).join("{").split(u).join("}").split(f).join(",").split(p).join(".")}function parseCommaParts(e){if(!e)return[""];var r=[];var n=i("{","}",e);if(!n)return e.split(",");var s=n.pre;var o=n.body;var u=n.post;var f=s.split(",");f[f.length-1]+="{"+o+"}";var p=parseCommaParts(u);if(u.length){f[f.length-1]+=p.shift();f.push.apply(f,p)}r.push.apply(r,f);return r}function expandTop(e){if(!e)return[];if(e.substr(0,2)==="{}"){e="\\{\\}"+e.substr(2)}return expand(escapeBraces(e),true).map(unescapeBraces)}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,r){return e<=r}function gte(e,r){return e>=r}function expand(e,r){var n=[];var s=i("{","}",e);if(!s)return[e];var o=s.pre;var f=s.post.length?expand(s.post,false):[""];if(/\$$/.test(s.pre)){for(var p=0;p<f.length;p++){var g=o+"{"+s.body+"}"+f[p];n.push(g)}}else{var b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var _=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var v=b||_;var w=s.body.indexOf(",")>=0;if(!v&&!w){if(s.post.match(/,.*\}/)){e=s.pre+"{"+s.body+u+s.post;return expand(e)}return[e]}var I;if(v){I=s.body.split(/\.\./)}else{I=parseCommaParts(s.body);if(I.length===1){I=expand(I[0],false).map(embrace);if(I.length===1){return f.map((function(e){return s.pre+I[0]+e}))}}}var k;if(v){var C=numeric(I[0]);var R=numeric(I[1]);var T=Math.max(I[0].length,I[1].length);var x=I.length==3?Math.abs(numeric(I[2])):1;var P=lte;var B=R<C;if(B){x*=-1;P=gte}var L=I.some(isPadded);k=[];for(var U=C;P(U,R);U+=x){var j;if(_){j=String.fromCharCode(U);if(j==="\\")j=""}else{j=String(U);if(L){var W=T-j.length;if(W>0){var Q=new Array(W+1).join("0");if(U<0)j="-"+Q+j.slice(1);else j=Q+j}}}k.push(j)}}else{k=[];for(var z=0;z<I.length;z++){k.push.apply(k,expand(I[z],false))}}for(var z=0;z<k.length;z++){for(var p=0;p<f.length;p++){var g=o+k[z]+f[p];if(!r||v||g)n.push(g)}}}return n}},84271:e=>{var r=e.exports=function(){};r.prototype.getName=function(){};r.prototype.getSize=function(){};r.prototype.getLastModifiedDate=function(){};r.prototype.isDirectory=function(){}},24307:(e,r,n)=>{var i=n(39023).inherits;var s=n(53187);var o=n(88523).Transform;var u=n(84271);var f=n(24487);var p=e.exports=function(e){if(!(this instanceof p)){return new p(e)}o.call(this,e);this.offset=0;this._archive={finish:false,finished:false,processing:false}};i(p,o);p.prototype._appendBuffer=function(e,r,n){};p.prototype._appendStream=function(e,r,n){};p.prototype._emitErrorCallback=function(e){if(e){this.emit("error",e)}};p.prototype._finish=function(e){};p.prototype._normalizeEntry=function(e){};p.prototype._transform=function(e,r,n){n(null,e)};p.prototype.entry=function(e,r,n){r=r||null;if(typeof n!=="function"){n=this._emitErrorCallback.bind(this)}if(!(e instanceof u)){n(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){n(new Error("unacceptable entry after finish"));return}if(this._archive.processing){n(new Error("already processing an entry"));return}this._archive.processing=true;this._normalizeEntry(e);this._entry=e;r=f.normalizeInputSource(r);if(Buffer.isBuffer(r)){this._appendBuffer(e,r,n)}else if(s(r)){this._appendStream(e,r,n)}else{this._archive.processing=false;n(new Error("input source must be valid Stream or Buffer instance"));return}return this};p.prototype.finish=function(){if(this._archive.processing){this._archive.finish=true;return}this._finish()};p.prototype.getBytesWritten=function(){return this.offset};p.prototype.write=function(e,r){if(e){this.offset+=e.length}return o.prototype.write.call(this,e,r)}},75765:e=>{e.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}},117:(e,r,n)=>{var i=n(70794);var s=1<<3;var o=1<<0;var u=1<<2;var f=1<<1;var p=1<<6;var g=1<<11;var b=e.exports=function(){if(!(this instanceof b)){return new b}this.descriptor=false;this.encryption=false;this.utf8=false;this.numberOfShannonFanoTrees=0;this.strongEncryption=false;this.slidingDictionarySize=0;return this};b.prototype.encode=function(){return i.getShortBytes((this.descriptor?s:0)|(this.utf8?g:0)|(this.encryption?o:0)|(this.strongEncryption?p:0))};b.prototype.parse=function(e,r){var n=i.getShortBytesValue(e,r);var _=new b;_.useDataDescriptor((n&s)!==0);_.useUTF8ForNames((n&g)!==0);_.useStrongEncryption((n&p)!==0);_.useEncryption((n&o)!==0);_.setSlidingDictionarySize((n&f)!==0?8192:4096);_.setNumberOfShannonFanoTrees((n&u)!==0?3:2);return _};b.prototype.setNumberOfShannonFanoTrees=function(e){this.numberOfShannonFanoTrees=e};b.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};b.prototype.setSlidingDictionarySize=function(e){this.slidingDictionarySize=e};b.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};b.prototype.useDataDescriptor=function(e){this.descriptor=e};b.prototype.usesDataDescriptor=function(){return this.descriptor};b.prototype.useEncryption=function(e){this.encryption=e};b.prototype.usesEncryption=function(){return this.encryption};b.prototype.useStrongEncryption=function(e){this.strongEncryption=e};b.prototype.usesStrongEncryption=function(){return this.strongEncryption};b.prototype.useUTF8ForNames=function(e){this.utf8=e};b.prototype.usesUTF8ForNames=function(){return this.utf8}},60015:e=>{e.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}},70794:e=>{var r=e.exports={};r.dateToDos=function(e,r){r=r||false;var n=r?e.getFullYear():e.getUTCFullYear();if(n<1980){return 2162688}else if(n>=2044){return 2141175677}var i={year:n,month:r?e.getMonth():e.getUTCMonth(),date:r?e.getDate():e.getUTCDate(),hours:r?e.getHours():e.getUTCHours(),minutes:r?e.getMinutes():e.getUTCMinutes(),seconds:r?e.getSeconds():e.getUTCSeconds()};return i.year-1980<<25|i.month+1<<21|i.date<<16|i.hours<<11|i.minutes<<5|i.seconds/2};r.dosToDate=function(e){return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1)};r.fromDosTime=function(e){return r.dosToDate(e.readUInt32LE(0))};r.getEightBytes=function(e){var r=Buffer.alloc(8);r.writeUInt32LE(e%4294967296,0);r.writeUInt32LE(e/4294967296|0,4);return r};r.getShortBytes=function(e){var r=Buffer.alloc(2);r.writeUInt16LE((e&65535)>>>0,0);return r};r.getShortBytesValue=function(e,r){return e.readUInt16LE(r)};r.getLongBytes=function(e){var r=Buffer.alloc(4);r.writeUInt32LE((e&4294967295)>>>0,0);return r};r.getLongBytesValue=function(e,r){return e.readUInt32LE(r)};r.toDosTime=function(e){return r.getLongBytes(r.dateToDos(e))}},6469:(e,r,n)=>{var i=n(39023).inherits;var s=n(44527);var o=n(84271);var u=n(117);var f=n(60015);var p=n(75765);var g=n(70794);var b=e.exports=function(e){if(!(this instanceof b)){return new b(e)}o.call(this);this.platform=p.PLATFORM_FAT;this.method=-1;this.name=null;this.size=0;this.csize=0;this.gpb=new u;this.crc=0;this.time=-1;this.minver=p.MIN_VERSION_INITIAL;this.mode=-1;this.extra=null;this.exattr=0;this.inattr=0;this.comment=null;if(e){this.setName(e)}};i(b,o);b.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};b.prototype.getComment=function(){return this.comment!==null?this.comment:""};b.prototype.getCompressedSize=function(){return this.csize};b.prototype.getCrc=function(){return this.crc};b.prototype.getExternalAttributes=function(){return this.exattr};b.prototype.getExtra=function(){return this.extra!==null?this.extra:p.EMPTY};b.prototype.getGeneralPurposeBit=function(){return this.gpb};b.prototype.getInternalAttributes=function(){return this.inattr};b.prototype.getLastModifiedDate=function(){return this.getTime()};b.prototype.getLocalFileDataExtra=function(){return this.getExtra()};b.prototype.getMethod=function(){return this.method};b.prototype.getName=function(){return this.name};b.prototype.getPlatform=function(){return this.platform};b.prototype.getSize=function(){return this.size};b.prototype.getTime=function(){return this.time!==-1?g.dosToDate(this.time):-1};b.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};b.prototype.getUnixMode=function(){return this.platform!==p.PLATFORM_UNIX?0:this.getExternalAttributes()>>p.SHORT_SHIFT&p.SHORT_MASK};b.prototype.getVersionNeededToExtract=function(){return this.minver};b.prototype.setComment=function(e){if(Buffer.byteLength(e)!==e.length){this.getGeneralPurposeBit().useUTF8ForNames(true)}this.comment=e};b.prototype.setCompressedSize=function(e){if(e<0){throw new Error("invalid entry compressed size")}this.csize=e};b.prototype.setCrc=function(e){if(e<0){throw new Error("invalid entry crc32")}this.crc=e};b.prototype.setExternalAttributes=function(e){this.exattr=e>>>0};b.prototype.setExtra=function(e){this.extra=e};b.prototype.setGeneralPurposeBit=function(e){if(!(e instanceof u)){throw new Error("invalid entry GeneralPurposeBit")}this.gpb=e};b.prototype.setInternalAttributes=function(e){this.inattr=e};b.prototype.setMethod=function(e){if(e<0){throw new Error("invalid entry compression method")}this.method=e};b.prototype.setName=function(e,r=false){e=s(e,false).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"");if(r){e=`/${e}`}if(Buffer.byteLength(e)!==e.length){this.getGeneralPurposeBit().useUTF8ForNames(true)}this.name=e};b.prototype.setPlatform=function(e){this.platform=e};b.prototype.setSize=function(e){if(e<0){throw new Error("invalid entry size")}this.size=e};b.prototype.setTime=function(e,r){if(!(e instanceof Date)){throw new Error("invalid entry time")}this.time=g.dateToDos(e,r)};b.prototype.setUnixMode=function(e){e|=this.isDirectory()?p.S_IFDIR:p.S_IFREG;var r=0;r|=e<<p.SHORT_SHIFT|(this.isDirectory()?p.S_DOS_D:p.S_DOS_A);this.setExternalAttributes(r);this.mode=e&p.MODE_MASK;this.platform=p.PLATFORM_UNIX};b.prototype.setVersionNeededToExtract=function(e){this.minver=e};b.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};b.prototype.isUnixSymlink=function(){return(this.getUnixMode()&f.FILE_TYPE_FLAG)===f.LINK_FLAG};b.prototype.isZip64=function(){return this.csize>p.ZIP64_MAGIC||this.size>p.ZIP64_MAGIC}},16509:(e,r,n)=>{var i=n(39023).inherits;var s=n(83778);var{CRC32Stream:o}=n(6504);var{DeflateCRC32Stream:u}=n(6504);var f=n(24307);var p=n(6469);var g=n(117);var b=n(75765);var _=n(24487);var v=n(70794);var w=e.exports=function(e){if(!(this instanceof w)){return new w(e)}e=this.options=this._defaults(e);f.call(this,e);this._entry=null;this._entries=[];this._archive={centralLength:0,centralOffset:0,comment:"",finish:false,finished:false,processing:false,forceZip64:e.forceZip64,forceLocalTime:e.forceLocalTime}};i(w,f);w.prototype._afterAppend=function(e){this._entries.push(e);if(e.getGeneralPurposeBit().usesDataDescriptor()){this._writeDataDescriptor(e)}this._archive.processing=false;this._entry=null;if(this._archive.finish&&!this._archive.finished){this._finish()}};w.prototype._appendBuffer=function(e,r,n){if(r.length===0){e.setMethod(b.METHOD_STORED)}var i=e.getMethod();if(i===b.METHOD_STORED){e.setSize(r.length);e.setCompressedSize(r.length);e.setCrc(s.buf(r)>>>0)}this._writeLocalFileHeader(e);if(i===b.METHOD_STORED){this.write(r);this._afterAppend(e);n(null,e);return}else if(i===b.METHOD_DEFLATED){this._smartStream(e,n).end(r);return}else{n(new Error("compression method "+i+" not implemented"));return}};w.prototype._appendStream=function(e,r,n){e.getGeneralPurposeBit().useDataDescriptor(true);e.setVersionNeededToExtract(b.MIN_VERSION_DATA_DESCRIPTOR);this._writeLocalFileHeader(e);var i=this._smartStream(e,n);r.once("error",(function(e){i.emit("error",e);i.end()}));r.pipe(i)};w.prototype._defaults=function(e){if(typeof e!=="object"){e={}}if(typeof e.zlib!=="object"){e.zlib={}}if(typeof e.zlib.level!=="number"){e.zlib.level=b.ZLIB_BEST_SPEED}e.forceZip64=!!e.forceZip64;e.forceLocalTime=!!e.forceLocalTime;return e};w.prototype._finish=function(){this._archive.centralOffset=this.offset;this._entries.forEach(function(e){this._writeCentralFileHeader(e)}.bind(this));this._archive.centralLength=this.offset-this._archive.centralOffset;if(this.isZip64()){this._writeCentralDirectoryZip64()}this._writeCentralDirectoryEnd();this._archive.processing=false;this._archive.finish=true;this._archive.finished=true;this.end()};w.prototype._normalizeEntry=function(e){if(e.getMethod()===-1){e.setMethod(b.METHOD_DEFLATED)}if(e.getMethod()===b.METHOD_DEFLATED){e.getGeneralPurposeBit().useDataDescriptor(true);e.setVersionNeededToExtract(b.MIN_VERSION_DATA_DESCRIPTOR)}if(e.getTime()===-1){e.setTime(new Date,this._archive.forceLocalTime)}e._offsets={file:0,data:0,contents:0}};w.prototype._smartStream=function(e,r){var n=e.getMethod()===b.METHOD_DEFLATED;var i=n?new u(this.options.zlib):new o;var s=null;function handleStuff(){var n=i.digest().readUInt32BE(0);e.setCrc(n);e.setSize(i.size());e.setCompressedSize(i.size(true));this._afterAppend(e);r(s,e)}i.once("end",handleStuff.bind(this));i.once("error",(function(e){s=e}));i.pipe(this,{end:false});return i};w.prototype._writeCentralDirectoryEnd=function(){var e=this._entries.length;var r=this._archive.centralLength;var n=this._archive.centralOffset;if(this.isZip64()){e=b.ZIP64_MAGIC_SHORT;r=b.ZIP64_MAGIC;n=b.ZIP64_MAGIC}this.write(v.getLongBytes(b.SIG_EOCD));this.write(b.SHORT_ZERO);this.write(b.SHORT_ZERO);this.write(v.getShortBytes(e));this.write(v.getShortBytes(e));this.write(v.getLongBytes(r));this.write(v.getLongBytes(n));var i=this.getComment();var s=Buffer.byteLength(i);this.write(v.getShortBytes(s));this.write(i)};w.prototype._writeCentralDirectoryZip64=function(){this.write(v.getLongBytes(b.SIG_ZIP64_EOCD));this.write(v.getEightBytes(44));this.write(v.getShortBytes(b.MIN_VERSION_ZIP64));this.write(v.getShortBytes(b.MIN_VERSION_ZIP64));this.write(b.LONG_ZERO);this.write(b.LONG_ZERO);this.write(v.getEightBytes(this._entries.length));this.write(v.getEightBytes(this._entries.length));this.write(v.getEightBytes(this._archive.centralLength));this.write(v.getEightBytes(this._archive.centralOffset));this.write(v.getLongBytes(b.SIG_ZIP64_EOCD_LOC));this.write(b.LONG_ZERO);this.write(v.getEightBytes(this._archive.centralOffset+this._archive.centralLength));this.write(v.getLongBytes(1))};w.prototype._writeCentralFileHeader=function(e){var r=e.getGeneralPurposeBit();var n=e.getMethod();var i=e._offsets.file;var s=e.getSize();var o=e.getCompressedSize();if(e.isZip64()||i>b.ZIP64_MAGIC){s=b.ZIP64_MAGIC;o=b.ZIP64_MAGIC;i=b.ZIP64_MAGIC;e.setVersionNeededToExtract(b.MIN_VERSION_ZIP64);var u=Buffer.concat([v.getShortBytes(b.ZIP64_EXTRA_ID),v.getShortBytes(24),v.getEightBytes(e.getSize()),v.getEightBytes(e.getCompressedSize()),v.getEightBytes(e._offsets.file)],28);e.setExtra(u)}this.write(v.getLongBytes(b.SIG_CFH));this.write(v.getShortBytes(e.getPlatform()<<8|b.VERSION_MADEBY));this.write(v.getShortBytes(e.getVersionNeededToExtract()));this.write(r.encode());this.write(v.getShortBytes(n));this.write(v.getLongBytes(e.getTimeDos()));this.write(v.getLongBytes(e.getCrc()));this.write(v.getLongBytes(o));this.write(v.getLongBytes(s));var f=e.getName();var p=e.getComment();var g=e.getCentralDirectoryExtra();if(r.usesUTF8ForNames()){f=Buffer.from(f);p=Buffer.from(p)}this.write(v.getShortBytes(f.length));this.write(v.getShortBytes(g.length));this.write(v.getShortBytes(p.length));this.write(b.SHORT_ZERO);this.write(v.getShortBytes(e.getInternalAttributes()));this.write(v.getLongBytes(e.getExternalAttributes()));this.write(v.getLongBytes(i));this.write(f);this.write(g);this.write(p)};w.prototype._writeDataDescriptor=function(e){this.write(v.getLongBytes(b.SIG_DD));this.write(v.getLongBytes(e.getCrc()));if(e.isZip64()){this.write(v.getEightBytes(e.getCompressedSize()));this.write(v.getEightBytes(e.getSize()))}else{this.write(v.getLongBytes(e.getCompressedSize()));this.write(v.getLongBytes(e.getSize()))}};w.prototype._writeLocalFileHeader=function(e){var r=e.getGeneralPurposeBit();var n=e.getMethod();var i=e.getName();var s=e.getLocalFileDataExtra();if(e.isZip64()){r.useDataDescriptor(true);e.setVersionNeededToExtract(b.MIN_VERSION_ZIP64)}if(r.usesUTF8ForNames()){i=Buffer.from(i)}e._offsets.file=this.offset;this.write(v.getLongBytes(b.SIG_LFH));this.write(v.getShortBytes(e.getVersionNeededToExtract()));this.write(r.encode());this.write(v.getShortBytes(n));this.write(v.getLongBytes(e.getTimeDos()));e._offsets.data=this.offset;if(r.usesDataDescriptor()){this.write(b.LONG_ZERO);this.write(b.LONG_ZERO);this.write(b.LONG_ZERO)}else{this.write(v.getLongBytes(e.getCrc()));this.write(v.getLongBytes(e.getCompressedSize()));this.write(v.getLongBytes(e.getSize()))}this.write(v.getShortBytes(i.length));this.write(v.getShortBytes(s.length));this.write(i);this.write(s);e._offsets.contents=this.offset};w.prototype.getComment=function(e){return this._archive.comment!==null?this._archive.comment:""};w.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>b.ZIP64_MAGIC_SHORT||this._archive.centralLength>b.ZIP64_MAGIC||this._archive.centralOffset>b.ZIP64_MAGIC};w.prototype.setComment=function(e){this._archive.comment=e}},83223:(e,r,n)=>{e.exports={ArchiveEntry:n(84271),ZipArchiveEntry:n(6469),ArchiveOutputStream:n(24307),ZipArchiveOutputStream:n(16509)}},24487:(e,r,n)=>{var i=n(2203).Stream;var s=n(88523).PassThrough;var o=n(53187);var u=e.exports={};u.normalizeInputSource=function(e){if(e===null){return Buffer.alloc(0)}else if(typeof e==="string"){return Buffer.from(e)}else if(o(e)&&!e._readableState){var r=new s;e.pipe(r);return r}return e}},20230:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.renderTable=r.printTable=r.Table=void 0;const s=i(n(25366));r.Table=s.default;const o=n(80442);Object.defineProperty(r,"printTable",{enumerable:true,get:function(){return o.printSimpleTable}});Object.defineProperty(r,"renderTable",{enumerable:true,get:function(){return o.renderSimpleTable}})},25366:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});const s=i(n(20759));const o=n(58705);class Table{constructor(e){this.table=new s.default(e)}addColumn(e){this.table.addColumn(e);return this}addColumns(e){this.table.addColumns(e);return this}addRow(e,r){this.table.addRow(e,(0,o.convertRawRowOptionsToStandard)(r));return this}addRows(e,r){this.table.addRows(e,(0,o.convertRawRowOptionsToStandard)(r));return this}printTable(){const e=this.table.renderTable();console.log(e)}render(){return this.table.renderTable()}}r["default"]=Table},84474:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.rawColumnToInternalColumn=r.objIfExists=void 0;const i=n(68041);const objIfExists=(e,r)=>{if(!r){return{}}return{[e]:r}};r.objIfExists=objIfExists;const rawColumnToInternalColumn=(e,n)=>{var s;return Object.assign(Object.assign(Object.assign(Object.assign({name:e.name,title:(s=e.title)!==null&&s!==void 0?s:e.name},(0,r.objIfExists)("color",e.color||(n===null||n===void 0?void 0:n.color))),(0,r.objIfExists)("maxLen",e.maxLen||(n===null||n===void 0?void 0:n.maxLen))),(0,r.objIfExists)("minLen",e.minLen||(n===null||n===void 0?void 0:n.minLen))),{alignment:e.alignment||(n===null||n===void 0?void 0:n.alignment)||i.DEFAULT_ROW_ALIGNMENT})};r.rawColumnToInternalColumn=rawColumnToInternalColumn},80442:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.printSimpleTable=r.renderSimpleTable=r.renderTable=void 0;const s=i(n(93734));const o=n(97732);const u=n(68041);const f=n(58705);const p=i(n(20759));const g=n(78893);const renderOneLine=(e,r,n,i,p,g,b,_)=>{const v=new s.default(b);v.addCharsWithColor("",e.vertical);r.forEach((r=>{const s=n<i[r.name].length;const b=s?(0,f.cellText)(i[r.name][n]):"";v.addCharsWithColor(u.DEFAULT_ROW_FONT_COLOR," ");v.addCharsWithColor(p&&u.DEFAULT_HEADER_FONT_COLOR||r.color||g.color,(0,o.textWithPadding)(b,r.alignment||u.DEFAULT_ROW_ALIGNMENT,r.length||u.DEFAULT_COLUMN_LEN,_));v.addCharsWithColor("",` ${e.vertical}`)}));return v.renderConsole()};const renderWidthLimitedLines=(e,r,n,i,s,o)=>{const u=(0,f.getWidthLimitedColumnsArray)(r,n,o);const p=Object.values(u).reduce(((e,r)=>Math.max(e,r.length)),0);const g=[];for(let f=0;f<p;f+=1){const p=renderOneLine(e,r,f,u,s,n,i,o);g.push(p)}return g};const renderRow=(e,r)=>{let n=[];n=n.concat(renderWidthLimitedLines(e.tableStyle,e.columns,r,e.colorMap,undefined,e.charLength));return n};const renderTableTitle=e=>{const r=[];if(e.title===undefined){return r}const getTableWidth=()=>{const reducer=(e,r)=>e+r+2+1;return e.columns.map((e=>e.length||u.DEFAULT_COLUMN_LEN)).reduce(reducer,1)};const n=(0,o.textWithPadding)(e.title,u.DEFAULT_HEADER_ALIGNMENT,getTableWidth());const i=new s.default(e.colorMap);i.addCharsWithColor(u.DEFAULT_HEADER_FONT_COLOR,n);r.push(i.renderConsole());return r};const renderTableHeaders=e=>{let r=[];r.push((0,f.renderTableHorizontalBorders)(e.tableStyle.headerTop,e.columns.map((e=>e.length||u.DEFAULT_COLUMN_LEN))));const n=(0,f.createHeaderAsRow)(f.createRow,e.columns);r=r.concat(renderWidthLimitedLines(e.tableStyle,e.columns,n,e.colorMap,true));r.push((0,f.renderTableHorizontalBorders)(e.tableStyle.headerBottom,e.columns.map((e=>e.length||u.DEFAULT_COLUMN_LEN))));return r};const renderTableEnding=e=>{const r=[];r.push((0,f.renderTableHorizontalBorders)(e.tableStyle.tableBottom,e.columns.map((e=>e.length||u.DEFAULT_COLUMN_LEN))));return r};const renderRowSeparator=(e,r)=>{const n=[];const i=e.rows.length-1;const s=e.rows.indexOf(r);if(s!==i&&r.separator){n.push((0,f.renderTableHorizontalBorders)(e.tableStyle.rowSeparator,e.columns.map((e=>e.length||u.DEFAULT_COLUMN_LEN))))}return n};const renderTable=e=>{(0,g.preProcessColumns)(e);(0,g.preProcessRows)(e);const r=[];renderTableTitle(e).forEach((e=>r.push(e)));renderTableHeaders(e).forEach((e=>r.push(e)));e.rows.forEach((n=>{renderRow(e,n).forEach((e=>r.push(e)));renderRowSeparator(e,n).forEach((e=>r.push(e)))}));renderTableEnding(e).forEach((e=>r.push(e)));return r.join("\n")};r.renderTable=renderTable;const renderSimpleTable=(e,n)=>{const i=new p.default(n);i.addRows(e);return(0,r.renderTable)(i)};r.renderSimpleTable=renderSimpleTable;const printSimpleTable=(e,n)=>{console.log((0,r.renderSimpleTable)(e,n))};r.printSimpleTable=printSimpleTable},20759:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});const i=n(93734);const s=n(68041);const o=n(58705);const u=n(84474);const f=n(80442);const DEFAULT_ROW_SORT_FUNC=()=>0;const DEFAULT_ROW_FILTER_FUNC=()=>true;class TableInternal{initSimple(e){this.columns=e.map((e=>({name:e,title:e,alignment:s.DEFAULT_ROW_ALIGNMENT})))}initDetailed(e){var r;this.title=(e===null||e===void 0?void 0:e.title)||this.title;this.tableStyle=(e===null||e===void 0?void 0:e.style)||this.tableStyle;this.sortFunction=(e===null||e===void 0?void 0:e.sort)||this.sortFunction;this.filterFunction=(e===null||e===void 0?void 0:e.filter)||this.filterFunction;this.enabledColumns=(e===null||e===void 0?void 0:e.enabledColumns)||this.enabledColumns;this.disabledColumns=(e===null||e===void 0?void 0:e.disabledColumns)||this.disabledColumns;this.computedColumns=(e===null||e===void 0?void 0:e.computedColumns)||this.computedColumns;this.columns=((r=e===null||e===void 0?void 0:e.columns)===null||r===void 0?void 0:r.map((r=>(0,u.rawColumnToInternalColumn)(r,e===null||e===void 0?void 0:e.defaultColumnOptions))))||this.columns;this.rowSeparator=(e===null||e===void 0?void 0:e.rowSeparator)||this.rowSeparator;this.charLength=(e===null||e===void 0?void 0:e.charLength)||this.charLength;this.defaultColumnOptions=(e===null||e===void 0?void 0:e.defaultColumnOptions)||this.defaultColumnOptions;if(e===null||e===void 0?void 0:e.shouldDisableColors){this.colorMap={}}else if(e===null||e===void 0?void 0:e.colorMap){this.colorMap=Object.assign(Object.assign({},this.colorMap),e.colorMap)}if(e.rows!==undefined){this.addRows(e.rows)}}constructor(e){this.rows=[];this.columns=[];this.title=undefined;this.tableStyle=s.DEFAULT_TABLE_STYLE;this.filterFunction=DEFAULT_ROW_FILTER_FUNC;this.sortFunction=DEFAULT_ROW_SORT_FUNC;this.enabledColumns=[];this.disabledColumns=[];this.computedColumns=[];this.rowSeparator=s.DEFAULT_ROW_SEPARATOR;this.colorMap=i.DEFAULT_COLOR_MAP;this.charLength={};this.defaultColumnOptions=undefined;if(e instanceof Array){this.initSimple(e)}else if(typeof e==="object"){this.initDetailed(e)}}createColumnFromRow(e){const r=this.columns.map((e=>e.name));Object.keys(e).forEach((e=>{if(!r.includes(e)){this.columns.push((0,u.rawColumnToInternalColumn)((0,o.createColumFromOnlyName)(e),this.defaultColumnOptions))}}))}addColumn(e){const r=typeof e==="string"?(0,o.createColumFromOnlyName)(e):e;this.columns.push((0,u.rawColumnToInternalColumn)(r,this.defaultColumnOptions))}addColumns(e){e.forEach((e=>{this.addColumn(e)}))}addRow(e,r){this.createColumnFromRow(e);this.rows.push((0,o.createRow)((r===null||r===void 0?void 0:r.color)||s.DEFAULT_ROW_FONT_COLOR,e,(r===null||r===void 0?void 0:r.separator)!==undefined?r===null||r===void 0?void 0:r.separator:this.rowSeparator))}addRows(e,r){e.forEach((e=>{this.addRow(e,r)}))}renderTable(){return(0,f.renderTable)(this)}}r["default"]=TableInternal},78893:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.preProcessRows=r.preProcessColumns=void 0;const i=n(58705);const createComputedColumnsIfNecessary=e=>{if(e.computedColumns.length){e.computedColumns.forEach((r=>{const n=e.columns.some((e=>e.name===r.name));if(n){return}e.addColumn(Object.assign(Object.assign({},r),e.defaultColumnOptions));e.rows.forEach(((e,n,i)=>{const s=i.map((e=>e.text));e.text[r.name]=r.function(e.text,n,s)}))}))}};const disableColumnsIfNecessary=e=>{if(e.enabledColumns.length){e.columns=e.columns.filter((r=>e.enabledColumns.includes(r.name)))}};const enableColumnsIfNecessary=e=>{if(e.disabledColumns.length){e.columns=e.columns.filter((r=>!e.disabledColumns.includes(r.name)))}};const findColumnWidth=e=>{e.columns.forEach((r=>{r.length=(0,i.findLenOfColumn)(r,e.rows,e.charLength)}))};const preProcessColumns=e=>{createComputedColumnsIfNecessary(e);enableColumnsIfNecessary(e);disableColumnsIfNecessary(e);findColumnWidth(e)};r.preProcessColumns=preProcessColumns;const preProcessRows=e=>{const r=e.rows.filter((r=>e.filterFunction(r.text))).sort(((r,n)=>e.sortFunction(r.text,n.text)));e.rows=r};r.preProcessRows=preProcessRows},93734:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DEFAULT_COLOR_MAP=void 0;r.DEFAULT_COLOR_MAP={red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",white_bold:"[01m",reset:"[0m"};class ColoredConsoleLine{constructor(e=r.DEFAULT_COLOR_MAP){this.text="";this.colorMap=e}addCharsWithColor(e,r){const n=this.colorMap[e];this.text+=n!==undefined?`${n}${r}${this.colorMap.reset}`:r}renderConsole(){return this.text}}r["default"]=ColoredConsoleLine},84300:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.findWidthInConsole=r.stripAnsi=void 0;const i=n(99511);const s=/\x1b\[\d{1,3}(;\d{1,3})*m/g;const stripAnsi=e=>e.replace(s,"");r.stripAnsi=stripAnsi;const findWidthInConsole=(e,n)=>{let s=0;e=(0,r.stripAnsi)(e);if(n){Object.entries(n).forEach((([r,n])=>{const i=new RegExp(r,"g");s+=(e.match(i)||[]).length*n;e=e.replace(r,"")}))}s+=(0,i.wcswidth)(e);return s};r.findWidthInConsole=findWidthInConsole},97732:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.biggestWordInSentence=r.textWithPadding=r.splitTextIntoTextsOfMinLen=void 0;const i=n(84300);const splitTextIntoTextsOfMinLen=(e,r,n)=>{const s=[];const o=e.split(/[\n\r]/);o.forEach((e=>{const o=e.split(" ");let u=[];let f=0;o.forEach((e=>{const o=(0,i.findWidthInConsole)(e,n);if(f+o<=r){f+=o+1;u.push(e)}else{if(u.length>0)s.push(u.join(" "));u=[e];f=o+1}}));s.push(u.join(" "))}));return s};r.splitTextIntoTextsOfMinLen=splitTextIntoTextsOfMinLen;const textWithPadding=(e,n,s,o)=>{const u=(0,i.findWidthInConsole)(e,o);const f=Math.floor((s-u)/2);const p=s-f-u;if(s<u){const i=(0,r.splitTextIntoTextsOfMinLen)(e,s);if(i.length===1){return e}return i.map((e=>(0,r.textWithPadding)(e,n,s,o))).join("\n")}switch(n){case"left":return e.concat(" ".repeat(s-u));case"center":return" ".repeat(f).concat(e).concat(" ".repeat(p));case"right":default:return" ".repeat(s-u).concat(e)}};r.textWithPadding=textWithPadding;const biggestWordInSentence=(e,r)=>e.split(" ").reduce(((e,n)=>Math.max(e,(0,i.findWidthInConsole)(n,r))),0);r.biggestWordInSentence=biggestWordInSentence},68041:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DEFAULT_HEADER_ALIGNMENT=r.DEFAULT_ROW_ALIGNMENT=r.DEFAULT_HEADER_FONT_COLOR=r.DEFAULT_ROW_FONT_COLOR=r.COLORS=r.ALIGNMENTS=r.DEFAULT_TABLE_STYLE=r.DEFAULT_ROW_SEPARATOR=r.DEFAULT_COLUMN_LEN=void 0;r.DEFAULT_COLUMN_LEN=20;r.DEFAULT_ROW_SEPARATOR=false;r.DEFAULT_TABLE_STYLE={headerTop:{left:"┌",mid:"┬",right:"┐",other:"─"},headerBottom:{left:"├",mid:"┼",right:"┤",other:"─"},tableBottom:{left:"└",mid:"┴",right:"┘",other:"─"},vertical:"│",rowSeparator:{left:"├",mid:"┼",right:"┤",other:"─"}};r.ALIGNMENTS=["right","left","center"];r.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"];r.DEFAULT_ROW_FONT_COLOR="white";r.DEFAULT_HEADER_FONT_COLOR="white_bold";r.DEFAULT_ROW_ALIGNMENT="right";r.DEFAULT_HEADER_ALIGNMENT="center"},58705:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getWidthLimitedColumnsArray=r.createHeaderAsRow=r.renderTableHorizontalBorders=r.findLenOfColumn=r.createRow=r.createColumFromOnlyName=r.createTableHorizontalBorders=r.convertRawRowOptionsToStandard=r.cellText=void 0;const i=n(84300);const s=n(97732);const o=n(68041);const max=(e,r)=>Math.max(e,r);const cellText=e=>e===undefined||e===null?"":`${e}`;r.cellText=cellText;const convertRawRowOptionsToStandard=e=>{if(e){return{color:e.color,separator:e.separator||o.DEFAULT_ROW_SEPARATOR}}return undefined};r.convertRawRowOptionsToStandard=convertRawRowOptionsToStandard;const createTableHorizontalBorders=({left:e,mid:r,right:n,other:i},s)=>{let o=e;s.forEach((e=>{o+=i.repeat(e+2);o+=r}));o=o.slice(0,-r.length);o+=n;return o};r.createTableHorizontalBorders=createTableHorizontalBorders;const createColumFromOnlyName=e=>({name:e,title:e});r.createColumFromOnlyName=createColumFromOnlyName;const createRow=(e,r,n)=>({color:e,separator:n,text:r});r.createRow=createRow;const findLenOfColumn=(e,n,o)=>{const u=e.name;const f=e.title;let p=max(0,(e===null||e===void 0?void 0:e.minLen)||0);if(e.maxLen){p=max(p,max(e.maxLen,(0,s.biggestWordInSentence)(f,o)));p=n.reduce(((e,n)=>max(e,(0,s.biggestWordInSentence)((0,r.cellText)(n.text[u]),o))),p);return p}p=max(p,(0,i.findWidthInConsole)(f,o));n.forEach((e=>{p=max(p,(0,i.findWidthInConsole)((0,r.cellText)(e.text[u]),o))}));return p};r.findLenOfColumn=findLenOfColumn;const renderTableHorizontalBorders=(e,n)=>{const i=(0,r.createTableHorizontalBorders)(e,n);return i};r.renderTableHorizontalBorders=renderTableHorizontalBorders;const createHeaderAsRow=(e,r)=>{const n=o.DEFAULT_HEADER_FONT_COLOR;const i=e(n,{},false);r.forEach((e=>{i.text[e.name]=e.title}));return i};r.createHeaderAsRow=createHeaderAsRow;const getWidthLimitedColumnsArray=(e,n,i)=>{const u={};e.forEach((e=>{u[e.name]=(0,s.splitTextIntoTextsOfMinLen)((0,r.cellText)(n.text[e.name]),e.length||o.DEFAULT_COLUMN_LEN,i)}));return u};r.getWidthLimitedColumnsArray=getWidthLimitedColumnsArray},19810:(e,r,n)=>{function isArray(e){if(Array.isArray){return Array.isArray(e)}return objectToString(e)==="[object Array]"}r.isArray=isArray;function isBoolean(e){return typeof e==="boolean"}r.isBoolean=isBoolean;function isNull(e){return e===null}r.isNull=isNull;function isNullOrUndefined(e){return e==null}r.isNullOrUndefined=isNullOrUndefined;function isNumber(e){return typeof e==="number"}r.isNumber=isNumber;function isString(e){return typeof e==="string"}r.isString=isString;function isSymbol(e){return typeof e==="symbol"}r.isSymbol=isSymbol;function isUndefined(e){return e===void 0}r.isUndefined=isUndefined;function isRegExp(e){return objectToString(e)==="[object RegExp]"}r.isRegExp=isRegExp;function isObject(e){return typeof e==="object"&&e!==null}r.isObject=isObject;function isDate(e){return objectToString(e)==="[object Date]"}r.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}r.isError=isError;function isFunction(e){return typeof e==="function"}r.isFunction=isFunction;function isPrimitive(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=isPrimitive;r.isBuffer=n(20181).Buffer.isBuffer;function objectToString(e){return Object.prototype.toString.call(e)}},27443:(e,r,n)=>{"use strict";const i=n(76540);e.exports=i.getCPUInfo},83778:(e,r)=>{
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */
var n;(function(e){if(typeof DO_NOT_EXPORT_CRC==="undefined"){if(true){e(r)}else{}}else{e(n={})}})((function(e){e.version="1.2.2";function signed_crc_table(){var e=0,r=new Array(256);for(var n=0;n!=256;++n){e=n;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;r[n]=e}return typeof Int32Array!=="undefined"?new Int32Array(r):r}var r=signed_crc_table();function slice_by_16_tables(e){var r=0,n=0,i=0,s=typeof Int32Array!=="undefined"?new Int32Array(4096):new Array(4096);for(i=0;i!=256;++i)s[i]=e[i];for(i=0;i!=256;++i){n=e[i];for(r=256+i;r<4096;r+=256)n=s[r]=n>>>8^e[n&255]}var o=[];for(i=1;i!=16;++i)o[i-1]=typeof Int32Array!=="undefined"?s.subarray(i*256,i*256+256):s.slice(i*256,i*256+256);return o}var n=slice_by_16_tables(r);var i=n[0],s=n[1],o=n[2],u=n[3],f=n[4];var p=n[5],g=n[6],b=n[7],_=n[8],v=n[9];var w=n[10],I=n[11],k=n[12],C=n[13],R=n[14];function crc32_bstr(e,n){var i=n^-1;for(var s=0,o=e.length;s<o;)i=i>>>8^r[(i^e.charCodeAt(s++))&255];return~i}function crc32_buf(e,n){var T=n^-1,x=e.length-15,P=0;for(;P<x;)T=R[e[P++]^T&255]^C[e[P++]^T>>8&255]^k[e[P++]^T>>16&255]^I[e[P++]^T>>>24]^w[e[P++]]^v[e[P++]]^_[e[P++]]^b[e[P++]]^g[e[P++]]^p[e[P++]]^f[e[P++]]^u[e[P++]]^o[e[P++]]^s[e[P++]]^i[e[P++]]^r[e[P++]];x+=15;while(P<x)T=T>>>8^r[(T^e[P++])&255];return~T}function crc32_str(e,n){var i=n^-1;for(var s=0,o=e.length,u=0,f=0;s<o;){u=e.charCodeAt(s++);if(u<128){i=i>>>8^r[(i^u)&255]}else if(u<2048){i=i>>>8^r[(i^(192|u>>6&31))&255];i=i>>>8^r[(i^(128|u&63))&255]}else if(u>=55296&&u<57344){u=(u&1023)+64;f=e.charCodeAt(s++)&1023;i=i>>>8^r[(i^(240|u>>8&7))&255];i=i>>>8^r[(i^(128|u>>2&63))&255];i=i>>>8^r[(i^(128|f>>6&15|(u&3)<<4))&255];i=i>>>8^r[(i^(128|f&63))&255]}else{i=i>>>8^r[(i^(224|u>>12&15))&255];i=i>>>8^r[(i^(128|u>>6&63))&255];i=i>>>8^r[(i^(128|u&63))&255]}}return~i}e.table=r;e.bstr=crc32_bstr;e.buf=crc32_buf;e.str=crc32_str}))},8896:(e,r,n)=>{"use strict";const{Transform:i}=n(88523);const s=n(83778);class CRC32Stream extends i{constructor(e){super(e);this.checksum=Buffer.allocUnsafe(4);this.checksum.writeInt32BE(0,0);this.rawSize=0}_transform(e,r,n){if(e){this.checksum=s.buf(e,this.checksum)>>>0;this.rawSize+=e.length}n(null,e)}digest(e){const r=Buffer.allocUnsafe(4);r.writeUInt32BE(this.checksum>>>0,0);return e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}}e.exports=CRC32Stream},48378:(e,r,n)=>{"use strict";const{DeflateRaw:i}=n(43106);const s=n(83778);class DeflateCRC32Stream extends i{constructor(e){super(e);this.checksum=Buffer.allocUnsafe(4);this.checksum.writeInt32BE(0,0);this.rawSize=0;this.compressedSize=0}push(e,r){if(e){this.compressedSize+=e.length}return super.push(e,r)}_transform(e,r,n){if(e){this.checksum=s.buf(e,this.checksum)>>>0;this.rawSize+=e.length}super._transform(e,r,n)}digest(e){const r=Buffer.allocUnsafe(4);r.writeUInt32BE(this.checksum>>>0,0);return e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=false){if(e){return this.compressedSize}else{return this.rawSize}}}e.exports=DeflateCRC32Stream},6504:(e,r,n)=>{"use strict";e.exports={CRC32Stream:n(8896),DeflateCRC32Stream:n(48378)}},17384:function(e){!function(r,n){true?e.exports=n():0}(this,(function(){"use strict";var e=1e3,r=6e4,n=36e5,i="millisecond",s="second",o="minute",u="hour",f="day",p="week",g="month",b="quarter",_="year",v="date",w="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var r=["th","st","nd","rd"],n=e%100;return"["+e+(r[(n-20)%10]||r[n]||r[0])+"]"}},m=function(e,r,n){var i=String(e);return!i||i.length>=r?e:""+Array(r+1-i.length).join(n)+e},R={s:m,z:function(e){var r=-e.utcOffset(),n=Math.abs(r),i=Math.floor(n/60),s=n%60;return(r<=0?"+":"-")+m(i,2,"0")+":"+m(s,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,g),s=r-i<0,o=e.clone().add(n+(s?-1:1),g);return+(-(n+(r-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:g,y:_,w:p,d:f,D:v,h:u,m:o,s:s,ms:i,Q:b}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},T="en",x={};x[T]=C;var P="$isDayjsObject",S=function(e){return e instanceof U||!(!e||!e[P])},B=function t(e,r,n){var i;if(!e)return T;if("string"==typeof e){var s=e.toLowerCase();x[s]&&(i=s),r&&(x[s]=r,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var u=e.name;x[u]=e,i=u}return!n&&i&&(T=i),i||!n&&T},O=function(e,r){if(S(e))return e.clone();var n="object"==typeof r?r:{};return n.date=e,n.args=arguments,new U(n)},L=R;L.l=B,L.i=S,L.w=function(e,r){return O(e,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var U=function(){function M(e){this.$L=B(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[P]=!0}var C=M.prototype;return C.parse=function(e){this.$d=function(e){var r=e.date,n=e.utc;if(null===r)return new Date(NaN);if(L.u(r))return new Date;if(r instanceof Date)return new Date(r);if("string"==typeof r&&!/Z$/i.test(r)){var i=r.match(I);if(i){var s=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(r)}(e),this.init()},C.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},C.$utils=function(){return L},C.isValid=function(){return!(this.$d.toString()===w)},C.isSame=function(e,r){var n=O(e);return this.startOf(r)<=n&&n<=this.endOf(r)},C.isAfter=function(e,r){return O(e)<this.startOf(r)},C.isBefore=function(e,r){return this.endOf(r)<O(e)},C.$g=function(e,r,n){return L.u(e)?this[r]:this.set(n,e)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(e,r){var n=this,i=!!L.u(r)||r,b=L.p(e),l=function(e,r){var s=L.w(n.$u?Date.UTC(n.$y,r,e):new Date(n.$y,r,e),n);return i?s:s.endOf(f)},$=function(e,r){return L.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(r)),n)},w=this.$W,I=this.$M,k=this.$D,C="set"+(this.$u?"UTC":"");switch(b){case _:return i?l(1,0):l(31,11);case g:return i?l(1,I):l(0,I+1);case p:var R=this.$locale().weekStart||0,T=(w<R?w+7:w)-R;return l(i?k-T:k+(6-T),I);case f:case v:return $(C+"Hours",0);case u:return $(C+"Minutes",1);case o:return $(C+"Seconds",2);case s:return $(C+"Milliseconds",3);default:return this.clone()}},C.endOf=function(e){return this.startOf(e,!1)},C.$set=function(e,r){var n,p=L.p(e),b="set"+(this.$u?"UTC":""),w=(n={},n[f]=b+"Date",n[v]=b+"Date",n[g]=b+"Month",n[_]=b+"FullYear",n[u]=b+"Hours",n[o]=b+"Minutes",n[s]=b+"Seconds",n[i]=b+"Milliseconds",n)[p],I=p===f?this.$D+(r-this.$W):r;if(p===g||p===_){var k=this.clone().set(v,1);k.$d[w](I),k.init(),this.$d=k.set(v,Math.min(this.$D,k.daysInMonth())).$d}else w&&this.$d[w](I);return this.init(),this},C.set=function(e,r){return this.clone().$set(e,r)},C.get=function(e){return this[L.p(e)]()},C.add=function(i,b){var v,w=this;i=Number(i);var I=L.p(b),y=function(e){var r=O(w);return L.w(r.date(r.date()+Math.round(e*i)),w)};if(I===g)return this.set(g,this.$M+i);if(I===_)return this.set(_,this.$y+i);if(I===f)return y(1);if(I===p)return y(7);var k=(v={},v[o]=r,v[u]=n,v[s]=e,v)[I]||1,C=this.$d.getTime()+i*k;return L.w(C,this)},C.subtract=function(e,r){return this.add(-1*e,r)},C.format=function(e){var r=this,n=this.$locale();if(!this.isValid())return n.invalidDate||w;var i=e||"YYYY-MM-DDTHH:mm:ssZ",s=L.z(this),o=this.$H,u=this.$m,f=this.$M,p=n.weekdays,g=n.months,b=n.meridiem,h=function(e,n,s,o){return e&&(e[n]||e(r,i))||s[n].slice(0,o)},d=function(e){return L.s(o%12||12,e,"0")},_=b||function(e,r,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(k,(function(e,i){return i||function(e){switch(e){case"YY":return String(r.$y).slice(-2);case"YYYY":return L.s(r.$y,4,"0");case"M":return f+1;case"MM":return L.s(f+1,2,"0");case"MMM":return h(n.monthsShort,f,g,3);case"MMMM":return h(g,f);case"D":return r.$D;case"DD":return L.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return h(n.weekdaysMin,r.$W,p,2);case"ddd":return h(n.weekdaysShort,r.$W,p,3);case"dddd":return p[r.$W];case"H":return String(o);case"HH":return L.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return _(o,u,!0);case"A":return _(o,u,!1);case"m":return String(u);case"mm":return L.s(u,2,"0");case"s":return String(r.$s);case"ss":return L.s(r.$s,2,"0");case"SSS":return L.s(r.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(i,v,w){var I,k=this,C=L.p(v),R=O(i),T=(R.utcOffset()-this.utcOffset())*r,x=this-R,D=function(){return L.m(k,R)};switch(C){case _:I=D()/12;break;case g:I=D();break;case b:I=D()/3;break;case p:I=(x-T)/6048e5;break;case f:I=(x-T)/864e5;break;case u:I=x/n;break;case o:I=x/r;break;case s:I=x/e;break;default:I=x}return w?I:L.a(I)},C.daysInMonth=function(){return this.endOf(g).$D},C.$locale=function(){return x[this.$L]},C.locale=function(e,r){if(!e)return this.$L;var n=this.clone(),i=B(e,r,!0);return i&&(n.$L=i),n},C.clone=function(){return L.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},M}(),j=U.prototype;return O.prototype=j,[["$ms",i],["$s",s],["$m",o],["$H",u],["$W",f],["$M",g],["$y",_],["$D",v]].forEach((function(e){j[e[1]]=function(r){return this.$g(r,e[0],e[1])}})),O.extend=function(e,r){return e.$i||(e(r,U,O),e.$i=!0),O},O.locale=B,O.isDayjs=S,O.unix=function(e){return O(1e3*e)},O.en=x[T],O.Ls=x,O.p={},O}))},54343:(e,r)=>{"use strict";
/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */Object.defineProperty(r,"__esModule",{value:true});const n=new WeakMap;const i=new WeakMap;function pd(e){const r=n.get(e);console.assert(r!=null,"'this' is expected an Event object, but got",e);return r}function setCancelFlag(e){if(e.passiveListener!=null){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}return}if(!e.event.cancelable){return}e.canceled=true;if(typeof e.event.preventDefault==="function"){e.event.preventDefault()}}function Event(e,r){n.set(this,{eventTarget:e,event:r,eventPhase:2,currentTarget:e,canceled:false,stopped:false,immediateStopped:false,passiveListener:null,timeStamp:r.timeStamp||Date.now()});Object.defineProperty(this,"isTrusted",{value:false,enumerable:true});const i=Object.keys(r);for(let e=0;e<i.length;++e){const r=i[e];if(!(r in this)){Object.defineProperty(this,r,defineRedirectDescriptor(r))}}}Event.prototype={get type(){return pd(this).event.type},get target(){return pd(this).eventTarget},get currentTarget(){return pd(this).currentTarget},composedPath(){const e=pd(this).currentTarget;if(e==null){return[]}return[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return pd(this).eventPhase},stopPropagation(){const e=pd(this);e.stopped=true;if(typeof e.event.stopPropagation==="function"){e.event.stopPropagation()}},stopImmediatePropagation(){const e=pd(this);e.stopped=true;e.immediateStopped=true;if(typeof e.event.stopImmediatePropagation==="function"){e.event.stopImmediatePropagation()}},get bubbles(){return Boolean(pd(this).event.bubbles)},get cancelable(){return Boolean(pd(this).event.cancelable)},preventDefault(){setCancelFlag(pd(this))},get defaultPrevented(){return pd(this).canceled},get composed(){return Boolean(pd(this).event.composed)},get timeStamp(){return pd(this).timeStamp},get srcElement(){return pd(this).eventTarget},get cancelBubble(){return pd(this).stopped},set cancelBubble(e){if(!e){return}const r=pd(this);r.stopped=true;if(typeof r.event.cancelBubble==="boolean"){r.event.cancelBubble=true}},get returnValue(){return!pd(this).canceled},set returnValue(e){if(!e){setCancelFlag(pd(this))}},initEvent(){}};Object.defineProperty(Event.prototype,"constructor",{value:Event,configurable:true,writable:true});if(typeof window!=="undefined"&&typeof window.Event!=="undefined"){Object.setPrototypeOf(Event.prototype,window.Event.prototype);i.set(window.Event.prototype,Event)}function defineRedirectDescriptor(e){return{get(){return pd(this).event[e]},set(r){pd(this).event[e]=r},configurable:true,enumerable:true}}function defineCallDescriptor(e){return{value(){const r=pd(this).event;return r[e].apply(r,arguments)},configurable:true,enumerable:true}}function defineWrapper(e,r){const n=Object.keys(r);if(n.length===0){return e}function CustomEvent(r,n){e.call(this,r,n)}CustomEvent.prototype=Object.create(e.prototype,{constructor:{value:CustomEvent,configurable:true,writable:true}});for(let i=0;i<n.length;++i){const s=n[i];if(!(s in e.prototype)){const e=Object.getOwnPropertyDescriptor(r,s);const n=typeof e.value==="function";Object.defineProperty(CustomEvent.prototype,s,n?defineCallDescriptor(s):defineRedirectDescriptor(s))}}return CustomEvent}function getWrapper(e){if(e==null||e===Object.prototype){return Event}let r=i.get(e);if(r==null){r=defineWrapper(getWrapper(Object.getPrototypeOf(e)),e);i.set(e,r)}return r}function wrapEvent(e,r){const n=getWrapper(Object.getPrototypeOf(r));return new n(e,r)}function isStopped(e){return pd(e).immediateStopped}function setEventPhase(e,r){pd(e).eventPhase=r}function setCurrentTarget(e,r){pd(e).currentTarget=r}function setPassiveListener(e,r){pd(e).passiveListener=r}const s=new WeakMap;const o=1;const u=2;const f=3;function isObject(e){return e!==null&&typeof e==="object"}function getListeners(e){const r=s.get(e);if(r==null){throw new TypeError("'this' is expected an EventTarget object, but got another value.")}return r}function defineEventAttributeDescriptor(e){return{get(){const r=getListeners(this);let n=r.get(e);while(n!=null){if(n.listenerType===f){return n.listener}n=n.next}return null},set(r){if(typeof r!=="function"&&!isObject(r)){r=null}const n=getListeners(this);let i=null;let s=n.get(e);while(s!=null){if(s.listenerType===f){if(i!==null){i.next=s.next}else if(s.next!==null){n.set(e,s.next)}else{n.delete(e)}}else{i=s}s=s.next}if(r!==null){const s={listener:r,listenerType:f,passive:false,once:false,next:null};if(i===null){n.set(e,s)}else{i.next=s}}},configurable:true,enumerable:true}}function defineEventAttribute(e,r){Object.defineProperty(e,`on${r}`,defineEventAttributeDescriptor(r))}function defineCustomEventTarget(e){function CustomEventTarget(){EventTarget.call(this)}CustomEventTarget.prototype=Object.create(EventTarget.prototype,{constructor:{value:CustomEventTarget,configurable:true,writable:true}});for(let r=0;r<e.length;++r){defineEventAttribute(CustomEventTarget.prototype,e[r])}return CustomEventTarget}function EventTarget(){if(this instanceof EventTarget){s.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0])){return defineCustomEventTarget(arguments[0])}if(arguments.length>0){const e=new Array(arguments.length);for(let r=0;r<arguments.length;++r){e[r]=arguments[r]}return defineCustomEventTarget(e)}throw new TypeError("Cannot call a class as a function")}EventTarget.prototype={addEventListener(e,r,n){if(r==null){return}if(typeof r!=="function"&&!isObject(r)){throw new TypeError("'listener' should be a function or an object.")}const i=getListeners(this);const s=isObject(n);const f=s?Boolean(n.capture):Boolean(n);const p=f?o:u;const g={listener:r,listenerType:p,passive:s&&Boolean(n.passive),once:s&&Boolean(n.once),next:null};let b=i.get(e);if(b===undefined){i.set(e,g);return}let _=null;while(b!=null){if(b.listener===r&&b.listenerType===p){return}_=b;b=b.next}_.next=g},removeEventListener(e,r,n){if(r==null){return}const i=getListeners(this);const s=isObject(n)?Boolean(n.capture):Boolean(n);const f=s?o:u;let p=null;let g=i.get(e);while(g!=null){if(g.listener===r&&g.listenerType===f){if(p!==null){p.next=g.next}else if(g.next!==null){i.set(e,g.next)}else{i.delete(e)}return}p=g;g=g.next}},dispatchEvent(e){if(e==null||typeof e.type!=="string"){throw new TypeError('"event.type" should be a string.')}const r=getListeners(this);const n=e.type;let i=r.get(n);if(i==null){return true}const s=wrapEvent(this,e);let o=null;while(i!=null){if(i.once){if(o!==null){o.next=i.next}else if(i.next!==null){r.set(n,i.next)}else{r.delete(n)}}else{o=i}setPassiveListener(s,i.passive?i.listener:null);if(typeof i.listener==="function"){try{i.listener.call(this,s)}catch(e){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e)}}}else if(i.listenerType!==f&&typeof i.listener.handleEvent==="function"){i.listener.handleEvent(s)}if(isStopped(s)){break}i=i.next}setPassiveListener(s,null);setEventPhase(s,0);setCurrentTarget(s,null);return!s.defaultPrevented}};Object.defineProperty(EventTarget.prototype,"constructor",{value:EventTarget,configurable:true,writable:true});if(typeof window!=="undefined"&&typeof window.EventTarget!=="undefined"){Object.setPrototypeOf(EventTarget.prototype,window.EventTarget.prototype)}r.defineEventAttribute=defineEventAttribute;r.EventTarget=EventTarget;r["default"]=EventTarget;e.exports=EventTarget;e.exports.EventTarget=e.exports["default"]=EventTarget;e.exports.defineEventAttribute=defineEventAttribute},97494:e=>{e.exports=class FixedFIFO{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e);this.mask=e-1;this.top=0;this.btm=0;this.next=null}clear(){this.top=this.btm=0;this.next=null;this.buffer.fill(undefined)}push(e){if(this.buffer[this.top]!==undefined)return false;this.buffer[this.top]=e;this.top=this.top+1&this.mask;return true}shift(){const e=this.buffer[this.btm];if(e===undefined)return undefined;this.buffer[this.btm]=undefined;this.btm=this.btm+1&this.mask;return e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===undefined}}},35e3:(e,r,n)=>{const i=n(97494);e.exports=class FastFIFO{constructor(e){this.hwm=e||16;this.head=new i(this.hwm);this.tail=this.head;this.length=0}clear(){this.head=this.tail;this.head.clear();this.length=0}push(e){this.length++;if(!this.head.push(e)){const r=this.head;this.head=r.next=new i(2*this.head.buffer.length);this.head.push(e)}}shift(){if(this.length!==0)this.length--;const e=this.tail.shift();if(e===undefined&&this.tail.next){const e=this.tail.next;this.tail.next=null;this.tail=e;return this.tail.shift()}return e}peek(){const e=this.tail.peek();if(e===undefined&&this.tail.next)return this.tail.next.peek();return e}isEmpty(){return this.length===0}}},71403:e=>{"use strict";e.exports=clone;var r=Object.getPrototypeOf||function(e){return e.__proto__};function clone(e){if(e===null||typeof e!=="object")return e;if(e instanceof Object)var n={__proto__:r(e)};else var n=Object.create(null);Object.getOwnPropertyNames(e).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))}));return n}},17551:(e,r,n)=>{var i=n(79896);var s=n(34538);var o=n(52611);var u=n(71403);var f=n(39023);var p;var g;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){p=Symbol.for("graceful-fs.queue");g=Symbol.for("graceful-fs.previous")}else{p="___graceful-fs.queue";g="___graceful-fs.previous"}function noop(){}function publishQueue(e,r){Object.defineProperty(e,p,{get:function(){return r}})}var b=noop;if(f.debuglog)b=f.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))b=function(){var e=f.format.apply(f,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: ");console.error(e)};if(!i[p]){var _=global[p]||[];publishQueue(i,_);i.close=function(e){function close(r,n){return e.call(i,r,(function(e){if(!e){resetQueue()}if(typeof n==="function")n.apply(this,arguments)}))}Object.defineProperty(close,g,{value:e});return close}(i.close);i.closeSync=function(e){function closeSync(r){e.apply(i,arguments);resetQueue()}Object.defineProperty(closeSync,g,{value:e});return closeSync}(i.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",(function(){b(i[p]);n(42613).equal(i[p].length,0)}))}}if(!global[p]){publishQueue(global,i[p])}e.exports=patch(u(i));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched){e.exports=patch(i);i.__patched=true}function patch(e){s(e);e.gracefulify=patch;e.createReadStream=createReadStream;e.createWriteStream=createWriteStream;var r=e.readFile;e.readFile=readFile;function readFile(e,n,i){if(typeof n==="function")i=n,n=null;return go$readFile(e,n,i);function go$readFile(e,n,i,s){return r(e,n,(function(r){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))enqueue([go$readFile,[e,n,i],r,s||Date.now(),Date.now()]);else{if(typeof i==="function")i.apply(this,arguments)}}))}}var n=e.writeFile;e.writeFile=writeFile;function writeFile(e,r,i,s){if(typeof i==="function")s=i,i=null;return go$writeFile(e,r,i,s);function go$writeFile(e,r,i,s,o){return n(e,r,i,(function(n){if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$writeFile,[e,r,i,s],n,o||Date.now(),Date.now()]);else{if(typeof s==="function")s.apply(this,arguments)}}))}}var i=e.appendFile;if(i)e.appendFile=appendFile;function appendFile(e,r,n,s){if(typeof n==="function")s=n,n=null;return go$appendFile(e,r,n,s);function go$appendFile(e,r,n,s,o){return i(e,r,n,(function(i){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$appendFile,[e,r,n,s],i,o||Date.now(),Date.now()]);else{if(typeof s==="function")s.apply(this,arguments)}}))}}var u=e.copyFile;if(u)e.copyFile=copyFile;function copyFile(e,r,n,i){if(typeof n==="function"){i=n;n=0}return go$copyFile(e,r,n,i);function go$copyFile(e,r,n,i,s){return u(e,r,n,(function(o){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))enqueue([go$copyFile,[e,r,n,i],o,s||Date.now(),Date.now()]);else{if(typeof i==="function")i.apply(this,arguments)}}))}}var f=e.readdir;e.readdir=readdir;var p=/^v[0-5]\./;function readdir(e,r,n){if(typeof r==="function")n=r,r=null;var i=p.test(process.version)?function go$readdir(e,r,n,i){return f(e,fs$readdirCallback(e,r,n,i))}:function go$readdir(e,r,n,i){return f(e,r,fs$readdirCallback(e,r,n,i))};return i(e,r,n);function fs$readdirCallback(e,r,n,s){return function(o,u){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))enqueue([i,[e,r,n],o,s||Date.now(),Date.now()]);else{if(u&&u.sort)u.sort();if(typeof n==="function")n.call(this,o,u)}}}}if(process.version.substr(0,4)==="v0.8"){var g=o(e);ReadStream=g.ReadStream;WriteStream=g.WriteStream}var b=e.ReadStream;if(b){ReadStream.prototype=Object.create(b.prototype);ReadStream.prototype.open=ReadStream$open}var _=e.WriteStream;if(_){WriteStream.prototype=Object.create(_.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(e,"ReadStream",{get:function(){return ReadStream},set:function(e){ReadStream=e},enumerable:true,configurable:true});Object.defineProperty(e,"WriteStream",{get:function(){return WriteStream},set:function(e){WriteStream=e},enumerable:true,configurable:true});var v=ReadStream;Object.defineProperty(e,"FileReadStream",{get:function(){return v},set:function(e){v=e},enumerable:true,configurable:true});var w=WriteStream;Object.defineProperty(e,"FileWriteStream",{get:function(){return w},set:function(e){w=e},enumerable:true,configurable:true});function ReadStream(e,r){if(this instanceof ReadStream)return b.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(r,n){if(r){if(e.autoClose)e.destroy();e.emit("error",r)}else{e.fd=n;e.emit("open",n);e.read()}}))}function WriteStream(e,r){if(this instanceof WriteStream)return _.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(r,n){if(r){e.destroy();e.emit("error",r)}else{e.fd=n;e.emit("open",n)}}))}function createReadStream(r,n){return new e.ReadStream(r,n)}function createWriteStream(r,n){return new e.WriteStream(r,n)}var I=e.open;e.open=open;function open(e,r,n,i){if(typeof n==="function")i=n,n=null;return go$open(e,r,n,i);function go$open(e,r,n,i,s){return I(e,r,n,(function(o,u){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))enqueue([go$open,[e,r,n,i],o,s||Date.now(),Date.now()]);else{if(typeof i==="function")i.apply(this,arguments)}}))}}return e}function enqueue(e){b("ENQUEUE",e[0].name,e[1]);i[p].push(e);retry()}var v;function resetQueue(){var e=Date.now();for(var r=0;r<i[p].length;++r){if(i[p][r].length>2){i[p][r][3]=e;i[p][r][4]=e}}retry()}function retry(){clearTimeout(v);v=undefined;if(i[p].length===0)return;var e=i[p].shift();var r=e[0];var n=e[1];var s=e[2];var o=e[3];var u=e[4];if(o===undefined){b("RETRY",r.name,n);r.apply(null,n)}else if(Date.now()-o>=6e4){b("TIMEOUT",r.name,n);var f=n.pop();if(typeof f==="function")f.call(null,s)}else{var g=Date.now()-u;var _=Math.max(u-o,1);var w=Math.min(_*1.2,100);if(g>=w){b("RETRY",r.name,n);r.apply(null,n.concat([o]))}else{i[p].push(e)}}if(v===undefined){v=setTimeout(retry,0)}}},52611:(e,r,n)=>{var i=n(2203).Stream;e.exports=legacy;function legacy(e){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(r,n){if(!(this instanceof ReadStream))return new ReadStream(r,n);i.call(this);var s=this;this.path=r;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;n=n||{};var o=Object.keys(n);for(var u=0,f=o.length;u<f;u++){var p=o[u];this[p]=n[p]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick((function(){s._read()}));return}e.open(this.path,this.flags,this.mode,(function(e,r){if(e){s.emit("error",e);s.readable=false;return}s.fd=r;s.emit("open",r);s._read()}))}function WriteStream(r,n){if(!(this instanceof WriteStream))return new WriteStream(r,n);i.call(this);this.path=r;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;n=n||{};var s=Object.keys(n);for(var o=0,u=s.length;o<u;o++){var f=s[o];this[f]=n[f]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=e.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},34538:(e,r,n)=>{var i=n(49140);var s=process.cwd;var o=null;var u=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!o)o=s.call(process);return o};try{process.cwd()}catch(e){}if(typeof process.chdir==="function"){var f=process.chdir;process.chdir=function(e){o=null;f.call(process,e)};if(Object.setPrototypeOf)Object.setPrototypeOf(process.chdir,f)}e.exports=patch;function patch(e){if(i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(e)}if(!e.lutimes){patchLutimes(e)}e.chown=chownFix(e.chown);e.fchown=chownFix(e.fchown);e.lchown=chownFix(e.lchown);e.chmod=chmodFix(e.chmod);e.fchmod=chmodFix(e.fchmod);e.lchmod=chmodFix(e.lchmod);e.chownSync=chownFixSync(e.chownSync);e.fchownSync=chownFixSync(e.fchownSync);e.lchownSync=chownFixSync(e.lchownSync);e.chmodSync=chmodFixSync(e.chmodSync);e.fchmodSync=chmodFixSync(e.fchmodSync);e.lchmodSync=chmodFixSync(e.lchmodSync);e.stat=statFix(e.stat);e.fstat=statFix(e.fstat);e.lstat=statFix(e.lstat);e.statSync=statFixSync(e.statSync);e.fstatSync=statFixSync(e.fstatSync);e.lstatSync=statFixSync(e.lstatSync);if(e.chmod&&!e.lchmod){e.lchmod=function(e,r,n){if(n)process.nextTick(n)};e.lchmodSync=function(){}}if(e.chown&&!e.lchown){e.lchown=function(e,r,n,i){if(i)process.nextTick(i)};e.lchownSync=function(){}}if(u==="win32"){e.rename=typeof e.rename!=="function"?e.rename:function(r){function rename(n,i,s){var o=Date.now();var u=0;r(n,i,(function CB(f){if(f&&(f.code==="EACCES"||f.code==="EPERM"||f.code==="EBUSY")&&Date.now()-o<6e4){setTimeout((function(){e.stat(i,(function(e,o){if(e&&e.code==="ENOENT")r(n,i,CB);else s(f)}))}),u);if(u<100)u+=10;return}if(s)s(f)}))}if(Object.setPrototypeOf)Object.setPrototypeOf(rename,r);return rename}(e.rename)}e.read=typeof e.read!=="function"?e.read:function(r){function read(n,i,s,o,u,f){var p;if(f&&typeof f==="function"){var g=0;p=function(b,_,v){if(b&&b.code==="EAGAIN"&&g<10){g++;return r.call(e,n,i,s,o,u,p)}f.apply(this,arguments)}}return r.call(e,n,i,s,o,u,p)}if(Object.setPrototypeOf)Object.setPrototypeOf(read,r);return read}(e.read);e.readSync=typeof e.readSync!=="function"?e.readSync:function(r){return function(n,i,s,o,u){var f=0;while(true){try{return r.call(e,n,i,s,o,u)}catch(e){if(e.code==="EAGAIN"&&f<10){f++;continue}throw e}}}}(e.readSync);function patchLchmod(e){e.lchmod=function(r,n,s){e.open(r,i.O_WRONLY|i.O_SYMLINK,n,(function(r,i){if(r){if(s)s(r);return}e.fchmod(i,n,(function(r){e.close(i,(function(e){if(s)s(r||e)}))}))}))};e.lchmodSync=function(r,n){var s=e.openSync(r,i.O_WRONLY|i.O_SYMLINK,n);var o=true;var u;try{u=e.fchmodSync(s,n);o=false}finally{if(o){try{e.closeSync(s)}catch(e){}}else{e.closeSync(s)}}return u}}function patchLutimes(e){if(i.hasOwnProperty("O_SYMLINK")&&e.futimes){e.lutimes=function(r,n,s,o){e.open(r,i.O_SYMLINK,(function(r,i){if(r){if(o)o(r);return}e.futimes(i,n,s,(function(r){e.close(i,(function(e){if(o)o(r||e)}))}))}))};e.lutimesSync=function(r,n,s){var o=e.openSync(r,i.O_SYMLINK);var u;var f=true;try{u=e.futimesSync(o,n,s);f=false}finally{if(f){try{e.closeSync(o)}catch(e){}}else{e.closeSync(o)}}return u}}else if(e.futimes){e.lutimes=function(e,r,n,i){if(i)process.nextTick(i)};e.lutimesSync=function(){}}}function chmodFix(r){if(!r)return r;return function(n,i,s){return r.call(e,n,i,(function(e){if(chownErOk(e))e=null;if(s)s.apply(this,arguments)}))}}function chmodFixSync(r){if(!r)return r;return function(n,i){try{return r.call(e,n,i)}catch(e){if(!chownErOk(e))throw e}}}function chownFix(r){if(!r)return r;return function(n,i,s,o){return r.call(e,n,i,s,(function(e){if(chownErOk(e))e=null;if(o)o.apply(this,arguments)}))}}function chownFixSync(r){if(!r)return r;return function(n,i,s){try{return r.call(e,n,i,s)}catch(e){if(!chownErOk(e))throw e}}}function statFix(r){if(!r)return r;return function(n,i,s){if(typeof i==="function"){s=i;i=null}function callback(e,r){if(r){if(r.uid<0)r.uid+=4294967296;if(r.gid<0)r.gid+=4294967296}if(s)s.apply(this,arguments)}return i?r.call(e,n,i,callback):r.call(e,n,callback)}}function statFixSync(r){if(!r)return r;return function(n,i){var s=i?r.call(e,n,i):r.call(e,n);if(s){if(s.uid<0)s.uid+=4294967296;if(s.gid<0)s.gid+=4294967296}return s}}function chownErOk(e){if(!e)return true;if(e.code==="ENOSYS")return true;var r=!process.getuid||process.getuid()!==0;if(r){if(e.code==="EINVAL"||e.code==="EPERM")return true}return false}}},84070:(e,r,n)=>{try{var i=n(39023);if(typeof i.inherits!=="function")throw"";e.exports=i.inherits}catch(r){e.exports=n(66005)}},66005:e=>{if(typeof Object.create==="function"){e.exports=function inherits(e,r){if(r){e.super_=r;e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,r){if(r){e.super_=r;var TempCtor=function(){};TempCtor.prototype=r.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}}}},47608:e=>{
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function isExtglob(e){if(typeof e!=="string"||e===""){return false}var r;while(r=/(\\).|([@?!+*]\(.*\))/g.exec(e)){if(r[2])return true;e=e.slice(r.index+r[0].length)}return false}},44995:(e,r,n)=>{
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var i=n(47608);var s={"{":"}","(":")","[":"]"};var strictCheck=function(e){if(e[0]==="!"){return true}var r=0;var n=-2;var i=-2;var o=-2;var u=-2;var f=-2;while(r<e.length){if(e[r]==="*"){return true}if(e[r+1]==="?"&&/[\].+)]/.test(e[r])){return true}if(i!==-1&&e[r]==="["&&e[r+1]!=="]"){if(i<r){i=e.indexOf("]",r)}if(i>r){if(f===-1||f>i){return true}f=e.indexOf("\\",r);if(f===-1||f>i){return true}}}if(o!==-1&&e[r]==="{"&&e[r+1]!=="}"){o=e.indexOf("}",r);if(o>r){f=e.indexOf("\\",r);if(f===-1||f>o){return true}}}if(u!==-1&&e[r]==="("&&e[r+1]==="?"&&/[:!=]/.test(e[r+2])&&e[r+3]!==")"){u=e.indexOf(")",r);if(u>r){f=e.indexOf("\\",r);if(f===-1||f>u){return true}}}if(n!==-1&&e[r]==="("&&e[r+1]!=="|"){if(n<r){n=e.indexOf("|",r)}if(n!==-1&&e[n+1]!==")"){u=e.indexOf(")",n);if(u>n){f=e.indexOf("\\",n);if(f===-1||f>u){return true}}}}if(e[r]==="\\"){var p=e[r+1];r+=2;var g=s[p];if(g){var b=e.indexOf(g,r);if(b!==-1){r=b+1}}if(e[r]==="!"){return true}}else{r++}}return false};var relaxedCheck=function(e){if(e[0]==="!"){return true}var r=0;while(r<e.length){if(/[*?{}()[\]]/.test(e[r])){return true}if(e[r]==="\\"){var n=e[r+1];r+=2;var i=s[n];if(i){var o=e.indexOf(i,r);if(o!==-1){r=o+1}}if(e[r]==="!"){return true}}else{r++}}return false};e.exports=function isGlob(e,r){if(typeof e!=="string"||e===""){return false}if(i(e)){return true}var n=strictCheck;if(r&&r.strict===false){n=relaxedCheck}return n(e)}},53187:e=>{"use strict";const isStream=e=>e!==null&&typeof e==="object"&&typeof e.pipe==="function";isStream.writable=e=>isStream(e)&&e.writable!==false&&typeof e._write==="function"&&typeof e._writableState==="object";isStream.readable=e=>isStream(e)&&e.readable!==false&&typeof e._read==="function"&&typeof e._readableState==="object";isStream.duplex=e=>isStream.writable(e)&&isStream.readable(e);isStream.transform=e=>isStream.duplex(e)&&typeof e._transform==="function";e.exports=isStream},94057:e=>{var r={}.toString;e.exports=Array.isArray||function(e){return r.call(e)=="[object Array]"}},32186:(e,r,n)=>{var i=n(39023);var s=n(3627);e.exports={Readable:Readable,Writable:Writable};i.inherits(Readable,s);i.inherits(Writable,s);function beforeFirstCall(e,r,n){e[r]=function(){delete e[r];n.apply(this,arguments);return this[r].apply(this,arguments)}}function Readable(e,r){if(!(this instanceof Readable))return new Readable(e,r);s.call(this,r);beforeFirstCall(this,"_read",(function(){var n=e.call(this,r);var i=this.emit.bind(this,"error");n.on("error",i);n.pipe(this)}));this.emit("readable")}function Writable(e,r){if(!(this instanceof Writable))return new Writable(e,r);s.call(this,r);beforeFirstCall(this,"_write",(function(){var n=e.call(this,r);var i=this.emit.bind(this,"error");n.on("error",i);this.pipe(n)}));this.emit("writable")}},94442:(e,r,n)=>{var i=n(47305),s=n(17729),o=n(63176),u=n(79836),f=n(69996);function Hash(e){var r=-1,n=e==null?0:e.length;this.clear();while(++r<n){var i=e[r];this.set(i[0],i[1])}}Hash.prototype.clear=i;Hash.prototype["delete"]=s;Hash.prototype.get=o;Hash.prototype.has=u;Hash.prototype.set=f;e.exports=Hash},88394:(e,r,n)=>{var i=n(38793),s=n(6177),o=n(52904),u=n(50716),f=n(99244);function ListCache(e){var r=-1,n=e==null?0:e.length;this.clear();while(++r<n){var i=e[r];this.set(i[0],i[1])}}ListCache.prototype.clear=i;ListCache.prototype["delete"]=s;ListCache.prototype.get=o;ListCache.prototype.has=u;ListCache.prototype.set=f;e.exports=ListCache},47674:(e,r,n)=>{var i=n(5211),s=n(59134);var o=i(s,"Map");e.exports=o},63258:(e,r,n)=>{var i=n(2873),s=n(96593),o=n(29624),u=n(9100),f=n(71420);function MapCache(e){var r=-1,n=e==null?0:e.length;this.clear();while(++r<n){var i=e[r];this.set(i[0],i[1])}}MapCache.prototype.clear=i;MapCache.prototype["delete"]=s;MapCache.prototype.get=o;MapCache.prototype.has=u;MapCache.prototype.set=f;e.exports=MapCache},84416:(e,r,n)=>{var i=n(5211),s=n(59134);var o=i(s,"Set");e.exports=o},96204:(e,r,n)=>{var i=n(63258),s=n(37205),o=n(72518);function SetCache(e){var r=-1,n=e==null?0:e.length;this.__data__=new i;while(++r<n){this.add(e[r])}}SetCache.prototype.add=SetCache.prototype.push=s;SetCache.prototype.has=o;e.exports=SetCache},7314:(e,r,n)=>{var i=n(59134);var s=i.Symbol;e.exports=s},81888:e=>{function apply(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}e.exports=apply},45292:(e,r,n)=>{var i=n(28078);function arrayIncludes(e,r){var n=e==null?0:e.length;return!!n&&i(e,r,0)>-1}e.exports=arrayIncludes},60532:e=>{function arrayIncludesWith(e,r,n){var i=-1,s=e==null?0:e.length;while(++i<s){if(n(r,e[i])){return true}}return false}e.exports=arrayIncludesWith},69942:(e,r,n)=>{var i=n(35641),s=n(31283),o=n(9238),u=n(67533),f=n(18528),p=n(75930);var g=Object.prototype;var b=g.hasOwnProperty;function arrayLikeKeys(e,r){var n=o(e),g=!n&&s(e),_=!n&&!g&&u(e),v=!n&&!g&&!_&&p(e),w=n||g||_||v,I=w?i(e.length,String):[],k=I.length;for(var C in e){if((r||b.call(e,C))&&!(w&&(C=="length"||_&&(C=="offset"||C=="parent")||v&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||f(C,k)))){I.push(C)}}return I}e.exports=arrayLikeKeys},46167:e=>{function arrayMap(e,r){var n=-1,i=e==null?0:e.length,s=Array(i);while(++n<i){s[n]=r(e[n],n,e)}return s}e.exports=arrayMap},13017:e=>{function arrayPush(e,r){var n=-1,i=r.length,s=e.length;while(++n<i){e[s+n]=r[n]}return e}e.exports=arrayPush},65962:(e,r,n)=>{var i=n(15885);function assocIndexOf(e,r){var n=e.length;while(n--){if(i(e[n][0],r)){return n}}return-1}e.exports=assocIndexOf},49792:(e,r,n)=>{var i=n(96204),s=n(45292),o=n(60532),u=n(46167),f=n(69140),p=n(68832);var g=200;function baseDifference(e,r,n,b){var _=-1,v=s,w=true,I=e.length,k=[],C=r.length;if(!I){return k}if(n){r=u(r,f(n))}if(b){v=o;w=false}else if(r.length>=g){v=p;w=false;r=new i(r)}e:while(++_<I){var R=e[_],T=n==null?R:n(R);R=b||R!==0?R:0;if(w&&T===T){var x=C;while(x--){if(r[x]===T){continue e}}k.push(R)}else if(!v(r,T,b)){k.push(R)}}return k}e.exports=baseDifference},99394:e=>{function baseFindIndex(e,r,n,i){var s=e.length,o=n+(i?1:-1);while(i?o--:++o<s){if(r(e[o],o,e)){return o}}return-1}e.exports=baseFindIndex},82697:(e,r,n)=>{var i=n(13017),s=n(84618);function baseFlatten(e,r,n,o,u){var f=-1,p=e.length;n||(n=s);u||(u=[]);while(++f<p){var g=e[f];if(r>0&&n(g)){if(r>1){baseFlatten(g,r-1,n,o,u)}else{i(u,g)}}else if(!o){u[u.length]=g}}return u}e.exports=baseFlatten},1139:(e,r,n)=>{var i=n(7314),s=n(44774),o=n(84781);var u="[object Null]",f="[object Undefined]";var p=i?i.toStringTag:undefined;function baseGetTag(e){if(e==null){return e===undefined?f:u}return p&&p in Object(e)?s(e):o(e)}e.exports=baseGetTag},28078:(e,r,n)=>{var i=n(99394),s=n(49326),o=n(38698);function baseIndexOf(e,r,n){return r===r?o(e,r,n):i(e,s,n)}e.exports=baseIndexOf},41659:(e,r,n)=>{var i=n(1139),s=n(83203);var o="[object Arguments]";function baseIsArguments(e){return s(e)&&i(e)==o}e.exports=baseIsArguments},49326:e=>{function baseIsNaN(e){return e!==e}e.exports=baseIsNaN},27960:(e,r,n)=>{var i=n(85463),s=n(34807),o=n(8620),u=n(26210);var f=/[\\^$.*+?()[\]{}|]/g;var p=/^\[object .+?Constructor\]$/;var g=Function.prototype,b=Object.prototype;var _=g.toString;var v=b.hasOwnProperty;var w=RegExp("^"+_.call(v).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!o(e)||s(e)){return false}var r=i(e)?w:p;return r.test(u(e))}e.exports=baseIsNative},21906:(e,r,n)=>{var i=n(1139),s=n(83243),o=n(83203);var u="[object Arguments]",f="[object Array]",p="[object Boolean]",g="[object Date]",b="[object Error]",_="[object Function]",v="[object Map]",w="[object Number]",I="[object Object]",k="[object RegExp]",C="[object Set]",R="[object String]",T="[object WeakMap]";var x="[object ArrayBuffer]",P="[object DataView]",B="[object Float32Array]",L="[object Float64Array]",U="[object Int8Array]",j="[object Int16Array]",W="[object Int32Array]",Q="[object Uint8Array]",z="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]";var Y={};Y[B]=Y[L]=Y[U]=Y[j]=Y[W]=Y[Q]=Y[z]=Y[G]=Y[q]=true;Y[u]=Y[f]=Y[x]=Y[p]=Y[P]=Y[g]=Y[b]=Y[_]=Y[v]=Y[w]=Y[I]=Y[k]=Y[C]=Y[R]=Y[T]=false;function baseIsTypedArray(e){return o(e)&&s(e.length)&&!!Y[i(e)]}e.exports=baseIsTypedArray},496:(e,r,n)=>{var i=n(8620),s=n(14226),o=n(24146);var u=Object.prototype;var f=u.hasOwnProperty;function baseKeysIn(e){if(!i(e)){return o(e)}var r=s(e),n=[];for(var u in e){if(!(u=="constructor"&&(r||!f.call(e,u)))){n.push(u)}}return n}e.exports=baseKeysIn},19881:(e,r,n)=>{var i=n(2693),s=n(77602),o=n(72092);function baseRest(e,r){return o(s(e,r,i),e+"")}e.exports=baseRest},67115:(e,r,n)=>{var i=n(73275),s=n(43636),o=n(2693);var u=!s?o:function(e,r){return s(e,"toString",{configurable:true,enumerable:false,value:i(r),writable:true})};e.exports=u},35641:e=>{function baseTimes(e,r){var n=-1,i=Array(e);while(++n<e){i[n]=r(n)}return i}e.exports=baseTimes},69140:e=>{function baseUnary(e){return function(r){return e(r)}}e.exports=baseUnary},11566:(e,r,n)=>{var i=n(96204),s=n(45292),o=n(60532),u=n(68832),f=n(85744),p=n(92260);var g=200;function baseUniq(e,r,n){var b=-1,_=s,v=e.length,w=true,I=[],k=I;if(n){w=false;_=o}else if(v>=g){var C=r?null:f(e);if(C){return p(C)}w=false;_=u;k=new i}else{k=r?[]:I}e:while(++b<v){var R=e[b],T=r?r(R):R;R=n||R!==0?R:0;if(w&&T===T){var x=k.length;while(x--){if(k[x]===T){continue e}}if(r){k.push(T)}I.push(R)}else if(!_(k,T,n)){if(k!==I){k.push(T)}I.push(R)}}return I}e.exports=baseUniq},68832:e=>{function cacheHas(e,r){return e.has(r)}e.exports=cacheHas},35358:(e,r,n)=>{var i=n(59134);var s=i["__core-js_shared__"];e.exports=s},85744:(e,r,n)=>{var i=n(84416),s=n(38303),o=n(92260);var u=1/0;var f=!(i&&1/o(new i([,-0]))[1]==u)?s:function(e){return new i(e)};e.exports=f},43636:(e,r,n)=>{var i=n(5211);var s=function(){try{var e=i(Object,"defineProperty");e({},"",{});return e}catch(e){}}();e.exports=s},11735:e=>{var r=typeof global=="object"&&global&&global.Object===Object&&global;e.exports=r},94844:(e,r,n)=>{var i=n(58075);function getMapData(e,r){var n=e.__data__;return i(r)?n[typeof r=="string"?"string":"hash"]:n.map}e.exports=getMapData},5211:(e,r,n)=>{var i=n(27960),s=n(79067);function getNative(e,r){var n=s(e,r);return i(n)?n:undefined}e.exports=getNative},26752:(e,r,n)=>{var i=n(47894);var s=i(Object.getPrototypeOf,Object);e.exports=s},44774:(e,r,n)=>{var i=n(7314);var s=Object.prototype;var o=s.hasOwnProperty;var u=s.toString;var f=i?i.toStringTag:undefined;function getRawTag(e){var r=o.call(e,f),n=e[f];try{e[f]=undefined;var i=true}catch(e){}var s=u.call(e);if(i){if(r){e[f]=n}else{delete e[f]}}return s}e.exports=getRawTag},79067:e=>{function getValue(e,r){return e==null?undefined:e[r]}e.exports=getValue},47305:(e,r,n)=>{var i=n(11969);function hashClear(){this.__data__=i?i(null):{};this.size=0}e.exports=hashClear},17729:e=>{function hashDelete(e){var r=this.has(e)&&delete this.__data__[e];this.size-=r?1:0;return r}e.exports=hashDelete},63176:(e,r,n)=>{var i=n(11969);var s="__lodash_hash_undefined__";var o=Object.prototype;var u=o.hasOwnProperty;function hashGet(e){var r=this.__data__;if(i){var n=r[e];return n===s?undefined:n}return u.call(r,e)?r[e]:undefined}e.exports=hashGet},79836:(e,r,n)=>{var i=n(11969);var s=Object.prototype;var o=s.hasOwnProperty;function hashHas(e){var r=this.__data__;return i?r[e]!==undefined:o.call(r,e)}e.exports=hashHas},69996:(e,r,n)=>{var i=n(11969);var s="__lodash_hash_undefined__";function hashSet(e,r){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=i&&r===undefined?s:r;return this}e.exports=hashSet},84618:(e,r,n)=>{var i=n(7314),s=n(31283),o=n(9238);var u=i?i.isConcatSpreadable:undefined;function isFlattenable(e){return o(e)||s(e)||!!(u&&e&&e[u])}e.exports=isFlattenable},18528:e=>{var r=9007199254740991;var n=/^(?:0|[1-9]\d*)$/;function isIndex(e,i){var s=typeof e;i=i==null?r:i;return!!i&&(s=="number"||s!="symbol"&&n.test(e))&&(e>-1&&e%1==0&&e<i)}e.exports=isIndex},40583:(e,r,n)=>{var i=n(15885),s=n(41905),o=n(18528),u=n(8620);function isIterateeCall(e,r,n){if(!u(n)){return false}var f=typeof r;if(f=="number"?s(n)&&o(r,n.length):f=="string"&&r in n){return i(n[r],e)}return false}e.exports=isIterateeCall},58075:e=>{function isKeyable(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}e.exports=isKeyable},34807:(e,r,n)=>{var i=n(35358);var s=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!s&&s in e}e.exports=isMasked},14226:e=>{var r=Object.prototype;function isPrototype(e){var n=e&&e.constructor,i=typeof n=="function"&&n.prototype||r;return e===i}e.exports=isPrototype},38793:e=>{function listCacheClear(){this.__data__=[];this.size=0}e.exports=listCacheClear},6177:(e,r,n)=>{var i=n(65962);var s=Array.prototype;var o=s.splice;function listCacheDelete(e){var r=this.__data__,n=i(r,e);if(n<0){return false}var s=r.length-1;if(n==s){r.pop()}else{o.call(r,n,1)}--this.size;return true}e.exports=listCacheDelete},52904:(e,r,n)=>{var i=n(65962);function listCacheGet(e){var r=this.__data__,n=i(r,e);return n<0?undefined:r[n][1]}e.exports=listCacheGet},50716:(e,r,n)=>{var i=n(65962);function listCacheHas(e){return i(this.__data__,e)>-1}e.exports=listCacheHas},99244:(e,r,n)=>{var i=n(65962);function listCacheSet(e,r){var n=this.__data__,s=i(n,e);if(s<0){++this.size;n.push([e,r])}else{n[s][1]=r}return this}e.exports=listCacheSet},2873:(e,r,n)=>{var i=n(94442),s=n(88394),o=n(47674);function mapCacheClear(){this.size=0;this.__data__={hash:new i,map:new(o||s),string:new i}}e.exports=mapCacheClear},96593:(e,r,n)=>{var i=n(94844);function mapCacheDelete(e){var r=i(this,e)["delete"](e);this.size-=r?1:0;return r}e.exports=mapCacheDelete},29624:(e,r,n)=>{var i=n(94844);function mapCacheGet(e){return i(this,e).get(e)}e.exports=mapCacheGet},9100:(e,r,n)=>{var i=n(94844);function mapCacheHas(e){return i(this,e).has(e)}e.exports=mapCacheHas},71420:(e,r,n)=>{var i=n(94844);function mapCacheSet(e,r){var n=i(this,e),s=n.size;n.set(e,r);this.size+=n.size==s?0:1;return this}e.exports=mapCacheSet},11969:(e,r,n)=>{var i=n(5211);var s=i(Object,"create");e.exports=s},24146:e=>{function nativeKeysIn(e){var r=[];if(e!=null){for(var n in Object(e)){r.push(n)}}return r}e.exports=nativeKeysIn},53986:(e,r,n)=>{e=n.nmd(e);var i=n(11735);var s=true&&r&&!r.nodeType&&r;var o=s&&"object"=="object"&&e&&!e.nodeType&&e;var u=o&&o.exports===s;var f=u&&i.process;var p=function(){try{var e=o&&o.require&&o.require("util").types;if(e){return e}return f&&f.binding&&f.binding("util")}catch(e){}}();e.exports=p},84781:e=>{var r=Object.prototype;var n=r.toString;function objectToString(e){return n.call(e)}e.exports=objectToString},47894:e=>{function overArg(e,r){return function(n){return e(r(n))}}e.exports=overArg},77602:(e,r,n)=>{var i=n(81888);var s=Math.max;function overRest(e,r,n){r=s(r===undefined?e.length-1:r,0);return function(){var o=arguments,u=-1,f=s(o.length-r,0),p=Array(f);while(++u<f){p[u]=o[r+u]}u=-1;var g=Array(r+1);while(++u<r){g[u]=o[u]}g[r]=n(p);return i(e,this,g)}}e.exports=overRest},59134:(e,r,n)=>{var i=n(11735);var s=typeof self=="object"&&self&&self.Object===Object&&self;var o=i||s||Function("return this")();e.exports=o},37205:e=>{var r="__lodash_hash_undefined__";function setCacheAdd(e){this.__data__.set(e,r);return this}e.exports=setCacheAdd},72518:e=>{function setCacheHas(e){return this.__data__.has(e)}e.exports=setCacheHas},92260:e=>{function setToArray(e){var r=-1,n=Array(e.size);e.forEach((function(e){n[++r]=e}));return n}e.exports=setToArray},72092:(e,r,n)=>{var i=n(67115),s=n(4724);var o=s(i);e.exports=o},4724:e=>{var r=800,n=16;var i=Date.now;function shortOut(e){var s=0,o=0;return function(){var u=i(),f=n-(u-o);o=u;if(f>0){if(++s>=r){return arguments[0]}}else{s=0}return e.apply(undefined,arguments)}}e.exports=shortOut},38698:e=>{function strictIndexOf(e,r,n){var i=n-1,s=e.length;while(++i<s){if(e[i]===r){return i}}return-1}e.exports=strictIndexOf},26210:e=>{var r=Function.prototype;var n=r.toString;function toSource(e){if(e!=null){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=toSource},73275:e=>{function constant(e){return function(){return e}}e.exports=constant},78309:(e,r,n)=>{var i=n(19881),s=n(15885),o=n(40583),u=n(72264);var f=Object.prototype;var p=f.hasOwnProperty;var g=i((function(e,r){e=Object(e);var n=-1;var i=r.length;var g=i>2?r[2]:undefined;if(g&&o(r[0],r[1],g)){i=1}while(++n<i){var b=r[n];var _=u(b);var v=-1;var w=_.length;while(++v<w){var I=_[v];var k=e[I];if(k===undefined||s(k,f[I])&&!p.call(e,I)){e[I]=b[I]}}}return e}));e.exports=g},9176:(e,r,n)=>{var i=n(49792),s=n(82697),o=n(19881),u=n(59454);var f=o((function(e,r){return u(e)?i(e,s(r,1,u,true)):[]}));e.exports=f},15885:e=>{function eq(e,r){return e===r||e!==e&&r!==r}e.exports=eq},43281:(e,r,n)=>{var i=n(82697);function flatten(e){var r=e==null?0:e.length;return r?i(e,1):[]}e.exports=flatten},2693:e=>{function identity(e){return e}e.exports=identity},31283:(e,r,n)=>{var i=n(41659),s=n(83203);var o=Object.prototype;var u=o.hasOwnProperty;var f=o.propertyIsEnumerable;var p=i(function(){return arguments}())?i:function(e){return s(e)&&u.call(e,"callee")&&!f.call(e,"callee")};e.exports=p},9238:e=>{var r=Array.isArray;e.exports=r},41905:(e,r,n)=>{var i=n(85463),s=n(83243);function isArrayLike(e){return e!=null&&s(e.length)&&!i(e)}e.exports=isArrayLike},59454:(e,r,n)=>{var i=n(41905),s=n(83203);function isArrayLikeObject(e){return s(e)&&i(e)}e.exports=isArrayLikeObject},67533:(e,r,n)=>{e=n.nmd(e);var i=n(59134),s=n(3316);var o=true&&r&&!r.nodeType&&r;var u=o&&"object"=="object"&&e&&!e.nodeType&&e;var f=u&&u.exports===o;var p=f?i.Buffer:undefined;var g=p?p.isBuffer:undefined;var b=g||s;e.exports=b},85463:(e,r,n)=>{var i=n(1139),s=n(8620);var o="[object AsyncFunction]",u="[object Function]",f="[object GeneratorFunction]",p="[object Proxy]";function isFunction(e){if(!s(e)){return false}var r=i(e);return r==u||r==f||r==o||r==p}e.exports=isFunction},83243:e=>{var r=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}e.exports=isLength},8620:e=>{function isObject(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}e.exports=isObject},83203:e=>{function isObjectLike(e){return e!=null&&typeof e=="object"}e.exports=isObjectLike},18600:(e,r,n)=>{var i=n(1139),s=n(26752),o=n(83203);var u="[object Object]";var f=Function.prototype,p=Object.prototype;var g=f.toString;var b=p.hasOwnProperty;var _=g.call(Object);function isPlainObject(e){if(!o(e)||i(e)!=u){return false}var r=s(e);if(r===null){return true}var n=b.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&g.call(n)==_}e.exports=isPlainObject},75930:(e,r,n)=>{var i=n(21906),s=n(69140),o=n(53986);var u=o&&o.isTypedArray;var f=u?s(u):i;e.exports=f},72264:(e,r,n)=>{var i=n(69942),s=n(496),o=n(41905);function keysIn(e){return o(e)?i(e,true):s(e)}e.exports=keysIn},38303:e=>{function noop(){}e.exports=noop},3316:e=>{function stubFalse(){return false}e.exports=stubFalse},13124:(e,r,n)=>{var i=n(82697),s=n(19881),o=n(11566),u=n(59454);var f=s((function(e){return o(i(e,1,u,true))}));e.exports=f},43697:e=>{const r=typeof process==="object"&&process&&process.platform==="win32";e.exports=r?{sep:"\\"}:{sep:"/"}},21388:(e,r,n)=>{const i=e.exports=(e,r,n={})=>{assertValidPattern(r);if(!n.nocomment&&r.charAt(0)==="#"){return false}return new Minimatch(r,n).match(e)};e.exports=i;const s=n(43697);i.sep=s.sep;const o=Symbol("globstar **");i.GLOBSTAR=o;const u=n(56083);const f={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};const p="[^/]";const g=p+"*?";const b="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const _="(?:(?!(?:\\/|^)\\.).)*?";const charSet=e=>e.split("").reduce(((e,r)=>{e[r]=true;return e}),{});const v=charSet("().*{}+?[]^$\\!");const w=charSet("[.(");const I=/\/+/;i.filter=(e,r={})=>(n,s,o)=>i(n,e,r);const ext=(e,r={})=>{const n={};Object.keys(e).forEach((r=>n[r]=e[r]));Object.keys(r).forEach((e=>n[e]=r[e]));return n};i.defaults=e=>{if(!e||typeof e!=="object"||!Object.keys(e).length){return i}const r=i;const m=(n,i,s)=>r(n,i,ext(e,s));m.Minimatch=class Minimatch extends r.Minimatch{constructor(r,n){super(r,ext(e,n))}};m.Minimatch.defaults=n=>r.defaults(ext(e,n)).Minimatch;m.filter=(n,i)=>r.filter(n,ext(e,i));m.defaults=n=>r.defaults(ext(e,n));m.makeRe=(n,i)=>r.makeRe(n,ext(e,i));m.braceExpand=(n,i)=>r.braceExpand(n,ext(e,i));m.match=(n,i,s)=>r.match(n,i,ext(e,s));return m};i.braceExpand=(e,r)=>braceExpand(e,r);const braceExpand=(e,r={})=>{assertValidPattern(e);if(r.nobrace||!/\{(?:(?!\{).)*\}/.test(e)){return[e]}return u(e)};const k=1024*64;const assertValidPattern=e=>{if(typeof e!=="string"){throw new TypeError("invalid pattern")}if(e.length>k){throw new TypeError("pattern is too long")}};const C=Symbol("subparse");i.makeRe=(e,r)=>new Minimatch(e,r||{}).makeRe();i.match=(e,r,n={})=>{const i=new Minimatch(r,n);e=e.filter((e=>i.match(e)));if(i.options.nonull&&!e.length){e.push(r)}return e};const globUnescape=e=>e.replace(/\\(.)/g,"$1");const charUnescape=e=>e.replace(/\\([^-\]])/g,"$1");const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const braExpEscape=e=>e.replace(/[[\]\\]/g,"\\$&");class Minimatch{constructor(e,r){assertValidPattern(e);if(!r)r={};this.options=r;this.set=[];this.pattern=e;this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.partial=!!r.partial;this.make()}debug(){}make(){const e=this.pattern;const r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=true;return}if(!e){this.empty=true;return}this.parseNegate();let n=this.globSet=this.braceExpand();if(r.debug)this.debug=(...e)=>console.error(...e);this.debug(this.pattern,n);n=this.globParts=n.map((e=>e.split(I)));this.debug(this.pattern,n);n=n.map(((e,r,n)=>e.map(this.parse,this)));this.debug(this.pattern,n);n=n.filter((e=>e.indexOf(false)===-1));this.debug(this.pattern,n);this.set=n}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let r=false;let n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++){r=!r;n++}if(n)this.pattern=e.slice(n);this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r});this.debug("matchOne",e.length,r.length);for(var s=0,u=0,f=e.length,p=r.length;s<f&&u<p;s++,u++){this.debug("matchOne loop");var g=r[u];var b=e[s];this.debug(r,g,b);if(g===false)return false;if(g===o){this.debug("GLOBSTAR",[r,g,b]);var _=s;var v=u+1;if(v===p){this.debug("** at the end");for(;s<f;s++){if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return false}return true}while(_<f){var w=e[_];this.debug("\nglobstar while",e,_,r,v,w);if(this.matchOne(e.slice(_),r.slice(v),n)){this.debug("globstar found match!",_,f,w);return true}else{if(w==="."||w===".."||!i.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,_,r,v);break}this.debug("globstar swallow a segment, and continue");_++}}if(n){this.debug("\n>>> no match, partial?",e,_,r,v);if(_===f)return true}return false}var I;if(typeof g==="string"){I=b===g;this.debug("string match",g,b,I)}else{I=b.match(g);this.debug("pattern match",g,b,I)}if(!I)return false}if(s===f&&u===p){return true}else if(s===f){return n}else if(u===p){return s===f-1&&e[s]===""}throw new Error("wtf?")}braceExpand(){return braceExpand(this.pattern,this.options)}parse(e,r){assertValidPattern(e);const n=this.options;if(e==="**"){if(!n.noglobstar)return o;else e="*"}if(e==="")return"";let i="";let s=false;let u=false;const b=[];const _=[];let I;let k=false;let R=-1;let T=-1;let x;let P;let B;let L=e.charAt(0)===".";let U=n.dot||L;const patternStart=()=>L?"":U?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";const subPatternStart=e=>e.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";const clearStateChar=()=>{if(I){switch(I){case"*":i+=g;s=true;break;case"?":i+=p;s=true;break;default:i+="\\"+I;break}this.debug("clearStateChar %j %j",I,i);I=false}};for(let r=0,o;r<e.length&&(o=e.charAt(r));r++){this.debug("%s\t%s %s %j",e,r,i,o);if(u){if(o==="/"){return false}if(v[o]){i+="\\"}i+=o;u=false;continue}switch(o){case"/":{return false}case"\\":if(k&&e.charAt(r+1)==="-"){i+=o;continue}clearStateChar();u=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",e,r,i,o);if(k){this.debug("  in class");if(o==="!"&&r===T+1)o="^";i+=o;continue}this.debug("call clearStateChar %j",I);clearStateChar();I=o;if(n.noext)clearStateChar();continue;case"(":{if(k){i+="(";continue}if(!I){i+="\\(";continue}const n={type:I,start:r-1,reStart:i.length,open:f[I].open,close:f[I].close};this.debug(this.pattern,"\t",n);b.push(n);i+=n.open;if(n.start===0&&n.type!=="!"){L=true;i+=subPatternStart(e.slice(r+1))}this.debug("plType %j %j",I,i);I=false;continue}case")":{const e=b[b.length-1];if(k||!e){i+="\\)";continue}b.pop();clearStateChar();s=true;P=e;i+=P.close;if(P.type==="!"){_.push(Object.assign(P,{reEnd:i.length}))}continue}case"|":{const n=b[b.length-1];if(k||!n){i+="\\|";continue}clearStateChar();i+="|";if(n.start===0&&n.type!=="!"){L=true;i+=subPatternStart(e.slice(r+1))}continue}case"[":clearStateChar();if(k){i+="\\"+o;continue}k=true;T=r;R=i.length;i+=o;continue;case"]":if(r===T+1||!k){i+="\\"+o;continue}x=e.substring(T+1,r);try{RegExp("["+braExpEscape(charUnescape(x))+"]");i+=o}catch(e){i=i.substring(0,R)+"(?:$.)"}s=true;k=false;continue;default:clearStateChar();if(v[o]&&!(o==="^"&&k)){i+="\\"}i+=o;break}}if(k){x=e.slice(T+1);B=this.parse(x,C);i=i.substring(0,R)+"\\["+B[0];s=s||B[1]}for(P=b.pop();P;P=b.pop()){let e;e=i.slice(P.reStart+P.open.length);this.debug("setting tail",i,P);e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,r,n)=>{if(!n){n="\\"}return r+r+n+"|"}));this.debug("tail=%j\n   %s",e,e,P,i);const r=P.type==="*"?g:P.type==="?"?p:"\\"+P.type;s=true;i=i.slice(0,P.reStart)+r+"\\("+e}clearStateChar();if(u){i+="\\\\"}const j=w[i.charAt(0)];for(let e=_.length-1;e>-1;e--){const n=_[e];const s=i.slice(0,n.reStart);const o=i.slice(n.reStart,n.reEnd-8);let u=i.slice(n.reEnd);const f=i.slice(n.reEnd-8,n.reEnd)+u;const p=s.split(")").length;const g=s.split("(").length-p;let b=u;for(let e=0;e<g;e++){b=b.replace(/\)[+*?]?/,"")}u=b;const v=u===""&&r!==C?"(?:$|\\/)":"";i=s+o+u+v+f}if(i!==""&&s){i="(?=.)"+i}if(j){i=patternStart()+i}if(r===C){return[i,s]}if(n.nocase&&!s){s=e.toUpperCase()!==e.toLowerCase()}if(!s){return globUnescape(e)}const W=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",W),{_glob:e,_src:i})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const e=this.set;if(!e.length){this.regexp=false;return this.regexp}const r=this.options;const n=r.noglobstar?g:r.dot?b:_;const i=r.nocase?"i":"";let s=e.map((e=>{e=e.map((e=>typeof e==="string"?regExpEscape(e):e===o?o:e._src)).reduce(((e,r)=>{if(!(e[e.length-1]===o&&r===o)){e.push(r)}return e}),[]);e.forEach(((r,i)=>{if(r!==o||e[i-1]===o){return}if(i===0){if(e.length>1){e[i+1]="(?:\\/|"+n+"\\/)?"+e[i+1]}else{e[i]=n}}else if(i===e.length-1){e[i-1]+="(?:\\/|"+n+")?"}else{e[i-1]+="(?:\\/|\\/"+n+"\\/)"+e[i+1];e[i+1]=o}}));return e.filter((e=>e!==o)).join("/")})).join("|");s="^(?:"+s+")$";if(this.negate)s="^(?!"+s+").*$";try{this.regexp=new RegExp(s,i)}catch(e){this.regexp=false}return this.regexp}match(e,r=this.partial){this.debug("match",e,this.pattern);if(this.comment)return false;if(this.empty)return e==="";if(e==="/"&&r)return true;const n=this.options;if(s.sep!=="/"){e=e.split(s.sep).join("/")}e=e.split(I);this.debug(this.pattern,"split",e);const i=this.set;this.debug(this.pattern,"set",i);let o;for(let r=e.length-1;r>=0;r--){o=e[r];if(o)break}for(let s=0;s<i.length;s++){const u=i[s];let f=e;if(n.matchBase&&u.length===1){f=[o]}const p=this.matchOne(f,u,r);if(p){if(n.flipNegate)return true;return!this.negate}}if(n.flipNegate)return false;return this.negate}static defaults(e){return i.defaults(e).Minimatch}}i.Minimatch=Minimatch},44527:e=>{
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
e.exports=function(e,r){if(typeof e!=="string"){throw new TypeError("expected path to be a string")}if(e==="\\"||e==="/")return"/";var n=e.length;if(n<=1)return e;var i="";if(n>4&&e[3]==="\\"){var s=e[2];if((s==="?"||s===".")&&e.slice(0,2)==="\\\\"){e=e.slice(2);i="//"}}var o=e.split(/[/\\]+/);if(r!==false&&o[o.length-1]===""){o.pop()}return i+o.join("/")}},11847:e=>{"use strict";if(typeof process==="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){e.exports={nextTick:nextTick}}else{e.exports=process}function nextTick(e,r,n,i){if(typeof e!=="function"){throw new TypeError('"callback" argument must be a function')}var s=arguments.length;var o,u;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function afterTickOne(){e.call(null,r)}));case 3:return process.nextTick((function afterTickTwo(){e.call(null,r,n)}));case 4:return process.nextTick((function afterTickThree(){e.call(null,r,n,i)}));default:o=new Array(s-1);u=0;while(u<o.length){o[u++]=arguments[u]}return process.nextTick((function afterTick(){e.apply(null,o)}))}}},10125:e=>{e.exports=global.process},47561:(e,r,n)=>{"use strict";var i=n(11847);var s=Object.keys||function(e){var r=[];for(var n in e){r.push(n)}return r};e.exports=Duplex;var o=Object.create(n(19810));o.inherits=n(84070);var u=n(36319);var f=n(50227);o.inherits(Duplex,u);{var p=s(f.prototype);for(var g=0;g<p.length;g++){var b=p[g];if(!Duplex.prototype[b])Duplex.prototype[b]=f.prototype[b]}}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);u.call(this,e);f.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function onend(){if(this.allowHalfOpen||this._writableState.ended)return;i.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});Duplex.prototype._destroy=function(e,r){this.push(null);this.end();i.nextTick(r,e)}},67741:(e,r,n)=>{"use strict";e.exports=PassThrough;var i=n(55167);var s=Object.create(n(19810));s.inherits=n(84070);s.inherits(PassThrough,i);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);i.call(this,e)}PassThrough.prototype._transform=function(e,r,n){n(null,e)}},36319:(e,r,n)=>{"use strict";var i=n(11847);e.exports=Readable;var s=n(94057);var o;Readable.ReadableState=ReadableState;var u=n(24434).EventEmitter;var EElistenerCount=function(e,r){return e.listeners(r).length};var f=n(48705);var p=n(56912).Buffer;var g=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return p.from(e)}function _isUint8Array(e){return p.isBuffer(e)||e instanceof g}var b=Object.create(n(19810));b.inherits=n(84070);var _=n(39023);var v=void 0;if(_&&_.debuglog){v=_.debuglog("stream")}else{v=function(){}}var w=n(36271);var I=n(23383);var k;b.inherits(Readable,f);var C=["error","close","destroy","pause","resume"];function prependListener(e,r,n){if(typeof e.prependListener==="function")return e.prependListener(r,n);if(!e._events||!e._events[r])e.on(r,n);else if(s(e._events[r]))e._events[r].unshift(n);else e._events[r]=[n,e._events[r]]}function ReadableState(e,r){o=o||n(47561);e=e||{};var i=r instanceof o;this.objectMode=!!e.objectMode;if(i)this.objectMode=this.objectMode||!!e.readableObjectMode;var s=e.highWaterMark;var u=e.readableHighWaterMark;var f=this.objectMode?16:16*1024;if(s||s===0)this.highWaterMark=s;else if(i&&(u||u===0))this.highWaterMark=u;else this.highWaterMark=f;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new w;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!k)k=n(88927).I;this.decoder=new k(e.encoding);this.encoding=e.encoding}}function Readable(e){o=o||n(47561);if(!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}f.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});Readable.prototype.destroy=I.destroy;Readable.prototype._undestroy=I.undestroy;Readable.prototype._destroy=function(e,r){this.push(null);r(e)};Readable.prototype.push=function(e,r){var n=this._readableState;var i;if(!n.objectMode){if(typeof e==="string"){r=r||n.defaultEncoding;if(r!==n.encoding){e=p.from(e,r);r=""}i=true}}else{i=true}return readableAddChunk(this,e,r,false,i)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,true,false)};function readableAddChunk(e,r,n,i,s){var o=e._readableState;if(r===null){o.reading=false;onEofChunk(e,o)}else{var u;if(!s)u=chunkInvalid(o,r);if(u){e.emit("error",u)}else if(o.objectMode||r&&r.length>0){if(typeof r!=="string"&&!o.objectMode&&Object.getPrototypeOf(r)!==p.prototype){r=_uint8ArrayToBuffer(r)}if(i){if(o.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else addChunk(e,o,r,true)}else if(o.ended){e.emit("error",new Error("stream.push() after EOF"))}else{o.reading=false;if(o.decoder&&!n){r=o.decoder.write(r);if(o.objectMode||r.length!==0)addChunk(e,o,r,false);else maybeReadMore(e,o)}else{addChunk(e,o,r,false)}}}else if(!i){o.reading=false}}return needMoreData(o)}function addChunk(e,r,n,i){if(r.flowing&&r.length===0&&!r.sync){e.emit("data",n);e.read(0)}else{r.length+=r.objectMode?1:n.length;if(i)r.buffer.unshift(n);else r.buffer.push(n);if(r.needReadable)emitReadable(e)}maybeReadMore(e,r)}function chunkInvalid(e,r){var n;if(!_isUint8Array(r)&&typeof r!=="string"&&r!==undefined&&!e.objectMode){n=new TypeError("Invalid non-string/buffer chunk")}return n}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(e){if(!k)k=n(88927).I;this._readableState.decoder=new k(e);this._readableState.encoding=e;return this};var R=8388608;function computeNewHighWaterMark(e){if(e>=R){e=R}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,r){if(e<=0||r.length===0&&r.ended)return 0;if(r.objectMode)return 1;if(e!==e){if(r.flowing&&r.length)return r.buffer.head.data.length;else return r.length}if(e>r.highWaterMark)r.highWaterMark=computeNewHighWaterMark(e);if(e<=r.length)return e;if(!r.ended){r.needReadable=true;return 0}return r.length}Readable.prototype.read=function(e){v("read",e);e=parseInt(e,10);var r=this._readableState;var n=e;if(e!==0)r.emittedReadable=false;if(e===0&&r.needReadable&&(r.length>=r.highWaterMark||r.ended)){v("read: emitReadable",r.length,r.ended);if(r.length===0&&r.ended)endReadable(this);else emitReadable(this);return null}e=howMuchToRead(e,r);if(e===0&&r.ended){if(r.length===0)endReadable(this);return null}var i=r.needReadable;v("need readable",i);if(r.length===0||r.length-e<r.highWaterMark){i=true;v("length less than watermark",i)}if(r.ended||r.reading){i=false;v("reading or ended",i)}else if(i){v("do read");r.reading=true;r.sync=true;if(r.length===0)r.needReadable=true;this._read(r.highWaterMark);r.sync=false;if(!r.reading)e=howMuchToRead(n,r)}var s;if(e>0)s=fromList(e,r);else s=null;if(s===null){r.needReadable=true;e=0}else{r.length-=e}if(r.length===0){if(!r.ended)r.needReadable=true;if(n!==e&&r.ended)endReadable(this)}if(s!==null)this.emit("data",s);return s};function onEofChunk(e,r){if(r.ended)return;if(r.decoder){var n=r.decoder.end();if(n&&n.length){r.buffer.push(n);r.length+=r.objectMode?1:n.length}}r.ended=true;emitReadable(e)}function emitReadable(e){var r=e._readableState;r.needReadable=false;if(!r.emittedReadable){v("emitReadable",r.flowing);r.emittedReadable=true;if(r.sync)i.nextTick(emitReadable_,e);else emitReadable_(e)}}function emitReadable_(e){v("emit readable");e.emit("readable");flow(e)}function maybeReadMore(e,r){if(!r.readingMore){r.readingMore=true;i.nextTick(maybeReadMore_,e,r)}}function maybeReadMore_(e,r){var n=r.length;while(!r.reading&&!r.flowing&&!r.ended&&r.length<r.highWaterMark){v("maybeReadMore read 0");e.read(0);if(n===r.length)break;else n=r.length}r.readingMore=false}Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Readable.prototype.pipe=function(e,r){var n=this;var s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e);break}s.pipesCount+=1;v("pipe count=%d opts=%j",s.pipesCount,r);var o=(!r||r.end!==false)&&e!==process.stdout&&e!==process.stderr;var u=o?onend:unpipe;if(s.endEmitted)i.nextTick(u);else n.once("end",u);e.on("unpipe",onunpipe);function onunpipe(e,r){v("onunpipe");if(e===n){if(r&&r.hasUnpiped===false){r.hasUnpiped=true;cleanup()}}}function onend(){v("onend");e.end()}var f=pipeOnDrain(n);e.on("drain",f);var p=false;function cleanup(){v("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",f);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);n.removeListener("end",onend);n.removeListener("end",unpipe);n.removeListener("data",ondata);p=true;if(s.awaitDrain&&(!e._writableState||e._writableState.needDrain))f()}var g=false;n.on("data",ondata);function ondata(r){v("ondata");g=false;var i=e.write(r);if(false===i&&!g){if((s.pipesCount===1&&s.pipes===e||s.pipesCount>1&&indexOf(s.pipes,e)!==-1)&&!p){v("false write response, pause",s.awaitDrain);s.awaitDrain++;g=true}n.pause()}}function onerror(r){v("onerror",r);unpipe();e.removeListener("error",onerror);if(EElistenerCount(e,"error")===0)e.emit("error",r)}prependListener(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){v("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){v("unpipe");n.unpipe(e)}e.emit("pipe",n);if(!s.flowing){v("pipe resume");n.resume()}return e};function pipeOnDrain(e){return function(){var r=e._readableState;v("pipeOnDrain",r.awaitDrain);if(r.awaitDrain)r.awaitDrain--;if(r.awaitDrain===0&&EElistenerCount(e,"data")){r.flowing=true;flow(e)}}}Readable.prototype.unpipe=function(e){var r=this._readableState;var n={hasUnpiped:false};if(r.pipesCount===0)return this;if(r.pipesCount===1){if(e&&e!==r.pipes)return this;if(!e)e=r.pipes;r.pipes=null;r.pipesCount=0;r.flowing=false;if(e)e.emit("unpipe",this,n);return this}if(!e){var i=r.pipes;var s=r.pipesCount;r.pipes=null;r.pipesCount=0;r.flowing=false;for(var o=0;o<s;o++){i[o].emit("unpipe",this,{hasUnpiped:false})}return this}var u=indexOf(r.pipes,e);if(u===-1)return this;r.pipes.splice(u,1);r.pipesCount-=1;if(r.pipesCount===1)r.pipes=r.pipes[0];e.emit("unpipe",this,n);return this};Readable.prototype.on=function(e,r){var n=f.prototype.on.call(this,e,r);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var s=this._readableState;if(!s.endEmitted&&!s.readableListening){s.readableListening=s.needReadable=true;s.emittedReadable=false;if(!s.reading){i.nextTick(nReadingNextTick,this)}else if(s.length){emitReadable(this)}}}return n};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(e){v("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){v("resume");e.flowing=true;resume(this,e)}return this};function resume(e,r){if(!r.resumeScheduled){r.resumeScheduled=true;i.nextTick(resume_,e,r)}}function resume_(e,r){if(!r.reading){v("resume read 0");e.read(0)}r.resumeScheduled=false;r.awaitDrain=0;e.emit("resume");flow(e);if(r.flowing&&!r.reading)e.read(0)}Readable.prototype.pause=function(){v("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){v("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(e){var r=e._readableState;v("flow",r.flowing);while(r.flowing&&e.read()!==null){}}Readable.prototype.wrap=function(e){var r=this;var n=this._readableState;var i=false;e.on("end",(function(){v("wrapped end");if(n.decoder&&!n.ended){var e=n.decoder.end();if(e&&e.length)r.push(e)}r.push(null)}));e.on("data",(function(s){v("wrapped data");if(n.decoder)s=n.decoder.write(s);if(n.objectMode&&(s===null||s===undefined))return;else if(!n.objectMode&&(!s||!s.length))return;var o=r.push(s);if(!o){i=true;e.pause()}}));for(var s in e){if(this[s]===undefined&&typeof e[s]==="function"){this[s]=function(r){return function(){return e[r].apply(e,arguments)}}(s)}}for(var o=0;o<C.length;o++){e.on(C[o],this.emit.bind(this,C[o]))}this._read=function(r){v("wrapped _read",r);if(i){i=false;e.resume()}};return this};Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});Readable._fromList=fromList;function fromList(e,r){if(r.length===0)return null;var n;if(r.objectMode)n=r.buffer.shift();else if(!e||e>=r.length){if(r.decoder)n=r.buffer.join("");else if(r.buffer.length===1)n=r.buffer.head.data;else n=r.buffer.concat(r.length);r.buffer.clear()}else{n=fromListPartial(e,r.buffer,r.decoder)}return n}function fromListPartial(e,r,n){var i;if(e<r.head.data.length){i=r.head.data.slice(0,e);r.head.data=r.head.data.slice(e)}else if(e===r.head.data.length){i=r.shift()}else{i=n?copyFromBufferString(e,r):copyFromBuffer(e,r)}return i}function copyFromBufferString(e,r){var n=r.head;var i=1;var s=n.data;e-=s.length;while(n=n.next){var o=n.data;var u=e>o.length?o.length:e;if(u===o.length)s+=o;else s+=o.slice(0,e);e-=u;if(e===0){if(u===o.length){++i;if(n.next)r.head=n.next;else r.head=r.tail=null}else{r.head=n;n.data=o.slice(u)}break}++i}r.length-=i;return s}function copyFromBuffer(e,r){var n=p.allocUnsafe(e);var i=r.head;var s=1;i.data.copy(n);e-=i.data.length;while(i=i.next){var o=i.data;var u=e>o.length?o.length:e;o.copy(n,n.length-e,0,u);e-=u;if(e===0){if(u===o.length){++s;if(i.next)r.head=i.next;else r.head=r.tail=null}else{r.head=i;i.data=o.slice(u)}break}++s}r.length-=s;return n}function endReadable(e){var r=e._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!r.endEmitted){r.ended=true;i.nextTick(endReadableNT,r,e)}}function endReadableNT(e,r){if(!e.endEmitted&&e.length===0){e.endEmitted=true;r.readable=false;r.emit("end")}}function indexOf(e,r){for(var n=0,i=e.length;n<i;n++){if(e[n]===r)return n}return-1}},55167:(e,r,n)=>{"use strict";e.exports=Transform;var i=n(47561);var s=Object.create(n(19810));s.inherits=n(84070);s.inherits(Transform,i);function afterTransform(e,r){var n=this._transformState;n.transforming=false;var i=n.writecb;if(!i){return this.emit("error",new Error("write callback called multiple times"))}n.writechunk=null;n.writecb=null;if(r!=null)this.push(r);i(e);var s=this._readableState;s.reading=false;if(s.needReadable||s.length<s.highWaterMark){this._read(s.highWaterMark)}}function Transform(e){if(!(this instanceof Transform))return new Transform(e);i.call(this,e);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",prefinish)}function prefinish(){var e=this;if(typeof this._flush==="function"){this._flush((function(r,n){done(e,r,n)}))}else{done(this,null,null)}}Transform.prototype.push=function(e,r){this._transformState.needTransform=false;return i.prototype.push.call(this,e,r)};Transform.prototype._transform=function(e,r,n){throw new Error("_transform() is not implemented")};Transform.prototype._write=function(e,r,n){var i=this._transformState;i.writecb=n;i.writechunk=e;i.writeencoding=r;if(!i.transforming){var s=this._readableState;if(i.needTransform||s.needReadable||s.length<s.highWaterMark)this._read(s.highWaterMark)}};Transform.prototype._read=function(e){var r=this._transformState;if(r.writechunk!==null&&r.writecb&&!r.transforming){r.transforming=true;this._transform(r.writechunk,r.writeencoding,r.afterTransform)}else{r.needTransform=true}};Transform.prototype._destroy=function(e,r){var n=this;i.prototype._destroy.call(this,e,(function(e){r(e);n.emit("close")}))};function done(e,r,n){if(r)return e.emit("error",r);if(n!=null)e.push(n);if(e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},50227:(e,r,n)=>{"use strict";var i=n(11847);e.exports=Writable;function WriteReq(e,r,n){this.chunk=e;this.encoding=r;this.callback=n;this.next=null}function CorkedRequest(e){var r=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(r,e)}}var s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:i.nextTick;var o;Writable.WritableState=WritableState;var u=Object.create(n(19810));u.inherits=n(84070);var f={deprecate:n(39987)};var p=n(48705);var g=n(56912).Buffer;var b=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return g.from(e)}function _isUint8Array(e){return g.isBuffer(e)||e instanceof b}var _=n(23383);u.inherits(Writable,p);function nop(){}function WritableState(e,r){o=o||n(47561);e=e||{};var i=r instanceof o;this.objectMode=!!e.objectMode;if(i)this.objectMode=this.objectMode||!!e.writableObjectMode;var s=e.highWaterMark;var u=e.writableHighWaterMark;var f=this.objectMode?16:16*1024;if(s||s===0)this.highWaterMark=s;else if(i&&(u||u===0))this.highWaterMark=u;else this.highWaterMark=f;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var p=e.decodeStrings===false;this.decodeStrings=!p;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){onwrite(r,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var e=this.bufferedRequest;var r=[];while(e){r.push(e);e=e.next}return r};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var v;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){v=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){if(v.call(this,e))return true;if(this!==Writable)return false;return e&&e._writableState instanceof WritableState}})}else{v=function(e){return e instanceof this}}function Writable(e){o=o||n(47561);if(!v.call(Writable,this)&&!(this instanceof o)){return new Writable(e)}this._writableState=new WritableState(e,this);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}p.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(e,r){var n=new Error("write after end");e.emit("error",n);i.nextTick(r,n)}function validChunk(e,r,n,s){var o=true;var u=false;if(n===null){u=new TypeError("May not write null values to stream")}else if(typeof n!=="string"&&n!==undefined&&!r.objectMode){u=new TypeError("Invalid non-string/buffer chunk")}if(u){e.emit("error",u);i.nextTick(s,u);o=false}return o}Writable.prototype.write=function(e,r,n){var i=this._writableState;var s=false;var o=!i.objectMode&&_isUint8Array(e);if(o&&!g.isBuffer(e)){e=_uint8ArrayToBuffer(e)}if(typeof r==="function"){n=r;r=null}if(o)r="buffer";else if(!r)r=i.defaultEncoding;if(typeof n!=="function")n=nop;if(i.ended)writeAfterEnd(this,n);else if(o||validChunk(this,i,e,n)){i.pendingcb++;s=writeOrBuffer(this,i,o,e,r,n)}return s};Writable.prototype.cork=function(){var e=this._writableState;e.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e;return this};function decodeChunk(e,r,n){if(!e.objectMode&&e.decodeStrings!==false&&typeof r==="string"){r=g.from(r,n)}return r}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(e,r,n,i,s,o){if(!n){var u=decodeChunk(r,i,s);if(i!==u){n=true;s="buffer";i=u}}var f=r.objectMode?1:i.length;r.length+=f;var p=r.length<r.highWaterMark;if(!p)r.needDrain=true;if(r.writing||r.corked){var g=r.lastBufferedRequest;r.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:o,next:null};if(g){g.next=r.lastBufferedRequest}else{r.bufferedRequest=r.lastBufferedRequest}r.bufferedRequestCount+=1}else{doWrite(e,r,false,f,i,s,o)}return p}function doWrite(e,r,n,i,s,o,u){r.writelen=i;r.writecb=u;r.writing=true;r.sync=true;if(n)e._writev(s,r.onwrite);else e._write(s,o,r.onwrite);r.sync=false}function onwriteError(e,r,n,s,o){--r.pendingcb;if(n){i.nextTick(o,s);i.nextTick(finishMaybe,e,r);e._writableState.errorEmitted=true;e.emit("error",s)}else{o(s);e._writableState.errorEmitted=true;e.emit("error",s);finishMaybe(e,r)}}function onwriteStateUpdate(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,r){var n=e._writableState;var i=n.sync;var o=n.writecb;onwriteStateUpdate(n);if(r)onwriteError(e,n,i,r,o);else{var u=needFinish(n);if(!u&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest){clearBuffer(e,n)}if(i){s(afterWrite,e,n,u,o)}else{afterWrite(e,n,u,o)}}}function afterWrite(e,r,n,i){if(!n)onwriteDrain(e,r);r.pendingcb--;i();finishMaybe(e,r)}function onwriteDrain(e,r){if(r.length===0&&r.needDrain){r.needDrain=false;e.emit("drain")}}function clearBuffer(e,r){r.bufferProcessing=true;var n=r.bufferedRequest;if(e._writev&&n&&n.next){var i=r.bufferedRequestCount;var s=new Array(i);var o=r.corkedRequestsFree;o.entry=n;var u=0;var f=true;while(n){s[u]=n;if(!n.isBuf)f=false;n=n.next;u+=1}s.allBuffers=f;doWrite(e,r,true,r.length,s,"",o.finish);r.pendingcb++;r.lastBufferedRequest=null;if(o.next){r.corkedRequestsFree=o.next;o.next=null}else{r.corkedRequestsFree=new CorkedRequest(r)}r.bufferedRequestCount=0}else{while(n){var p=n.chunk;var g=n.encoding;var b=n.callback;var _=r.objectMode?1:p.length;doWrite(e,r,false,_,p,g,b);n=n.next;r.bufferedRequestCount--;if(r.writing){break}}if(n===null)r.lastBufferedRequest=null}r.bufferedRequest=n;r.bufferProcessing=false}Writable.prototype._write=function(e,r,n){n(new Error("_write() is not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,r,n){var i=this._writableState;if(typeof e==="function"){n=e;e=null;r=null}else if(typeof r==="function"){n=r;r=null}if(e!==null&&e!==undefined)this.write(e,r);if(i.corked){i.corked=1;this.uncork()}if(!i.ending)endWritable(this,i,n)};function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,r){e._final((function(n){r.pendingcb--;if(n){e.emit("error",n)}r.prefinished=true;e.emit("prefinish");finishMaybe(e,r)}))}function prefinish(e,r){if(!r.prefinished&&!r.finalCalled){if(typeof e._final==="function"){r.pendingcb++;r.finalCalled=true;i.nextTick(callFinal,e,r)}else{r.prefinished=true;e.emit("prefinish")}}}function finishMaybe(e,r){var n=needFinish(r);if(n){prefinish(e,r);if(r.pendingcb===0){r.finished=true;e.emit("finish")}}return n}function endWritable(e,r,n){r.ending=true;finishMaybe(e,r);if(n){if(r.finished)i.nextTick(n);else e.once("finish",n)}r.ended=true;e.writable=false}function onCorkedFinish(e,r,n){var i=e.entry;e.entry=null;while(i){var s=i.callback;r.pendingcb--;s(n);i=i.next}r.corkedRequestsFree.next=e}Object.defineProperty(Writable.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});Writable.prototype.destroy=_.destroy;Writable.prototype._undestroy=_.undestroy;Writable.prototype._destroy=function(e,r){this.end();r(e)}},36271:(e,r,n)=>{"use strict";function _classCallCheck(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var i=n(56912).Buffer;var s=n(39023);function copyBuffer(e,r,n){e.copy(r,n)}e.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function push(e){var r={data:e,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length};BufferList.prototype.unshift=function unshift(e){var r={data:e,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length};BufferList.prototype.shift=function shift(){if(this.length===0)return;var e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e};BufferList.prototype.clear=function clear(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function join(e){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=e+r.data}return n};BufferList.prototype.concat=function concat(e){if(this.length===0)return i.alloc(0);var r=i.allocUnsafe(e>>>0);var n=this.head;var s=0;while(n){copyBuffer(n.data,r,s);s+=n.data.length;n=n.next}return r};return BufferList}();if(s&&s.inspect&&s.inspect.custom){e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e}}},23383:(e,r,n)=>{"use strict";var i=n(11847);function destroy(e,r){var n=this;var s=this._readableState&&this._readableState.destroyed;var o=this._writableState&&this._writableState.destroyed;if(s||o){if(r){r(e)}else if(e){if(!this._writableState){i.nextTick(emitErrorNT,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;i.nextTick(emitErrorNT,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,(function(e){if(!r&&e){if(!n._writableState){i.nextTick(emitErrorNT,n,e)}else if(!n._writableState.errorEmitted){n._writableState.errorEmitted=true;i.nextTick(emitErrorNT,n,e)}}else if(r){r(e)}}));return this}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(e,r){e.emit("error",r)}e.exports={destroy:destroy,undestroy:undestroy}},48705:(e,r,n)=>{e.exports=n(2203)},3627:(e,r,n)=>{e.exports=n(61397).PassThrough},61397:(e,r,n)=>{var i=n(2203);if(process.env.READABLE_STREAM==="disable"&&i){e.exports=i;r=e.exports=i.Readable;r.Readable=i.Readable;r.Writable=i.Writable;r.Duplex=i.Duplex;r.Transform=i.Transform;r.PassThrough=i.PassThrough;r.Stream=i}else{r=e.exports=n(36319);r.Stream=i||r;r.Readable=r;r.Writable=n(50227);r.Duplex=n(47561);r.Transform=n(55167);r.PassThrough=n(67741)}},37580:(e,r,n)=>{"use strict";const{SymbolDispose:i}=n(12823);const{AbortError:s,codes:o}=n(28484);const{isNodeStream:u,isWebStream:f,kControllerErrorFunction:p}=n(67202);const g=n(82543);const{ERR_INVALID_ARG_TYPE:b}=o;let _;const validateAbortSignal=(e,r)=>{if(typeof e!=="object"||!("aborted"in e)){throw new b(r,"AbortSignal",e)}};e.exports.addAbortSignal=function addAbortSignal(r,n){validateAbortSignal(r,"signal");if(!u(n)&&!f(n)){throw new b("stream",["ReadableStream","WritableStream","Stream"],n)}return e.exports.addAbortSignalNoValidate(r,n)};e.exports.addAbortSignalNoValidate=function(e,r){if(typeof e!=="object"||!("aborted"in e)){return r}const o=u(r)?()=>{r.destroy(new s(undefined,{cause:e.reason}))}:()=>{r[p](new s(undefined,{cause:e.reason}))};if(e.aborted){o()}else{_=_||n(18547).addAbortListener;const s=_(e,o);g(r,s[i])}return r}},12536:(e,r,n)=>{"use strict";const{StringPrototypeSlice:i,SymbolIterator:s,TypedArrayPrototypeSet:o,Uint8Array:u}=n(12823);const{Buffer:f}=n(20181);const{inspect:p}=n(18547);e.exports=class BufferList{constructor(){this.head=null;this.tail=null;this.length=0}push(e){const r={data:e,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}unshift(e){const r={data:e,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}shift(){if(this.length===0)return;const e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e}clear(){this.head=this.tail=null;this.length=0}join(e){if(this.length===0)return"";let r=this.head;let n=""+r.data;while((r=r.next)!==null)n+=e+r.data;return n}concat(e){if(this.length===0)return f.alloc(0);const r=f.allocUnsafe(e>>>0);let n=this.head;let i=0;while(n){o(r,n.data,i);i+=n.data.length;n=n.next}return r}consume(e,r){const n=this.head.data;if(e<n.length){const r=n.slice(0,e);this.head.data=n.slice(e);return r}if(e===n.length){return this.shift()}return r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[s](){for(let e=this.head;e;e=e.next){yield e.data}}_getString(e){let r="";let n=this.head;let s=0;do{const o=n.data;if(e>o.length){r+=o;e-=o.length}else{if(e===o.length){r+=o;++s;if(n.next)this.head=n.next;else this.head=this.tail=null}else{r+=i(o,0,e);this.head=n;n.data=i(o,e)}break}++s}while((n=n.next)!==null);this.length-=s;return r}_getBuffer(e){const r=f.allocUnsafe(e);const n=e;let i=this.head;let s=0;do{const f=i.data;if(e>f.length){o(r,f,n-e);e-=f.length}else{if(e===f.length){o(r,f,n-e);++s;if(i.next)this.head=i.next;else this.head=this.tail=null}else{o(r,new u(f.buffer,f.byteOffset,e),n-e);this.head=i;i.data=f.slice(e)}break}++s}while((i=i.next)!==null);this.length-=s;return r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return p(this,{...r,depth:0,customInspect:false})}}},61255:(e,r,n)=>{"use strict";const{pipeline:i}=n(84061);const s=n(40657);const{destroyer:o}=n(87201);const{isNodeStream:u,isReadable:f,isWritable:p,isWebStream:g,isTransformStream:b,isWritableStream:_,isReadableStream:v}=n(67202);const{AbortError:w,codes:{ERR_INVALID_ARG_VALUE:I,ERR_MISSING_ARGS:k}}=n(28484);const C=n(82543);e.exports=function compose(...e){if(e.length===0){throw new k("streams")}if(e.length===1){return s.from(e[0])}const r=[...e];if(typeof e[0]==="function"){e[0]=s.from(e[0])}if(typeof e[e.length-1]==="function"){const r=e.length-1;e[r]=s.from(e[r])}for(let n=0;n<e.length;++n){if(!u(e[n])&&!g(e[n])){continue}if(n<e.length-1&&!(f(e[n])||v(e[n])||b(e[n]))){throw new I(`streams[${n}]`,r[n],"must be readable")}if(n>0&&!(p(e[n])||_(e[n])||b(e[n]))){throw new I(`streams[${n}]`,r[n],"must be writable")}}let n;let R;let T;let x;let P;function onfinished(e){const r=x;x=null;if(r){r(e)}else if(e){P.destroy(e)}else if(!j&&!U){P.destroy()}}const B=e[0];const L=i(e,onfinished);const U=!!(p(B)||_(B)||b(B));const j=!!(f(L)||v(L)||b(L));P=new s({writableObjectMode:!!(B!==null&&B!==undefined&&B.writableObjectMode),readableObjectMode:!!(L!==null&&L!==undefined&&L.readableObjectMode),writable:U,readable:j});if(U){if(u(B)){P._write=function(e,r,i){if(B.write(e,r)){i()}else{n=i}};P._final=function(e){B.end();R=e};B.on("drain",(function(){if(n){const e=n;n=null;e()}}))}else if(g(B)){const e=b(B)?B.writable:B;const r=e.getWriter();P._write=async function(e,n,i){try{await r.ready;r.write(e).catch((()=>{}));i()}catch(e){i(e)}};P._final=async function(e){try{await r.ready;r.close().catch((()=>{}));R=e}catch(r){e(r)}}}const e=b(L)?L.readable:L;C(e,(()=>{if(R){const e=R;R=null;e()}}))}if(j){if(u(L)){L.on("readable",(function(){if(T){const e=T;T=null;e()}}));L.on("end",(function(){P.push(null)}));P._read=function(){while(true){const e=L.read();if(e===null){T=P._read;return}if(!P.push(e)){return}}}}else if(g(L)){const e=b(L)?L.readable:L;const r=e.getReader();P._read=async function(){while(true){try{const{value:e,done:n}=await r.read();if(!P.push(e)){return}if(n){P.push(null);return}}catch{return}}}}}P._destroy=function(e,r){if(!e&&x!==null){e=new w}T=null;n=null;R=null;if(x===null){r(e)}else{x=r;if(u(L)){o(L,e)}}};return P}},87201:(e,r,n)=>{"use strict";const i=n(10125);const{aggregateTwoErrors:s,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:u}=n(28484);const{Symbol:f}=n(12823);const{kIsDestroyed:p,isDestroyed:g,isFinished:b,isServerRequest:_}=n(67202);const v=f("kDestroy");const w=f("kConstruct");function checkError(e,r,n){if(e){e.stack;if(r&&!r.errored){r.errored=e}if(n&&!n.errored){n.errored=e}}}function destroy(e,r){const n=this._readableState;const i=this._writableState;const o=i||n;if(i!==null&&i!==undefined&&i.destroyed||n!==null&&n!==undefined&&n.destroyed){if(typeof r==="function"){r()}return this}checkError(e,i,n);if(i){i.destroyed=true}if(n){n.destroyed=true}if(!o.constructed){this.once(v,(function(n){_destroy(this,s(n,e),r)}))}else{_destroy(this,e,r)}return this}function _destroy(e,r,n){let s=false;function onDestroy(r){if(s){return}s=true;const o=e._readableState;const u=e._writableState;checkError(r,u,o);if(u){u.closed=true}if(o){o.closed=true}if(typeof n==="function"){n(r)}if(r){i.nextTick(emitErrorCloseNT,e,r)}else{i.nextTick(emitCloseNT,e)}}try{e._destroy(r||null,onDestroy)}catch(r){onDestroy(r)}}function emitErrorCloseNT(e,r){emitErrorNT(e,r);emitCloseNT(e)}function emitCloseNT(e){const r=e._readableState;const n=e._writableState;if(n){n.closeEmitted=true}if(r){r.closeEmitted=true}if(n!==null&&n!==undefined&&n.emitClose||r!==null&&r!==undefined&&r.emitClose){e.emit("close")}}function emitErrorNT(e,r){const n=e._readableState;const i=e._writableState;if(i!==null&&i!==undefined&&i.errorEmitted||n!==null&&n!==undefined&&n.errorEmitted){return}if(i){i.errorEmitted=true}if(n){n.errorEmitted=true}e.emit("error",r)}function undestroy(){const e=this._readableState;const r=this._writableState;if(e){e.constructed=true;e.closed=false;e.closeEmitted=false;e.destroyed=false;e.errored=null;e.errorEmitted=false;e.reading=false;e.ended=e.readable===false;e.endEmitted=e.readable===false}if(r){r.constructed=true;r.destroyed=false;r.closed=false;r.closeEmitted=false;r.errored=null;r.errorEmitted=false;r.finalCalled=false;r.prefinished=false;r.ended=r.writable===false;r.ending=r.writable===false;r.finished=r.writable===false}}function errorOrDestroy(e,r,n){const s=e._readableState;const o=e._writableState;if(o!==null&&o!==undefined&&o.destroyed||s!==null&&s!==undefined&&s.destroyed){return this}if(s!==null&&s!==undefined&&s.autoDestroy||o!==null&&o!==undefined&&o.autoDestroy)e.destroy(r);else if(r){r.stack;if(o&&!o.errored){o.errored=r}if(s&&!s.errored){s.errored=r}if(n){i.nextTick(emitErrorNT,e,r)}else{emitErrorNT(e,r)}}}function construct(e,r){if(typeof e._construct!=="function"){return}const n=e._readableState;const s=e._writableState;if(n){n.constructed=false}if(s){s.constructed=false}e.once(w,r);if(e.listenerCount(w)>1){return}i.nextTick(constructNT,e)}function constructNT(e){let r=false;function onConstruct(n){if(r){errorOrDestroy(e,n!==null&&n!==undefined?n:new o);return}r=true;const s=e._readableState;const u=e._writableState;const f=u||s;if(s){s.constructed=true}if(u){u.constructed=true}if(f.destroyed){e.emit(v,n)}else if(n){errorOrDestroy(e,n,true)}else{i.nextTick(emitConstructNT,e)}}try{e._construct((e=>{i.nextTick(onConstruct,e)}))}catch(e){i.nextTick(onConstruct,e)}}function emitConstructNT(e){e.emit(w)}function isRequest(e){return(e===null||e===undefined?undefined:e.setHeader)&&typeof e.abort==="function"}function emitCloseLegacy(e){e.emit("close")}function emitErrorCloseLegacy(e,r){e.emit("error",r);i.nextTick(emitCloseLegacy,e)}function destroyer(e,r){if(!e||g(e)){return}if(!r&&!b(e)){r=new u}if(_(e)){e.socket=null;e.destroy(r)}else if(isRequest(e)){e.abort()}else if(isRequest(e.req)){e.req.abort()}else if(typeof e.destroy==="function"){e.destroy(r)}else if(typeof e.close==="function"){e.close()}else if(r){i.nextTick(emitErrorCloseLegacy,e,r)}else{i.nextTick(emitCloseLegacy,e)}if(!e.destroyed){e[p]=true}}e.exports={construct:construct,destroyer:destroyer,destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy}},40657:(e,r,n)=>{"use strict";const{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:o,ObjectSetPrototypeOf:u}=n(12823);e.exports=Duplex;const f=n(30359);const p=n(63131);u(Duplex.prototype,f.prototype);u(Duplex,f);{const e=o(p.prototype);for(let r=0;r<e.length;r++){const n=e[r];if(!Duplex.prototype[n])Duplex.prototype[n]=p.prototype[n]}}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);f.call(this,e);p.call(this,e);if(e){this.allowHalfOpen=e.allowHalfOpen!==false;if(e.readable===false){this._readableState.readable=false;this._readableState.ended=true;this._readableState.endEmitted=true}if(e.writable===false){this._writableState.writable=false;this._writableState.ending=true;this._writableState.ended=true;this._writableState.finished=true}}else{this.allowHalfOpen=true}}i(Duplex.prototype,{writable:{__proto__:null,...s(p.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(p.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(p.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(p.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(p.prototype,"writableLength")},writableFinished:{__proto__:null,...s(p.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(p.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(p.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(p.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set(e){if(this._readableState&&this._writableState){this._readableState.destroyed=e;this._writableState.destroyed=e}}}});let g;function lazyWebStreams(){if(g===undefined)g={};return g}Duplex.fromWeb=function(e,r){return lazyWebStreams().newStreamDuplexFromReadableWritablePair(e,r)};Duplex.toWeb=function(e){return lazyWebStreams().newReadableWritablePairFromDuplex(e)};let b;Duplex.from=function(e){if(!b){b=n(80567)}return b(e,"body")}},80567:(e,r,n)=>{const i=n(10125);"use strict";const s=n(20181);const{isReadable:o,isWritable:u,isIterable:f,isNodeStream:p,isReadableNodeStream:g,isWritableNodeStream:b,isDuplexNodeStream:_,isReadableStream:v,isWritableStream:w}=n(67202);const I=n(82543);const{AbortError:k,codes:{ERR_INVALID_ARG_TYPE:C,ERR_INVALID_RETURN_VALUE:R}}=n(28484);const{destroyer:T}=n(87201);const x=n(40657);const P=n(30359);const B=n(63131);const{createDeferredPromise:L}=n(18547);const U=n(40083);const j=globalThis.Blob||s.Blob;const W=typeof j!=="undefined"?function isBlob(e){return e instanceof j}:function isBlob(e){return false};const Q=globalThis.AbortController||n(26335).AbortController;const{FunctionPrototypeCall:z}=n(12823);class Duplexify extends x{constructor(e){super(e);if((e===null||e===undefined?undefined:e.readable)===false){this._readableState.readable=false;this._readableState.ended=true;this._readableState.endEmitted=true}if((e===null||e===undefined?undefined:e.writable)===false){this._writableState.writable=false;this._writableState.ending=true;this._writableState.ended=true;this._writableState.finished=true}}}e.exports=function duplexify(e,r){if(_(e)){return e}if(g(e)){return _duplexify({readable:e})}if(b(e)){return _duplexify({writable:e})}if(p(e)){return _duplexify({writable:false,readable:false})}if(v(e)){return _duplexify({readable:P.fromWeb(e)})}if(w(e)){return _duplexify({writable:B.fromWeb(e)})}if(typeof e==="function"){const{value:n,write:s,final:o,destroy:u}=fromAsyncGen(e);if(f(n)){return U(Duplexify,n,{objectMode:true,write:s,final:o,destroy:u})}const p=n===null||n===undefined?undefined:n.then;if(typeof p==="function"){let e;const r=z(p,n,(e=>{if(e!=null){throw new R("nully","body",e)}}),(r=>{T(e,r)}));return e=new Duplexify({objectMode:true,readable:false,write:s,final(e){o((async()=>{try{await r;i.nextTick(e,null)}catch(r){i.nextTick(e,r)}}))},destroy:u})}throw new R("Iterable, AsyncIterable or AsyncFunction",r,n)}if(W(e)){return duplexify(e.arrayBuffer())}if(f(e)){return U(Duplexify,e,{objectMode:true,writable:false})}if(v(e===null||e===undefined?undefined:e.readable)&&w(e===null||e===undefined?undefined:e.writable)){return Duplexify.fromWeb(e)}if(typeof(e===null||e===undefined?undefined:e.writable)==="object"||typeof(e===null||e===undefined?undefined:e.readable)==="object"){const r=e!==null&&e!==undefined&&e.readable?g(e===null||e===undefined?undefined:e.readable)?e===null||e===undefined?undefined:e.readable:duplexify(e.readable):undefined;const n=e!==null&&e!==undefined&&e.writable?b(e===null||e===undefined?undefined:e.writable)?e===null||e===undefined?undefined:e.writable:duplexify(e.writable):undefined;return _duplexify({readable:r,writable:n})}const n=e===null||e===undefined?undefined:e.then;if(typeof n==="function"){let r;z(n,e,(e=>{if(e!=null){r.push(e)}r.push(null)}),(e=>{T(r,e)}));return r=new Duplexify({objectMode:true,writable:false,read(){}})}throw new C(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function fromAsyncGen(e){let{promise:r,resolve:n}=L();const s=new Q;const o=s.signal;const u=e(async function*(){while(true){const e=r;r=null;const{chunk:s,done:u,cb:f}=await e;i.nextTick(f);if(u)return;if(o.aborted)throw new k(undefined,{cause:o.reason});({promise:r,resolve:n}=L());yield s}}(),{signal:o});return{value:u,write(e,r,i){const s=n;n=null;s({chunk:e,done:false,cb:i})},final(e){const r=n;n=null;r({done:true,cb:e})},destroy(e,r){s.abort();r(e)}}}function _duplexify(e){const r=e.readable&&typeof e.readable.read!=="function"?P.wrap(e.readable):e.readable;const n=e.writable;let i=!!o(r);let s=!!u(n);let f;let p;let g;let b;let _;function onfinished(e){const r=b;b=null;if(r){r(e)}else if(e){_.destroy(e)}}_=new Duplexify({readableObjectMode:!!(r!==null&&r!==undefined&&r.readableObjectMode),writableObjectMode:!!(n!==null&&n!==undefined&&n.writableObjectMode),readable:i,writable:s});if(s){I(n,(e=>{s=false;if(e){T(r,e)}onfinished(e)}));_._write=function(e,r,i){if(n.write(e,r)){i()}else{f=i}};_._final=function(e){n.end();p=e};n.on("drain",(function(){if(f){const e=f;f=null;e()}}));n.on("finish",(function(){if(p){const e=p;p=null;e()}}))}if(i){I(r,(e=>{i=false;if(e){T(r,e)}onfinished(e)}));r.on("readable",(function(){if(g){const e=g;g=null;e()}}));r.on("end",(function(){_.push(null)}));_._read=function(){while(true){const e=r.read();if(e===null){g=_._read;return}if(!_.push(e)){return}}}}_._destroy=function(e,i){if(!e&&b!==null){e=new k}g=null;f=null;p=null;if(b===null){i(e)}else{b=i;T(n,e);T(r,e)}};return _}},82543:(e,r,n)=>{"use strict";const i=n(10125);const{AbortError:s,codes:o}=n(28484);const{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_PREMATURE_CLOSE:f}=o;const{kEmptyObject:p,once:g}=n(18547);const{validateAbortSignal:b,validateFunction:_,validateObject:v,validateBoolean:w}=n(18066);const{Promise:I,PromisePrototypeThen:k,SymbolDispose:C}=n(12823);const{isClosed:R,isReadable:T,isReadableNodeStream:x,isReadableStream:P,isReadableFinished:B,isReadableErrored:L,isWritable:U,isWritableNodeStream:j,isWritableStream:W,isWritableFinished:Q,isWritableErrored:z,isNodeStream:G,willEmitClose:q,kIsClosedPromise:Y}=n(67202);let V;function isRequest(e){return e.setHeader&&typeof e.abort==="function"}const nop=()=>{};function eos(e,r,o){var w,I;if(arguments.length===2){o=r;r=p}else if(r==null){r=p}else{v(r,"options")}_(o,"callback");b(r.signal,"options.signal");o=g(o);if(P(e)||W(e)){return eosWeb(e,r,o)}if(!G(e)){throw new u("stream",["ReadableStream","WritableStream","Stream"],e)}const k=(w=r.readable)!==null&&w!==undefined?w:x(e);const Y=(I=r.writable)!==null&&I!==undefined?I:j(e);const J=e._writableState;const ee=e._readableState;const onlegacyfinish=()=>{if(!e.writable){onfinish()}};let te=q(e)&&x(e)===k&&j(e)===Y;let re=Q(e,false);const onfinish=()=>{re=true;if(e.destroyed){te=false}if(te&&(!e.readable||k)){return}if(!k||ne){o.call(e)}};let ne=B(e,false);const onend=()=>{ne=true;if(e.destroyed){te=false}if(te&&(!e.writable||Y)){return}if(!Y||re){o.call(e)}};const onerror=r=>{o.call(e,r)};let ie=R(e);const onclose=()=>{ie=true;const r=z(e)||L(e);if(r&&typeof r!=="boolean"){return o.call(e,r)}if(k&&!ne&&x(e,true)){if(!B(e,false))return o.call(e,new f)}if(Y&&!re){if(!Q(e,false))return o.call(e,new f)}o.call(e)};const onclosed=()=>{ie=true;const r=z(e)||L(e);if(r&&typeof r!=="boolean"){return o.call(e,r)}o.call(e)};const onrequest=()=>{e.req.on("finish",onfinish)};if(isRequest(e)){e.on("complete",onfinish);if(!te){e.on("abort",onclose)}if(e.req){onrequest()}else{e.on("request",onrequest)}}else if(Y&&!J){e.on("end",onlegacyfinish);e.on("close",onlegacyfinish)}if(!te&&typeof e.aborted==="boolean"){e.on("aborted",onclose)}e.on("end",onend);e.on("finish",onfinish);if(r.error!==false){e.on("error",onerror)}e.on("close",onclose);if(ie){i.nextTick(onclose)}else if(J!==null&&J!==undefined&&J.errorEmitted||ee!==null&&ee!==undefined&&ee.errorEmitted){if(!te){i.nextTick(onclosed)}}else if(!k&&(!te||T(e))&&(re||U(e)===false)){i.nextTick(onclosed)}else if(!Y&&(!te||U(e))&&(ne||T(e)===false)){i.nextTick(onclosed)}else if(ee&&e.req&&e.aborted){i.nextTick(onclosed)}const cleanup=()=>{o=nop;e.removeListener("aborted",onclose);e.removeListener("complete",onfinish);e.removeListener("abort",onclose);e.removeListener("request",onrequest);if(e.req)e.req.removeListener("finish",onfinish);e.removeListener("end",onlegacyfinish);e.removeListener("close",onlegacyfinish);e.removeListener("finish",onfinish);e.removeListener("end",onend);e.removeListener("error",onerror);e.removeListener("close",onclose)};if(r.signal&&!ie){const abort=()=>{const n=o;cleanup();n.call(e,new s(undefined,{cause:r.signal.reason}))};if(r.signal.aborted){i.nextTick(abort)}else{V=V||n(18547).addAbortListener;const i=V(r.signal,abort);const s=o;o=g(((...r)=>{i[C]();s.apply(e,r)}))}}return cleanup}function eosWeb(e,r,o){let u=false;let f=nop;if(r.signal){f=()=>{u=true;o.call(e,new s(undefined,{cause:r.signal.reason}))};if(r.signal.aborted){i.nextTick(f)}else{V=V||n(18547).addAbortListener;const i=V(r.signal,f);const s=o;o=g(((...r)=>{i[C]();s.apply(e,r)}))}}const resolverFn=(...r)=>{if(!u){i.nextTick((()=>o.apply(e,r)))}};k(e[Y].promise,resolverFn,resolverFn);return nop}function finished(e,r){var n;let i=false;if(r===null){r=p}if((n=r)!==null&&n!==undefined&&n.cleanup){w(r.cleanup,"cleanup");i=r.cleanup}return new I(((n,s)=>{const o=eos(e,r,(e=>{if(i){o()}if(e){s(e)}else{n()}}))}))}e.exports=eos;e.exports.finished=finished},40083:(e,r,n)=>{"use strict";const i=n(10125);const{PromisePrototypeThen:s,SymbolAsyncIterator:o,SymbolIterator:u}=n(12823);const{Buffer:f}=n(20181);const{ERR_INVALID_ARG_TYPE:p,ERR_STREAM_NULL_VALUES:g}=n(28484).codes;function from(e,r,n){let b;if(typeof r==="string"||r instanceof f){return new e({objectMode:true,...n,read(){this.push(r);this.push(null)}})}let _;if(r&&r[o]){_=true;b=r[o]()}else if(r&&r[u]){_=false;b=r[u]()}else{throw new p("iterable",["Iterable"],r)}const v=new e({objectMode:true,highWaterMark:1,...n});let w=false;v._read=function(){if(!w){w=true;next()}};v._destroy=function(e,r){s(close(e),(()=>i.nextTick(r,e)),(n=>i.nextTick(r,n||e)))};async function close(e){const r=e!==undefined&&e!==null;const n=typeof b.throw==="function";if(r&&n){const{value:r,done:n}=await b.throw(e);await r;if(n){return}}if(typeof b.return==="function"){const{value:e}=await b.return();await e}}async function next(){for(;;){try{const{value:e,done:r}=_?await b.next():b.next();if(r){v.push(null)}else{const r=e&&typeof e.then==="function"?await e:e;if(r===null){w=false;throw new g}else if(v.push(r)){continue}else{w=false}}}catch(e){v.destroy(e)}break}}return v}e.exports=from},66720:(e,r,n)=>{"use strict";const{ArrayIsArray:i,ObjectSetPrototypeOf:s}=n(12823);const{EventEmitter:o}=n(24434);function Stream(e){o.call(this,e)}s(Stream.prototype,o.prototype);s(Stream,o);Stream.prototype.pipe=function(e,r){const n=this;function ondata(r){if(e.writable&&e.write(r)===false&&n.pause){n.pause()}}n.on("data",ondata);function ondrain(){if(n.readable&&n.resume){n.resume()}}e.on("drain",ondrain);if(!e._isStdio&&(!r||r.end!==false)){n.on("end",onend);n.on("close",onclose)}let i=false;function onend(){if(i)return;i=true;e.end()}function onclose(){if(i)return;i=true;if(typeof e.destroy==="function")e.destroy()}function onerror(e){cleanup();if(o.listenerCount(this,"error")===0){this.emit("error",e)}}prependListener(n,"error",onerror);prependListener(e,"error",onerror);function cleanup(){n.removeListener("data",ondata);e.removeListener("drain",ondrain);n.removeListener("end",onend);n.removeListener("close",onclose);n.removeListener("error",onerror);e.removeListener("error",onerror);n.removeListener("end",cleanup);n.removeListener("close",cleanup);e.removeListener("close",cleanup)}n.on("end",cleanup);n.on("close",cleanup);e.on("close",cleanup);e.emit("pipe",n);return e};function prependListener(e,r,n){if(typeof e.prependListener==="function")return e.prependListener(r,n);if(!e._events||!e._events[r])e.on(r,n);else if(i(e._events[r]))e._events[r].unshift(n);else e._events[r]=[n,e._events[r]]}e.exports={Stream:Stream,prependListener:prependListener}},30774:(e,r,n)=>{"use strict";const i=globalThis.AbortController||n(26335).AbortController;const{codes:{ERR_INVALID_ARG_VALUE:s,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:u,ERR_OUT_OF_RANGE:f},AbortError:p}=n(28484);const{validateAbortSignal:g,validateInteger:b,validateObject:_}=n(18066);const v=n(12823).Symbol("kWeak");const w=n(12823).Symbol("kResistStopPropagation");const{finished:I}=n(82543);const k=n(61255);const{addAbortSignalNoValidate:C}=n(37580);const{isWritable:R,isNodeStream:T}=n(67202);const{deprecate:x}=n(18547);const{ArrayPrototypePush:P,Boolean:B,MathFloor:L,Number:U,NumberIsNaN:j,Promise:W,PromiseReject:Q,PromiseResolve:z,PromisePrototypeThen:G,Symbol:q}=n(12823);const Y=q("kEmpty");const V=q("kEof");function compose(e,r){if(r!=null){_(r,"options")}if((r===null||r===undefined?undefined:r.signal)!=null){g(r.signal,"options.signal")}if(T(e)&&!R(e)){throw new s("stream",e,"must be writable")}const n=k(this,e);if(r!==null&&r!==undefined&&r.signal){C(r.signal,n)}return n}function map(e,r){if(typeof e!=="function"){throw new o("fn",["Function","AsyncFunction"],e)}if(r!=null){_(r,"options")}if((r===null||r===undefined?undefined:r.signal)!=null){g(r.signal,"options.signal")}let i=1;if((r===null||r===undefined?undefined:r.concurrency)!=null){i=L(r.concurrency)}let s=i-1;if((r===null||r===undefined?undefined:r.highWaterMark)!=null){s=L(r.highWaterMark)}b(i,"options.concurrency",1);b(s,"options.highWaterMark",0);s+=i;return async function*map(){const o=n(18547).AbortSignalAny([r===null||r===undefined?undefined:r.signal].filter(B));const u=this;const f=[];const g={signal:o};let b;let _;let v=false;let w=0;function onCatch(){v=true;afterItemProcessed()}function afterItemProcessed(){w-=1;maybeResume()}function maybeResume(){if(_&&!v&&w<i&&f.length<s){_();_=null}}async function pump(){try{for await(let r of u){if(v){return}if(o.aborted){throw new p}try{r=e(r,g);if(r===Y){continue}r=z(r)}catch(e){r=Q(e)}w+=1;G(r,afterItemProcessed,onCatch);f.push(r);if(b){b();b=null}if(!v&&(f.length>=s||w>=i)){await new W((e=>{_=e}))}}f.push(V)}catch(e){const r=Q(e);G(r,afterItemProcessed,onCatch);f.push(r)}finally{v=true;if(b){b();b=null}}}pump();try{while(true){while(f.length>0){const e=await f[0];if(e===V){return}if(o.aborted){throw new p}if(e!==Y){yield e}f.shift();maybeResume()}await new W((e=>{b=e}))}}finally{v=true;if(_){_();_=null}}}.call(this)}function asIndexedPairs(e=undefined){if(e!=null){_(e,"options")}if((e===null||e===undefined?undefined:e.signal)!=null){g(e.signal,"options.signal")}return async function*asIndexedPairs(){let r=0;for await(const i of this){var n;if(e!==null&&e!==undefined&&(n=e.signal)!==null&&n!==undefined&&n.aborted){throw new p({cause:e.signal.reason})}yield[r++,i]}}.call(this)}async function some(e,r=undefined){for await(const n of filter.call(this,e,r)){return true}return false}async function every(e,r=undefined){if(typeof e!=="function"){throw new o("fn",["Function","AsyncFunction"],e)}return!await some.call(this,(async(...r)=>!await e(...r)),r)}async function find(e,r){for await(const n of filter.call(this,e,r)){return n}return undefined}async function forEach(e,r){if(typeof e!=="function"){throw new o("fn",["Function","AsyncFunction"],e)}async function forEachFn(r,n){await e(r,n);return Y}for await(const e of map.call(this,forEachFn,r));}function filter(e,r){if(typeof e!=="function"){throw new o("fn",["Function","AsyncFunction"],e)}async function filterFn(r,n){if(await e(r,n)){return r}return Y}return map.call(this,filterFn,r)}class ReduceAwareErrMissingArgs extends u{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function reduce(e,r,n){var s;if(typeof e!=="function"){throw new o("reducer",["Function","AsyncFunction"],e)}if(n!=null){_(n,"options")}if((n===null||n===undefined?undefined:n.signal)!=null){g(n.signal,"options.signal")}let u=arguments.length>1;if(n!==null&&n!==undefined&&(s=n.signal)!==null&&s!==undefined&&s.aborted){const e=new p(undefined,{cause:n.signal.reason});this.once("error",(()=>{}));await I(this.destroy(e));throw e}const f=new i;const b=f.signal;if(n!==null&&n!==undefined&&n.signal){const e={once:true,[v]:this,[w]:true};n.signal.addEventListener("abort",(()=>f.abort()),e)}let k=false;try{for await(const i of this){var C;k=true;if(n!==null&&n!==undefined&&(C=n.signal)!==null&&C!==undefined&&C.aborted){throw new p}if(!u){r=i;u=true}else{r=await e(r,i,{signal:b})}}if(!k&&!u){throw new ReduceAwareErrMissingArgs}}finally{f.abort()}return r}async function toArray(e){if(e!=null){_(e,"options")}if((e===null||e===undefined?undefined:e.signal)!=null){g(e.signal,"options.signal")}const r=[];for await(const i of this){var n;if(e!==null&&e!==undefined&&(n=e.signal)!==null&&n!==undefined&&n.aborted){throw new p(undefined,{cause:e.signal.reason})}P(r,i)}return r}function flatMap(e,r){const n=map.call(this,e,r);return async function*flatMap(){for await(const e of n){yield*e}}.call(this)}function toIntegerOrInfinity(e){e=U(e);if(j(e)){return 0}if(e<0){throw new f("number",">= 0",e)}return e}function drop(e,r=undefined){if(r!=null){_(r,"options")}if((r===null||r===undefined?undefined:r.signal)!=null){g(r.signal,"options.signal")}e=toIntegerOrInfinity(e);return async function*drop(){var n;if(r!==null&&r!==undefined&&(n=r.signal)!==null&&n!==undefined&&n.aborted){throw new p}for await(const n of this){var i;if(r!==null&&r!==undefined&&(i=r.signal)!==null&&i!==undefined&&i.aborted){throw new p}if(e--<=0){yield n}}}.call(this)}function take(e,r=undefined){if(r!=null){_(r,"options")}if((r===null||r===undefined?undefined:r.signal)!=null){g(r.signal,"options.signal")}e=toIntegerOrInfinity(e);return async function*take(){var n;if(r!==null&&r!==undefined&&(n=r.signal)!==null&&n!==undefined&&n.aborted){throw new p}for await(const n of this){var i;if(r!==null&&r!==undefined&&(i=r.signal)!==null&&i!==undefined&&i.aborted){throw new p}if(e-- >0){yield n}if(e<=0){return}}}.call(this)}e.exports.streamReturningOperators={asIndexedPairs:x(asIndexedPairs,"readable.asIndexedPairs will be removed in a future version."),drop:drop,filter:filter,flatMap:flatMap,map:map,take:take,compose:compose};e.exports.promiseReturningOperators={every:every,forEach:forEach,reduce:reduce,toArray:toArray,some:some,find:find}},33253:(e,r,n)=>{"use strict";const{ObjectSetPrototypeOf:i}=n(12823);e.exports=PassThrough;const s=n(23303);i(PassThrough.prototype,s.prototype);i(PassThrough,s);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);s.call(this,e)}PassThrough.prototype._transform=function(e,r,n){n(null,e)}},84061:(e,r,n)=>{const i=n(10125);"use strict";const{ArrayIsArray:s,Promise:o,SymbolAsyncIterator:u,SymbolDispose:f}=n(12823);const p=n(82543);const{once:g}=n(18547);const b=n(87201);const _=n(40657);const{aggregateTwoErrors:v,codes:{ERR_INVALID_ARG_TYPE:w,ERR_INVALID_RETURN_VALUE:I,ERR_MISSING_ARGS:k,ERR_STREAM_DESTROYED:C,ERR_STREAM_PREMATURE_CLOSE:R},AbortError:T}=n(28484);const{validateFunction:x,validateAbortSignal:P}=n(18066);const{isIterable:B,isReadable:L,isReadableNodeStream:U,isNodeStream:j,isTransformStream:W,isWebStream:Q,isReadableStream:z,isReadableFinished:G}=n(67202);const q=globalThis.AbortController||n(26335).AbortController;let Y;let V;let J;function destroyer(e,r,n){let i=false;e.on("close",(()=>{i=true}));const s=p(e,{readable:r,writable:n},(e=>{i=!e}));return{destroy:r=>{if(i)return;i=true;b.destroyer(e,r||new C("pipe"))},cleanup:s}}function popCallback(e){x(e[e.length-1],"streams[stream.length - 1]");return e.pop()}function makeAsyncIterable(e){if(B(e)){return e}else if(U(e)){return fromReadable(e)}throw new w("val",["Readable","Iterable","AsyncIterable"],e)}async function*fromReadable(e){if(!V){V=n(30359)}yield*V.prototype[u].call(e)}async function pumpToNode(e,r,n,{end:i}){let s;let u=null;const resume=e=>{if(e){s=e}if(u){const e=u;u=null;e()}};const wait=()=>new o(((e,r)=>{if(s){r(s)}else{u=()=>{if(s){r(s)}else{e()}}}}));r.on("drain",resume);const f=p(r,{readable:false},resume);try{if(r.writableNeedDrain){await wait()}for await(const n of e){if(!r.write(n)){await wait()}}if(i){r.end();await wait()}n()}catch(e){n(s!==e?v(s,e):e)}finally{f();r.off("drain",resume)}}async function pumpToWeb(e,r,n,{end:i}){if(W(r)){r=r.writable}const s=r.getWriter();try{for await(const r of e){await s.ready;s.write(r).catch((()=>{}))}await s.ready;if(i){await s.close()}n()}catch(e){try{await s.abort(e);n(e)}catch(e){n(e)}}}function pipeline(...e){return pipelineImpl(e,g(popCallback(e)))}function pipelineImpl(e,r,o){if(e.length===1&&s(e[0])){e=e[0]}if(e.length<2){throw new k("streams")}const u=new q;const p=u.signal;const g=o===null||o===undefined?undefined:o.signal;const b=[];P(g,"options.signal");function abort(){finishImpl(new T)}J=J||n(18547).addAbortListener;let v;if(g){v=J(g,abort)}let C;let R;const x=[];let G=0;function finish(e){finishImpl(e,--G===0)}function finishImpl(e,n){var s;if(e&&(!C||C.code==="ERR_STREAM_PREMATURE_CLOSE")){C=e}if(!C&&!n){return}while(x.length){x.shift()(C)}(s=v)===null||s===undefined?undefined:s[f]();u.abort();if(n){if(!C){b.forEach((e=>e()))}i.nextTick(r,C,R)}}let V;for(let re=0;re<e.length;re++){const ne=e[re];const ie=re<e.length-1;const se=re>0;const oe=ie||(o===null||o===undefined?undefined:o.end)!==false;const ae=re===e.length-1;if(j(ne)){if(oe){const{destroy:le,cleanup:ce}=destroyer(ne,ie,se);x.push(le);if(L(ne)&&ae){b.push(ce)}}function onError(e){if(e&&e.name!=="AbortError"&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){finish(e)}}ne.on("error",onError);if(L(ne)&&ae){b.push((()=>{ne.removeListener("error",onError)}))}}if(re===0){if(typeof ne==="function"){V=ne({signal:p});if(!B(V)){throw new I("Iterable, AsyncIterable or Stream","source",V)}}else if(B(ne)||U(ne)||W(ne)){V=ne}else{V=_.from(ne)}}else if(typeof ne==="function"){if(W(V)){var ee;V=makeAsyncIterable((ee=V)===null||ee===undefined?undefined:ee.readable)}else{V=makeAsyncIterable(V)}V=ne(V,{signal:p});if(ie){if(!B(V,true)){throw new I("AsyncIterable",`transform[${re-1}]`,V)}}else{var te;if(!Y){Y=n(33253)}const ue=new Y({objectMode:true});const fe=(te=V)===null||te===undefined?undefined:te.then;if(typeof fe==="function"){G++;fe.call(V,(e=>{R=e;if(e!=null){ue.write(e)}if(oe){ue.end()}i.nextTick(finish)}),(e=>{ue.destroy(e);i.nextTick(finish,e)}))}else if(B(V,true)){G++;pumpToNode(V,ue,finish,{end:oe})}else if(z(V)||W(V)){const pe=V.readable||V;G++;pumpToNode(pe,ue,finish,{end:oe})}else{throw new I("AsyncIterable or Promise","destination",V)}V=ue;const{destroy:he,cleanup:de}=destroyer(V,false,true);x.push(he);if(ae){b.push(de)}}}else if(j(ne)){if(U(V)){G+=2;const ge=pipe(V,ne,finish,{end:oe});if(L(ne)&&ae){b.push(ge)}}else if(W(V)||z(V)){const be=V.readable||V;G++;pumpToNode(be,ne,finish,{end:oe})}else if(B(V)){G++;pumpToNode(V,ne,finish,{end:oe})}else{throw new w("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],V)}V=ne}else if(Q(ne)){if(U(V)){G++;pumpToWeb(makeAsyncIterable(V),ne,finish,{end:oe})}else if(z(V)||B(V)){G++;pumpToWeb(V,ne,finish,{end:oe})}else if(W(V)){G++;pumpToWeb(V.readable,ne,finish,{end:oe})}else{throw new w("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],V)}V=ne}else{V=_.from(ne)}}if(p!==null&&p!==undefined&&p.aborted||g!==null&&g!==undefined&&g.aborted){i.nextTick(abort)}return V}function pipe(e,r,n,{end:s}){let o=false;r.on("close",(()=>{if(!o){n(new R)}}));e.pipe(r,{end:false});if(s){function endFn(){o=true;r.end()}if(G(e)){i.nextTick(endFn)}else{e.once("end",endFn)}}else{n()}p(e,{readable:true,writable:false},(r=>{const i=e._readableState;if(r&&r.code==="ERR_STREAM_PREMATURE_CLOSE"&&i&&i.ended&&!i.errored&&!i.errorEmitted){e.once("end",n).once("error",n)}else{n(r)}}));return p(r,{readable:false,writable:true},n)}e.exports={pipelineImpl:pipelineImpl,pipeline:pipeline}},30359:(e,r,n)=>{"use strict";const i=n(10125);const{ArrayPrototypeIndexOf:s,NumberIsInteger:o,NumberIsNaN:u,NumberParseInt:f,ObjectDefineProperties:p,ObjectKeys:g,ObjectSetPrototypeOf:b,Promise:_,SafeSet:v,SymbolAsyncDispose:w,SymbolAsyncIterator:I,Symbol:k}=n(12823);e.exports=Readable;Readable.ReadableState=ReadableState;const{EventEmitter:C}=n(24434);const{Stream:R,prependListener:T}=n(66720);const{Buffer:x}=n(20181);const{addAbortSignal:P}=n(37580);const B=n(82543);let L=n(18547).debuglog("stream",(e=>{L=e}));const U=n(12536);const j=n(87201);const{getHighWaterMark:W,getDefaultHighWaterMark:Q}=n(46650);const{aggregateTwoErrors:z,codes:{ERR_INVALID_ARG_TYPE:G,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:Y,ERR_STREAM_PUSH_AFTER_EOF:V,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:J},AbortError:ee}=n(28484);const{validateObject:te}=n(18066);const re=k("kPaused");const{StringDecoder:ne}=n(23252);const ie=n(40083);b(Readable.prototype,R.prototype);b(Readable,R);const nop=()=>{};const{errorOrDestroy:se}=j;const oe=1<<0;const ae=1<<1;const le=1<<2;const ce=1<<3;const ue=1<<4;const fe=1<<5;const he=1<<6;const de=1<<7;const pe=1<<8;const ge=1<<9;const be=1<<10;const ye=1<<11;const me=1<<12;const _e=1<<13;const ve=1<<14;const we=1<<15;const Ae=1<<16;const Ee=1<<17;const Se=1<<18;function makeBitMapDescriptor(e){return{enumerable:false,get(){return(this.state&e)!==0},set(r){if(r)this.state|=e;else this.state&=~e}}}p(ReadableState.prototype,{objectMode:makeBitMapDescriptor(oe),ended:makeBitMapDescriptor(ae),endEmitted:makeBitMapDescriptor(le),reading:makeBitMapDescriptor(ce),constructed:makeBitMapDescriptor(ue),sync:makeBitMapDescriptor(fe),needReadable:makeBitMapDescriptor(he),emittedReadable:makeBitMapDescriptor(de),readableListening:makeBitMapDescriptor(pe),resumeScheduled:makeBitMapDescriptor(ge),errorEmitted:makeBitMapDescriptor(be),emitClose:makeBitMapDescriptor(ye),autoDestroy:makeBitMapDescriptor(me),destroyed:makeBitMapDescriptor(_e),closed:makeBitMapDescriptor(ve),closeEmitted:makeBitMapDescriptor(we),multiAwaitDrain:makeBitMapDescriptor(Ae),readingMore:makeBitMapDescriptor(Ee),dataEmitted:makeBitMapDescriptor(Se)});function ReadableState(e,r,i){if(typeof i!=="boolean")i=r instanceof n(40657);this.state=ye|me|ue|fe;if(e&&e.objectMode)this.state|=oe;if(i&&e&&e.readableObjectMode)this.state|=oe;this.highWaterMark=e?W(this,e,"readableHighWaterMark",i):Q(false);this.buffer=new U;this.length=0;this.pipes=[];this.flowing=null;this[re]=null;if(e&&e.emitClose===false)this.state&=~ye;if(e&&e.autoDestroy===false)this.state&=~me;this.errored=null;this.defaultEncoding=e&&e.defaultEncoding||"utf8";this.awaitDrainWriters=null;this.decoder=null;this.encoding=null;if(e&&e.encoding){this.decoder=new ne(e.encoding);this.encoding=e.encoding}}function Readable(e){if(!(this instanceof Readable))return new Readable(e);const r=this instanceof n(40657);this._readableState=new ReadableState(e,this,r);if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.construct==="function")this._construct=e.construct;if(e.signal&&!r)P(e.signal,this)}R.call(this,e);j.construct(this,(()=>{if(this._readableState.needReadable){maybeReadMore(this,this._readableState)}}))}Readable.prototype.destroy=j.destroy;Readable.prototype._undestroy=j.undestroy;Readable.prototype._destroy=function(e,r){r(e)};Readable.prototype[C.captureRejectionSymbol]=function(e){this.destroy(e)};Readable.prototype[w]=function(){let e;if(!this.destroyed){e=this.readableEnded?null:new ee;this.destroy(e)}return new _(((r,n)=>B(this,(i=>i&&i!==e?n(i):r(null)))))};Readable.prototype.push=function(e,r){return readableAddChunk(this,e,r,false)};Readable.prototype.unshift=function(e,r){return readableAddChunk(this,e,r,true)};function readableAddChunk(e,r,n,i){L("readableAddChunk",r);const s=e._readableState;let o;if((s.state&oe)===0){if(typeof r==="string"){n=n||s.defaultEncoding;if(s.encoding!==n){if(i&&s.encoding){r=x.from(r,n).toString(s.encoding)}else{r=x.from(r,n);n=""}}}else if(r instanceof x){n=""}else if(R._isUint8Array(r)){r=R._uint8ArrayToBuffer(r);n=""}else if(r!=null){o=new G("chunk",["string","Buffer","Uint8Array"],r)}}if(o){se(e,o)}else if(r===null){s.state&=~ce;onEofChunk(e,s)}else if((s.state&oe)!==0||r&&r.length>0){if(i){if((s.state&le)!==0)se(e,new J);else if(s.destroyed||s.errored)return false;else addChunk(e,s,r,true)}else if(s.ended){se(e,new V)}else if(s.destroyed||s.errored){return false}else{s.state&=~ce;if(s.decoder&&!n){r=s.decoder.write(r);if(s.objectMode||r.length!==0)addChunk(e,s,r,false);else maybeReadMore(e,s)}else{addChunk(e,s,r,false)}}}else if(!i){s.state&=~ce;maybeReadMore(e,s)}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function addChunk(e,r,n,i){if(r.flowing&&r.length===0&&!r.sync&&e.listenerCount("data")>0){if((r.state&Ae)!==0){r.awaitDrainWriters.clear()}else{r.awaitDrainWriters=null}r.dataEmitted=true;e.emit("data",n)}else{r.length+=r.objectMode?1:n.length;if(i)r.buffer.unshift(n);else r.buffer.push(n);if((r.state&he)!==0)emitReadable(e)}maybeReadMore(e,r)}Readable.prototype.isPaused=function(){const e=this._readableState;return e[re]===true||e.flowing===false};Readable.prototype.setEncoding=function(e){const r=new ne(e);this._readableState.decoder=r;this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let i="";for(const e of n){i+=r.write(e)}n.clear();if(i!=="")n.push(i);this._readableState.length=i.length;return this};const Ie=1073741824;function computeNewHighWaterMark(e){if(e>Ie){throw new Y("size","<= 1GiB",e)}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,r){if(e<=0||r.length===0&&r.ended)return 0;if((r.state&oe)!==0)return 1;if(u(e)){if(r.flowing&&r.length)return r.buffer.first().length;return r.length}if(e<=r.length)return e;return r.ended?r.length:0}Readable.prototype.read=function(e){L("read",e);if(e===undefined){e=NaN}else if(!o(e)){e=f(e,10)}const r=this._readableState;const n=e;if(e>r.highWaterMark)r.highWaterMark=computeNewHighWaterMark(e);if(e!==0)r.state&=~de;if(e===0&&r.needReadable&&((r.highWaterMark!==0?r.length>=r.highWaterMark:r.length>0)||r.ended)){L("read: emitReadable",r.length,r.ended);if(r.length===0&&r.ended)endReadable(this);else emitReadable(this);return null}e=howMuchToRead(e,r);if(e===0&&r.ended){if(r.length===0)endReadable(this);return null}let i=(r.state&he)!==0;L("need readable",i);if(r.length===0||r.length-e<r.highWaterMark){i=true;L("length less than watermark",i)}if(r.ended||r.reading||r.destroyed||r.errored||!r.constructed){i=false;L("reading, ended or constructing",i)}else if(i){L("do read");r.state|=ce|fe;if(r.length===0)r.state|=he;try{this._read(r.highWaterMark)}catch(e){se(this,e)}r.state&=~fe;if(!r.reading)e=howMuchToRead(n,r)}let s;if(e>0)s=fromList(e,r);else s=null;if(s===null){r.needReadable=r.length<=r.highWaterMark;e=0}else{r.length-=e;if(r.multiAwaitDrain){r.awaitDrainWriters.clear()}else{r.awaitDrainWriters=null}}if(r.length===0){if(!r.ended)r.needReadable=true;if(n!==e&&r.ended)endReadable(this)}if(s!==null&&!r.errorEmitted&&!r.closeEmitted){r.dataEmitted=true;this.emit("data",s)}return s};function onEofChunk(e,r){L("onEofChunk");if(r.ended)return;if(r.decoder){const e=r.decoder.end();if(e&&e.length){r.buffer.push(e);r.length+=r.objectMode?1:e.length}}r.ended=true;if(r.sync){emitReadable(e)}else{r.needReadable=false;r.emittedReadable=true;emitReadable_(e)}}function emitReadable(e){const r=e._readableState;L("emitReadable",r.needReadable,r.emittedReadable);r.needReadable=false;if(!r.emittedReadable){L("emitReadable",r.flowing);r.emittedReadable=true;i.nextTick(emitReadable_,e)}}function emitReadable_(e){const r=e._readableState;L("emitReadable_",r.destroyed,r.length,r.ended);if(!r.destroyed&&!r.errored&&(r.length||r.ended)){e.emit("readable");r.emittedReadable=false}r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark;flow(e)}function maybeReadMore(e,r){if(!r.readingMore&&r.constructed){r.readingMore=true;i.nextTick(maybeReadMore_,e,r)}}function maybeReadMore_(e,r){while(!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&r.length===0)){const n=r.length;L("maybeReadMore read 0");e.read(0);if(n===r.length)break}r.readingMore=false}Readable.prototype._read=function(e){throw new q("_read()")};Readable.prototype.pipe=function(e,r){const n=this;const s=this._readableState;if(s.pipes.length===1){if(!s.multiAwaitDrain){s.multiAwaitDrain=true;s.awaitDrainWriters=new v(s.awaitDrainWriters?[s.awaitDrainWriters]:[])}}s.pipes.push(e);L("pipe count=%d opts=%j",s.pipes.length,r);const o=(!r||r.end!==false)&&e!==i.stdout&&e!==i.stderr;const u=o?onend:unpipe;if(s.endEmitted)i.nextTick(u);else n.once("end",u);e.on("unpipe",onunpipe);function onunpipe(e,r){L("onunpipe");if(e===n){if(r&&r.hasUnpiped===false){r.hasUnpiped=true;cleanup()}}}function onend(){L("onend");e.end()}let f;let p=false;function cleanup(){L("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);if(f){e.removeListener("drain",f)}e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);n.removeListener("end",onend);n.removeListener("end",unpipe);n.removeListener("data",ondata);p=true;if(f&&s.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain))f()}function pause(){if(!p){if(s.pipes.length===1&&s.pipes[0]===e){L("false write response, pause",0);s.awaitDrainWriters=e;s.multiAwaitDrain=false}else if(s.pipes.length>1&&s.pipes.includes(e)){L("false write response, pause",s.awaitDrainWriters.size);s.awaitDrainWriters.add(e)}n.pause()}if(!f){f=pipeOnDrain(n,e);e.on("drain",f)}}n.on("data",ondata);function ondata(r){L("ondata");const n=e.write(r);L("dest.write",n);if(n===false){pause()}}function onerror(r){L("onerror",r);unpipe();e.removeListener("error",onerror);if(e.listenerCount("error")===0){const n=e._writableState||e._readableState;if(n&&!n.errorEmitted){se(e,r)}else{e.emit("error",r)}}}T(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){L("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){L("unpipe");n.unpipe(e)}e.emit("pipe",n);if(e.writableNeedDrain===true){pause()}else if(!s.flowing){L("pipe resume");n.resume()}return e};function pipeOnDrain(e,r){return function pipeOnDrainFunctionResult(){const n=e._readableState;if(n.awaitDrainWriters===r){L("pipeOnDrain",1);n.awaitDrainWriters=null}else if(n.multiAwaitDrain){L("pipeOnDrain",n.awaitDrainWriters.size);n.awaitDrainWriters.delete(r)}if((!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")){e.resume()}}}Readable.prototype.unpipe=function(e){const r=this._readableState;const n={hasUnpiped:false};if(r.pipes.length===0)return this;if(!e){const e=r.pipes;r.pipes=[];this.pause();for(let r=0;r<e.length;r++)e[r].emit("unpipe",this,{hasUnpiped:false});return this}const i=s(r.pipes,e);if(i===-1)return this;r.pipes.splice(i,1);if(r.pipes.length===0)this.pause();e.emit("unpipe",this,n);return this};Readable.prototype.on=function(e,r){const n=R.prototype.on.call(this,e,r);const s=this._readableState;if(e==="data"){s.readableListening=this.listenerCount("readable")>0;if(s.flowing!==false)this.resume()}else if(e==="readable"){if(!s.endEmitted&&!s.readableListening){s.readableListening=s.needReadable=true;s.flowing=false;s.emittedReadable=false;L("on readable",s.length,s.reading);if(s.length){emitReadable(this)}else if(!s.reading){i.nextTick(nReadingNextTick,this)}}}return n};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(e,r){const n=R.prototype.removeListener.call(this,e,r);if(e==="readable"){i.nextTick(updateReadableListening,this)}return n};Readable.prototype.off=Readable.prototype.removeListener;Readable.prototype.removeAllListeners=function(e){const r=R.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){i.nextTick(updateReadableListening,this)}return r};function updateReadableListening(e){const r=e._readableState;r.readableListening=e.listenerCount("readable")>0;if(r.resumeScheduled&&r[re]===false){r.flowing=true}else if(e.listenerCount("data")>0){e.resume()}else if(!r.readableListening){r.flowing=null}}function nReadingNextTick(e){L("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){const e=this._readableState;if(!e.flowing){L("resume");e.flowing=!e.readableListening;resume(this,e)}e[re]=false;return this};function resume(e,r){if(!r.resumeScheduled){r.resumeScheduled=true;i.nextTick(resume_,e,r)}}function resume_(e,r){L("resume",r.reading);if(!r.reading){e.read(0)}r.resumeScheduled=false;e.emit("resume");flow(e);if(r.flowing&&!r.reading)e.read(0)}Readable.prototype.pause=function(){L("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){L("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState[re]=true;return this};function flow(e){const r=e._readableState;L("flow",r.flowing);while(r.flowing&&e.read()!==null);}Readable.prototype.wrap=function(e){let r=false;e.on("data",(n=>{if(!this.push(n)&&e.pause){r=true;e.pause()}}));e.on("end",(()=>{this.push(null)}));e.on("error",(e=>{se(this,e)}));e.on("close",(()=>{this.destroy()}));e.on("destroy",(()=>{this.destroy()}));this._read=()=>{if(r&&e.resume){r=false;e.resume()}};const n=g(e);for(let r=1;r<n.length;r++){const i=n[r];if(this[i]===undefined&&typeof e[i]==="function"){this[i]=e[i].bind(e)}}return this};Readable.prototype[I]=function(){return streamToAsyncIterator(this)};Readable.prototype.iterator=function(e){if(e!==undefined){te(e,"options")}return streamToAsyncIterator(this,e)};function streamToAsyncIterator(e,r){if(typeof e.read!=="function"){e=Readable.wrap(e,{objectMode:true})}const n=createAsyncIterator(e,r);n.stream=e;return n}async function*createAsyncIterator(e,r){let n=nop;function next(r){if(this===e){n();n=nop}else{n=r}}e.on("readable",next);let i;const s=B(e,{writable:false},(e=>{i=e?z(i,e):null;n();n=nop}));try{while(true){const r=e.destroyed?null:e.read();if(r!==null){yield r}else if(i){throw i}else if(i===null){return}else{await new _(next)}}}catch(e){i=z(i,e);throw i}finally{if((i||(r===null||r===undefined?undefined:r.destroyOnReturn)!==false)&&(i===undefined||e._readableState.autoDestroy)){j.destroyer(e,null)}else{e.off("readable",next);s()}}}p(Readable.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&e.readable!==false&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){if(this._readableState){this._readableState.readable=!!e}}},readableDidRead:{__proto__:null,enumerable:false,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:false,get:function(){return!!(this._readableState.readable!==false&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:false,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:false,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:false,get:function(){return this._readableState.flowing},set:function(e){if(this._readableState){this._readableState.flowing=e}}},readableLength:{__proto__:null,enumerable:false,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:false,get(){return this._readableState?this._readableState.objectMode:false}},readableEncoding:{__proto__:null,enumerable:false,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:false,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:false}},destroyed:{__proto__:null,enumerable:false,get(){return this._readableState?this._readableState.destroyed:false},set(e){if(!this._readableState){return}this._readableState.destroyed=e}},readableEnded:{__proto__:null,enumerable:false,get(){return this._readableState?this._readableState.endEmitted:false}}});p(ReadableState.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[re]!==false},set(e){this[re]=!!e}}});Readable._fromList=fromList;function fromList(e,r){if(r.length===0)return null;let n;if(r.objectMode)n=r.buffer.shift();else if(!e||e>=r.length){if(r.decoder)n=r.buffer.join("");else if(r.buffer.length===1)n=r.buffer.first();else n=r.buffer.concat(r.length);r.buffer.clear()}else{n=r.buffer.consume(e,r.decoder)}return n}function endReadable(e){const r=e._readableState;L("endReadable",r.endEmitted);if(!r.endEmitted){r.ended=true;i.nextTick(endReadableNT,r,e)}}function endReadableNT(e,r){L("endReadableNT",e.endEmitted,e.length);if(!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){e.endEmitted=true;r.emit("end");if(r.writable&&r.allowHalfOpen===false){i.nextTick(endWritableNT,r)}else if(e.autoDestroy){const e=r._writableState;const n=!e||e.autoDestroy&&(e.finished||e.writable===false);if(n){r.destroy()}}}}function endWritableNT(e){const r=e.writable&&!e.writableEnded&&!e.destroyed;if(r){e.end()}}Readable.from=function(e,r){return ie(Readable,e,r)};let ke;function lazyWebStreams(){if(ke===undefined)ke={};return ke}Readable.fromWeb=function(e,r){return lazyWebStreams().newStreamReadableFromReadableStream(e,r)};Readable.toWeb=function(e,r){return lazyWebStreams().newReadableStreamFromStreamReadable(e,r)};Readable.wrap=function(e,r){var n,i;return new Readable({objectMode:(n=(i=e.readableObjectMode)!==null&&i!==undefined?i:e.objectMode)!==null&&n!==undefined?n:true,...r,destroy(r,n){j.destroyer(e,r);n(r)}}).wrap(e)}},46650:(e,r,n)=>{"use strict";const{MathFloor:i,NumberIsInteger:s}=n(12823);const{validateInteger:o}=n(18066);const{ERR_INVALID_ARG_VALUE:u}=n(28484).codes;let f=16*1024;let p=16;function highWaterMarkFrom(e,r,n){return e.highWaterMark!=null?e.highWaterMark:r?e[n]:null}function getDefaultHighWaterMark(e){return e?p:f}function setDefaultHighWaterMark(e,r){o(r,"value",0);if(e){p=r}else{f=r}}function getHighWaterMark(e,r,n,o){const f=highWaterMarkFrom(r,o,n);if(f!=null){if(!s(f)||f<0){const e=o?`options.${n}`:"options.highWaterMark";throw new u(e,f)}return i(f)}return getDefaultHighWaterMark(e.objectMode)}e.exports={getHighWaterMark:getHighWaterMark,getDefaultHighWaterMark:getDefaultHighWaterMark,setDefaultHighWaterMark:setDefaultHighWaterMark}},23303:(e,r,n)=>{"use strict";const{ObjectSetPrototypeOf:i,Symbol:s}=n(12823);e.exports=Transform;const{ERR_METHOD_NOT_IMPLEMENTED:o}=n(28484).codes;const u=n(40657);const{getHighWaterMark:f}=n(46650);i(Transform.prototype,u.prototype);i(Transform,u);const p=s("kCallback");function Transform(e){if(!(this instanceof Transform))return new Transform(e);const r=e?f(this,e,"readableHighWaterMark",true):null;if(r===0){e={...e,highWaterMark:null,readableHighWaterMark:r,writableHighWaterMark:e.writableHighWaterMark||0}}u.call(this,e);this._readableState.sync=false;this[p]=null;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",prefinish)}function final(e){if(typeof this._flush==="function"&&!this.destroyed){this._flush(((r,n)=>{if(r){if(e){e(r)}else{this.destroy(r)}return}if(n!=null){this.push(n)}this.push(null);if(e){e()}}))}else{this.push(null);if(e){e()}}}function prefinish(){if(this._final!==final){final.call(this)}}Transform.prototype._final=final;Transform.prototype._transform=function(e,r,n){throw new o("_transform()")};Transform.prototype._write=function(e,r,n){const i=this._readableState;const s=this._writableState;const o=i.length;this._transform(e,r,((e,r)=>{if(e){n(e);return}if(r!=null){this.push(r)}if(s.ended||o===i.length||i.length<i.highWaterMark){n()}else{this[p]=n}}))};Transform.prototype._read=function(){if(this[p]){const e=this[p];this[p]=null;e()}}},67202:(e,r,n)=>{"use strict";const{SymbolAsyncIterator:i,SymbolIterator:s,SymbolFor:o}=n(12823);const u=o("nodejs.stream.destroyed");const f=o("nodejs.stream.errored");const p=o("nodejs.stream.readable");const g=o("nodejs.stream.writable");const b=o("nodejs.stream.disturbed");const _=o("nodejs.webstream.isClosedPromise");const v=o("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream(e,r=false){var n;return!!(e&&typeof e.pipe==="function"&&typeof e.on==="function"&&(!r||typeof e.pause==="function"&&typeof e.resume==="function")&&(!e._writableState||((n=e._readableState)===null||n===undefined?undefined:n.readable)!==false)&&(!e._writableState||e._readableState))}function isWritableNodeStream(e){var r;return!!(e&&typeof e.write==="function"&&typeof e.on==="function"&&(!e._readableState||((r=e._writableState)===null||r===undefined?undefined:r.writable)!==false))}function isDuplexNodeStream(e){return!!(e&&typeof e.pipe==="function"&&e._readableState&&typeof e.on==="function"&&typeof e.write==="function")}function isNodeStream(e){return e&&(e._readableState||e._writableState||typeof e.write==="function"&&typeof e.on==="function"||typeof e.pipe==="function"&&typeof e.on==="function")}function isReadableStream(e){return!!(e&&!isNodeStream(e)&&typeof e.pipeThrough==="function"&&typeof e.getReader==="function"&&typeof e.cancel==="function")}function isWritableStream(e){return!!(e&&!isNodeStream(e)&&typeof e.getWriter==="function"&&typeof e.abort==="function")}function isTransformStream(e){return!!(e&&!isNodeStream(e)&&typeof e.readable==="object"&&typeof e.writable==="object")}function isWebStream(e){return isReadableStream(e)||isWritableStream(e)||isTransformStream(e)}function isIterable(e,r){if(e==null)return false;if(r===true)return typeof e[i]==="function";if(r===false)return typeof e[s]==="function";return typeof e[i]==="function"||typeof e[s]==="function"}function isDestroyed(e){if(!isNodeStream(e))return null;const r=e._writableState;const n=e._readableState;const i=r||n;return!!(e.destroyed||e[u]||i!==null&&i!==undefined&&i.destroyed)}function isWritableEnded(e){if(!isWritableNodeStream(e))return null;if(e.writableEnded===true)return true;const r=e._writableState;if(r!==null&&r!==undefined&&r.errored)return false;if(typeof(r===null||r===undefined?undefined:r.ended)!=="boolean")return null;return r.ended}function isWritableFinished(e,r){if(!isWritableNodeStream(e))return null;if(e.writableFinished===true)return true;const n=e._writableState;if(n!==null&&n!==undefined&&n.errored)return false;if(typeof(n===null||n===undefined?undefined:n.finished)!=="boolean")return null;return!!(n.finished||r===false&&n.ended===true&&n.length===0)}function isReadableEnded(e){if(!isReadableNodeStream(e))return null;if(e.readableEnded===true)return true;const r=e._readableState;if(!r||r.errored)return false;if(typeof(r===null||r===undefined?undefined:r.ended)!=="boolean")return null;return r.ended}function isReadableFinished(e,r){if(!isReadableNodeStream(e))return null;const n=e._readableState;if(n!==null&&n!==undefined&&n.errored)return false;if(typeof(n===null||n===undefined?undefined:n.endEmitted)!=="boolean")return null;return!!(n.endEmitted||r===false&&n.ended===true&&n.length===0)}function isReadable(e){if(e&&e[p]!=null)return e[p];if(typeof(e===null||e===undefined?undefined:e.readable)!=="boolean")return null;if(isDestroyed(e))return false;return isReadableNodeStream(e)&&e.readable&&!isReadableFinished(e)}function isWritable(e){if(e&&e[g]!=null)return e[g];if(typeof(e===null||e===undefined?undefined:e.writable)!=="boolean")return null;if(isDestroyed(e))return false;return isWritableNodeStream(e)&&e.writable&&!isWritableEnded(e)}function isFinished(e,r){if(!isNodeStream(e)){return null}if(isDestroyed(e)){return true}if((r===null||r===undefined?undefined:r.readable)!==false&&isReadable(e)){return false}if((r===null||r===undefined?undefined:r.writable)!==false&&isWritable(e)){return false}return true}function isWritableErrored(e){var r,n;if(!isNodeStream(e)){return null}if(e.writableErrored){return e.writableErrored}return(r=(n=e._writableState)===null||n===undefined?undefined:n.errored)!==null&&r!==undefined?r:null}function isReadableErrored(e){var r,n;if(!isNodeStream(e)){return null}if(e.readableErrored){return e.readableErrored}return(r=(n=e._readableState)===null||n===undefined?undefined:n.errored)!==null&&r!==undefined?r:null}function isClosed(e){if(!isNodeStream(e)){return null}if(typeof e.closed==="boolean"){return e.closed}const r=e._writableState;const n=e._readableState;if(typeof(r===null||r===undefined?undefined:r.closed)==="boolean"||typeof(n===null||n===undefined?undefined:n.closed)==="boolean"){return(r===null||r===undefined?undefined:r.closed)||(n===null||n===undefined?undefined:n.closed)}if(typeof e._closed==="boolean"&&isOutgoingMessage(e)){return e._closed}return null}function isOutgoingMessage(e){return typeof e._closed==="boolean"&&typeof e._defaultKeepAlive==="boolean"&&typeof e._removedConnection==="boolean"&&typeof e._removedContLen==="boolean"}function isServerResponse(e){return typeof e._sent100==="boolean"&&isOutgoingMessage(e)}function isServerRequest(e){var r;return typeof e._consuming==="boolean"&&typeof e._dumped==="boolean"&&((r=e.req)===null||r===undefined?undefined:r.upgradeOrConnect)===undefined}function willEmitClose(e){if(!isNodeStream(e))return null;const r=e._writableState;const n=e._readableState;const i=r||n;return!i&&isServerResponse(e)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===false)}function isDisturbed(e){var r;return!!(e&&((r=e[b])!==null&&r!==undefined?r:e.readableDidRead||e.readableAborted))}function isErrored(e){var r,n,i,s,o,u,p,g,b,_;return!!(e&&((r=(n=(i=(s=(o=(u=e[f])!==null&&u!==undefined?u:e.readableErrored)!==null&&o!==undefined?o:e.writableErrored)!==null&&s!==undefined?s:(p=e._readableState)===null||p===undefined?undefined:p.errorEmitted)!==null&&i!==undefined?i:(g=e._writableState)===null||g===undefined?undefined:g.errorEmitted)!==null&&n!==undefined?n:(b=e._readableState)===null||b===undefined?undefined:b.errored)!==null&&r!==undefined?r:(_=e._writableState)===null||_===undefined?undefined:_.errored))}e.exports={isDestroyed:isDestroyed,kIsDestroyed:u,isDisturbed:isDisturbed,kIsDisturbed:b,isErrored:isErrored,kIsErrored:f,isReadable:isReadable,kIsReadable:p,kIsClosedPromise:_,kControllerErrorFunction:v,kIsWritable:g,isClosed:isClosed,isDuplexNodeStream:isDuplexNodeStream,isFinished:isFinished,isIterable:isIterable,isReadableNodeStream:isReadableNodeStream,isReadableStream:isReadableStream,isReadableEnded:isReadableEnded,isReadableFinished:isReadableFinished,isReadableErrored:isReadableErrored,isNodeStream:isNodeStream,isWebStream:isWebStream,isWritable:isWritable,isWritableNodeStream:isWritableNodeStream,isWritableStream:isWritableStream,isWritableEnded:isWritableEnded,isWritableFinished:isWritableFinished,isWritableErrored:isWritableErrored,isServerRequest:isServerRequest,isServerResponse:isServerResponse,willEmitClose:willEmitClose,isTransformStream:isTransformStream}},63131:(e,r,n)=>{"use strict";const i=n(10125);const{ArrayPrototypeSlice:s,Error:o,FunctionPrototypeSymbolHasInstance:u,ObjectDefineProperty:f,ObjectDefineProperties:p,ObjectSetPrototypeOf:g,StringPrototypeToLowerCase:b,Symbol:_,SymbolHasInstance:v}=n(12823);e.exports=Writable;Writable.WritableState=WritableState;const{EventEmitter:w}=n(24434);const I=n(66720).Stream;const{Buffer:k}=n(20181);const C=n(87201);const{addAbortSignal:R}=n(37580);const{getHighWaterMark:T,getDefaultHighWaterMark:x}=n(46650);const{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_MULTIPLE_CALLBACK:L,ERR_STREAM_CANNOT_PIPE:U,ERR_STREAM_DESTROYED:j,ERR_STREAM_ALREADY_FINISHED:W,ERR_STREAM_NULL_VALUES:Q,ERR_STREAM_WRITE_AFTER_END:z,ERR_UNKNOWN_ENCODING:G}=n(28484).codes;const{errorOrDestroy:q}=C;g(Writable.prototype,I.prototype);g(Writable,I);function nop(){}const Y=_("kOnFinished");function WritableState(e,r,i){if(typeof i!=="boolean")i=r instanceof n(40657);this.objectMode=!!(e&&e.objectMode);if(i)this.objectMode=this.objectMode||!!(e&&e.writableObjectMode);this.highWaterMark=e?T(this,e,"writableHighWaterMark",i):x(false);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;const s=!!(e&&e.decodeStrings===false);this.decodeStrings=!s;this.defaultEncoding=e&&e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=onwrite.bind(undefined,r);this.writecb=null;this.writelen=0;this.afterWriteTickInfo=null;resetBuffer(this);this.pendingcb=0;this.constructed=true;this.prefinished=false;this.errorEmitted=false;this.emitClose=!e||e.emitClose!==false;this.autoDestroy=!e||e.autoDestroy!==false;this.errored=null;this.closed=false;this.closeEmitted=false;this[Y]=[]}function resetBuffer(e){e.buffered=[];e.bufferedIndex=0;e.allBuffers=true;e.allNoop=true}WritableState.prototype.getBuffer=function getBuffer(){return s(this.buffered,this.bufferedIndex)};f(WritableState.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Writable(e){const r=this instanceof n(40657);if(!r&&!u(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,r);if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final;if(typeof e.construct==="function")this._construct=e.construct;if(e.signal)R(e.signal,this)}I.call(this,e);C.construct(this,(()=>{const e=this._writableState;if(!e.writing){clearBuffer(this,e)}finishMaybe(this,e)}))}f(Writable,v,{__proto__:null,value:function(e){if(u(this,e))return true;if(this!==Writable)return false;return e&&e._writableState instanceof WritableState}});Writable.prototype.pipe=function(){q(this,new U)};function _write(e,r,n,s){const o=e._writableState;if(typeof n==="function"){s=n;n=o.defaultEncoding}else{if(!n)n=o.defaultEncoding;else if(n!=="buffer"&&!k.isEncoding(n))throw new G(n);if(typeof s!=="function")s=nop}if(r===null){throw new Q}else if(!o.objectMode){if(typeof r==="string"){if(o.decodeStrings!==false){r=k.from(r,n);n="buffer"}}else if(r instanceof k){n="buffer"}else if(I._isUint8Array(r)){r=I._uint8ArrayToBuffer(r);n="buffer"}else{throw new P("chunk",["string","Buffer","Uint8Array"],r)}}let u;if(o.ending){u=new z}else if(o.destroyed){u=new j("write")}if(u){i.nextTick(s,u);q(e,u,true);return u}o.pendingcb++;return writeOrBuffer(e,o,r,n,s)}Writable.prototype.write=function(e,r,n){return _write(this,e,r,n)===true};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){const e=this._writableState;if(e.corked){e.corked--;if(!e.writing)clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if(typeof e==="string")e=b(e);if(!k.isEncoding(e))throw new G(e);this._writableState.defaultEncoding=e;return this};function writeOrBuffer(e,r,n,i,s){const o=r.objectMode?1:n.length;r.length+=o;const u=r.length<r.highWaterMark;if(!u)r.needDrain=true;if(r.writing||r.corked||r.errored||!r.constructed){r.buffered.push({chunk:n,encoding:i,callback:s});if(r.allBuffers&&i!=="buffer"){r.allBuffers=false}if(r.allNoop&&s!==nop){r.allNoop=false}}else{r.writelen=o;r.writecb=s;r.writing=true;r.sync=true;e._write(n,i,r.onwrite);r.sync=false}return u&&!r.errored&&!r.destroyed}function doWrite(e,r,n,i,s,o,u){r.writelen=i;r.writecb=u;r.writing=true;r.sync=true;if(r.destroyed)r.onwrite(new j("write"));else if(n)e._writev(s,r.onwrite);else e._write(s,o,r.onwrite);r.sync=false}function onwriteError(e,r,n,i){--r.pendingcb;i(n);errorBuffer(r);q(e,n)}function onwrite(e,r){const n=e._writableState;const s=n.sync;const o=n.writecb;if(typeof o!=="function"){q(e,new L);return}n.writing=false;n.writecb=null;n.length-=n.writelen;n.writelen=0;if(r){r.stack;if(!n.errored){n.errored=r}if(e._readableState&&!e._readableState.errored){e._readableState.errored=r}if(s){i.nextTick(onwriteError,e,n,r,o)}else{onwriteError(e,n,r,o)}}else{if(n.buffered.length>n.bufferedIndex){clearBuffer(e,n)}if(s){if(n.afterWriteTickInfo!==null&&n.afterWriteTickInfo.cb===o){n.afterWriteTickInfo.count++}else{n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n};i.nextTick(afterWriteTick,n.afterWriteTickInfo)}}else{afterWrite(e,n,1,o)}}}function afterWriteTick({stream:e,state:r,count:n,cb:i}){r.afterWriteTickInfo=null;return afterWrite(e,r,n,i)}function afterWrite(e,r,n,i){const s=!r.ending&&!e.destroyed&&r.length===0&&r.needDrain;if(s){r.needDrain=false;e.emit("drain")}while(n-- >0){r.pendingcb--;i()}if(r.destroyed){errorBuffer(r)}finishMaybe(e,r)}function errorBuffer(e){if(e.writing){return}for(let n=e.bufferedIndex;n<e.buffered.length;++n){var r;const{chunk:i,callback:s}=e.buffered[n];const o=e.objectMode?1:i.length;e.length-=o;s((r=e.errored)!==null&&r!==undefined?r:new j("write"))}const n=e[Y].splice(0);for(let r=0;r<n.length;r++){var i;n[r]((i=e.errored)!==null&&i!==undefined?i:new j("end"))}resetBuffer(e)}function clearBuffer(e,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed){return}const{buffered:n,bufferedIndex:i,objectMode:o}=r;const u=n.length-i;if(!u){return}let f=i;r.bufferProcessing=true;if(u>1&&e._writev){r.pendingcb-=u-1;const i=r.allNoop?nop:e=>{for(let r=f;r<n.length;++r){n[r].callback(e)}};const o=r.allNoop&&f===0?n:s(n,f);o.allBuffers=r.allBuffers;doWrite(e,r,true,r.length,o,"",i);resetBuffer(r)}else{do{const{chunk:i,encoding:s,callback:u}=n[f];n[f++]=null;const p=o?1:i.length;doWrite(e,r,false,p,i,s,u)}while(f<n.length&&!r.writing);if(f===n.length){resetBuffer(r)}else if(f>256){n.splice(0,f);r.bufferedIndex=0}else{r.bufferedIndex=f}}r.bufferProcessing=false}Writable.prototype._write=function(e,r,n){if(this._writev){this._writev([{chunk:e,encoding:r}],n)}else{throw new B("_write()")}};Writable.prototype._writev=null;Writable.prototype.end=function(e,r,n){const s=this._writableState;if(typeof e==="function"){n=e;e=null;r=null}else if(typeof r==="function"){n=r;r=null}let u;if(e!==null&&e!==undefined){const n=_write(this,e,r);if(n instanceof o){u=n}}if(s.corked){s.corked=1;this.uncork()}if(u){}else if(!s.errored&&!s.ending){s.ending=true;finishMaybe(this,s,true);s.ended=true}else if(s.finished){u=new W("end")}else if(s.destroyed){u=new j("end")}if(typeof n==="function"){if(u||s.finished){i.nextTick(n,u)}else{s[Y].push(n)}}return this};function needFinish(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function callFinal(e,r){let n=false;function onFinish(s){if(n){q(e,s!==null&&s!==undefined?s:L());return}n=true;r.pendingcb--;if(s){const n=r[Y].splice(0);for(let e=0;e<n.length;e++){n[e](s)}q(e,s,r.sync)}else if(needFinish(r)){r.prefinished=true;e.emit("prefinish");r.pendingcb++;i.nextTick(finish,e,r)}}r.sync=true;r.pendingcb++;try{e._final(onFinish)}catch(e){onFinish(e)}r.sync=false}function prefinish(e,r){if(!r.prefinished&&!r.finalCalled){if(typeof e._final==="function"&&!r.destroyed){r.finalCalled=true;callFinal(e,r)}else{r.prefinished=true;e.emit("prefinish")}}}function finishMaybe(e,r,n){if(needFinish(r)){prefinish(e,r);if(r.pendingcb===0){if(n){r.pendingcb++;i.nextTick(((e,r)=>{if(needFinish(r)){finish(e,r)}else{r.pendingcb--}}),e,r)}else if(needFinish(r)){r.pendingcb++;finish(e,r)}}}}function finish(e,r){r.pendingcb--;r.finished=true;const n=r[Y].splice(0);for(let e=0;e<n.length;e++){n[e]()}e.emit("finish");if(r.autoDestroy){const r=e._readableState;const n=!r||r.autoDestroy&&(r.endEmitted||r.readable===false);if(n){e.destroy()}}}p(Writable.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:false}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:false},set(e){if(this._writableState){this._writableState.destroyed=e}}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&e.writable!==false&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){if(this._writableState){this._writableState.writable=!!e}}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:false}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:false}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:false}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;if(!e)return false;return!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:false,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:false,get:function(){return!!(this._writableState.writable!==false&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const V=C.destroy;Writable.prototype.destroy=function(e,r){const n=this._writableState;if(!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[Y].length)){i.nextTick(errorBuffer,n)}V.call(this,e,r);return this};Writable.prototype._undestroy=C.undestroy;Writable.prototype._destroy=function(e,r){r(e)};Writable.prototype[w.captureRejectionSymbol]=function(e){this.destroy(e)};let J;function lazyWebStreams(){if(J===undefined)J={};return J}Writable.fromWeb=function(e,r){return lazyWebStreams().newStreamWritableFromWritableStream(e,r)};Writable.toWeb=function(e){return lazyWebStreams().newWritableStreamFromStreamWritable(e)}},18066:(e,r,n)=>{"use strict";const{ArrayIsArray:i,ArrayPrototypeIncludes:s,ArrayPrototypeJoin:o,ArrayPrototypeMap:u,NumberIsInteger:f,NumberIsNaN:p,NumberMAX_SAFE_INTEGER:g,NumberMIN_SAFE_INTEGER:b,NumberParseInt:_,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:w,String:I,StringPrototypeToUpperCase:k,StringPrototypeTrim:C}=n(12823);const{hideStackFrames:R,codes:{ERR_SOCKET_BAD_PORT:T,ERR_INVALID_ARG_TYPE:x,ERR_INVALID_ARG_VALUE:P,ERR_OUT_OF_RANGE:B,ERR_UNKNOWN_SIGNAL:L}}=n(28484);const{normalizeEncoding:U}=n(18547);const{isAsyncFunction:j,isArrayBufferView:W}=n(18547).types;const Q={};function isInt32(e){return e===(e|0)}function isUint32(e){return e===e>>>0}const z=/^[0-7]+$/;const G="must be a 32-bit unsigned integer or an octal string";function parseFileMode(e,r,n){if(typeof e==="undefined"){e=n}if(typeof e==="string"){if(w(z,e)===null){throw new P(r,e,G)}e=_(e,8)}V(e,r);return e}const q=R(((e,r,n=b,i=g)=>{if(typeof e!=="number")throw new x(r,"number",e);if(!f(e))throw new B(r,"an integer",e);if(e<n||e>i)throw new B(r,`>= ${n} && <= ${i}`,e)}));const Y=R(((e,r,n=-2147483648,i=2147483647)=>{if(typeof e!=="number"){throw new x(r,"number",e)}if(!f(e)){throw new B(r,"an integer",e)}if(e<n||e>i){throw new B(r,`>= ${n} && <= ${i}`,e)}}));const V=R(((e,r,n=false)=>{if(typeof e!=="number"){throw new x(r,"number",e)}if(!f(e)){throw new B(r,"an integer",e)}const i=n?1:0;const s=4294967295;if(e<i||e>s){throw new B(r,`>= ${i} && <= ${s}`,e)}}));function validateString(e,r){if(typeof e!=="string")throw new x(r,"string",e)}function validateNumber(e,r,n=undefined,i){if(typeof e!=="number")throw new x(r,"number",e);if(n!=null&&e<n||i!=null&&e>i||(n!=null||i!=null)&&p(e)){throw new B(r,`${n!=null?`>= ${n}`:""}${n!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,e)}}const J=R(((e,r,n)=>{if(!s(n,e)){const i=o(u(n,(e=>typeof e==="string"?`'${e}'`:I(e))),", ");const s="must be one of: "+i;throw new P(r,e,s)}}));function validateBoolean(e,r){if(typeof e!=="boolean")throw new x(r,"boolean",e)}function getOwnPropertyValueOrDefault(e,r,n){return e==null||!v(e,r)?n:e[r]}const ee=R(((e,r,n=null)=>{const s=getOwnPropertyValueOrDefault(n,"allowArray",false);const o=getOwnPropertyValueOrDefault(n,"allowFunction",false);const u=getOwnPropertyValueOrDefault(n,"nullable",false);if(!u&&e===null||!s&&i(e)||typeof e!=="object"&&(!o||typeof e!=="function")){throw new x(r,"Object",e)}}));const te=R(((e,r)=>{if(e!=null&&typeof e!=="object"&&typeof e!=="function"){throw new x(r,"a dictionary",e)}}));const re=R(((e,r,n=0)=>{if(!i(e)){throw new x(r,"Array",e)}if(e.length<n){const i=`must be longer than ${n}`;throw new P(r,e,i)}}));function validateStringArray(e,r){re(e,r);for(let n=0;n<e.length;n++){validateString(e[n],`${r}[${n}]`)}}function validateBooleanArray(e,r){re(e,r);for(let n=0;n<e.length;n++){validateBoolean(e[n],`${r}[${n}]`)}}function validateAbortSignalArray(e,r){re(e,r);for(let n=0;n<e.length;n++){const i=e[n];const s=`${r}[${n}]`;if(i==null){throw new x(s,"AbortSignal",i)}ie(i,s)}}function validateSignalName(e,r="signal"){validateString(e,r);if(Q[e]===undefined){if(Q[k(e)]!==undefined){throw new L(e+" (signals must use all capital letters)")}throw new L(e)}}const ne=R(((e,r="buffer")=>{if(!W(e)){throw new x(r,["Buffer","TypedArray","DataView"],e)}}));function validateEncoding(e,r){const n=U(r);const i=e.length;if(n==="hex"&&i%2!==0){throw new P("encoding",r,`is invalid for data of length ${i}`)}}function validatePort(e,r="Port",n=true){if(typeof e!=="number"&&typeof e!=="string"||typeof e==="string"&&C(e).length===0||+e!==+e>>>0||e>65535||e===0&&!n){throw new T(r,e,n)}return e|0}const ie=R(((e,r)=>{if(e!==undefined&&(e===null||typeof e!=="object"||!("aborted"in e))){throw new x(r,"AbortSignal",e)}}));const se=R(((e,r)=>{if(typeof e!=="function")throw new x(r,"Function",e)}));const oe=R(((e,r)=>{if(typeof e!=="function"||j(e))throw new x(r,"Function",e)}));const ae=R(((e,r)=>{if(e!==undefined)throw new x(r,"undefined",e)}));function validateUnion(e,r,n){if(!s(n,e)){throw new x(r,`('${o(n,"|")}')`,e)}}const le=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat(e,r){if(typeof e==="undefined"||!w(le,e)){throw new P(r,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}function validateLinkHeaderValue(e){if(typeof e==="string"){validateLinkHeaderFormat(e,"hints");return e}else if(i(e)){const r=e.length;let n="";if(r===0){return n}for(let i=0;i<r;i++){const s=e[i];validateLinkHeaderFormat(s,"hints");n+=s;if(i!==r-1){n+=", "}}return n}throw new P("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:isInt32,isUint32:isUint32,parseFileMode:parseFileMode,validateArray:re,validateStringArray:validateStringArray,validateBooleanArray:validateBooleanArray,validateAbortSignalArray:validateAbortSignalArray,validateBoolean:validateBoolean,validateBuffer:ne,validateDictionary:te,validateEncoding:validateEncoding,validateFunction:se,validateInt32:Y,validateInteger:q,validateNumber:validateNumber,validateObject:ee,validateOneOf:J,validatePlainFunction:oe,validatePort:validatePort,validateSignalName:validateSignalName,validateString:validateString,validateUint32:V,validateUndefined:ae,validateUnion:validateUnion,validateAbortSignal:ie,validateLinkHeaderValue:validateLinkHeaderValue}},28484:(e,r,n)=>{"use strict";const{format:i,inspect:s}=n(44560);const{AggregateError:o}=n(12823);const u=globalThis.AggregateError||o;const f=Symbol("kIsNodeError");const p=["string","function","number","object","Function","Object","boolean","bigint","symbol"];const g=/^([A-Z][a-z0-9]*)+$/;const b="__node_internal_";const _={};function assert(e,r){if(!e){throw new _.ERR_INTERNAL_ASSERTION(r)}}function addNumericalSeparator(e){let r="";let n=e.length;const i=e[0]==="-"?1:0;for(;n>=i+4;n-=3){r=`_${e.slice(n-3,n)}${r}`}return`${e.slice(0,n)}${r}`}function getMessage(e,r,n){if(typeof r==="function"){assert(r.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${r.length}).`);return r(...n)}const s=(r.match(/%[dfijoOs]/g)||[]).length;assert(s===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${s}).`);if(n.length===0){return r}return i(r,...n)}function E(e,r,n){if(!n){n=Error}class NodeError extends n{constructor(...n){super(getMessage(e,r,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(NodeError.prototype,{name:{value:n.name,writable:true,enumerable:false,configurable:true},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:true,enumerable:false,configurable:true}});NodeError.prototype.code=e;NodeError.prototype[f]=true;_[e]=NodeError}function hideStackFrames(e){const r=b+e.name;Object.defineProperty(e,"name",{value:r});return e}function aggregateTwoErrors(e,r){if(e&&r&&e!==r){if(Array.isArray(r.errors)){r.errors.push(e);return r}const n=new u([r,e],r.message);n.code=r.code;return n}return e||r}class AbortError extends Error{constructor(e="The operation was aborted",r=undefined){if(r!==undefined&&typeof r!=="object"){throw new _.ERR_INVALID_ARG_TYPE("options","Object",r)}super(e,r);this.code="ABORT_ERR";this.name="AbortError"}}E("ERR_ASSERTION","%s",Error);E("ERR_INVALID_ARG_TYPE",((e,r,n)=>{assert(typeof e==="string","'name' must be a string");if(!Array.isArray(r)){r=[r]}let i="The ";if(e.endsWith(" argument")){i+=`${e} `}else{i+=`"${e}" ${e.includes(".")?"property":"argument"} `}i+="must be ";const o=[];const u=[];const f=[];for(const e of r){assert(typeof e==="string","All expected entries have to be of type string");if(p.includes(e)){o.push(e.toLowerCase())}else if(g.test(e)){u.push(e)}else{assert(e!=="object",'The value "object" should be written as "Object"');f.push(e)}}if(u.length>0){const e=o.indexOf("object");if(e!==-1){o.splice(o,e,1);u.push("Object")}}if(o.length>0){switch(o.length){case 1:i+=`of type ${o[0]}`;break;case 2:i+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();i+=`one of type ${o.join(", ")}, or ${e}`}}if(u.length>0||f.length>0){i+=" or "}}if(u.length>0){switch(u.length){case 1:i+=`an instance of ${u[0]}`;break;case 2:i+=`an instance of ${u[0]} or ${u[1]}`;break;default:{const e=u.pop();i+=`an instance of ${u.join(", ")}, or ${e}`}}if(f.length>0){i+=" or "}}switch(f.length){case 0:break;case 1:if(f[0].toLowerCase()!==f[0]){i+="an "}i+=`${f[0]}`;break;case 2:i+=`one of ${f[0]} or ${f[1]}`;break;default:{const e=f.pop();i+=`one of ${f.join(", ")}, or ${e}`}}if(n==null){i+=`. Received ${n}`}else if(typeof n==="function"&&n.name){i+=`. Received function ${n.name}`}else if(typeof n==="object"){var b;if((b=n.constructor)!==null&&b!==undefined&&b.name){i+=`. Received an instance of ${n.constructor.name}`}else{const e=s(n,{depth:-1});i+=`. Received ${e}`}}else{let e=s(n,{colors:false});if(e.length>25){e=`${e.slice(0,25)}...`}i+=`. Received type ${typeof n} (${e})`}return i}),TypeError);E("ERR_INVALID_ARG_VALUE",((e,r,n="is invalid")=>{let i=s(r);if(i.length>128){i=i.slice(0,128)+"..."}const o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${n}. Received ${i}`}),TypeError);E("ERR_INVALID_RETURN_VALUE",((e,r,n)=>{var i;const s=n!==null&&n!==undefined&&(i=n.constructor)!==null&&i!==undefined&&i.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${e} to be returned from the "${r}"`+` function but got ${s}.`}),TypeError);E("ERR_MISSING_ARGS",((...e)=>{assert(e.length>0,"At least one arg needs to be specified");let r;const n=e.length;e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or ");switch(n){case 1:r+=`The ${e[0]} argument`;break;case 2:r+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();r+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${r} must be specified`}),TypeError);E("ERR_OUT_OF_RANGE",((e,r,n)=>{assert(r,'Missing "range" argument');let i;if(Number.isInteger(n)&&Math.abs(n)>2**32){i=addNumericalSeparator(String(n))}else if(typeof n==="bigint"){i=String(n);const e=BigInt(2)**BigInt(32);if(n>e||n<-e){i=addNumericalSeparator(i)}i+="n"}else{i=s(n)}return`The value of "${e}" is out of range. It must be ${r}. Received ${i}`}),RangeError);E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);e.exports={AbortError:AbortError,aggregateTwoErrors:hideStackFrames(aggregateTwoErrors),hideStackFrames:hideStackFrames,codes:_}},88523:(e,r,n)=>{"use strict";const i=n(2203);if(i&&process.env.READABLE_STREAM==="disable"){const r=i.promises;e.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer;e.exports._isUint8Array=i._isUint8Array;e.exports.isDisturbed=i.isDisturbed;e.exports.isErrored=i.isErrored;e.exports.isReadable=i.isReadable;e.exports.Readable=i.Readable;e.exports.Writable=i.Writable;e.exports.Duplex=i.Duplex;e.exports.Transform=i.Transform;e.exports.PassThrough=i.PassThrough;e.exports.addAbortSignal=i.addAbortSignal;e.exports.finished=i.finished;e.exports.destroy=i.destroy;e.exports.pipeline=i.pipeline;e.exports.compose=i.compose;Object.defineProperty(i,"promises",{configurable:true,enumerable:true,get(){return r}});e.exports.Stream=i.Stream}else{const r=n(535);const i=n(1680);const s=r.Readable.destroy;e.exports=r.Readable;e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer;e.exports._isUint8Array=r._isUint8Array;e.exports.isDisturbed=r.isDisturbed;e.exports.isErrored=r.isErrored;e.exports.isReadable=r.isReadable;e.exports.Readable=r.Readable;e.exports.Writable=r.Writable;e.exports.Duplex=r.Duplex;e.exports.Transform=r.Transform;e.exports.PassThrough=r.PassThrough;e.exports.addAbortSignal=r.addAbortSignal;e.exports.finished=r.finished;e.exports.destroy=r.destroy;e.exports.destroy=s;e.exports.pipeline=r.pipeline;e.exports.compose=r.compose;Object.defineProperty(r,"promises",{configurable:true,enumerable:true,get(){return i}});e.exports.Stream=r.Stream}e.exports["default"]=e.exports},12823:e=>{"use strict";class AggregateError extends Error{constructor(e){if(!Array.isArray(e)){throw new TypeError(`Expected input to be an Array, got ${typeof e}`)}let r="";for(let n=0;n<e.length;n++){r+=`    ${e[n].stack}\n`}super(r);this.name="AggregateError";this.errors=e}}e.exports={AggregateError:AggregateError,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,r){return e.includes(r)},ArrayPrototypeIndexOf(e,r){return e.indexOf(r)},ArrayPrototypeJoin(e,r){return e.join(r)},ArrayPrototypeMap(e,r){return e.map(r)},ArrayPrototypePop(e,r){return e.pop(r)},ArrayPrototypePush(e,r){return e.push(r)},ArrayPrototypeSlice(e,r,n){return e.slice(r,n)},Error:Error,FunctionPrototypeCall(e,r,...n){return e.call(r,...n)},FunctionPrototypeSymbolHasInstance(e,r){return Function.prototype[Symbol.hasInstance].call(e,r)},MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,r){return Object.defineProperties(e,r)},ObjectDefineProperty(e,r,n){return Object.defineProperty(e,r,n)},ObjectGetOwnPropertyDescriptor(e,r){return Object.getOwnPropertyDescriptor(e,r)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,r){return Object.setPrototypeOf(e,r)},Promise:Promise,PromisePrototypeCatch(e,r){return e.catch(r)},PromisePrototypeThen(e,r,n){return e.then(r,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,r){return e.test(r)},SafeSet:Set,String:String,StringPrototypeSlice(e,r,n){return e.slice(r,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,r,n){return e.set(r,n)},Boolean:Boolean,Uint8Array:Uint8Array}},18547:(e,r,n)=>{"use strict";const i=n(20181);const{format:s,inspect:o}=n(44560);const{codes:{ERR_INVALID_ARG_TYPE:u}}=n(28484);const{kResistStopPropagation:f,AggregateError:p,SymbolDispose:g}=n(12823);const b=globalThis.AbortSignal||n(26335).AbortSignal;const _=globalThis.AbortController||n(26335).AbortController;const v=Object.getPrototypeOf((async function(){})).constructor;const w=globalThis.Blob||i.Blob;const I=typeof w!=="undefined"?function isBlob(e){return e instanceof w}:function isBlob(e){return false};const validateAbortSignal=(e,r)=>{if(e!==undefined&&(e===null||typeof e!=="object"||!("aborted"in e))){throw new u(r,"AbortSignal",e)}};const validateFunction=(e,r)=>{if(typeof e!=="function"){throw new u(r,"Function",e)}};e.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(e){let r=false;return function(...n){if(r){return}r=true;e.apply(this,n)}},createDeferredPromise:function(){let e;let r;const n=new Promise(((n,i)=>{e=n;r=i}));return{promise:n,resolve:e,reject:r}},promisify(e){return new Promise(((r,n)=>{e(((e,...i)=>{if(e){return n(e)}return r(...i)}))}))},debuglog(){return function(){}},format:s,inspect:o,types:{isAsyncFunction(e){return e instanceof v},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:I,deprecate(e,r){return e},addAbortListener:n(24434).addAbortListener||function addAbortListener(e,r){if(e===undefined){throw new u("signal","AbortSignal",e)}validateAbortSignal(e,"signal");validateFunction(r,"listener");let n;if(e.aborted){queueMicrotask((()=>r()))}else{e.addEventListener("abort",r,{__proto__:null,once:true,[f]:true});n=()=>{e.removeEventListener("abort",r)}}return{__proto__:null,[g](){var e;(e=n)===null||e===undefined?undefined:e()}}},AbortSignalAny:b.any||function AbortSignalAny(e){if(e.length===1){return e[0]}const r=new _;const abort=()=>r.abort();e.forEach((e=>{validateAbortSignal(e,"signals");e.addEventListener("abort",abort,{once:true})}));r.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",abort)))}),{once:true});return r.signal}};e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},44560:e=>{"use strict";e.exports={format(e,...r){return e.replace(/%([sdifj])/g,(function(...[e,n]){const i=r.shift();if(n==="f"){return i.toFixed(6)}else if(n==="j"){return JSON.stringify(i)}else if(n==="s"&&typeof i==="object"){const e=i.constructor!==Object?i.constructor.name:"";return`${e} {}`.trim()}else{return i.toString()}}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"')){return`"${e}"`}else if(!e.includes("`")&&!e.includes("${")){return`\`${e}\``}}return`'${e}'`;case"number":if(isNaN(e)){return"NaN"}else if(Object.is(e,-0)){return String(e)}return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},535:(e,r,n)=>{"use strict";const{Buffer:i}=n(20181);const{ObjectDefineProperty:s,ObjectKeys:o,ReflectApply:u}=n(12823);const{promisify:{custom:f}}=n(18547);const{streamReturningOperators:p,promiseReturningOperators:g}=n(30774);const{codes:{ERR_ILLEGAL_CONSTRUCTOR:b}}=n(28484);const _=n(61255);const{setDefaultHighWaterMark:v,getDefaultHighWaterMark:w}=n(46650);const{pipeline:I}=n(84061);const{destroyer:k}=n(87201);const C=n(82543);const R={};const T=n(1680);const x=n(67202);const P=e.exports=n(66720).Stream;P.isDestroyed=x.isDestroyed;P.isDisturbed=x.isDisturbed;P.isErrored=x.isErrored;P.isReadable=x.isReadable;P.isWritable=x.isWritable;P.Readable=n(30359);for(const L of o(p)){const U=p[L];function fn(...e){if(new.target){throw b()}return P.Readable.from(u(U,this,e))}s(fn,"name",{__proto__:null,value:U.name});s(fn,"length",{__proto__:null,value:U.length});s(P.Readable.prototype,L,{__proto__:null,value:fn,enumerable:false,configurable:true,writable:true})}for(const j of o(g)){const W=g[j];function fn(...e){if(new.target){throw b()}return u(W,this,e)}s(fn,"name",{__proto__:null,value:W.name});s(fn,"length",{__proto__:null,value:W.length});s(P.Readable.prototype,j,{__proto__:null,value:fn,enumerable:false,configurable:true,writable:true})}P.Writable=n(63131);P.Duplex=n(40657);P.Transform=n(23303);P.PassThrough=n(33253);P.pipeline=I;const{addAbortSignal:B}=n(37580);P.addAbortSignal=B;P.finished=C;P.destroy=k;P.compose=_;P.setDefaultHighWaterMark=v;P.getDefaultHighWaterMark=w;s(P,"promises",{__proto__:null,configurable:true,enumerable:true,get(){return T}});s(I,f,{__proto__:null,enumerable:true,get(){return T.pipeline}});s(C,f,{__proto__:null,enumerable:true,get(){return T.finished}});P.Stream=P;P._isUint8Array=function isUint8Array(e){return e instanceof Uint8Array};P._uint8ArrayToBuffer=function _uint8ArrayToBuffer(e){return i.from(e.buffer,e.byteOffset,e.byteLength)}},1680:(e,r,n)=>{"use strict";const{ArrayPrototypePop:i,Promise:s}=n(12823);const{isIterable:o,isNodeStream:u,isWebStream:f}=n(67202);const{pipelineImpl:p}=n(84061);const{finished:g}=n(82543);n(535);function pipeline(...e){return new s(((r,n)=>{let s;let g;const b=e[e.length-1];if(b&&typeof b==="object"&&!u(b)&&!o(b)&&!f(b)){const r=i(e);s=r.signal;g=r.end}p(e,((e,i)=>{if(e){n(e)}else{r(i)}}),{signal:s,end:g})}))}e.exports={finished:g,pipeline:pipeline}},68975:(e,r,n)=>{e.exports=readdirGlob;const i=n(79896);const{EventEmitter:s}=n(24434);const{Minimatch:o}=n(21388);const{resolve:u}=n(16928);function readdir(e,r){return new Promise(((n,s)=>{i.readdir(e,{withFileTypes:true},((e,i)=>{if(e){switch(e.code){case"ENOTDIR":if(r){s(e)}else{n([])}break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":n([]);break;case"ELOOP":default:s(e);break}}else{n(i)}}))}))}function stat(e,r){return new Promise(((n,s)=>{const o=r?i.stat:i.lstat;o(e,((i,s)=>{if(i){switch(i.code){case"ENOENT":if(r){n(stat(e,false))}else{n(null)}break;default:n(null);break}}else{n(s)}}))}))}async function*exploreWalkAsync(e,r,n,i,s,o){let u=await readdir(r+e,o);for(const o of u){let u=o.name;if(u===undefined){u=o;i=true}const f=e+"/"+u;const p=f.slice(1);const g=r+"/"+p;let b=null;if(i||n){b=await stat(g,n)}if(!b&&o.name!==undefined){b=o}if(b===null){b={isDirectory:()=>false}}if(b.isDirectory()){if(!s(p)){yield{relative:p,absolute:g,stats:b};yield*exploreWalkAsync(f,r,n,i,s,false)}}else{yield{relative:p,absolute:g,stats:b}}}}async function*explore(e,r,n,i){yield*exploreWalkAsync("",e,r,n,i,true)}function readOptions(e){return{pattern:e.pattern,dot:!!e.dot,noglobstar:!!e.noglobstar,matchBase:!!e.matchBase,nocase:!!e.nocase,ignore:e.ignore,skip:e.skip,follow:!!e.follow,stat:!!e.stat,nodir:!!e.nodir,mark:!!e.mark,silent:!!e.silent,absolute:!!e.absolute}}class ReaddirGlob extends s{constructor(e,r,n){super();if(typeof r==="function"){n=r;r=null}this.options=readOptions(r||{});this.matchers=[];if(this.options.pattern){const e=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=e.map((e=>new o(e,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase})))}this.ignoreMatchers=[];if(this.options.ignore){const e=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=e.map((e=>new o(e,{dot:true})))}this.skipMatchers=[];if(this.options.skip){const e=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=e.map((e=>new o(e,{dot:true})))}this.iterator=explore(u(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this));this.paused=false;this.inactive=false;this.aborted=false;if(n){this._matches=[];this.on("match",(e=>this._matches.push(this.options.absolute?e.absolute:e.relative)));this.on("error",(e=>n(e)));this.on("end",(()=>n(null,this._matches)))}setTimeout((()=>this._next()),0)}_shouldSkipDirectory(e){return this.skipMatchers.some((r=>r.match(e)))}_fileMatches(e,r){const n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some((e=>e.match(n))))&&!this.ignoreMatchers.some((e=>e.match(n)))&&(!this.options.nodir||!r)}_next(){if(!this.paused&&!this.aborted){this.iterator.next().then((e=>{if(!e.done){const r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative;let i=e.value.absolute;if(this.options.mark&&r){n+="/";i+="/"}if(this.options.stat){this.emit("match",{relative:n,absolute:i,stat:e.value.stats})}else{this.emit("match",{relative:n,absolute:i})}}this._next(this.iterator)}else{this.emit("end")}})).catch((e=>{this.abort();this.emit("error",e);if(!e.code&&!this.options.silent){console.error(e)}}))}else{this.inactive=true}}abort(){this.aborted=true}pause(){this.paused=true}resume(){this.paused=false;if(this.inactive){this.inactive=false;this._next()}}}function readdirGlob(e,r,n){return new ReaddirGlob(e,r,n)}readdirGlob.ReaddirGlob=ReaddirGlob},27387:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){if(i===undefined)i=n;Object.defineProperty(e,i,{enumerable:true,get:function(){return r[n]}})}:function(e,r,n,i){if(i===undefined)i=n;e[i]=r[n]});var s=this&&this.__exportStar||function(e,r){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n))i(r,e,n)};Object.defineProperty(r,"__esModule",{value:true});r.interval=r.iif=r.generate=r.fromEventPattern=r.fromEvent=r.from=r.forkJoin=r.empty=r.defer=r.connectable=r.concat=r.combineLatest=r.bindNodeCallback=r.bindCallback=r.UnsubscriptionError=r.TimeoutError=r.SequenceError=r.ObjectUnsubscribedError=r.NotFoundError=r.EmptyError=r.ArgumentOutOfRangeError=r.firstValueFrom=r.lastValueFrom=r.isObservable=r.identity=r.noop=r.pipe=r.NotificationKind=r.Notification=r.Subscriber=r.Subscription=r.Scheduler=r.VirtualAction=r.VirtualTimeScheduler=r.animationFrameScheduler=r.animationFrame=r.queueScheduler=r.queue=r.asyncScheduler=r.async=r.asapScheduler=r.asap=r.AsyncSubject=r.ReplaySubject=r.BehaviorSubject=r.Subject=r.animationFrames=r.observable=r.ConnectableObservable=r.Observable=void 0;r.filter=r.expand=r.exhaustMap=r.exhaustAll=r.exhaust=r.every=r.endWith=r.elementAt=r.distinctUntilKeyChanged=r.distinctUntilChanged=r.distinct=r.dematerialize=r.delayWhen=r.delay=r.defaultIfEmpty=r.debounceTime=r.debounce=r.count=r.connect=r.concatWith=r.concatMapTo=r.concatMap=r.concatAll=r.combineLatestWith=r.combineLatestAll=r.combineAll=r.catchError=r.bufferWhen=r.bufferToggle=r.bufferTime=r.bufferCount=r.buffer=r.auditTime=r.audit=r.config=r.NEVER=r.EMPTY=r.scheduled=r.zip=r.using=r.timer=r.throwError=r.range=r.race=r.partition=r.pairs=r.onErrorResumeNext=r.of=r.never=r.merge=void 0;r.switchMap=r.switchAll=r.subscribeOn=r.startWith=r.skipWhile=r.skipUntil=r.skipLast=r.skip=r.single=r.shareReplay=r.share=r.sequenceEqual=r.scan=r.sampleTime=r.sample=r.refCount=r.retryWhen=r.retry=r.repeatWhen=r.repeat=r.reduce=r.raceWith=r.publishReplay=r.publishLast=r.publishBehavior=r.publish=r.pluck=r.pairwise=r.onErrorResumeNextWith=r.observeOn=r.multicast=r.min=r.mergeWith=r.mergeScan=r.mergeMapTo=r.mergeMap=r.flatMap=r.mergeAll=r.max=r.materialize=r.mapTo=r.map=r.last=r.isEmpty=r.ignoreElements=r.groupBy=r.first=r.findIndex=r.find=r.finalize=void 0;r.zipWith=r.zipAll=r.withLatestFrom=r.windowWhen=r.windowToggle=r.windowTime=r.windowCount=r.window=r.toArray=r.timestamp=r.timeoutWith=r.timeout=r.timeInterval=r.throwIfEmpty=r.throttleTime=r.throttle=r.tap=r.takeWhile=r.takeUntil=r.takeLast=r.take=r.switchScan=r.switchMapTo=void 0;var o=n(69120);Object.defineProperty(r,"Observable",{enumerable:true,get:function(){return o.Observable}});var u=n(236);Object.defineProperty(r,"ConnectableObservable",{enumerable:true,get:function(){return u.ConnectableObservable}});var f=n(69117);Object.defineProperty(r,"observable",{enumerable:true,get:function(){return f.observable}});var p=n(48972);Object.defineProperty(r,"animationFrames",{enumerable:true,get:function(){return p.animationFrames}});var g=n(76409);Object.defineProperty(r,"Subject",{enumerable:true,get:function(){return g.Subject}});var b=n(77411);Object.defineProperty(r,"BehaviorSubject",{enumerable:true,get:function(){return b.BehaviorSubject}});var _=n(76652);Object.defineProperty(r,"ReplaySubject",{enumerable:true,get:function(){return _.ReplaySubject}});var v=n(26053);Object.defineProperty(r,"AsyncSubject",{enumerable:true,get:function(){return v.AsyncSubject}});var w=n(26234);Object.defineProperty(r,"asap",{enumerable:true,get:function(){return w.asap}});Object.defineProperty(r,"asapScheduler",{enumerable:true,get:function(){return w.asapScheduler}});var I=n(52803);Object.defineProperty(r,"async",{enumerable:true,get:function(){return I.async}});Object.defineProperty(r,"asyncScheduler",{enumerable:true,get:function(){return I.asyncScheduler}});var k=n(55260);Object.defineProperty(r,"queue",{enumerable:true,get:function(){return k.queue}});Object.defineProperty(r,"queueScheduler",{enumerable:true,get:function(){return k.queueScheduler}});var C=n(56212);Object.defineProperty(r,"animationFrame",{enumerable:true,get:function(){return C.animationFrame}});Object.defineProperty(r,"animationFrameScheduler",{enumerable:true,get:function(){return C.animationFrameScheduler}});var R=n(52884);Object.defineProperty(r,"VirtualTimeScheduler",{enumerable:true,get:function(){return R.VirtualTimeScheduler}});Object.defineProperty(r,"VirtualAction",{enumerable:true,get:function(){return R.VirtualAction}});var T=n(244);Object.defineProperty(r,"Scheduler",{enumerable:true,get:function(){return T.Scheduler}});var x=n(96572);Object.defineProperty(r,"Subscription",{enumerable:true,get:function(){return x.Subscription}});var P=n(39379);Object.defineProperty(r,"Subscriber",{enumerable:true,get:function(){return P.Subscriber}});var B=n(27546);Object.defineProperty(r,"Notification",{enumerable:true,get:function(){return B.Notification}});Object.defineProperty(r,"NotificationKind",{enumerable:true,get:function(){return B.NotificationKind}});var L=n(61132);Object.defineProperty(r,"pipe",{enumerable:true,get:function(){return L.pipe}});var U=n(38892);Object.defineProperty(r,"noop",{enumerable:true,get:function(){return U.noop}});var j=n(75742);Object.defineProperty(r,"identity",{enumerable:true,get:function(){return j.identity}});var W=n(19445);Object.defineProperty(r,"isObservable",{enumerable:true,get:function(){return W.isObservable}});var Q=n(70488);Object.defineProperty(r,"lastValueFrom",{enumerable:true,get:function(){return Q.lastValueFrom}});var z=n(71578);Object.defineProperty(r,"firstValueFrom",{enumerable:true,get:function(){return z.firstValueFrom}});var G=n(38475);Object.defineProperty(r,"ArgumentOutOfRangeError",{enumerable:true,get:function(){return G.ArgumentOutOfRangeError}});var q=n(38865);Object.defineProperty(r,"EmptyError",{enumerable:true,get:function(){return q.EmptyError}});var Y=n(76633);Object.defineProperty(r,"NotFoundError",{enumerable:true,get:function(){return Y.NotFoundError}});var V=n(61440);Object.defineProperty(r,"ObjectUnsubscribedError",{enumerable:true,get:function(){return V.ObjectUnsubscribedError}});var J=n(89763);Object.defineProperty(r,"SequenceError",{enumerable:true,get:function(){return J.SequenceError}});var ee=n(12292);Object.defineProperty(r,"TimeoutError",{enumerable:true,get:function(){return ee.TimeoutError}});var te=n(16866);Object.defineProperty(r,"UnsubscriptionError",{enumerable:true,get:function(){return te.UnsubscriptionError}});var re=n(31299);Object.defineProperty(r,"bindCallback",{enumerable:true,get:function(){return re.bindCallback}});var ne=n(41091);Object.defineProperty(r,"bindNodeCallback",{enumerable:true,get:function(){return ne.bindNodeCallback}});var ie=n(96609);Object.defineProperty(r,"combineLatest",{enumerable:true,get:function(){return ie.combineLatest}});var se=n(11435);Object.defineProperty(r,"concat",{enumerable:true,get:function(){return se.concat}});var oe=n(18529);Object.defineProperty(r,"connectable",{enumerable:true,get:function(){return oe.connectable}});var ae=n(471);Object.defineProperty(r,"defer",{enumerable:true,get:function(){return ae.defer}});var le=n(83534);Object.defineProperty(r,"empty",{enumerable:true,get:function(){return le.empty}});var ce=n(73863);Object.defineProperty(r,"forkJoin",{enumerable:true,get:function(){return ce.forkJoin}});var ue=n(66451);Object.defineProperty(r,"from",{enumerable:true,get:function(){return ue.from}});var fe=n(89691);Object.defineProperty(r,"fromEvent",{enumerable:true,get:function(){return fe.fromEvent}});var he=n(49001);Object.defineProperty(r,"fromEventPattern",{enumerable:true,get:function(){return he.fromEventPattern}});var de=n(83104);Object.defineProperty(r,"generate",{enumerable:true,get:function(){return de.generate}});var pe=n(10003);Object.defineProperty(r,"iif",{enumerable:true,get:function(){return pe.iif}});var ge=n(2006);Object.defineProperty(r,"interval",{enumerable:true,get:function(){return ge.interval}});var be=n(35607);Object.defineProperty(r,"merge",{enumerable:true,get:function(){return be.merge}});var ye=n(88929);Object.defineProperty(r,"never",{enumerable:true,get:function(){return ye.never}});var me=n(39294);Object.defineProperty(r,"of",{enumerable:true,get:function(){return me.of}});var _e=n(75168);Object.defineProperty(r,"onErrorResumeNext",{enumerable:true,get:function(){return _e.onErrorResumeNext}});var ve=n(61322);Object.defineProperty(r,"pairs",{enumerable:true,get:function(){return ve.pairs}});var we=n(16821);Object.defineProperty(r,"partition",{enumerable:true,get:function(){return we.partition}});var Ae=n(40826);Object.defineProperty(r,"race",{enumerable:true,get:function(){return Ae.race}});var Ee=n(38154);Object.defineProperty(r,"range",{enumerable:true,get:function(){return Ee.range}});var Se=n(6637);Object.defineProperty(r,"throwError",{enumerable:true,get:function(){return Se.throwError}});var Ie=n(70862);Object.defineProperty(r,"timer",{enumerable:true,get:function(){return Ie.timer}});var ke=n(21327);Object.defineProperty(r,"using",{enumerable:true,get:function(){return ke.using}});var Ce=n(38416);Object.defineProperty(r,"zip",{enumerable:true,get:function(){return Ce.zip}});var Oe=n(21626);Object.defineProperty(r,"scheduled",{enumerable:true,get:function(){return Oe.scheduled}});var Re=n(83534);Object.defineProperty(r,"EMPTY",{enumerable:true,get:function(){return Re.EMPTY}});var Te=n(88929);Object.defineProperty(r,"NEVER",{enumerable:true,get:function(){return Te.NEVER}});s(n(6632),r);var xe=n(60251);Object.defineProperty(r,"config",{enumerable:true,get:function(){return xe.config}});var Pe=n(23608);Object.defineProperty(r,"audit",{enumerable:true,get:function(){return Pe.audit}});var Be=n(7445);Object.defineProperty(r,"auditTime",{enumerable:true,get:function(){return Be.auditTime}});var Le=n(13945);Object.defineProperty(r,"buffer",{enumerable:true,get:function(){return Le.buffer}});var Ne=n(10758);Object.defineProperty(r,"bufferCount",{enumerable:true,get:function(){return Ne.bufferCount}});var Me=n(10444);Object.defineProperty(r,"bufferTime",{enumerable:true,get:function(){return Me.bufferTime}});var De=n(79377);Object.defineProperty(r,"bufferToggle",{enumerable:true,get:function(){return De.bufferToggle}});var Fe=n(57633);Object.defineProperty(r,"bufferWhen",{enumerable:true,get:function(){return Fe.bufferWhen}});var Ue=n(55312);Object.defineProperty(r,"catchError",{enumerable:true,get:function(){return Ue.catchError}});var je=n(71435);Object.defineProperty(r,"combineAll",{enumerable:true,get:function(){return je.combineAll}});var We=n(73286);Object.defineProperty(r,"combineLatestAll",{enumerable:true,get:function(){return We.combineLatestAll}});var He=n(36349);Object.defineProperty(r,"combineLatestWith",{enumerable:true,get:function(){return He.combineLatestWith}});var Qe=n(48508);Object.defineProperty(r,"concatAll",{enumerable:true,get:function(){return Qe.concatAll}});var ze=n(73221);Object.defineProperty(r,"concatMap",{enumerable:true,get:function(){return ze.concatMap}});var Ge=n(62740);Object.defineProperty(r,"concatMapTo",{enumerable:true,get:function(){return Ge.concatMapTo}});var $e=n(72683);Object.defineProperty(r,"concatWith",{enumerable:true,get:function(){return $e.concatWith}});var qe=n(14045);Object.defineProperty(r,"connect",{enumerable:true,get:function(){return qe.connect}});var Ke=n(42952);Object.defineProperty(r,"count",{enumerable:true,get:function(){return Ke.count}});var Ye=n(28292);Object.defineProperty(r,"debounce",{enumerable:true,get:function(){return Ye.debounce}});var Ve=n(75817);Object.defineProperty(r,"debounceTime",{enumerable:true,get:function(){return Ve.debounceTime}});var Xe=n(71252);Object.defineProperty(r,"defaultIfEmpty",{enumerable:true,get:function(){return Xe.defaultIfEmpty}});var Ze=n(36296);Object.defineProperty(r,"delay",{enumerable:true,get:function(){return Ze.delay}});var Je=n(57940);Object.defineProperty(r,"delayWhen",{enumerable:true,get:function(){return Je.delayWhen}});var et=n(72847);Object.defineProperty(r,"dematerialize",{enumerable:true,get:function(){return et.dematerialize}});var tt=n(65883);Object.defineProperty(r,"distinct",{enumerable:true,get:function(){return tt.distinct}});var rt=n(25583);Object.defineProperty(r,"distinctUntilChanged",{enumerable:true,get:function(){return rt.distinctUntilChanged}});var nt=n(23794);Object.defineProperty(r,"distinctUntilKeyChanged",{enumerable:true,get:function(){return nt.distinctUntilKeyChanged}});var it=n(8170);Object.defineProperty(r,"elementAt",{enumerable:true,get:function(){return it.elementAt}});var st=n(67486);Object.defineProperty(r,"endWith",{enumerable:true,get:function(){return st.endWith}});var ot=n(38260);Object.defineProperty(r,"every",{enumerable:true,get:function(){return ot.every}});var at=n(92913);Object.defineProperty(r,"exhaust",{enumerable:true,get:function(){return at.exhaust}});var lt=n(65950);Object.defineProperty(r,"exhaustAll",{enumerable:true,get:function(){return lt.exhaustAll}});var ct=n(11423);Object.defineProperty(r,"exhaustMap",{enumerable:true,get:function(){return ct.exhaustMap}});var ut=n(4835);Object.defineProperty(r,"expand",{enumerable:true,get:function(){return ut.expand}});var ft=n(68081);Object.defineProperty(r,"filter",{enumerable:true,get:function(){return ft.filter}});var ht=n(81289);Object.defineProperty(r,"finalize",{enumerable:true,get:function(){return ht.finalize}});var dt=n(79372);Object.defineProperty(r,"find",{enumerable:true,get:function(){return dt.find}});var pt=n(50054);Object.defineProperty(r,"findIndex",{enumerable:true,get:function(){return pt.findIndex}});var gt=n(85077);Object.defineProperty(r,"first",{enumerable:true,get:function(){return gt.first}});var bt=n(28325);Object.defineProperty(r,"groupBy",{enumerable:true,get:function(){return bt.groupBy}});var yt=n(52204);Object.defineProperty(r,"ignoreElements",{enumerable:true,get:function(){return yt.ignoreElements}});var mt=n(66878);Object.defineProperty(r,"isEmpty",{enumerable:true,get:function(){return mt.isEmpty}});var _t=n(83291);Object.defineProperty(r,"last",{enumerable:true,get:function(){return _t.last}});var vt=n(26941);Object.defineProperty(r,"map",{enumerable:true,get:function(){return vt.map}});var wt=n(53852);Object.defineProperty(r,"mapTo",{enumerable:true,get:function(){return wt.mapTo}});var At=n(83350);Object.defineProperty(r,"materialize",{enumerable:true,get:function(){return At.materialize}});var Et=n(15957);Object.defineProperty(r,"max",{enumerable:true,get:function(){return Et.max}});var St=n(57664);Object.defineProperty(r,"mergeAll",{enumerable:true,get:function(){return St.mergeAll}});var It=n(66920);Object.defineProperty(r,"flatMap",{enumerable:true,get:function(){return It.flatMap}});var kt=n(17505);Object.defineProperty(r,"mergeMap",{enumerable:true,get:function(){return kt.mergeMap}});var Ct=n(3344);Object.defineProperty(r,"mergeMapTo",{enumerable:true,get:function(){return Ct.mergeMapTo}});var Ot=n(36922);Object.defineProperty(r,"mergeScan",{enumerable:true,get:function(){return Ot.mergeScan}});var Rt=n(3255);Object.defineProperty(r,"mergeWith",{enumerable:true,get:function(){return Rt.mergeWith}});var Tt=n(5599);Object.defineProperty(r,"min",{enumerable:true,get:function(){return Tt.min}});var xt=n(40613);Object.defineProperty(r,"multicast",{enumerable:true,get:function(){return xt.multicast}});var Pt=n(62738);Object.defineProperty(r,"observeOn",{enumerable:true,get:function(){return Pt.observeOn}});var Bt=n(21248);Object.defineProperty(r,"onErrorResumeNextWith",{enumerable:true,get:function(){return Bt.onErrorResumeNextWith}});var Lt=n(26567);Object.defineProperty(r,"pairwise",{enumerable:true,get:function(){return Lt.pairwise}});var Nt=n(88246);Object.defineProperty(r,"pluck",{enumerable:true,get:function(){return Nt.pluck}});var Mt=n(26268);Object.defineProperty(r,"publish",{enumerable:true,get:function(){return Mt.publish}});var Dt=n(53946);Object.defineProperty(r,"publishBehavior",{enumerable:true,get:function(){return Dt.publishBehavior}});var Ft=n(79468);Object.defineProperty(r,"publishLast",{enumerable:true,get:function(){return Ft.publishLast}});var Ut=n(67655);Object.defineProperty(r,"publishReplay",{enumerable:true,get:function(){return Ut.publishReplay}});var jt=n(86046);Object.defineProperty(r,"raceWith",{enumerable:true,get:function(){return jt.raceWith}});var Wt=n(46453);Object.defineProperty(r,"reduce",{enumerable:true,get:function(){return Wt.reduce}});var Ht=n(47688);Object.defineProperty(r,"repeat",{enumerable:true,get:function(){return Ht.repeat}});var Qt=n(72628);Object.defineProperty(r,"repeatWhen",{enumerable:true,get:function(){return Qt.repeatWhen}});var zt=n(14145);Object.defineProperty(r,"retry",{enumerable:true,get:function(){return zt.retry}});var Gt=n(31241);Object.defineProperty(r,"retryWhen",{enumerable:true,get:function(){return Gt.retryWhen}});var $t=n(70367);Object.defineProperty(r,"refCount",{enumerable:true,get:function(){return $t.refCount}});var qt=n(42049);Object.defineProperty(r,"sample",{enumerable:true,get:function(){return qt.sample}});var Kt=n(85204);Object.defineProperty(r,"sampleTime",{enumerable:true,get:function(){return Kt.sampleTime}});var Yt=n(19982);Object.defineProperty(r,"scan",{enumerable:true,get:function(){return Yt.scan}});var Vt=n(5088);Object.defineProperty(r,"sequenceEqual",{enumerable:true,get:function(){return Vt.sequenceEqual}});var Xt=n(78876);Object.defineProperty(r,"share",{enumerable:true,get:function(){return Xt.share}});var Zt=n(97319);Object.defineProperty(r,"shareReplay",{enumerable:true,get:function(){return Zt.shareReplay}});var Jt=n(23311);Object.defineProperty(r,"single",{enumerable:true,get:function(){return Jt.single}});var er=n(7024);Object.defineProperty(r,"skip",{enumerable:true,get:function(){return er.skip}});var tr=n(37472);Object.defineProperty(r,"skipLast",{enumerable:true,get:function(){return tr.skipLast}});var rr=n(2985);Object.defineProperty(r,"skipUntil",{enumerable:true,get:function(){return rr.skipUntil}});var nr=n(71891);Object.defineProperty(r,"skipWhile",{enumerable:true,get:function(){return nr.skipWhile}});var ir=n(3447);Object.defineProperty(r,"startWith",{enumerable:true,get:function(){return ir.startWith}});var sr=n(18790);Object.defineProperty(r,"subscribeOn",{enumerable:true,get:function(){return sr.subscribeOn}});var or=n(35344);Object.defineProperty(r,"switchAll",{enumerable:true,get:function(){return or.switchAll}});var ar=n(50993);Object.defineProperty(r,"switchMap",{enumerable:true,get:function(){return ar.switchMap}});var lr=n(38368);Object.defineProperty(r,"switchMapTo",{enumerable:true,get:function(){return lr.switchMapTo}});var cr=n(67274);Object.defineProperty(r,"switchScan",{enumerable:true,get:function(){return cr.switchScan}});var ur=n(25476);Object.defineProperty(r,"take",{enumerable:true,get:function(){return ur.take}});var fr=n(74084);Object.defineProperty(r,"takeLast",{enumerable:true,get:function(){return fr.takeLast}});var hr=n(55010);Object.defineProperty(r,"takeUntil",{enumerable:true,get:function(){return hr.takeUntil}});var dr=n(94151);Object.defineProperty(r,"takeWhile",{enumerable:true,get:function(){return dr.takeWhile}});var pr=n(50866);Object.defineProperty(r,"tap",{enumerable:true,get:function(){return pr.tap}});var gr=n(84775);Object.defineProperty(r,"throttle",{enumerable:true,get:function(){return gr.throttle}});var br=n(11874);Object.defineProperty(r,"throttleTime",{enumerable:true,get:function(){return br.throttleTime}});var yr=n(95199);Object.defineProperty(r,"throwIfEmpty",{enumerable:true,get:function(){return yr.throwIfEmpty}});var mr=n(69623);Object.defineProperty(r,"timeInterval",{enumerable:true,get:function(){return mr.timeInterval}});var _r=n(12292);Object.defineProperty(r,"timeout",{enumerable:true,get:function(){return _r.timeout}});var vr=n(99436);Object.defineProperty(r,"timeoutWith",{enumerable:true,get:function(){return vr.timeoutWith}});var wr=n(69019);Object.defineProperty(r,"timestamp",{enumerable:true,get:function(){return wr.timestamp}});var Ar=n(16145);Object.defineProperty(r,"toArray",{enumerable:true,get:function(){return Ar.toArray}});var Er=n(9631);Object.defineProperty(r,"window",{enumerable:true,get:function(){return Er.window}});var Sr=n(85780);Object.defineProperty(r,"windowCount",{enumerable:true,get:function(){return Sr.windowCount}});var Ir=n(34330);Object.defineProperty(r,"windowTime",{enumerable:true,get:function(){return Ir.windowTime}});var kr=n(20979);Object.defineProperty(r,"windowToggle",{enumerable:true,get:function(){return kr.windowToggle}});var Cr=n(99999);Object.defineProperty(r,"windowWhen",{enumerable:true,get:function(){return Cr.windowWhen}});var Or=n(79368);Object.defineProperty(r,"withLatestFrom",{enumerable:true,get:function(){return Or.withLatestFrom}});var Rr=n(75961);Object.defineProperty(r,"zipAll",{enumerable:true,get:function(){return Rr.zipAll}});var Tr=n(86288);Object.defineProperty(r,"zipWith",{enumerable:true,get:function(){return Tr.zipWith}})},26053:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.AsyncSubject=void 0;var s=n(76409);var o=function(e){i(AsyncSubject,e);function AsyncSubject(){var r=e!==null&&e.apply(this,arguments)||this;r._value=null;r._hasValue=false;r._isComplete=false;return r}AsyncSubject.prototype._checkFinalizedStatuses=function(e){var r=this,n=r.hasError,i=r._hasValue,s=r._value,o=r.thrownError,u=r.isStopped,f=r._isComplete;if(n){e.error(o)}else if(u||f){i&&e.next(s);e.complete()}};AsyncSubject.prototype.next=function(e){if(!this.isStopped){this._value=e;this._hasValue=true}};AsyncSubject.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,s=r._isComplete;if(!s){this._isComplete=true;n&&e.prototype.next.call(this,i);e.prototype.complete.call(this)}};return AsyncSubject}(s.Subject);r.AsyncSubject=o},77411:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.BehaviorSubject=void 0;var s=n(76409);var o=function(e){i(BehaviorSubject,e);function BehaviorSubject(r){var n=e.call(this)||this;n._value=r;return n}Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:false,configurable:true});BehaviorSubject.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);!n.closed&&r.next(this._value);return n};BehaviorSubject.prototype.getValue=function(){var e=this,r=e.hasError,n=e.thrownError,i=e._value;if(r){throw n}this._throwIfClosed();return i};BehaviorSubject.prototype.next=function(r){e.prototype.next.call(this,this._value=r)};return BehaviorSubject}(s.Subject);r.BehaviorSubject=o},27546:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.observeNotification=r.Notification=r.NotificationKind=void 0;var i=n(83534);var s=n(39294);var o=n(6637);var u=n(88700);var f;(function(e){e["NEXT"]="N";e["ERROR"]="E";e["COMPLETE"]="C"})(f=r.NotificationKind||(r.NotificationKind={}));var p=function(){function Notification(e,r,n){this.kind=e;this.value=r;this.error=n;this.hasValue=e==="N"}Notification.prototype.observe=function(e){return observeNotification(this,e)};Notification.prototype.do=function(e,r,n){var i=this,s=i.kind,o=i.value,u=i.error;return s==="N"?e===null||e===void 0?void 0:e(o):s==="E"?r===null||r===void 0?void 0:r(u):n===null||n===void 0?void 0:n()};Notification.prototype.accept=function(e,r,n){var i;return u.isFunction((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)};Notification.prototype.toObservable=function(){var e=this,r=e.kind,n=e.value,u=e.error;var f=r==="N"?s.of(n):r==="E"?o.throwError((function(){return u})):r==="C"?i.EMPTY:0;if(!f){throw new TypeError("Unexpected notification kind "+r)}return f};Notification.createNext=function(e){return new Notification("N",e)};Notification.createError=function(e){return new Notification("E",undefined,e)};Notification.createComplete=function(){return Notification.completeNotification};Notification.completeNotification=new Notification("C");return Notification}();r.Notification=p;function observeNotification(e,r){var n,i,s;var o=e,u=o.kind,f=o.value,p=o.error;if(typeof u!=="string"){throw new TypeError('Invalid notification, missing "kind"')}u==="N"?(n=r.next)===null||n===void 0?void 0:n.call(r,f):u==="E"?(i=r.error)===null||i===void 0?void 0:i.call(r,p):(s=r.complete)===null||s===void 0?void 0:s.call(r)}r.observeNotification=observeNotification},53566:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createNotification=r.nextNotification=r.errorNotification=r.COMPLETE_NOTIFICATION=void 0;r.COMPLETE_NOTIFICATION=function(){return createNotification("C",undefined,undefined)}();function errorNotification(e){return createNotification("E",undefined,e)}r.errorNotification=errorNotification;function nextNotification(e){return createNotification("N",e,undefined)}r.nextNotification=nextNotification;function createNotification(e,r,n){return{kind:e,value:r,error:n}}r.createNotification=createNotification},69120:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Observable=void 0;var i=n(39379);var s=n(96572);var o=n(69117);var u=n(61132);var f=n(60251);var p=n(88700);var g=n(29877);var b=function(){function Observable(e){if(e){this._subscribe=e}}Observable.prototype.lift=function(e){var r=new Observable;r.source=this;r.operator=e;return r};Observable.prototype.subscribe=function(e,r,n){var s=this;var o=isSubscriber(e)?e:new i.SafeSubscriber(e,r,n);g.errorContext((function(){var e=s,r=e.operator,n=e.source;o.add(r?r.call(o,n):n?s._subscribe(o):s._trySubscribe(o))}));return o};Observable.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}};Observable.prototype.forEach=function(e,r){var n=this;r=getPromiseCtor(r);return new r((function(r,s){var o=new i.SafeSubscriber({next:function(r){try{e(r)}catch(e){s(e);o.unsubscribe()}},error:s,complete:r});n.subscribe(o)}))};Observable.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)};Observable.prototype[o.observable]=function(){return this};Observable.prototype.pipe=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return u.pipeFromArray(e)(this)};Observable.prototype.toPromise=function(e){var r=this;e=getPromiseCtor(e);return new e((function(e,n){var i;r.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))};Observable.create=function(e){return new Observable(e)};return Observable}();r.Observable=b;function getPromiseCtor(e){var r;return(r=e!==null&&e!==void 0?e:f.config.Promise)!==null&&r!==void 0?r:Promise}function isObserver(e){return e&&p.isFunction(e.next)&&p.isFunction(e.error)&&p.isFunction(e.complete)}function isSubscriber(e){return e&&e instanceof i.Subscriber||isObserver(e)&&s.isSubscription(e)}},76652:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.ReplaySubject=void 0;var s=n(76409);var o=n(77610);var u=function(e){i(ReplaySubject,e);function ReplaySubject(r,n,i){if(r===void 0){r=Infinity}if(n===void 0){n=Infinity}if(i===void 0){i=o.dateTimestampProvider}var s=e.call(this)||this;s._bufferSize=r;s._windowTime=n;s._timestampProvider=i;s._buffer=[];s._infiniteTimeWindow=true;s._infiniteTimeWindow=n===Infinity;s._bufferSize=Math.max(1,r);s._windowTime=Math.max(1,n);return s}ReplaySubject.prototype.next=function(r){var n=this,i=n.isStopped,s=n._buffer,o=n._infiniteTimeWindow,u=n._timestampProvider,f=n._windowTime;if(!i){s.push(r);!o&&s.push(u.now()+f)}this._trimBuffer();e.prototype.next.call(this,r)};ReplaySubject.prototype._subscribe=function(e){this._throwIfClosed();this._trimBuffer();var r=this._innerSubscribe(e);var n=this,i=n._infiniteTimeWindow,s=n._buffer;var o=s.slice();for(var u=0;u<o.length&&!e.closed;u+=i?1:2){e.next(o[u])}this._checkFinalizedStatuses(e);return r};ReplaySubject.prototype._trimBuffer=function(){var e=this,r=e._bufferSize,n=e._timestampProvider,i=e._buffer,s=e._infiniteTimeWindow;var o=(s?1:2)*r;r<Infinity&&o<i.length&&i.splice(0,i.length-o);if(!s){var u=n.now();var f=0;for(var p=1;p<i.length&&i[p]<=u;p+=2){f=p}f&&i.splice(0,f+1)}};return ReplaySubject}(s.Subject);r.ReplaySubject=u},244:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Scheduler=void 0;var i=n(77610);var s=function(){function Scheduler(e,r){if(r===void 0){r=Scheduler.now}this.schedulerActionCtor=e;this.now=r}Scheduler.prototype.schedule=function(e,r,n){if(r===void 0){r=0}return new this.schedulerActionCtor(this,e).schedule(n,r)};Scheduler.now=i.dateTimestampProvider.now;return Scheduler}();r.Scheduler=s},76409:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();var s=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.AnonymousSubject=r.Subject=void 0;var o=n(69120);var u=n(96572);var f=n(61440);var p=n(4417);var g=n(29877);var b=function(e){i(Subject,e);function Subject(){var r=e.call(this)||this;r.closed=false;r.currentObservers=null;r.observers=[];r.isStopped=false;r.hasError=false;r.thrownError=null;return r}Subject.prototype.lift=function(e){var r=new _(this,this);r.operator=e;return r};Subject.prototype._throwIfClosed=function(){if(this.closed){throw new f.ObjectUnsubscribedError}};Subject.prototype.next=function(e){var r=this;g.errorContext((function(){var n,i;r._throwIfClosed();if(!r.isStopped){if(!r.currentObservers){r.currentObservers=Array.from(r.observers)}try{for(var o=s(r.currentObservers),u=o.next();!u.done;u=o.next()){var f=u.value;f.next(e)}}catch(e){n={error:e}}finally{try{if(u&&!u.done&&(i=o.return))i.call(o)}finally{if(n)throw n.error}}}}))};Subject.prototype.error=function(e){var r=this;g.errorContext((function(){r._throwIfClosed();if(!r.isStopped){r.hasError=r.isStopped=true;r.thrownError=e;var n=r.observers;while(n.length){n.shift().error(e)}}}))};Subject.prototype.complete=function(){var e=this;g.errorContext((function(){e._throwIfClosed();if(!e.isStopped){e.isStopped=true;var r=e.observers;while(r.length){r.shift().complete()}}}))};Subject.prototype.unsubscribe=function(){this.isStopped=this.closed=true;this.observers=this.currentObservers=null};Object.defineProperty(Subject.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:false,configurable:true});Subject.prototype._trySubscribe=function(r){this._throwIfClosed();return e.prototype._trySubscribe.call(this,r)};Subject.prototype._subscribe=function(e){this._throwIfClosed();this._checkFinalizedStatuses(e);return this._innerSubscribe(e)};Subject.prototype._innerSubscribe=function(e){var r=this;var n=this,i=n.hasError,s=n.isStopped,o=n.observers;if(i||s){return u.EMPTY_SUBSCRIPTION}this.currentObservers=null;o.push(e);return new u.Subscription((function(){r.currentObservers=null;p.arrRemove(o,e)}))};Subject.prototype._checkFinalizedStatuses=function(e){var r=this,n=r.hasError,i=r.thrownError,s=r.isStopped;if(n){e.error(i)}else if(s){e.complete()}};Subject.prototype.asObservable=function(){var e=new o.Observable;e.source=this;return e};Subject.create=function(e,r){return new _(e,r)};return Subject}(o.Observable);r.Subject=b;var _=function(e){i(AnonymousSubject,e);function AnonymousSubject(r,n){var i=e.call(this)||this;i.destination=r;i.source=n;return i}AnonymousSubject.prototype.next=function(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0?void 0:n.call(r,e)};AnonymousSubject.prototype.error=function(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0?void 0:n.call(r,e)};AnonymousSubject.prototype.complete=function(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0?void 0:r.call(e)};AnonymousSubject.prototype._subscribe=function(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:u.EMPTY_SUBSCRIPTION};return AnonymousSubject}(b);r.AnonymousSubject=_},39379:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.EMPTY_OBSERVER=r.SafeSubscriber=r.Subscriber=void 0;var s=n(88700);var o=n(96572);var u=n(60251);var f=n(55777);var p=n(38892);var g=n(53566);var b=n(39605);var _=n(29877);var v=function(e){i(Subscriber,e);function Subscriber(n){var i=e.call(this)||this;i.isStopped=false;if(n){i.destination=n;if(o.isSubscription(n)){n.add(i)}}else{i.destination=r.EMPTY_OBSERVER}return i}Subscriber.create=function(e,r,n){return new k(e,r,n)};Subscriber.prototype.next=function(e){if(this.isStopped){handleStoppedNotification(g.nextNotification(e),this)}else{this._next(e)}};Subscriber.prototype.error=function(e){if(this.isStopped){handleStoppedNotification(g.errorNotification(e),this)}else{this.isStopped=true;this._error(e)}};Subscriber.prototype.complete=function(){if(this.isStopped){handleStoppedNotification(g.COMPLETE_NOTIFICATION,this)}else{this.isStopped=true;this._complete()}};Subscriber.prototype.unsubscribe=function(){if(!this.closed){this.isStopped=true;e.prototype.unsubscribe.call(this);this.destination=null}};Subscriber.prototype._next=function(e){this.destination.next(e)};Subscriber.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}};Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}};return Subscriber}(o.Subscription);r.Subscriber=v;var w=Function.prototype.bind;function bind(e,r){return w.call(e,r)}var I=function(){function ConsumerObserver(e){this.partialObserver=e}ConsumerObserver.prototype.next=function(e){var r=this.partialObserver;if(r.next){try{r.next(e)}catch(e){handleUnhandledError(e)}}};ConsumerObserver.prototype.error=function(e){var r=this.partialObserver;if(r.error){try{r.error(e)}catch(e){handleUnhandledError(e)}}else{handleUnhandledError(e)}};ConsumerObserver.prototype.complete=function(){var e=this.partialObserver;if(e.complete){try{e.complete()}catch(e){handleUnhandledError(e)}}};return ConsumerObserver}();var k=function(e){i(SafeSubscriber,e);function SafeSubscriber(r,n,i){var o=e.call(this)||this;var f;if(s.isFunction(r)||!r){f={next:r!==null&&r!==void 0?r:undefined,error:n!==null&&n!==void 0?n:undefined,complete:i!==null&&i!==void 0?i:undefined}}else{var p;if(o&&u.config.useDeprecatedNextContext){p=Object.create(r);p.unsubscribe=function(){return o.unsubscribe()};f={next:r.next&&bind(r.next,p),error:r.error&&bind(r.error,p),complete:r.complete&&bind(r.complete,p)}}else{f=r}}o.destination=new I(f);return o}return SafeSubscriber}(v);r.SafeSubscriber=k;function handleUnhandledError(e){if(u.config.useDeprecatedSynchronousErrorHandling){_.captureError(e)}else{f.reportUnhandledError(e)}}function defaultErrorHandler(e){throw e}function handleStoppedNotification(e,r){var n=u.config.onStoppedNotification;n&&b.timeoutProvider.setTimeout((function(){return n(e,r)}))}r.EMPTY_OBSERVER={closed:true,next:p.noop,error:defaultErrorHandler,complete:p.noop}},96572:function(e,r,n){"use strict";var i=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};var s=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var o=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.isSubscription=r.EMPTY_SUBSCRIPTION=r.Subscription=void 0;var u=n(88700);var f=n(16866);var p=n(4417);var g=function(){function Subscription(e){this.initialTeardown=e;this.closed=false;this._parentage=null;this._finalizers=null}Subscription.prototype.unsubscribe=function(){var e,r,n,p;var g;if(!this.closed){this.closed=true;var b=this._parentage;if(b){this._parentage=null;if(Array.isArray(b)){try{for(var _=i(b),v=_.next();!v.done;v=_.next()){var w=v.value;w.remove(this)}}catch(r){e={error:r}}finally{try{if(v&&!v.done&&(r=_.return))r.call(_)}finally{if(e)throw e.error}}}else{b.remove(this)}}var I=this.initialTeardown;if(u.isFunction(I)){try{I()}catch(e){g=e instanceof f.UnsubscriptionError?e.errors:[e]}}var k=this._finalizers;if(k){this._finalizers=null;try{for(var C=i(k),R=C.next();!R.done;R=C.next()){var T=R.value;try{execFinalizer(T)}catch(e){g=g!==null&&g!==void 0?g:[];if(e instanceof f.UnsubscriptionError){g=o(o([],s(g)),s(e.errors))}else{g.push(e)}}}}catch(e){n={error:e}}finally{try{if(R&&!R.done&&(p=C.return))p.call(C)}finally{if(n)throw n.error}}}if(g){throw new f.UnsubscriptionError(g)}}};Subscription.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed){execFinalizer(e)}else{if(e instanceof Subscription){if(e.closed||e._hasParent(this)){return}e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}};Subscription.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)};Subscription.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e};Subscription.prototype._removeParent=function(e){var r=this._parentage;if(r===e){this._parentage=null}else if(Array.isArray(r)){p.arrRemove(r,e)}};Subscription.prototype.remove=function(e){var r=this._finalizers;r&&p.arrRemove(r,e);if(e instanceof Subscription){e._removeParent(this)}};Subscription.EMPTY=function(){var e=new Subscription;e.closed=true;return e}();return Subscription}();r.Subscription=g;r.EMPTY_SUBSCRIPTION=g.EMPTY;function isSubscription(e){return e instanceof g||e&&"closed"in e&&u.isFunction(e.remove)&&u.isFunction(e.add)&&u.isFunction(e.unsubscribe)}r.isSubscription=isSubscription;function execFinalizer(e){if(u.isFunction(e)){e()}else{e.unsubscribe()}}},60251:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.config=void 0;r.config={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:false,useDeprecatedNextContext:false}},71578:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.firstValueFrom=void 0;var i=n(38865);var s=n(39379);function firstValueFrom(e,r){var n=typeof r==="object";return new Promise((function(o,u){var f=new s.SafeSubscriber({next:function(e){o(e);f.unsubscribe()},error:u,complete:function(){if(n){o(r.defaultValue)}else{u(new i.EmptyError)}}});e.subscribe(f)}))}r.firstValueFrom=firstValueFrom},70488:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.lastValueFrom=void 0;var i=n(38865);function lastValueFrom(e,r){var n=typeof r==="object";return new Promise((function(s,o){var u=false;var f;e.subscribe({next:function(e){f=e;u=true},error:o,complete:function(){if(u){s(f)}else if(n){s(r.defaultValue)}else{o(new i.EmptyError)}}})}))}r.lastValueFrom=lastValueFrom},236:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.ConnectableObservable=void 0;var s=n(69120);var o=n(96572);var u=n(70367);var f=n(99365);var p=n(67177);var g=function(e){i(ConnectableObservable,e);function ConnectableObservable(r,n){var i=e.call(this)||this;i.source=r;i.subjectFactory=n;i._subject=null;i._refCount=0;i._connection=null;if(p.hasLift(r)){i.lift=r.lift}return i}ConnectableObservable.prototype._subscribe=function(e){return this.getSubject().subscribe(e)};ConnectableObservable.prototype.getSubject=function(){var e=this._subject;if(!e||e.isStopped){this._subject=this.subjectFactory()}return this._subject};ConnectableObservable.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null;e===null||e===void 0?void 0:e.unsubscribe()};ConnectableObservable.prototype.connect=function(){var e=this;var r=this._connection;if(!r){r=this._connection=new o.Subscription;var n=this.getSubject();r.add(this.source.subscribe(f.createOperatorSubscriber(n,undefined,(function(){e._teardown();n.complete()}),(function(r){e._teardown();n.error(r)}),(function(){return e._teardown()}))));if(r.closed){this._connection=null;r=o.Subscription.EMPTY}}return r};ConnectableObservable.prototype.refCount=function(){return u.refCount()(this)};return ConnectableObservable}(s.Observable);r.ConnectableObservable=g},31299:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.bindCallback=void 0;var i=n(91397);function bindCallback(e,r,n){return i.bindCallbackInternals(false,e,r,n)}r.bindCallback=bindCallback},91397:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.bindCallbackInternals=void 0;var o=n(13483);var u=n(69120);var f=n(18790);var p=n(12437);var g=n(62738);var b=n(26053);function bindCallbackInternals(e,r,n,_){if(n){if(o.isScheduler(n)){_=n}else{return function(){var i=[];for(var s=0;s<arguments.length;s++){i[s]=arguments[s]}return bindCallbackInternals(e,r,_).apply(this,i).pipe(p.mapOneOrManyArgs(n))}}}if(_){return function(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}return bindCallbackInternals(e,r).apply(this,n).pipe(f.subscribeOn(_),g.observeOn(_))}}return function(){var n=this;var o=[];for(var f=0;f<arguments.length;f++){o[f]=arguments[f]}var p=new b.AsyncSubject;var g=true;return new u.Observable((function(u){var f=p.subscribe(u);if(g){g=false;var b=false;var _=false;r.apply(n,s(s([],i(o)),[function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}if(e){var i=r.shift();if(i!=null){p.error(i);return}}p.next(1<r.length?r:r[0]);_=true;if(b){p.complete()}}]));if(_){p.complete()}b=true}return f}))}}r.bindCallbackInternals=bindCallbackInternals},41091:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.bindNodeCallback=void 0;var i=n(91397);function bindNodeCallback(e,r,n){return i.bindCallbackInternals(true,e,r,n)}r.bindNodeCallback=bindNodeCallback},96609:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.combineLatestInit=r.combineLatest=void 0;var i=n(69120);var s=n(46590);var o=n(66451);var u=n(75742);var f=n(12437);var p=n(78961);var g=n(17791);var b=n(99365);var _=n(76648);function combineLatest(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=p.popScheduler(e);var b=p.popResultSelector(e);var _=s.argsArgArrayOrObject(e),v=_.args,w=_.keys;if(v.length===0){return o.from([],n)}var I=new i.Observable(combineLatestInit(v,n,w?function(e){return g.createObject(w,e)}:u.identity));return b?I.pipe(f.mapOneOrManyArgs(b)):I}r.combineLatest=combineLatest;function combineLatestInit(e,r,n){if(n===void 0){n=u.identity}return function(i){maybeSchedule(r,(function(){var s=e.length;var u=new Array(s);var f=s;var p=s;var _loop_1=function(s){maybeSchedule(r,(function(){var g=o.from(e[s],r);var _=false;g.subscribe(b.createOperatorSubscriber(i,(function(e){u[s]=e;if(!_){_=true;p--}if(!p){i.next(n(u.slice()))}}),(function(){if(! --f){i.complete()}})))}),i)};for(var g=0;g<s;g++){_loop_1(g)}}),i)}}r.combineLatestInit=combineLatestInit;function maybeSchedule(e,r,n){if(e){_.executeSchedule(n,e,r)}else{r()}}},11435:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.concat=void 0;var i=n(48508);var s=n(78961);var o=n(66451);function concat(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return i.concatAll()(o.from(e,s.popScheduler(e)))}r.concat=concat},18529:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.connectable=void 0;var i=n(76409);var s=n(69120);var o=n(471);var u={connector:function(){return new i.Subject},resetOnDisconnect:true};function connectable(e,r){if(r===void 0){r=u}var n=null;var i=r.connector,f=r.resetOnDisconnect,p=f===void 0?true:f;var g=i();var b=new s.Observable((function(e){return g.subscribe(e)}));b.connect=function(){if(!n||n.closed){n=o.defer((function(){return e})).subscribe(g);if(p){n.add((function(){return g=i()}))}}return n};return b}r.connectable=connectable},471:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.defer=void 0;var i=n(69120);var s=n(73395);function defer(e){return new i.Observable((function(r){s.innerFrom(e()).subscribe(r)}))}r.defer=defer},48972:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.animationFrames=void 0;var i=n(69120);var s=n(23488);var o=n(59409);function animationFrames(e){return e?animationFramesFactory(e):u}r.animationFrames=animationFrames;function animationFramesFactory(e){return new i.Observable((function(r){var n=e||s.performanceTimestampProvider;var i=n.now();var u=0;var run=function(){if(!r.closed){u=o.animationFrameProvider.requestAnimationFrame((function(s){u=0;var o=n.now();r.next({timestamp:e?o:s,elapsed:o-i});run()}))}};run();return function(){if(u){o.animationFrameProvider.cancelAnimationFrame(u)}}}))}var u=animationFramesFactory()},83534:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.empty=r.EMPTY=void 0;var i=n(69120);r.EMPTY=new i.Observable((function(e){return e.complete()}));function empty(e){return e?emptyScheduled(e):r.EMPTY}r.empty=empty;function emptyScheduled(e){return new i.Observable((function(r){return e.schedule((function(){return r.complete()}))}))}},73863:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.forkJoin=void 0;var i=n(69120);var s=n(46590);var o=n(73395);var u=n(78961);var f=n(99365);var p=n(12437);var g=n(17791);function forkJoin(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=u.popResultSelector(e);var b=s.argsArgArrayOrObject(e),_=b.args,v=b.keys;var w=new i.Observable((function(e){var r=_.length;if(!r){e.complete();return}var n=new Array(r);var i=r;var s=r;var _loop_1=function(r){var u=false;o.innerFrom(_[r]).subscribe(f.createOperatorSubscriber(e,(function(e){if(!u){u=true;s--}n[r]=e}),(function(){return i--}),undefined,(function(){if(!i||!u){if(!s){e.next(v?g.createObject(v,n):n)}e.complete()}})))};for(var u=0;u<r;u++){_loop_1(u)}}));return n?w.pipe(p.mapOneOrManyArgs(n)):w}r.forkJoin=forkJoin},66451:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.from=void 0;var i=n(21626);var s=n(73395);function from(e,r){return r?i.scheduled(e,r):s.innerFrom(e)}r.from=from},89691:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};Object.defineProperty(r,"__esModule",{value:true});r.fromEvent=void 0;var s=n(73395);var o=n(69120);var u=n(17505);var f=n(43956);var p=n(88700);var g=n(12437);var b=["addListener","removeListener"];var _=["addEventListener","removeEventListener"];var v=["on","off"];function fromEvent(e,r,n,w){if(p.isFunction(n)){w=n;n=undefined}if(w){return fromEvent(e,r,n).pipe(g.mapOneOrManyArgs(w))}var I=i(isEventTarget(e)?_.map((function(i){return function(s){return e[i](r,s,n)}})):isNodeStyleEventEmitter(e)?b.map(toCommonHandlerRegistry(e,r)):isJQueryStyleEventEmitter(e)?v.map(toCommonHandlerRegistry(e,r)):[],2),k=I[0],C=I[1];if(!k){if(f.isArrayLike(e)){return u.mergeMap((function(e){return fromEvent(e,r,n)}))(s.innerFrom(e))}}if(!k){throw new TypeError("Invalid event target")}return new o.Observable((function(e){var handler=function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}return e.next(1<r.length?r:r[0])};k(handler);return function(){return C(handler)}}))}r.fromEvent=fromEvent;function toCommonHandlerRegistry(e,r){return function(n){return function(i){return e[n](r,i)}}}function isNodeStyleEventEmitter(e){return p.isFunction(e.addListener)&&p.isFunction(e.removeListener)}function isJQueryStyleEventEmitter(e){return p.isFunction(e.on)&&p.isFunction(e.off)}function isEventTarget(e){return p.isFunction(e.addEventListener)&&p.isFunction(e.removeEventListener)}},49001:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.fromEventPattern=void 0;var i=n(69120);var s=n(88700);var o=n(12437);function fromEventPattern(e,r,n){if(n){return fromEventPattern(e,r).pipe(o.mapOneOrManyArgs(n))}return new i.Observable((function(n){var handler=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return n.next(e.length===1?e[0]:e)};var i=e(handler);return s.isFunction(r)?function(){return r(handler,i)}:undefined}))}r.fromEventPattern=fromEventPattern},39010:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.fromSubscribable=void 0;var i=n(69120);function fromSubscribable(e){return new i.Observable((function(r){return e.subscribe(r)}))}r.fromSubscribable=fromSubscribable},83104:function(e,r,n){"use strict";var i=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,u;return u={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function verb(e){return function(r){return step([e,r])}}function step(u){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(o=u[0]&2?s["return"]:u[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;if(s=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:n.label++;return{value:u[1],done:false};case 5:n.label++;s=u[1];u=[0];continue;case 7:u=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1];o=u;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(u);break}if(o[2])n.ops.pop();n.trys.pop();continue}u=r.call(e,n)}catch(e){u=[6,e];s=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};Object.defineProperty(r,"__esModule",{value:true});r.generate=void 0;var s=n(75742);var o=n(13483);var u=n(471);var f=n(92566);function generate(e,r,n,p,g){var b,_;var v;var w;if(arguments.length===1){b=e,w=b.initialState,r=b.condition,n=b.iterate,_=b.resultSelector,v=_===void 0?s.identity:_,g=b.scheduler}else{w=e;if(!p||o.isScheduler(p)){v=s.identity;g=p}else{v=p}}function gen(){var e;return i(this,(function(i){switch(i.label){case 0:e=w;i.label=1;case 1:if(!(!r||r(e)))return[3,4];return[4,v(e)];case 2:i.sent();i.label=3;case 3:e=n(e);return[3,1];case 4:return[2]}}))}return u.defer(g?function(){return f.scheduleIterable(gen(),g)}:gen)}r.generate=generate},10003:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.iif=void 0;var i=n(471);function iif(e,r,n){return i.defer((function(){return e()?r:n}))}r.iif=iif},73395:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};var s=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,u;return u={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function verb(e){return function(r){return step([e,r])}}function step(u){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(o=u[0]&2?s["return"]:u[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;if(s=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:n.label++;return{value:u[1],done:false};case 5:n.label++;s=u[1];u=[0];continue;case 7:u=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1];o=u;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(u);break}if(o[2])n.ops.pop();n.trys.pop();continue}u=r.call(e,n)}catch(e){u=[6,e];s=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof u==="function"?u(e):e[Symbol.iterator](),n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n);function verb(r){n[r]=e[r]&&function(n){return new Promise((function(i,s){n=e[r](n),settle(i,s,n.done,n.value)}))}}function settle(e,r,n,i){Promise.resolve(i).then((function(r){e({value:r,done:n})}),r)}};var u=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.fromReadableStreamLike=r.fromAsyncIterable=r.fromIterable=r.fromPromise=r.fromArrayLike=r.fromInteropObservable=r.innerFrom=void 0;var f=n(43956);var p=n(47555);var g=n(69120);var b=n(18274);var _=n(27052);var v=n(41320);var w=n(84406);var I=n(27707);var k=n(88700);var C=n(55777);var R=n(69117);function innerFrom(e){if(e instanceof g.Observable){return e}if(e!=null){if(b.isInteropObservable(e)){return fromInteropObservable(e)}if(f.isArrayLike(e)){return fromArrayLike(e)}if(p.isPromise(e)){return fromPromise(e)}if(_.isAsyncIterable(e)){return fromAsyncIterable(e)}if(w.isIterable(e)){return fromIterable(e)}if(I.isReadableStreamLike(e)){return fromReadableStreamLike(e)}}throw v.createInvalidObservableTypeError(e)}r.innerFrom=innerFrom;function fromInteropObservable(e){return new g.Observable((function(r){var n=e[R.observable]();if(k.isFunction(n.subscribe)){return n.subscribe(r)}throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}r.fromInteropObservable=fromInteropObservable;function fromArrayLike(e){return new g.Observable((function(r){for(var n=0;n<e.length&&!r.closed;n++){r.next(e[n])}r.complete()}))}r.fromArrayLike=fromArrayLike;function fromPromise(e){return new g.Observable((function(r){e.then((function(e){if(!r.closed){r.next(e);r.complete()}}),(function(e){return r.error(e)})).then(null,C.reportUnhandledError)}))}r.fromPromise=fromPromise;function fromIterable(e){return new g.Observable((function(r){var n,i;try{for(var s=u(e),o=s.next();!o.done;o=s.next()){var f=o.value;r.next(f);if(r.closed){return}}}catch(e){n={error:e}}finally{try{if(o&&!o.done&&(i=s.return))i.call(s)}finally{if(n)throw n.error}}r.complete()}))}r.fromIterable=fromIterable;function fromAsyncIterable(e){return new g.Observable((function(r){process(e,r).catch((function(e){return r.error(e)}))}))}r.fromAsyncIterable=fromAsyncIterable;function fromReadableStreamLike(e){return fromAsyncIterable(I.readableStreamLikeToAsyncGenerator(e))}r.fromReadableStreamLike=fromReadableStreamLike;function process(e,r){var n,u;var f,p;return i(this,void 0,void 0,(function(){var i,g;return s(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]);n=o(e);s.label=1;case 1:return[4,n.next()];case 2:if(!(u=s.sent(),!u.done))return[3,4];i=u.value;r.next(i);if(r.closed){return[2]}s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:g=s.sent();f={error:g};return[3,11];case 6:s.trys.push([6,,9,10]);if(!(u&&!u.done&&(p=n.return)))return[3,8];return[4,p.call(n)];case 7:s.sent();s.label=8;case 8:return[3,10];case 9:if(f)throw f.error;return[7];case 10:return[7];case 11:r.complete();return[2]}}))}))}},2006:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.interval=void 0;var i=n(52803);var s=n(70862);function interval(e,r){if(e===void 0){e=0}if(r===void 0){r=i.asyncScheduler}if(e<0){e=0}return s.timer(e,e,r)}r.interval=interval},35607:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.merge=void 0;var i=n(57664);var s=n(73395);var o=n(83534);var u=n(78961);var f=n(66451);function merge(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=u.popScheduler(e);var p=u.popNumber(e,Infinity);var g=e;return!g.length?o.EMPTY:g.length===1?s.innerFrom(g[0]):i.mergeAll(p)(f.from(g,n))}r.merge=merge},88929:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.never=r.NEVER=void 0;var i=n(69120);var s=n(38892);r.NEVER=new i.Observable(s.noop);function never(){return r.NEVER}r.never=never},39294:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.of=void 0;var i=n(78961);var s=n(66451);function of(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=i.popScheduler(e);return s.from(e,n)}r.of=of},75168:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.onErrorResumeNext=void 0;var i=n(69120);var s=n(37477);var o=n(99365);var u=n(38892);var f=n(73395);function onErrorResumeNext(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=s.argsOrArgArray(e);return new i.Observable((function(e){var r=0;var subscribeNext=function(){if(r<n.length){var i=void 0;try{i=f.innerFrom(n[r++])}catch(e){subscribeNext();return}var s=new o.OperatorSubscriber(e,undefined,u.noop,u.noop);i.subscribe(s);s.add(subscribeNext)}else{e.complete()}};subscribeNext()}))}r.onErrorResumeNext=onErrorResumeNext},61322:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.pairs=void 0;var i=n(66451);function pairs(e,r){return i.from(Object.entries(e),r)}r.pairs=pairs},16821:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.partition=void 0;var i=n(14115);var s=n(68081);var o=n(73395);function partition(e,r,n){return[s.filter(r,n)(o.innerFrom(e)),s.filter(i.not(r,n))(o.innerFrom(e))]}r.partition=partition},40826:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.raceInit=r.race=void 0;var i=n(69120);var s=n(73395);var o=n(37477);var u=n(99365);function race(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}e=o.argsOrArgArray(e);return e.length===1?s.innerFrom(e[0]):new i.Observable(raceInit(e))}r.race=race;function raceInit(e){return function(r){var n=[];var _loop_1=function(i){n.push(s.innerFrom(e[i]).subscribe(u.createOperatorSubscriber(r,(function(e){if(n){for(var s=0;s<n.length;s++){s!==i&&n[s].unsubscribe()}n=null}r.next(e)}))))};for(var i=0;n&&!r.closed&&i<e.length;i++){_loop_1(i)}}}r.raceInit=raceInit},38154:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.range=void 0;var i=n(69120);var s=n(83534);function range(e,r,n){if(r==null){r=e;e=0}if(r<=0){return s.EMPTY}var o=r+e;return new i.Observable(n?function(r){var i=e;return n.schedule((function(){if(i<o){r.next(i++);this.schedule()}else{r.complete()}}))}:function(r){var n=e;while(n<o&&!r.closed){r.next(n++)}r.complete()})}r.range=range},6637:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.throwError=void 0;var i=n(69120);var s=n(88700);function throwError(e,r){var n=s.isFunction(e)?e:function(){return e};var init=function(e){return e.error(n())};return new i.Observable(r?function(e){return r.schedule(init,0,e)}:init)}r.throwError=throwError},70862:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.timer=void 0;var i=n(69120);var s=n(52803);var o=n(13483);var u=n(90168);function timer(e,r,n){if(e===void 0){e=0}if(n===void 0){n=s.async}var f=-1;if(r!=null){if(o.isScheduler(r)){n=r}else{f=r}}return new i.Observable((function(r){var i=u.isValidDate(e)?+e-n.now():e;if(i<0){i=0}var s=0;return n.schedule((function(){if(!r.closed){r.next(s++);if(0<=f){this.schedule(undefined,f)}else{r.complete()}}}),i)}))}r.timer=timer},21327:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.using=void 0;var i=n(69120);var s=n(73395);var o=n(83534);function using(e,r){return new i.Observable((function(n){var i=e();var u=r(i);var f=u?s.innerFrom(u):o.EMPTY;f.subscribe(n);return function(){if(i){i.unsubscribe()}}}))}r.using=using},38416:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.zip=void 0;var o=n(69120);var u=n(73395);var f=n(37477);var p=n(83534);var g=n(99365);var b=n(78961);function zip(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=b.popResultSelector(e);var _=f.argsOrArgArray(e);return _.length?new o.Observable((function(e){var r=_.map((function(){return[]}));var o=_.map((function(){return false}));e.add((function(){r=o=null}));var _loop_1=function(f){u.innerFrom(_[f]).subscribe(g.createOperatorSubscriber(e,(function(u){r[f].push(u);if(r.every((function(e){return e.length}))){var p=r.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,s([],i(p))):p);if(r.some((function(e,r){return!e.length&&o[r]}))){e.complete()}}}),(function(){o[f]=true;!r[f].length&&e.complete()})))};for(var f=0;!e.closed&&f<_.length;f++){_loop_1(f)}return function(){r=o=null}})):p.EMPTY}r.zip=zip},99365:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.OperatorSubscriber=r.createOperatorSubscriber=void 0;var s=n(39379);function createOperatorSubscriber(e,r,n,i,s){return new o(e,r,n,i,s)}r.createOperatorSubscriber=createOperatorSubscriber;var o=function(e){i(OperatorSubscriber,e);function OperatorSubscriber(r,n,i,s,o,u){var f=e.call(this,r)||this;f.onFinalize=o;f.shouldUnsubscribe=u;f._next=n?function(e){try{n(e)}catch(e){r.error(e)}}:e.prototype._next;f._error=s?function(e){try{s(e)}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._error;f._complete=i?function(){try{i()}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._complete;return f}OperatorSubscriber.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this);!n&&((r=this.onFinalize)===null||r===void 0?void 0:r.call(this))}};return OperatorSubscriber}(s.Subscriber);r.OperatorSubscriber=o},23608:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.audit=void 0;var i=n(67177);var s=n(73395);var o=n(99365);function audit(e){return i.operate((function(r,n){var i=false;var u=null;var f=null;var p=false;var endDuration=function(){f===null||f===void 0?void 0:f.unsubscribe();f=null;if(i){i=false;var e=u;u=null;n.next(e)}p&&n.complete()};var cleanupDuration=function(){f=null;p&&n.complete()};r.subscribe(o.createOperatorSubscriber(n,(function(r){i=true;u=r;if(!f){s.innerFrom(e(r)).subscribe(f=o.createOperatorSubscriber(n,endDuration,cleanupDuration))}}),(function(){p=true;(!i||!f||f.closed)&&n.complete()})))}))}r.audit=audit},7445:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.auditTime=void 0;var i=n(52803);var s=n(23608);var o=n(70862);function auditTime(e,r){if(r===void 0){r=i.asyncScheduler}return s.audit((function(){return o.timer(e,r)}))}r.auditTime=auditTime},13945:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.buffer=void 0;var i=n(67177);var s=n(38892);var o=n(99365);var u=n(73395);function buffer(e){return i.operate((function(r,n){var i=[];r.subscribe(o.createOperatorSubscriber(n,(function(e){return i.push(e)}),(function(){n.next(i);n.complete()})));u.innerFrom(e).subscribe(o.createOperatorSubscriber(n,(function(){var e=i;i=[];n.next(e)}),s.noop));return function(){i=null}}))}r.buffer=buffer},10758:function(e,r,n){"use strict";var i=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.bufferCount=void 0;var s=n(67177);var o=n(99365);var u=n(4417);function bufferCount(e,r){if(r===void 0){r=null}r=r!==null&&r!==void 0?r:e;return s.operate((function(n,s){var f=[];var p=0;n.subscribe(o.createOperatorSubscriber(s,(function(n){var o,g,b,_;var v=null;if(p++%r===0){f.push([])}try{for(var w=i(f),I=w.next();!I.done;I=w.next()){var k=I.value;k.push(n);if(e<=k.length){v=v!==null&&v!==void 0?v:[];v.push(k)}}}catch(e){o={error:e}}finally{try{if(I&&!I.done&&(g=w.return))g.call(w)}finally{if(o)throw o.error}}if(v){try{for(var C=i(v),R=C.next();!R.done;R=C.next()){var k=R.value;u.arrRemove(f,k);s.next(k)}}catch(e){b={error:e}}finally{try{if(R&&!R.done&&(_=C.return))_.call(C)}finally{if(b)throw b.error}}}}),(function(){var e,r;try{for(var n=i(f),o=n.next();!o.done;o=n.next()){var u=o.value;s.next(u)}}catch(r){e={error:r}}finally{try{if(o&&!o.done&&(r=n.return))r.call(n)}finally{if(e)throw e.error}}s.complete()}),undefined,(function(){f=null})))}))}r.bufferCount=bufferCount},10444:function(e,r,n){"use strict";var i=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.bufferTime=void 0;var s=n(96572);var o=n(67177);var u=n(99365);var f=n(4417);var p=n(52803);var g=n(78961);var b=n(76648);function bufferTime(e){var r,n;var _=[];for(var v=1;v<arguments.length;v++){_[v-1]=arguments[v]}var w=(r=g.popScheduler(_))!==null&&r!==void 0?r:p.asyncScheduler;var I=(n=_[0])!==null&&n!==void 0?n:null;var k=_[1]||Infinity;return o.operate((function(r,n){var o=[];var p=false;var emit=function(e){var r=e.buffer,i=e.subs;i.unsubscribe();f.arrRemove(o,e);n.next(r);p&&startBuffer()};var startBuffer=function(){if(o){var r=new s.Subscription;n.add(r);var i=[];var u={buffer:i,subs:r};o.push(u);b.executeSchedule(r,w,(function(){return emit(u)}),e)}};if(I!==null&&I>=0){b.executeSchedule(n,w,startBuffer,I,true)}else{p=true}startBuffer();var g=u.createOperatorSubscriber(n,(function(e){var r,n;var s=o.slice();try{for(var u=i(s),f=u.next();!f.done;f=u.next()){var p=f.value;var g=p.buffer;g.push(e);k<=g.length&&emit(p)}}catch(e){r={error:e}}finally{try{if(f&&!f.done&&(n=u.return))n.call(u)}finally{if(r)throw r.error}}}),(function(){while(o===null||o===void 0?void 0:o.length){n.next(o.shift().buffer)}g===null||g===void 0?void 0:g.unsubscribe();n.complete();n.unsubscribe()}),undefined,(function(){return o=null}));r.subscribe(g)}))}r.bufferTime=bufferTime},79377:function(e,r,n){"use strict";var i=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.bufferToggle=void 0;var s=n(96572);var o=n(67177);var u=n(73395);var f=n(99365);var p=n(38892);var g=n(4417);function bufferToggle(e,r){return o.operate((function(n,o){var b=[];u.innerFrom(e).subscribe(f.createOperatorSubscriber(o,(function(e){var n=[];b.push(n);var i=new s.Subscription;var emitBuffer=function(){g.arrRemove(b,n);o.next(n);i.unsubscribe()};i.add(u.innerFrom(r(e)).subscribe(f.createOperatorSubscriber(o,emitBuffer,p.noop)))}),p.noop));n.subscribe(f.createOperatorSubscriber(o,(function(e){var r,n;try{for(var s=i(b),o=s.next();!o.done;o=s.next()){var u=o.value;u.push(e)}}catch(e){r={error:e}}finally{try{if(o&&!o.done&&(n=s.return))n.call(s)}finally{if(r)throw r.error}}}),(function(){while(b.length>0){o.next(b.shift())}o.complete()})))}))}r.bufferToggle=bufferToggle},57633:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.bufferWhen=void 0;var i=n(67177);var s=n(38892);var o=n(99365);var u=n(73395);function bufferWhen(e){return i.operate((function(r,n){var i=null;var f=null;var openBuffer=function(){f===null||f===void 0?void 0:f.unsubscribe();var r=i;i=[];r&&n.next(r);u.innerFrom(e()).subscribe(f=o.createOperatorSubscriber(n,openBuffer,s.noop))};openBuffer();r.subscribe(o.createOperatorSubscriber(n,(function(e){return i===null||i===void 0?void 0:i.push(e)}),(function(){i&&n.next(i);n.complete()}),undefined,(function(){return i=f=null})))}))}r.bufferWhen=bufferWhen},55312:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.catchError=void 0;var i=n(73395);var s=n(99365);var o=n(67177);function catchError(e){return o.operate((function(r,n){var o=null;var u=false;var f;o=r.subscribe(s.createOperatorSubscriber(n,undefined,undefined,(function(s){f=i.innerFrom(e(s,catchError(e)(r)));if(o){o.unsubscribe();o=null;f.subscribe(n)}else{u=true}})));if(u){o.unsubscribe();o=null;f.subscribe(n)}}))}r.catchError=catchError},71435:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.combineAll=void 0;var i=n(73286);r.combineAll=i.combineLatestAll},91113:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.combineLatest=void 0;var o=n(96609);var u=n(67177);var f=n(37477);var p=n(12437);var g=n(61132);var b=n(78961);function combineLatest(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=b.popResultSelector(e);return n?g.pipe(combineLatest.apply(void 0,s([],i(e))),p.mapOneOrManyArgs(n)):u.operate((function(r,n){o.combineLatestInit(s([r],i(f.argsOrArgArray(e))))(n)}))}r.combineLatest=combineLatest},73286:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.combineLatestAll=void 0;var i=n(96609);var s=n(37092);function combineLatestAll(e){return s.joinAllInternals(i.combineLatest,e)}r.combineLatestAll=combineLatestAll},36349:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.combineLatestWith=void 0;var o=n(91113);function combineLatestWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return o.combineLatest.apply(void 0,s([],i(e)))}r.combineLatestWith=combineLatestWith},36467:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.concat=void 0;var o=n(67177);var u=n(48508);var f=n(78961);var p=n(66451);function concat(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=f.popScheduler(e);return o.operate((function(r,o){u.concatAll()(p.from(s([r],i(e)),n)).subscribe(o)}))}r.concat=concat},48508:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.concatAll=void 0;var i=n(57664);function concatAll(){return i.mergeAll(1)}r.concatAll=concatAll},73221:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.concatMap=void 0;var i=n(17505);var s=n(88700);function concatMap(e,r){return s.isFunction(r)?i.mergeMap(e,r,1):i.mergeMap(e,1)}r.concatMap=concatMap},62740:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.concatMapTo=void 0;var i=n(73221);var s=n(88700);function concatMapTo(e,r){return s.isFunction(r)?i.concatMap((function(){return e}),r):i.concatMap((function(){return e}))}r.concatMapTo=concatMapTo},72683:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.concatWith=void 0;var o=n(36467);function concatWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return o.concat.apply(void 0,s([],i(e)))}r.concatWith=concatWith},14045:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.connect=void 0;var i=n(76409);var s=n(73395);var o=n(67177);var u=n(39010);var f={connector:function(){return new i.Subject}};function connect(e,r){if(r===void 0){r=f}var n=r.connector;return o.operate((function(r,i){var o=n();s.innerFrom(e(u.fromSubscribable(o))).subscribe(i);i.add(r.subscribe(o))}))}r.connect=connect},42952:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.count=void 0;var i=n(46453);function count(e){return i.reduce((function(r,n,i){return!e||e(n,i)?r+1:r}),0)}r.count=count},28292:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.debounce=void 0;var i=n(67177);var s=n(38892);var o=n(99365);var u=n(73395);function debounce(e){return i.operate((function(r,n){var i=false;var f=null;var p=null;var emit=function(){p===null||p===void 0?void 0:p.unsubscribe();p=null;if(i){i=false;var e=f;f=null;n.next(e)}};r.subscribe(o.createOperatorSubscriber(n,(function(r){p===null||p===void 0?void 0:p.unsubscribe();i=true;f=r;p=o.createOperatorSubscriber(n,emit,s.noop);u.innerFrom(e(r)).subscribe(p)}),(function(){emit();n.complete()}),undefined,(function(){f=p=null})))}))}r.debounce=debounce},75817:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.debounceTime=void 0;var i=n(52803);var s=n(67177);var o=n(99365);function debounceTime(e,r){if(r===void 0){r=i.asyncScheduler}return s.operate((function(n,i){var s=null;var u=null;var f=null;var emit=function(){if(s){s.unsubscribe();s=null;var e=u;u=null;i.next(e)}};function emitWhenIdle(){var n=f+e;var o=r.now();if(o<n){s=this.schedule(undefined,n-o);i.add(s);return}emit()}n.subscribe(o.createOperatorSubscriber(i,(function(n){u=n;f=r.now();if(!s){s=r.schedule(emitWhenIdle,e);i.add(s)}}),(function(){emit();i.complete()}),undefined,(function(){u=s=null})))}))}r.debounceTime=debounceTime},71252:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.defaultIfEmpty=void 0;var i=n(67177);var s=n(99365);function defaultIfEmpty(e){return i.operate((function(r,n){var i=false;r.subscribe(s.createOperatorSubscriber(n,(function(e){i=true;n.next(e)}),(function(){if(!i){n.next(e)}n.complete()})))}))}r.defaultIfEmpty=defaultIfEmpty},36296:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.delay=void 0;var i=n(52803);var s=n(57940);var o=n(70862);function delay(e,r){if(r===void 0){r=i.asyncScheduler}var n=o.timer(e,r);return s.delayWhen((function(){return n}))}r.delay=delay},57940:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.delayWhen=void 0;var i=n(11435);var s=n(25476);var o=n(52204);var u=n(53852);var f=n(17505);var p=n(73395);function delayWhen(e,r){if(r){return function(n){return i.concat(r.pipe(s.take(1),o.ignoreElements()),n.pipe(delayWhen(e)))}}return f.mergeMap((function(r,n){return p.innerFrom(e(r,n)).pipe(s.take(1),u.mapTo(r))}))}r.delayWhen=delayWhen},72847:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.dematerialize=void 0;var i=n(27546);var s=n(67177);var o=n(99365);function dematerialize(){return s.operate((function(e,r){e.subscribe(o.createOperatorSubscriber(r,(function(e){return i.observeNotification(e,r)})))}))}r.dematerialize=dematerialize},65883:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.distinct=void 0;var i=n(67177);var s=n(99365);var o=n(38892);var u=n(73395);function distinct(e,r){return i.operate((function(n,i){var f=new Set;n.subscribe(s.createOperatorSubscriber(i,(function(r){var n=e?e(r):r;if(!f.has(n)){f.add(n);i.next(r)}})));r&&u.innerFrom(r).subscribe(s.createOperatorSubscriber(i,(function(){return f.clear()}),o.noop))}))}r.distinct=distinct},25583:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.distinctUntilChanged=void 0;var i=n(75742);var s=n(67177);var o=n(99365);function distinctUntilChanged(e,r){if(r===void 0){r=i.identity}e=e!==null&&e!==void 0?e:defaultCompare;return s.operate((function(n,i){var s;var u=true;n.subscribe(o.createOperatorSubscriber(i,(function(n){var o=r(n);if(u||!e(s,o)){u=false;s=o;i.next(n)}})))}))}r.distinctUntilChanged=distinctUntilChanged;function defaultCompare(e,r){return e===r}},23794:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.distinctUntilKeyChanged=void 0;var i=n(25583);function distinctUntilKeyChanged(e,r){return i.distinctUntilChanged((function(n,i){return r?r(n[e],i[e]):n[e]===i[e]}))}r.distinctUntilKeyChanged=distinctUntilKeyChanged},8170:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.elementAt=void 0;var i=n(38475);var s=n(68081);var o=n(95199);var u=n(71252);var f=n(25476);function elementAt(e,r){if(e<0){throw new i.ArgumentOutOfRangeError}var n=arguments.length>=2;return function(p){return p.pipe(s.filter((function(r,n){return n===e})),f.take(1),n?u.defaultIfEmpty(r):o.throwIfEmpty((function(){return new i.ArgumentOutOfRangeError})))}}r.elementAt=elementAt},67486:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.endWith=void 0;var o=n(11435);var u=n(39294);function endWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return function(r){return o.concat(r,u.of.apply(void 0,s([],i(e))))}}r.endWith=endWith},38260:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.every=void 0;var i=n(67177);var s=n(99365);function every(e,r){return i.operate((function(n,i){var o=0;n.subscribe(s.createOperatorSubscriber(i,(function(s){if(!e.call(r,s,o++,n)){i.next(false);i.complete()}}),(function(){i.next(true);i.complete()})))}))}r.every=every},92913:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.exhaust=void 0;var i=n(65950);r.exhaust=i.exhaustAll},65950:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.exhaustAll=void 0;var i=n(11423);var s=n(75742);function exhaustAll(){return i.exhaustMap(s.identity)}r.exhaustAll=exhaustAll},11423:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.exhaustMap=void 0;var i=n(26941);var s=n(73395);var o=n(67177);var u=n(99365);function exhaustMap(e,r){if(r){return function(n){return n.pipe(exhaustMap((function(n,o){return s.innerFrom(e(n,o)).pipe(i.map((function(e,i){return r(n,e,o,i)})))})))}}return o.operate((function(r,n){var i=0;var o=null;var f=false;r.subscribe(u.createOperatorSubscriber(n,(function(r){if(!o){o=u.createOperatorSubscriber(n,undefined,(function(){o=null;f&&n.complete()}));s.innerFrom(e(r,i++)).subscribe(o)}}),(function(){f=true;!o&&n.complete()})))}))}r.exhaustMap=exhaustMap},4835:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.expand=void 0;var i=n(67177);var s=n(19521);function expand(e,r,n){if(r===void 0){r=Infinity}r=(r||0)<1?Infinity:r;return i.operate((function(i,o){return s.mergeInternals(i,o,e,r,undefined,true,n)}))}r.expand=expand},68081:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.filter=void 0;var i=n(67177);var s=n(99365);function filter(e,r){return i.operate((function(n,i){var o=0;n.subscribe(s.createOperatorSubscriber(i,(function(n){return e.call(r,n,o++)&&i.next(n)})))}))}r.filter=filter},81289:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.finalize=void 0;var i=n(67177);function finalize(e){return i.operate((function(r,n){try{r.subscribe(n)}finally{n.add(e)}}))}r.finalize=finalize},79372:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createFind=r.find=void 0;var i=n(67177);var s=n(99365);function find(e,r){return i.operate(createFind(e,r,"value"))}r.find=find;function createFind(e,r,n){var i=n==="index";return function(n,o){var u=0;n.subscribe(s.createOperatorSubscriber(o,(function(s){var f=u++;if(e.call(r,s,f,n)){o.next(i?f:s);o.complete()}}),(function(){o.next(i?-1:undefined);o.complete()})))}}r.createFind=createFind},50054:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.findIndex=void 0;var i=n(67177);var s=n(79372);function findIndex(e,r){return i.operate(s.createFind(e,r,"index"))}r.findIndex=findIndex},85077:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.first=void 0;var i=n(38865);var s=n(68081);var o=n(25476);var u=n(71252);var f=n(95199);var p=n(75742);function first(e,r){var n=arguments.length>=2;return function(g){return g.pipe(e?s.filter((function(r,n){return e(r,n,g)})):p.identity,o.take(1),n?u.defaultIfEmpty(r):f.throwIfEmpty((function(){return new i.EmptyError})))}}r.first=first},66920:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.flatMap=void 0;var i=n(17505);r.flatMap=i.mergeMap},28325:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.groupBy=void 0;var i=n(69120);var s=n(73395);var o=n(76409);var u=n(67177);var f=n(99365);function groupBy(e,r,n,p){return u.operate((function(u,g){var b;if(!r||typeof r==="function"){b=r}else{n=r.duration,b=r.element,p=r.connector}var _=new Map;var notify=function(e){_.forEach(e);e(g)};var handleError=function(e){return notify((function(r){return r.error(e)}))};var v=0;var w=false;var I=new f.OperatorSubscriber(g,(function(r){try{var i=e(r);var u=_.get(i);if(!u){_.set(i,u=p?p():new o.Subject);var v=createGroupedObservable(i,u);g.next(v);if(n){var w=f.createOperatorSubscriber(u,(function(){u.complete();w===null||w===void 0?void 0:w.unsubscribe()}),undefined,undefined,(function(){return _.delete(i)}));I.add(s.innerFrom(n(v)).subscribe(w))}}u.next(b?b(r):r)}catch(e){handleError(e)}}),(function(){return notify((function(e){return e.complete()}))}),handleError,(function(){return _.clear()}),(function(){w=true;return v===0}));u.subscribe(I);function createGroupedObservable(e,r){var n=new i.Observable((function(e){v++;var n=r.subscribe(e);return function(){n.unsubscribe();--v===0&&w&&I.unsubscribe()}}));n.key=e;return n}}))}r.groupBy=groupBy},52204:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ignoreElements=void 0;var i=n(67177);var s=n(99365);var o=n(38892);function ignoreElements(){return i.operate((function(e,r){e.subscribe(s.createOperatorSubscriber(r,o.noop))}))}r.ignoreElements=ignoreElements},66878:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isEmpty=void 0;var i=n(67177);var s=n(99365);function isEmpty(){return i.operate((function(e,r){e.subscribe(s.createOperatorSubscriber(r,(function(){r.next(false);r.complete()}),(function(){r.next(true);r.complete()})))}))}r.isEmpty=isEmpty},37092:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.joinAllInternals=void 0;var i=n(75742);var s=n(12437);var o=n(61132);var u=n(17505);var f=n(16145);function joinAllInternals(e,r){return o.pipe(f.toArray(),u.mergeMap((function(r){return e(r)})),r?s.mapOneOrManyArgs(r):i.identity)}r.joinAllInternals=joinAllInternals},83291:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.last=void 0;var i=n(38865);var s=n(68081);var o=n(74084);var u=n(95199);var f=n(71252);var p=n(75742);function last(e,r){var n=arguments.length>=2;return function(g){return g.pipe(e?s.filter((function(r,n){return e(r,n,g)})):p.identity,o.takeLast(1),n?f.defaultIfEmpty(r):u.throwIfEmpty((function(){return new i.EmptyError})))}}r.last=last},26941:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.map=void 0;var i=n(67177);var s=n(99365);function map(e,r){return i.operate((function(n,i){var o=0;n.subscribe(s.createOperatorSubscriber(i,(function(n){i.next(e.call(r,n,o++))})))}))}r.map=map},53852:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.mapTo=void 0;var i=n(26941);function mapTo(e){return i.map((function(){return e}))}r.mapTo=mapTo},83350:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.materialize=void 0;var i=n(27546);var s=n(67177);var o=n(99365);function materialize(){return s.operate((function(e,r){e.subscribe(o.createOperatorSubscriber(r,(function(e){r.next(i.Notification.createNext(e))}),(function(){r.next(i.Notification.createComplete());r.complete()}),(function(e){r.next(i.Notification.createError(e));r.complete()})))}))}r.materialize=materialize},15957:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.max=void 0;var i=n(46453);var s=n(88700);function max(e){return i.reduce(s.isFunction(e)?function(r,n){return e(r,n)>0?r:n}:function(e,r){return e>r?e:r})}r.max=max},70495:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.merge=void 0;var o=n(67177);var u=n(57664);var f=n(78961);var p=n(66451);function merge(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=f.popScheduler(e);var g=f.popNumber(e,Infinity);return o.operate((function(r,o){u.mergeAll(g)(p.from(s([r],i(e)),n)).subscribe(o)}))}r.merge=merge},57664:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.mergeAll=void 0;var i=n(17505);var s=n(75742);function mergeAll(e){if(e===void 0){e=Infinity}return i.mergeMap(s.identity,e)}r.mergeAll=mergeAll},19521:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.mergeInternals=void 0;var i=n(73395);var s=n(76648);var o=n(99365);function mergeInternals(e,r,n,u,f,p,g,b){var _=[];var v=0;var w=0;var I=false;var checkComplete=function(){if(I&&!_.length&&!v){r.complete()}};var outerNext=function(e){return v<u?doInnerSub(e):_.push(e)};var doInnerSub=function(e){p&&r.next(e);v++;var b=false;i.innerFrom(n(e,w++)).subscribe(o.createOperatorSubscriber(r,(function(e){f===null||f===void 0?void 0:f(e);if(p){outerNext(e)}else{r.next(e)}}),(function(){b=true}),undefined,(function(){if(b){try{v--;var _loop_1=function(){var e=_.shift();if(g){s.executeSchedule(r,g,(function(){return doInnerSub(e)}))}else{doInnerSub(e)}};while(_.length&&v<u){_loop_1()}checkComplete()}catch(e){r.error(e)}}})))};e.subscribe(o.createOperatorSubscriber(r,outerNext,(function(){I=true;checkComplete()})));return function(){b===null||b===void 0?void 0:b()}}r.mergeInternals=mergeInternals},17505:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.mergeMap=void 0;var i=n(26941);var s=n(73395);var o=n(67177);var u=n(19521);var f=n(88700);function mergeMap(e,r,n){if(n===void 0){n=Infinity}if(f.isFunction(r)){return mergeMap((function(n,o){return i.map((function(e,i){return r(n,e,o,i)}))(s.innerFrom(e(n,o)))}),n)}else if(typeof r==="number"){n=r}return o.operate((function(r,i){return u.mergeInternals(r,i,e,n)}))}r.mergeMap=mergeMap},3344:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.mergeMapTo=void 0;var i=n(17505);var s=n(88700);function mergeMapTo(e,r,n){if(n===void 0){n=Infinity}if(s.isFunction(r)){return i.mergeMap((function(){return e}),r,n)}if(typeof r==="number"){n=r}return i.mergeMap((function(){return e}),n)}r.mergeMapTo=mergeMapTo},36922:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.mergeScan=void 0;var i=n(67177);var s=n(19521);function mergeScan(e,r,n){if(n===void 0){n=Infinity}return i.operate((function(i,o){var u=r;return s.mergeInternals(i,o,(function(r,n){return e(u,r,n)}),n,(function(e){u=e}),false,undefined,(function(){return u=null}))}))}r.mergeScan=mergeScan},3255:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.mergeWith=void 0;var o=n(70495);function mergeWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return o.merge.apply(void 0,s([],i(e)))}r.mergeWith=mergeWith},5599:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.min=void 0;var i=n(46453);var s=n(88700);function min(e){return i.reduce(s.isFunction(e)?function(r,n){return e(r,n)<0?r:n}:function(e,r){return e<r?e:r})}r.min=min},40613:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.multicast=void 0;var i=n(236);var s=n(88700);var o=n(14045);function multicast(e,r){var n=s.isFunction(e)?e:function(){return e};if(s.isFunction(r)){return o.connect(r,{connector:n})}return function(e){return new i.ConnectableObservable(e,n)}}r.multicast=multicast},62738:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.observeOn=void 0;var i=n(76648);var s=n(67177);var o=n(99365);function observeOn(e,r){if(r===void 0){r=0}return s.operate((function(n,s){n.subscribe(o.createOperatorSubscriber(s,(function(n){return i.executeSchedule(s,e,(function(){return s.next(n)}),r)}),(function(){return i.executeSchedule(s,e,(function(){return s.complete()}),r)}),(function(n){return i.executeSchedule(s,e,(function(){return s.error(n)}),r)})))}))}r.observeOn=observeOn},21248:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.onErrorResumeNext=r.onErrorResumeNextWith=void 0;var o=n(37477);var u=n(75168);function onErrorResumeNextWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=o.argsOrArgArray(e);return function(e){return u.onErrorResumeNext.apply(void 0,s([e],i(n)))}}r.onErrorResumeNextWith=onErrorResumeNextWith;r.onErrorResumeNext=onErrorResumeNextWith},26567:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.pairwise=void 0;var i=n(67177);var s=n(99365);function pairwise(){return i.operate((function(e,r){var n;var i=false;e.subscribe(s.createOperatorSubscriber(r,(function(e){var s=n;n=e;i&&r.next([s,e]);i=true})))}))}r.pairwise=pairwise},88246:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.pluck=void 0;var i=n(26941);function pluck(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=e.length;if(n===0){throw new Error("list of properties cannot be empty.")}return i.map((function(r){var i=r;for(var s=0;s<n;s++){var o=i===null||i===void 0?void 0:i[e[s]];if(typeof o!=="undefined"){i=o}else{return undefined}}return i}))}r.pluck=pluck},26268:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.publish=void 0;var i=n(76409);var s=n(40613);var o=n(14045);function publish(e){return e?function(r){return o.connect(e)(r)}:function(e){return s.multicast(new i.Subject)(e)}}r.publish=publish},53946:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.publishBehavior=void 0;var i=n(77411);var s=n(236);function publishBehavior(e){return function(r){var n=new i.BehaviorSubject(e);return new s.ConnectableObservable(r,(function(){return n}))}}r.publishBehavior=publishBehavior},79468:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.publishLast=void 0;var i=n(26053);var s=n(236);function publishLast(){return function(e){var r=new i.AsyncSubject;return new s.ConnectableObservable(e,(function(){return r}))}}r.publishLast=publishLast},67655:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.publishReplay=void 0;var i=n(76652);var s=n(40613);var o=n(88700);function publishReplay(e,r,n,u){if(n&&!o.isFunction(n)){u=n}var f=o.isFunction(n)?n:undefined;return function(n){return s.multicast(new i.ReplaySubject(e,r,u),f)(n)}}r.publishReplay=publishReplay},86046:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.raceWith=void 0;var o=n(40826);var u=n(67177);var f=n(75742);function raceWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return!e.length?f.identity:u.operate((function(r,n){o.raceInit(s([r],i(e)))(n)}))}r.raceWith=raceWith},46453:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.reduce=void 0;var i=n(70810);var s=n(67177);function reduce(e,r){return s.operate(i.scanInternals(e,r,arguments.length>=2,false,true))}r.reduce=reduce},70367:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.refCount=void 0;var i=n(67177);var s=n(99365);function refCount(){return i.operate((function(e,r){var n=null;e._refCount++;var i=s.createOperatorSubscriber(r,undefined,undefined,undefined,(function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var i=e._connection;var s=n;n=null;if(i&&(!s||i===s)){i.unsubscribe()}r.unsubscribe()}));e.subscribe(i);if(!i.closed){n=e.connect()}}))}r.refCount=refCount},47688:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.repeat=void 0;var i=n(83534);var s=n(67177);var o=n(99365);var u=n(73395);var f=n(70862);function repeat(e){var r;var n=Infinity;var p;if(e!=null){if(typeof e==="object"){r=e.count,n=r===void 0?Infinity:r,p=e.delay}else{n=e}}return n<=0?function(){return i.EMPTY}:s.operate((function(e,r){var i=0;var s;var resubscribe=function(){s===null||s===void 0?void 0:s.unsubscribe();s=null;if(p!=null){var e=typeof p==="number"?f.timer(p):u.innerFrom(p(i));var n=o.createOperatorSubscriber(r,(function(){n.unsubscribe();subscribeToSource()}));e.subscribe(n)}else{subscribeToSource()}};var subscribeToSource=function(){var u=false;s=e.subscribe(o.createOperatorSubscriber(r,undefined,(function(){if(++i<n){if(s){resubscribe()}else{u=true}}else{r.complete()}})));if(u){resubscribe()}};subscribeToSource()}))}r.repeat=repeat},72628:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.repeatWhen=void 0;var i=n(73395);var s=n(76409);var o=n(67177);var u=n(99365);function repeatWhen(e){return o.operate((function(r,n){var o;var f=false;var p;var g=false;var b=false;var checkComplete=function(){return b&&g&&(n.complete(),true)};var getCompletionSubject=function(){if(!p){p=new s.Subject;i.innerFrom(e(p)).subscribe(u.createOperatorSubscriber(n,(function(){if(o){subscribeForRepeatWhen()}else{f=true}}),(function(){g=true;checkComplete()})))}return p};var subscribeForRepeatWhen=function(){b=false;o=r.subscribe(u.createOperatorSubscriber(n,undefined,(function(){b=true;!checkComplete()&&getCompletionSubject().next()})));if(f){o.unsubscribe();o=null;f=false;subscribeForRepeatWhen()}};subscribeForRepeatWhen()}))}r.repeatWhen=repeatWhen},14145:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.retry=void 0;var i=n(67177);var s=n(99365);var o=n(75742);var u=n(70862);var f=n(73395);function retry(e){if(e===void 0){e=Infinity}var r;if(e&&typeof e==="object"){r=e}else{r={count:e}}var n=r.count,p=n===void 0?Infinity:n,g=r.delay,b=r.resetOnSuccess,_=b===void 0?false:b;return p<=0?o.identity:i.operate((function(e,r){var n=0;var i;var subscribeForRetry=function(){var o=false;i=e.subscribe(s.createOperatorSubscriber(r,(function(e){if(_){n=0}r.next(e)}),undefined,(function(e){if(n++<p){var resub_1=function(){if(i){i.unsubscribe();i=null;subscribeForRetry()}else{o=true}};if(g!=null){var b=typeof g==="number"?u.timer(g):f.innerFrom(g(e,n));var _=s.createOperatorSubscriber(r,(function(){_.unsubscribe();resub_1()}),(function(){r.complete()}));b.subscribe(_)}else{resub_1()}}else{r.error(e)}})));if(o){i.unsubscribe();i=null;subscribeForRetry()}};subscribeForRetry()}))}r.retry=retry},31241:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.retryWhen=void 0;var i=n(73395);var s=n(76409);var o=n(67177);var u=n(99365);function retryWhen(e){return o.operate((function(r,n){var o;var f=false;var p;var subscribeForRetryWhen=function(){o=r.subscribe(u.createOperatorSubscriber(n,undefined,undefined,(function(r){if(!p){p=new s.Subject;i.innerFrom(e(p)).subscribe(u.createOperatorSubscriber(n,(function(){return o?subscribeForRetryWhen():f=true})))}if(p){p.next(r)}})));if(f){o.unsubscribe();o=null;f=false;subscribeForRetryWhen()}};subscribeForRetryWhen()}))}r.retryWhen=retryWhen},42049:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.sample=void 0;var i=n(73395);var s=n(67177);var o=n(38892);var u=n(99365);function sample(e){return s.operate((function(r,n){var s=false;var f=null;r.subscribe(u.createOperatorSubscriber(n,(function(e){s=true;f=e})));i.innerFrom(e).subscribe(u.createOperatorSubscriber(n,(function(){if(s){s=false;var e=f;f=null;n.next(e)}}),o.noop))}))}r.sample=sample},85204:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.sampleTime=void 0;var i=n(52803);var s=n(42049);var o=n(2006);function sampleTime(e,r){if(r===void 0){r=i.asyncScheduler}return s.sample(o.interval(e,r))}r.sampleTime=sampleTime},19982:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scan=void 0;var i=n(67177);var s=n(70810);function scan(e,r){return i.operate(s.scanInternals(e,r,arguments.length>=2,true))}r.scan=scan},70810:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scanInternals=void 0;var i=n(99365);function scanInternals(e,r,n,s,o){return function(u,f){var p=n;var g=r;var b=0;u.subscribe(i.createOperatorSubscriber(f,(function(r){var n=b++;g=p?e(g,r,n):(p=true,r);s&&f.next(g)}),o&&function(){p&&f.next(g);f.complete()}))}}r.scanInternals=scanInternals},5088:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.sequenceEqual=void 0;var i=n(67177);var s=n(99365);var o=n(73395);function sequenceEqual(e,r){if(r===void 0){r=function(e,r){return e===r}}return i.operate((function(n,i){var u=createState();var f=createState();var emit=function(e){i.next(e);i.complete()};var createSubscriber=function(e,n){var o=s.createOperatorSubscriber(i,(function(i){var s=n.buffer,o=n.complete;if(s.length===0){o?emit(false):e.buffer.push(i)}else{!r(i,s.shift())&&emit(false)}}),(function(){e.complete=true;var r=n.complete,i=n.buffer;r&&emit(i.length===0);o===null||o===void 0?void 0:o.unsubscribe()}));return o};n.subscribe(createSubscriber(u,f));o.innerFrom(e).subscribe(createSubscriber(f,u))}))}r.sequenceEqual=sequenceEqual;function createState(){return{buffer:[],complete:false}}},78876:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.share=void 0;var o=n(73395);var u=n(76409);var f=n(39379);var p=n(67177);function share(e){if(e===void 0){e={}}var r=e.connector,n=r===void 0?function(){return new u.Subject}:r,i=e.resetOnError,s=i===void 0?true:i,g=e.resetOnComplete,b=g===void 0?true:g,_=e.resetOnRefCountZero,v=_===void 0?true:_;return function(e){var r;var i;var u;var g=0;var _=false;var w=false;var cancelReset=function(){i===null||i===void 0?void 0:i.unsubscribe();i=undefined};var reset=function(){cancelReset();r=u=undefined;_=w=false};var resetAndUnsubscribe=function(){var e=r;reset();e===null||e===void 0?void 0:e.unsubscribe()};return p.operate((function(e,p){g++;if(!w&&!_){cancelReset()}var I=u=u!==null&&u!==void 0?u:n();p.add((function(){g--;if(g===0&&!w&&!_){i=handleReset(resetAndUnsubscribe,v)}}));I.subscribe(p);if(!r&&g>0){r=new f.SafeSubscriber({next:function(e){return I.next(e)},error:function(e){w=true;cancelReset();i=handleReset(reset,s,e);I.error(e)},complete:function(){_=true;cancelReset();i=handleReset(reset,b);I.complete()}});o.innerFrom(e).subscribe(r)}}))(e)}}r.share=share;function handleReset(e,r){var n=[];for(var u=2;u<arguments.length;u++){n[u-2]=arguments[u]}if(r===true){e();return}if(r===false){return}var p=new f.SafeSubscriber({next:function(){p.unsubscribe();e()}});return o.innerFrom(r.apply(void 0,s([],i(n)))).subscribe(p)}},97319:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.shareReplay=void 0;var i=n(76652);var s=n(78876);function shareReplay(e,r,n){var o,u,f;var p;var g=false;if(e&&typeof e==="object"){o=e.bufferSize,p=o===void 0?Infinity:o,u=e.windowTime,r=u===void 0?Infinity:u,f=e.refCount,g=f===void 0?false:f,n=e.scheduler}else{p=e!==null&&e!==void 0?e:Infinity}return s.share({connector:function(){return new i.ReplaySubject(p,r,n)},resetOnError:true,resetOnComplete:false,resetOnRefCountZero:g})}r.shareReplay=shareReplay},23311:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.single=void 0;var i=n(38865);var s=n(89763);var o=n(76633);var u=n(67177);var f=n(99365);function single(e){return u.operate((function(r,n){var u=false;var p;var g=false;var b=0;r.subscribe(f.createOperatorSubscriber(n,(function(i){g=true;if(!e||e(i,b++,r)){u&&n.error(new s.SequenceError("Too many matching values"));u=true;p=i}}),(function(){if(u){n.next(p);n.complete()}else{n.error(g?new o.NotFoundError("No matching values"):new i.EmptyError)}})))}))}r.single=single},7024:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.skip=void 0;var i=n(68081);function skip(e){return i.filter((function(r,n){return e<=n}))}r.skip=skip},37472:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.skipLast=void 0;var i=n(75742);var s=n(67177);var o=n(99365);function skipLast(e){return e<=0?i.identity:s.operate((function(r,n){var i=new Array(e);var s=0;r.subscribe(o.createOperatorSubscriber(n,(function(r){var o=s++;if(o<e){i[o]=r}else{var u=o%e;var f=i[u];i[u]=r;n.next(f)}})));return function(){i=null}}))}r.skipLast=skipLast},2985:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.skipUntil=void 0;var i=n(67177);var s=n(99365);var o=n(73395);var u=n(38892);function skipUntil(e){return i.operate((function(r,n){var i=false;var f=s.createOperatorSubscriber(n,(function(){f===null||f===void 0?void 0:f.unsubscribe();i=true}),u.noop);o.innerFrom(e).subscribe(f);r.subscribe(s.createOperatorSubscriber(n,(function(e){return i&&n.next(e)})))}))}r.skipUntil=skipUntil},71891:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.skipWhile=void 0;var i=n(67177);var s=n(99365);function skipWhile(e){return i.operate((function(r,n){var i=false;var o=0;r.subscribe(s.createOperatorSubscriber(n,(function(r){return(i||(i=!e(r,o++)))&&n.next(r)})))}))}r.skipWhile=skipWhile},3447:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.startWith=void 0;var i=n(11435);var s=n(78961);var o=n(67177);function startWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=s.popScheduler(e);return o.operate((function(r,s){(n?i.concat(e,r,n):i.concat(e,r)).subscribe(s)}))}r.startWith=startWith},18790:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.subscribeOn=void 0;var i=n(67177);function subscribeOn(e,r){if(r===void 0){r=0}return i.operate((function(n,i){i.add(e.schedule((function(){return n.subscribe(i)}),r))}))}r.subscribeOn=subscribeOn},35344:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.switchAll=void 0;var i=n(50993);var s=n(75742);function switchAll(){return i.switchMap(s.identity)}r.switchAll=switchAll},50993:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.switchMap=void 0;var i=n(73395);var s=n(67177);var o=n(99365);function switchMap(e,r){return s.operate((function(n,s){var u=null;var f=0;var p=false;var checkComplete=function(){return p&&!u&&s.complete()};n.subscribe(o.createOperatorSubscriber(s,(function(n){u===null||u===void 0?void 0:u.unsubscribe();var p=0;var g=f++;i.innerFrom(e(n,g)).subscribe(u=o.createOperatorSubscriber(s,(function(e){return s.next(r?r(n,e,g,p++):e)}),(function(){u=null;checkComplete()})))}),(function(){p=true;checkComplete()})))}))}r.switchMap=switchMap},38368:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.switchMapTo=void 0;var i=n(50993);var s=n(88700);function switchMapTo(e,r){return s.isFunction(r)?i.switchMap((function(){return e}),r):i.switchMap((function(){return e}))}r.switchMapTo=switchMapTo},67274:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.switchScan=void 0;var i=n(50993);var s=n(67177);function switchScan(e,r){return s.operate((function(n,s){var o=r;i.switchMap((function(r,n){return e(o,r,n)}),(function(e,r){return o=r,r}))(n).subscribe(s);return function(){o=null}}))}r.switchScan=switchScan},25476:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.take=void 0;var i=n(83534);var s=n(67177);var o=n(99365);function take(e){return e<=0?function(){return i.EMPTY}:s.operate((function(r,n){var i=0;r.subscribe(o.createOperatorSubscriber(n,(function(r){if(++i<=e){n.next(r);if(e<=i){n.complete()}}})))}))}r.take=take},74084:function(e,r,n){"use strict";var i=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.takeLast=void 0;var s=n(83534);var o=n(67177);var u=n(99365);function takeLast(e){return e<=0?function(){return s.EMPTY}:o.operate((function(r,n){var s=[];r.subscribe(u.createOperatorSubscriber(n,(function(r){s.push(r);e<s.length&&s.shift()}),(function(){var e,r;try{for(var o=i(s),u=o.next();!u.done;u=o.next()){var f=u.value;n.next(f)}}catch(r){e={error:r}}finally{try{if(u&&!u.done&&(r=o.return))r.call(o)}finally{if(e)throw e.error}}n.complete()}),undefined,(function(){s=null})))}))}r.takeLast=takeLast},55010:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.takeUntil=void 0;var i=n(67177);var s=n(99365);var o=n(73395);var u=n(38892);function takeUntil(e){return i.operate((function(r,n){o.innerFrom(e).subscribe(s.createOperatorSubscriber(n,(function(){return n.complete()}),u.noop));!n.closed&&r.subscribe(n)}))}r.takeUntil=takeUntil},94151:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.takeWhile=void 0;var i=n(67177);var s=n(99365);function takeWhile(e,r){if(r===void 0){r=false}return i.operate((function(n,i){var o=0;n.subscribe(s.createOperatorSubscriber(i,(function(n){var s=e(n,o++);(s||r)&&i.next(n);!s&&i.complete()})))}))}r.takeWhile=takeWhile},50866:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.tap=void 0;var i=n(88700);var s=n(67177);var o=n(99365);var u=n(75742);function tap(e,r,n){var f=i.isFunction(e)||r||n?{next:e,error:r,complete:n}:e;return f?s.operate((function(e,r){var n;(n=f.subscribe)===null||n===void 0?void 0:n.call(f);var i=true;e.subscribe(o.createOperatorSubscriber(r,(function(e){var n;(n=f.next)===null||n===void 0?void 0:n.call(f,e);r.next(e)}),(function(){var e;i=false;(e=f.complete)===null||e===void 0?void 0:e.call(f);r.complete()}),(function(e){var n;i=false;(n=f.error)===null||n===void 0?void 0:n.call(f,e);r.error(e)}),(function(){var e,r;if(i){(e=f.unsubscribe)===null||e===void 0?void 0:e.call(f)}(r=f.finalize)===null||r===void 0?void 0:r.call(f)})))})):u.identity}r.tap=tap},84775:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.throttle=void 0;var i=n(67177);var s=n(99365);var o=n(73395);function throttle(e,r){return i.operate((function(n,i){var u=r!==null&&r!==void 0?r:{},f=u.leading,p=f===void 0?true:f,g=u.trailing,b=g===void 0?false:g;var _=false;var v=null;var w=null;var I=false;var endThrottling=function(){w===null||w===void 0?void 0:w.unsubscribe();w=null;if(b){send();I&&i.complete()}};var cleanupThrottling=function(){w=null;I&&i.complete()};var startThrottle=function(r){return w=o.innerFrom(e(r)).subscribe(s.createOperatorSubscriber(i,endThrottling,cleanupThrottling))};var send=function(){if(_){_=false;var e=v;v=null;i.next(e);!I&&startThrottle(e)}};n.subscribe(s.createOperatorSubscriber(i,(function(e){_=true;v=e;!(w&&!w.closed)&&(p?send():startThrottle(e))}),(function(){I=true;!(b&&_&&w&&!w.closed)&&i.complete()})))}))}r.throttle=throttle},11874:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.throttleTime=void 0;var i=n(52803);var s=n(84775);var o=n(70862);function throttleTime(e,r,n){if(r===void 0){r=i.asyncScheduler}var u=o.timer(e,r);return s.throttle((function(){return u}),n)}r.throttleTime=throttleTime},95199:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.throwIfEmpty=void 0;var i=n(38865);var s=n(67177);var o=n(99365);function throwIfEmpty(e){if(e===void 0){e=defaultErrorFactory}return s.operate((function(r,n){var i=false;r.subscribe(o.createOperatorSubscriber(n,(function(e){i=true;n.next(e)}),(function(){return i?n.complete():n.error(e())})))}))}r.throwIfEmpty=throwIfEmpty;function defaultErrorFactory(){return new i.EmptyError}},69623:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TimeInterval=r.timeInterval=void 0;var i=n(52803);var s=n(67177);var o=n(99365);function timeInterval(e){if(e===void 0){e=i.asyncScheduler}return s.operate((function(r,n){var i=e.now();r.subscribe(o.createOperatorSubscriber(n,(function(r){var s=e.now();var o=s-i;i=s;n.next(new u(r,o))})))}))}r.timeInterval=timeInterval;var u=function(){function TimeInterval(e,r){this.value=e;this.interval=r}return TimeInterval}();r.TimeInterval=u},12292:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.timeout=r.TimeoutError=void 0;var i=n(52803);var s=n(90168);var o=n(67177);var u=n(73395);var f=n(39430);var p=n(99365);var g=n(76648);r.TimeoutError=f.createErrorClass((function(e){return function TimeoutErrorImpl(r){if(r===void 0){r=null}e(this);this.message="Timeout has occurred";this.name="TimeoutError";this.info=r}}));function timeout(e,r){var n=s.isValidDate(e)?{first:e}:typeof e==="number"?{each:e}:e,f=n.first,b=n.each,_=n.with,v=_===void 0?timeoutErrorFactory:_,w=n.scheduler,I=w===void 0?r!==null&&r!==void 0?r:i.asyncScheduler:w,k=n.meta,C=k===void 0?null:k;if(f==null&&b==null){throw new TypeError("No timeout provided.")}return o.operate((function(e,r){var n;var i;var s=null;var o=0;var startTimer=function(e){i=g.executeSchedule(r,I,(function(){try{n.unsubscribe();u.innerFrom(v({meta:C,lastValue:s,seen:o})).subscribe(r)}catch(e){r.error(e)}}),e)};n=e.subscribe(p.createOperatorSubscriber(r,(function(e){i===null||i===void 0?void 0:i.unsubscribe();o++;r.next(s=e);b>0&&startTimer(b)}),undefined,undefined,(function(){if(!(i===null||i===void 0?void 0:i.closed)){i===null||i===void 0?void 0:i.unsubscribe()}s=null})));!o&&startTimer(f!=null?typeof f==="number"?f:+f-I.now():b)}))}r.timeout=timeout;function timeoutErrorFactory(e){throw new r.TimeoutError(e)}},99436:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.timeoutWith=void 0;var i=n(52803);var s=n(90168);var o=n(12292);function timeoutWith(e,r,n){var u;var f;var p;n=n!==null&&n!==void 0?n:i.async;if(s.isValidDate(e)){u=e}else if(typeof e==="number"){f=e}if(r){p=function(){return r}}else{throw new TypeError("No observable provided to switch to")}if(u==null&&f==null){throw new TypeError("No timeout provided.")}return o.timeout({first:u,each:f,scheduler:n,with:p})}r.timeoutWith=timeoutWith},69019:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.timestamp=void 0;var i=n(77610);var s=n(26941);function timestamp(e){if(e===void 0){e=i.dateTimestampProvider}return s.map((function(r){return{value:r,timestamp:e.now()}}))}r.timestamp=timestamp},16145:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.toArray=void 0;var i=n(46453);var s=n(67177);var arrReducer=function(e,r){return e.push(r),e};function toArray(){return s.operate((function(e,r){i.reduce(arrReducer,[])(e).subscribe(r)}))}r.toArray=toArray},9631:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.window=void 0;var i=n(76409);var s=n(67177);var o=n(99365);var u=n(38892);var f=n(73395);function window(e){return s.operate((function(r,n){var s=new i.Subject;n.next(s.asObservable());var errorHandler=function(e){s.error(e);n.error(e)};r.subscribe(o.createOperatorSubscriber(n,(function(e){return s===null||s===void 0?void 0:s.next(e)}),(function(){s.complete();n.complete()}),errorHandler));f.innerFrom(e).subscribe(o.createOperatorSubscriber(n,(function(){s.complete();n.next(s=new i.Subject)}),u.noop,errorHandler));return function(){s===null||s===void 0?void 0:s.unsubscribe();s=null}}))}r.window=window},85780:function(e,r,n){"use strict";var i=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.windowCount=void 0;var s=n(76409);var o=n(67177);var u=n(99365);function windowCount(e,r){if(r===void 0){r=0}var n=r>0?r:e;return o.operate((function(r,o){var f=[new s.Subject];var p=[];var g=0;o.next(f[0].asObservable());r.subscribe(u.createOperatorSubscriber(o,(function(r){var u,p;try{for(var b=i(f),_=b.next();!_.done;_=b.next()){var v=_.value;v.next(r)}}catch(e){u={error:e}}finally{try{if(_&&!_.done&&(p=b.return))p.call(b)}finally{if(u)throw u.error}}var w=g-e+1;if(w>=0&&w%n===0){f.shift().complete()}if(++g%n===0){var I=new s.Subject;f.push(I);o.next(I.asObservable())}}),(function(){while(f.length>0){f.shift().complete()}o.complete()}),(function(e){while(f.length>0){f.shift().error(e)}o.error(e)}),(function(){p=null;f=null})))}))}r.windowCount=windowCount},34330:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.windowTime=void 0;var i=n(76409);var s=n(52803);var o=n(96572);var u=n(67177);var f=n(99365);var p=n(4417);var g=n(78961);var b=n(76648);function windowTime(e){var r,n;var _=[];for(var v=1;v<arguments.length;v++){_[v-1]=arguments[v]}var w=(r=g.popScheduler(_))!==null&&r!==void 0?r:s.asyncScheduler;var I=(n=_[0])!==null&&n!==void 0?n:null;var k=_[1]||Infinity;return u.operate((function(r,n){var s=[];var u=false;var closeWindow=function(e){var r=e.window,n=e.subs;r.complete();n.unsubscribe();p.arrRemove(s,e);u&&startWindow()};var startWindow=function(){if(s){var r=new o.Subscription;n.add(r);var u=new i.Subject;var f={window:u,subs:r,seen:0};s.push(f);n.next(u.asObservable());b.executeSchedule(r,w,(function(){return closeWindow(f)}),e)}};if(I!==null&&I>=0){b.executeSchedule(n,w,startWindow,I,true)}else{u=true}startWindow();var loop=function(e){return s.slice().forEach(e)};var terminate=function(e){loop((function(r){var n=r.window;return e(n)}));e(n);n.unsubscribe()};r.subscribe(f.createOperatorSubscriber(n,(function(e){loop((function(r){r.window.next(e);k<=++r.seen&&closeWindow(r)}))}),(function(){return terminate((function(e){return e.complete()}))}),(function(e){return terminate((function(r){return r.error(e)}))})));return function(){s=null}}))}r.windowTime=windowTime},20979:function(e,r,n){"use strict";var i=this&&this.__values||function(e){var r=typeof Symbol==="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:true});r.windowToggle=void 0;var s=n(76409);var o=n(96572);var u=n(67177);var f=n(73395);var p=n(99365);var g=n(38892);var b=n(4417);function windowToggle(e,r){return u.operate((function(n,u){var _=[];var handleError=function(e){while(0<_.length){_.shift().error(e)}u.error(e)};f.innerFrom(e).subscribe(p.createOperatorSubscriber(u,(function(e){var n=new s.Subject;_.push(n);var i=new o.Subscription;var closeWindow=function(){b.arrRemove(_,n);n.complete();i.unsubscribe()};var v;try{v=f.innerFrom(r(e))}catch(e){handleError(e);return}u.next(n.asObservable());i.add(v.subscribe(p.createOperatorSubscriber(u,closeWindow,g.noop,handleError)))}),g.noop));n.subscribe(p.createOperatorSubscriber(u,(function(e){var r,n;var s=_.slice();try{for(var o=i(s),u=o.next();!u.done;u=o.next()){var f=u.value;f.next(e)}}catch(e){r={error:e}}finally{try{if(u&&!u.done&&(n=o.return))n.call(o)}finally{if(r)throw r.error}}}),(function(){while(0<_.length){_.shift().complete()}u.complete()}),handleError,(function(){while(0<_.length){_.shift().unsubscribe()}})))}))}r.windowToggle=windowToggle},99999:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.windowWhen=void 0;var i=n(76409);var s=n(67177);var o=n(99365);var u=n(73395);function windowWhen(e){return s.operate((function(r,n){var s;var f;var handleError=function(e){s.error(e);n.error(e)};var openWindow=function(){f===null||f===void 0?void 0:f.unsubscribe();s===null||s===void 0?void 0:s.complete();s=new i.Subject;n.next(s.asObservable());var r;try{r=u.innerFrom(e())}catch(e){handleError(e);return}r.subscribe(f=o.createOperatorSubscriber(n,openWindow,openWindow,handleError))};openWindow();r.subscribe(o.createOperatorSubscriber(n,(function(e){return s.next(e)}),(function(){s.complete();n.complete()}),handleError,(function(){f===null||f===void 0?void 0:f.unsubscribe();s=null})))}))}r.windowWhen=windowWhen},79368:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.withLatestFrom=void 0;var o=n(67177);var u=n(99365);var f=n(73395);var p=n(75742);var g=n(38892);var b=n(78961);function withLatestFrom(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=b.popResultSelector(e);return o.operate((function(r,o){var b=e.length;var _=new Array(b);var v=e.map((function(){return false}));var w=false;var _loop_1=function(r){f.innerFrom(e[r]).subscribe(u.createOperatorSubscriber(o,(function(e){_[r]=e;if(!w&&!v[r]){v[r]=true;(w=v.every(p.identity))&&(v=null)}}),g.noop))};for(var I=0;I<b;I++){_loop_1(I)}r.subscribe(u.createOperatorSubscriber(o,(function(e){if(w){var r=s([e],i(_));o.next(n?n.apply(void 0,s([],i(r))):r)}})))}))}r.withLatestFrom=withLatestFrom},63368:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.zip=void 0;var o=n(38416);var u=n(67177);function zip(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return u.operate((function(r,n){o.zip.apply(void 0,s([r],i(e))).subscribe(n)}))}r.zip=zip},75961:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.zipAll=void 0;var i=n(38416);var s=n(37092);function zipAll(e){return s.joinAllInternals(i.zip,e)}r.zipAll=zipAll},86288:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.zipWith=void 0;var o=n(63368);function zipWith(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return o.zip.apply(void 0,s([],i(e)))}r.zipWith=zipWith},30123:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scheduleArray=void 0;var i=n(69120);function scheduleArray(e,r){return new i.Observable((function(n){var i=0;return r.schedule((function(){if(i===e.length){n.complete()}else{n.next(e[i++]);if(!n.closed){this.schedule()}}}))}))}r.scheduleArray=scheduleArray},90540:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scheduleAsyncIterable=void 0;var i=n(69120);var s=n(76648);function scheduleAsyncIterable(e,r){if(!e){throw new Error("Iterable cannot be null")}return new i.Observable((function(n){s.executeSchedule(n,r,(function(){var i=e[Symbol.asyncIterator]();s.executeSchedule(n,r,(function(){i.next().then((function(e){if(e.done){n.complete()}else{n.next(e.value)}}))}),0,true)}))}))}r.scheduleAsyncIterable=scheduleAsyncIterable},92566:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scheduleIterable=void 0;var i=n(69120);var s=n(63870);var o=n(88700);var u=n(76648);function scheduleIterable(e,r){return new i.Observable((function(n){var i;u.executeSchedule(n,r,(function(){i=e[s.iterator]();u.executeSchedule(n,r,(function(){var e;var r;var s;try{e=i.next(),r=e.value,s=e.done}catch(e){n.error(e);return}if(s){n.complete()}else{n.next(r)}}),0,true)}));return function(){return o.isFunction(i===null||i===void 0?void 0:i.return)&&i.return()}}))}r.scheduleIterable=scheduleIterable},12501:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scheduleObservable=void 0;var i=n(73395);var s=n(62738);var o=n(18790);function scheduleObservable(e,r){return i.innerFrom(e).pipe(o.subscribeOn(r),s.observeOn(r))}r.scheduleObservable=scheduleObservable},86083:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.schedulePromise=void 0;var i=n(73395);var s=n(62738);var o=n(18790);function schedulePromise(e,r){return i.innerFrom(e).pipe(o.subscribeOn(r),s.observeOn(r))}r.schedulePromise=schedulePromise},55835:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scheduleReadableStreamLike=void 0;var i=n(90540);var s=n(27707);function scheduleReadableStreamLike(e,r){return i.scheduleAsyncIterable(s.readableStreamLikeToAsyncGenerator(e),r)}r.scheduleReadableStreamLike=scheduleReadableStreamLike},21626:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.scheduled=void 0;var i=n(12501);var s=n(86083);var o=n(30123);var u=n(92566);var f=n(90540);var p=n(18274);var g=n(47555);var b=n(43956);var _=n(84406);var v=n(27052);var w=n(41320);var I=n(27707);var k=n(55835);function scheduled(e,r){if(e!=null){if(p.isInteropObservable(e)){return i.scheduleObservable(e,r)}if(b.isArrayLike(e)){return o.scheduleArray(e,r)}if(g.isPromise(e)){return s.schedulePromise(e,r)}if(v.isAsyncIterable(e)){return f.scheduleAsyncIterable(e,r)}if(_.isIterable(e)){return u.scheduleIterable(e,r)}if(I.isReadableStreamLike(e)){return k.scheduleReadableStreamLike(e,r)}}throw w.createInvalidObservableTypeError(e)}r.scheduled=scheduled},35725:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.Action=void 0;var s=n(96572);var o=function(e){i(Action,e);function Action(r,n){return e.call(this)||this}Action.prototype.schedule=function(e,r){if(r===void 0){r=0}return this};return Action}(s.Subscription);r.Action=o},20710:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.AnimationFrameAction=void 0;var s=n(39585);var o=n(59409);var u=function(e){i(AnimationFrameAction,e);function AnimationFrameAction(r,n){var i=e.call(this,r,n)||this;i.scheduler=r;i.work=n;return i}AnimationFrameAction.prototype.requestAsyncId=function(r,n,i){if(i===void 0){i=0}if(i!==null&&i>0){return e.prototype.requestAsyncId.call(this,r,n,i)}r.actions.push(this);return r._scheduled||(r._scheduled=o.animationFrameProvider.requestAnimationFrame((function(){return r.flush(undefined)})))};AnimationFrameAction.prototype.recycleAsyncId=function(r,n,i){var s;if(i===void 0){i=0}if(i!=null?i>0:this.delay>0){return e.prototype.recycleAsyncId.call(this,r,n,i)}var u=r.actions;if(n!=null&&n===r._scheduled&&((s=u[u.length-1])===null||s===void 0?void 0:s.id)!==n){o.animationFrameProvider.cancelAnimationFrame(n);r._scheduled=undefined}return undefined};return AnimationFrameAction}(s.AsyncAction);r.AnimationFrameAction=u},55347:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.AnimationFrameScheduler=void 0;var s=n(75346);var o=function(e){i(AnimationFrameScheduler,e);function AnimationFrameScheduler(){return e!==null&&e.apply(this,arguments)||this}AnimationFrameScheduler.prototype.flush=function(e){this._active=true;var r;if(e){r=e.id}else{r=this._scheduled;this._scheduled=undefined}var n=this.actions;var i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay)){break}}while((e=n[0])&&e.id===r&&n.shift());this._active=false;if(i){while((e=n[0])&&e.id===r&&n.shift()){e.unsubscribe()}throw i}};return AnimationFrameScheduler}(s.AsyncScheduler);r.AnimationFrameScheduler=o},71968:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.AsapAction=void 0;var s=n(39585);var o=n(58275);var u=function(e){i(AsapAction,e);function AsapAction(r,n){var i=e.call(this,r,n)||this;i.scheduler=r;i.work=n;return i}AsapAction.prototype.requestAsyncId=function(r,n,i){if(i===void 0){i=0}if(i!==null&&i>0){return e.prototype.requestAsyncId.call(this,r,n,i)}r.actions.push(this);return r._scheduled||(r._scheduled=o.immediateProvider.setImmediate(r.flush.bind(r,undefined)))};AsapAction.prototype.recycleAsyncId=function(r,n,i){var s;if(i===void 0){i=0}if(i!=null?i>0:this.delay>0){return e.prototype.recycleAsyncId.call(this,r,n,i)}var u=r.actions;if(n!=null&&((s=u[u.length-1])===null||s===void 0?void 0:s.id)!==n){o.immediateProvider.clearImmediate(n);if(r._scheduled===n){r._scheduled=undefined}}return undefined};return AsapAction}(s.AsyncAction);r.AsapAction=u},22817:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.AsapScheduler=void 0;var s=n(75346);var o=function(e){i(AsapScheduler,e);function AsapScheduler(){return e!==null&&e.apply(this,arguments)||this}AsapScheduler.prototype.flush=function(e){this._active=true;var r=this._scheduled;this._scheduled=undefined;var n=this.actions;var i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay)){break}}while((e=n[0])&&e.id===r&&n.shift());this._active=false;if(i){while((e=n[0])&&e.id===r&&n.shift()){e.unsubscribe()}throw i}};return AsapScheduler}(s.AsyncScheduler);r.AsapScheduler=o},39585:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.AsyncAction=void 0;var s=n(35725);var o=n(21343);var u=n(4417);var f=function(e){i(AsyncAction,e);function AsyncAction(r,n){var i=e.call(this,r,n)||this;i.scheduler=r;i.work=n;i.pending=false;return i}AsyncAction.prototype.schedule=function(e,r){var n;if(r===void 0){r=0}if(this.closed){return this}this.state=e;var i=this.id;var s=this.scheduler;if(i!=null){this.id=this.recycleAsyncId(s,i,r)}this.pending=true;this.delay=r;this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,r);return this};AsyncAction.prototype.requestAsyncId=function(e,r,n){if(n===void 0){n=0}return o.intervalProvider.setInterval(e.flush.bind(e,this),n)};AsyncAction.prototype.recycleAsyncId=function(e,r,n){if(n===void 0){n=0}if(n!=null&&this.delay===n&&this.pending===false){return r}if(r!=null){o.intervalProvider.clearInterval(r)}return undefined};AsyncAction.prototype.execute=function(e,r){if(this.closed){return new Error("executing a cancelled action")}this.pending=false;var n=this._execute(e,r);if(n){return n}else if(this.pending===false&&this.id!=null){this.id=this.recycleAsyncId(this.scheduler,this.id,null)}};AsyncAction.prototype._execute=function(e,r){var n=false;var i;try{this.work(e)}catch(e){n=true;i=e?e:new Error("Scheduled action threw falsy error")}if(n){this.unsubscribe();return i}};AsyncAction.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler;var s=i.actions;this.work=this.state=this.scheduler=null;this.pending=false;u.arrRemove(s,this);if(n!=null){this.id=this.recycleAsyncId(i,n,null)}this.delay=null;e.prototype.unsubscribe.call(this)}};return AsyncAction}(s.Action);r.AsyncAction=f},75346:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.AsyncScheduler=void 0;var s=n(244);var o=function(e){i(AsyncScheduler,e);function AsyncScheduler(r,n){if(n===void 0){n=s.Scheduler.now}var i=e.call(this,r,n)||this;i.actions=[];i._active=false;return i}AsyncScheduler.prototype.flush=function(e){var r=this.actions;if(this._active){r.push(e);return}var n;this._active=true;do{if(n=e.execute(e.state,e.delay)){break}}while(e=r.shift());this._active=false;if(n){while(e=r.shift()){e.unsubscribe()}throw n}};return AsyncScheduler}(s.Scheduler);r.AsyncScheduler=o},7326:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.QueueAction=void 0;var s=n(39585);var o=function(e){i(QueueAction,e);function QueueAction(r,n){var i=e.call(this,r,n)||this;i.scheduler=r;i.work=n;return i}QueueAction.prototype.schedule=function(r,n){if(n===void 0){n=0}if(n>0){return e.prototype.schedule.call(this,r,n)}this.delay=n;this.state=r;this.scheduler.flush(this);return this};QueueAction.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)};QueueAction.prototype.requestAsyncId=function(r,n,i){if(i===void 0){i=0}if(i!=null&&i>0||i==null&&this.delay>0){return e.prototype.requestAsyncId.call(this,r,n,i)}r.flush(this);return 0};return QueueAction}(s.AsyncAction);r.QueueAction=o},5067:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.QueueScheduler=void 0;var s=n(75346);var o=function(e){i(QueueScheduler,e);function QueueScheduler(){return e!==null&&e.apply(this,arguments)||this}return QueueScheduler}(s.AsyncScheduler);r.QueueScheduler=o},52884:function(e,r,n){"use strict";var i=this&&this.__extends||function(){var extendStatics=function(e,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n))e[n]=r[n]};return extendStatics(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function __(){this.constructor=e}e.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(r,"__esModule",{value:true});r.VirtualAction=r.VirtualTimeScheduler=void 0;var s=n(39585);var o=n(96572);var u=n(75346);var f=function(e){i(VirtualTimeScheduler,e);function VirtualTimeScheduler(r,n){if(r===void 0){r=p}if(n===void 0){n=Infinity}var i=e.call(this,r,(function(){return i.frame}))||this;i.maxFrames=n;i.frame=0;i.index=-1;return i}VirtualTimeScheduler.prototype.flush=function(){var e=this,r=e.actions,n=e.maxFrames;var i;var s;while((s=r[0])&&s.delay<=n){r.shift();this.frame=s.delay;if(i=s.execute(s.state,s.delay)){break}}if(i){while(s=r.shift()){s.unsubscribe()}throw i}};VirtualTimeScheduler.frameTimeFactor=10;return VirtualTimeScheduler}(u.AsyncScheduler);r.VirtualTimeScheduler=f;var p=function(e){i(VirtualAction,e);function VirtualAction(r,n,i){if(i===void 0){i=r.index+=1}var s=e.call(this,r,n)||this;s.scheduler=r;s.work=n;s.index=i;s.active=true;s.index=r.index=i;return s}VirtualAction.prototype.schedule=function(r,n){if(n===void 0){n=0}if(Number.isFinite(n)){if(!this.id){return e.prototype.schedule.call(this,r,n)}this.active=false;var i=new VirtualAction(this.scheduler,this.work);this.add(i);return i.schedule(r,n)}else{return o.Subscription.EMPTY}};VirtualAction.prototype.requestAsyncId=function(e,r,n){if(n===void 0){n=0}this.delay=e.frame+n;var i=e.actions;i.push(this);i.sort(VirtualAction.sortActions);return 1};VirtualAction.prototype.recycleAsyncId=function(e,r,n){if(n===void 0){n=0}return undefined};VirtualAction.prototype._execute=function(r,n){if(this.active===true){return e.prototype._execute.call(this,r,n)}};VirtualAction.sortActions=function(e,r){if(e.delay===r.delay){if(e.index===r.index){return 0}else if(e.index>r.index){return 1}else{return-1}}else if(e.delay>r.delay){return 1}else{return-1}};return VirtualAction}(s.AsyncAction);r.VirtualAction=p},56212:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.animationFrame=r.animationFrameScheduler=void 0;var i=n(20710);var s=n(55347);r.animationFrameScheduler=new s.AnimationFrameScheduler(i.AnimationFrameAction);r.animationFrame=r.animationFrameScheduler},59409:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.animationFrameProvider=void 0;var o=n(96572);r.animationFrameProvider={schedule:function(e){var n=requestAnimationFrame;var i=cancelAnimationFrame;var s=r.animationFrameProvider.delegate;if(s){n=s.requestAnimationFrame;i=s.cancelAnimationFrame}var u=n((function(r){i=undefined;e(r)}));return new o.Subscription((function(){return i===null||i===void 0?void 0:i(u)}))},requestAnimationFrame:function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}var o=r.animationFrameProvider.delegate;return((o===null||o===void 0?void 0:o.requestAnimationFrame)||requestAnimationFrame).apply(void 0,s([],i(e)))},cancelAnimationFrame:function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}var o=r.animationFrameProvider.delegate;return((o===null||o===void 0?void 0:o.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,s([],i(e)))},delegate:undefined}},26234:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.asap=r.asapScheduler=void 0;var i=n(71968);var s=n(22817);r.asapScheduler=new s.AsapScheduler(i.AsapAction);r.asap=r.asapScheduler},52803:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.async=r.asyncScheduler=void 0;var i=n(39585);var s=n(75346);r.asyncScheduler=new s.AsyncScheduler(i.AsyncAction);r.async=r.asyncScheduler},77610:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.dateTimestampProvider=void 0;r.dateTimestampProvider={now:function(){return(r.dateTimestampProvider.delegate||Date).now()},delegate:undefined}},58275:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.immediateProvider=void 0;var o=n(8171);var u=o.Immediate.setImmediate,f=o.Immediate.clearImmediate;r.immediateProvider={setImmediate:function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}var o=r.immediateProvider.delegate;return((o===null||o===void 0?void 0:o.setImmediate)||u).apply(void 0,s([],i(e)))},clearImmediate:function(e){var n=r.immediateProvider.delegate;return((n===null||n===void 0?void 0:n.clearImmediate)||f)(e)},delegate:undefined}},21343:function(e,r){"use strict";var n=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var i=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.intervalProvider=void 0;r.intervalProvider={setInterval:function(e,s){var o=[];for(var u=2;u<arguments.length;u++){o[u-2]=arguments[u]}var f=r.intervalProvider.delegate;if(f===null||f===void 0?void 0:f.setInterval){return f.setInterval.apply(f,i([e,s],n(o)))}return setInterval.apply(void 0,i([e,s],n(o)))},clearInterval:function(e){var n=r.intervalProvider.delegate;return((n===null||n===void 0?void 0:n.clearInterval)||clearInterval)(e)},delegate:undefined}},23488:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.performanceTimestampProvider=void 0;r.performanceTimestampProvider={now:function(){return(r.performanceTimestampProvider.delegate||performance).now()},delegate:undefined}},55260:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.queue=r.queueScheduler=void 0;var i=n(7326);var s=n(5067);r.queueScheduler=new s.QueueScheduler(i.QueueAction);r.queue=r.queueScheduler},39605:function(e,r){"use strict";var n=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var i=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.timeoutProvider=void 0;r.timeoutProvider={setTimeout:function(e,s){var o=[];for(var u=2;u<arguments.length;u++){o[u-2]=arguments[u]}var f=r.timeoutProvider.delegate;if(f===null||f===void 0?void 0:f.setTimeout){return f.setTimeout.apply(f,i([e,s],n(o)))}return setTimeout.apply(void 0,i([e,s],n(o)))},clearTimeout:function(e){var n=r.timeoutProvider.delegate;return((n===null||n===void 0?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:undefined}},63870:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.iterator=r.getSymbolIterator=void 0;function getSymbolIterator(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}r.getSymbolIterator=getSymbolIterator;r.iterator=getSymbolIterator()},69117:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.observable=void 0;r.observable=function(){return typeof Symbol==="function"&&Symbol.observable||"@@observable"}()},6632:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true})},38475:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ArgumentOutOfRangeError=void 0;var i=n(39430);r.ArgumentOutOfRangeError=i.createErrorClass((function(e){return function ArgumentOutOfRangeErrorImpl(){e(this);this.name="ArgumentOutOfRangeError";this.message="argument out of range"}}))},38865:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.EmptyError=void 0;var i=n(39430);r.EmptyError=i.createErrorClass((function(e){return function EmptyErrorImpl(){e(this);this.name="EmptyError";this.message="no elements in sequence"}}))},8171:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TestTools=r.Immediate=void 0;var n=1;var i;var s={};function findAndClearHandle(e){if(e in s){delete s[e];return true}return false}r.Immediate={setImmediate:function(e){var r=n++;s[r]=true;if(!i){i=Promise.resolve()}i.then((function(){return findAndClearHandle(r)&&e()}));return r},clearImmediate:function(e){findAndClearHandle(e)}};r.TestTools={pending:function(){return Object.keys(s).length}}},76633:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NotFoundError=void 0;var i=n(39430);r.NotFoundError=i.createErrorClass((function(e){return function NotFoundErrorImpl(r){e(this);this.name="NotFoundError";this.message=r}}))},61440:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ObjectUnsubscribedError=void 0;var i=n(39430);r.ObjectUnsubscribedError=i.createErrorClass((function(e){return function ObjectUnsubscribedErrorImpl(){e(this);this.name="ObjectUnsubscribedError";this.message="object unsubscribed"}}))},89763:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SequenceError=void 0;var i=n(39430);r.SequenceError=i.createErrorClass((function(e){return function SequenceErrorImpl(r){e(this);this.name="SequenceError";this.message=r}}))},16866:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.UnsubscriptionError=void 0;var i=n(39430);r.UnsubscriptionError=i.createErrorClass((function(e){return function UnsubscriptionErrorImpl(r){e(this);this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map((function(e,r){return r+1+") "+e.toString()})).join("\n  "):"";this.name="UnsubscriptionError";this.errors=r}}))},78961:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.popNumber=r.popScheduler=r.popResultSelector=void 0;var i=n(88700);var s=n(13483);function last(e){return e[e.length-1]}function popResultSelector(e){return i.isFunction(last(e))?e.pop():undefined}r.popResultSelector=popResultSelector;function popScheduler(e){return s.isScheduler(last(e))?e.pop():undefined}r.popScheduler=popScheduler;function popNumber(e,r){return typeof last(e)==="number"?e.pop():r}r.popNumber=popNumber},46590:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.argsArgArrayOrObject=void 0;var n=Array.isArray;var i=Object.getPrototypeOf,s=Object.prototype,o=Object.keys;function argsArgArrayOrObject(e){if(e.length===1){var r=e[0];if(n(r)){return{args:r,keys:null}}if(isPOJO(r)){var i=o(r);return{args:i.map((function(e){return r[e]})),keys:i}}}return{args:e,keys:null}}r.argsArgArrayOrObject=argsArgArrayOrObject;function isPOJO(e){return e&&typeof e==="object"&&i(e)===s}},37477:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.argsOrArgArray=void 0;var n=Array.isArray;function argsOrArgArray(e){return e.length===1&&n(e[0])?e[0]:e}r.argsOrArgArray=argsOrArgArray},4417:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.arrRemove=void 0;function arrRemove(e,r){if(e){var n=e.indexOf(r);0<=n&&e.splice(n,1)}}r.arrRemove=arrRemove},39430:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createErrorClass=void 0;function createErrorClass(e){var _super=function(e){Error.call(e);e.stack=(new Error).stack};var r=e(_super);r.prototype=Object.create(Error.prototype);r.prototype.constructor=r;return r}r.createErrorClass=createErrorClass},17791:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createObject=void 0;function createObject(e,r){return e.reduce((function(e,n,i){return e[n]=r[i],e}),{})}r.createObject=createObject},29877:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.captureError=r.errorContext=void 0;var i=n(60251);var s=null;function errorContext(e){if(i.config.useDeprecatedSynchronousErrorHandling){var r=!s;if(r){s={errorThrown:false,error:null}}e();if(r){var n=s,o=n.errorThrown,u=n.error;s=null;if(o){throw u}}}else{e()}}r.errorContext=errorContext;function captureError(e){if(i.config.useDeprecatedSynchronousErrorHandling&&s){s.errorThrown=true;s.error=e}}r.captureError=captureError},76648:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.executeSchedule=void 0;function executeSchedule(e,r,n,i,s){if(i===void 0){i=0}if(s===void 0){s=false}var o=r.schedule((function(){n();if(s){e.add(this.schedule(null,i))}else{this.unsubscribe()}}),i);e.add(o);if(!s){return o}}r.executeSchedule=executeSchedule},75742:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.identity=void 0;function identity(e){return e}r.identity=identity},43956:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isArrayLike=void 0;r.isArrayLike=function(e){return e&&typeof e.length==="number"&&typeof e!=="function"}},27052:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isAsyncIterable=void 0;var i=n(88700);function isAsyncIterable(e){return Symbol.asyncIterator&&i.isFunction(e===null||e===void 0?void 0:e[Symbol.asyncIterator])}r.isAsyncIterable=isAsyncIterable},90168:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isValidDate=void 0;function isValidDate(e){return e instanceof Date&&!isNaN(e)}r.isValidDate=isValidDate},88700:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isFunction=void 0;function isFunction(e){return typeof e==="function"}r.isFunction=isFunction},18274:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isInteropObservable=void 0;var i=n(69117);var s=n(88700);function isInteropObservable(e){return s.isFunction(e[i.observable])}r.isInteropObservable=isInteropObservable},84406:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isIterable=void 0;var i=n(63870);var s=n(88700);function isIterable(e){return s.isFunction(e===null||e===void 0?void 0:e[i.iterator])}r.isIterable=isIterable},19445:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isObservable=void 0;var i=n(69120);var s=n(88700);function isObservable(e){return!!e&&(e instanceof i.Observable||s.isFunction(e.lift)&&s.isFunction(e.subscribe))}r.isObservable=isObservable},47555:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isPromise=void 0;var i=n(88700);function isPromise(e){return i.isFunction(e===null||e===void 0?void 0:e.then)}r.isPromise=isPromise},27707:function(e,r,n){"use strict";var i=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,u;return u={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function verb(e){return function(r){return step([e,r])}}function step(u){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(o=u[0]&2?s["return"]:u[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;if(s=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:n.label++;return{value:u[1],done:false};case 5:n.label++;s=u[1];u=[0];continue;case 7:u=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1];o=u;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(u);break}if(o[2])n.ops.pop();n.trys.pop();continue}u=r.call(e,n)}catch(e){u=[6,e];s=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var s=this&&this.__await||function(e){return this instanceof s?(this.v=e,this):new s(e)};var o=this&&this.__asyncGenerator||function(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,r||[]),o,u=[];return o={},verb("next"),verb("throw"),verb("return"),o[Symbol.asyncIterator]=function(){return this},o;function verb(e){if(i[e])o[e]=function(r){return new Promise((function(n,i){u.push([e,r,n,i])>1||resume(e,r)}))}}function resume(e,r){try{step(i[e](r))}catch(e){settle(u[0][3],e)}}function step(e){e.value instanceof s?Promise.resolve(e.value.v).then(fulfill,reject):settle(u[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,r){if(e(r),u.shift(),u.length)resume(u[0][0],u[0][1])}};Object.defineProperty(r,"__esModule",{value:true});r.isReadableStreamLike=r.readableStreamLikeToAsyncGenerator=void 0;var u=n(88700);function readableStreamLikeToAsyncGenerator(e){return o(this,arguments,(function readableStreamLikeToAsyncGenerator_1(){var r,n,o,u;return i(this,(function(i){switch(i.label){case 0:r=e.getReader();i.label=1;case 1:i.trys.push([1,,9,10]);i.label=2;case 2:if(false){}return[4,s(r.read())];case 3:n=i.sent(),o=n.value,u=n.done;if(!u)return[3,5];return[4,s(void 0)];case 4:return[2,i.sent()];case 5:return[4,s(o)];case 6:return[4,i.sent()];case 7:i.sent();return[3,2];case 8:return[3,10];case 9:r.releaseLock();return[7];case 10:return[2]}}))}))}r.readableStreamLikeToAsyncGenerator=readableStreamLikeToAsyncGenerator;function isReadableStreamLike(e){return u.isFunction(e===null||e===void 0?void 0:e.getReader)}r.isReadableStreamLike=isReadableStreamLike},13483:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isScheduler=void 0;var i=n(88700);function isScheduler(e){return e&&i.isFunction(e.schedule)}r.isScheduler=isScheduler},67177:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.operate=r.hasLift=void 0;var i=n(88700);function hasLift(e){return i.isFunction(e===null||e===void 0?void 0:e.lift)}r.hasLift=hasLift;function operate(e){return function(r){if(hasLift(r)){return r.lift((function(r){try{return e(r,this)}catch(e){this.error(e)}}))}throw new TypeError("Unable to lift unknown Observable type")}}r.operate=operate},12437:function(e,r,n){"use strict";var i=this&&this.__read||function(e,r){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{while((r===void 0||r-- >0)&&!(s=i.next()).done)o.push(s.value)}catch(e){u={error:e}}finally{try{if(s&&!s.done&&(n=i["return"]))n.call(i)}finally{if(u)throw u.error}}return o};var s=this&&this.__spreadArray||function(e,r){for(var n=0,i=r.length,s=e.length;n<i;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:true});r.mapOneOrManyArgs=void 0;var o=n(26941);var u=Array.isArray;function callOrApply(e,r){return u(r)?e.apply(void 0,s([],i(r))):e(r)}function mapOneOrManyArgs(e){return o.map((function(r){return callOrApply(e,r)}))}r.mapOneOrManyArgs=mapOneOrManyArgs},38892:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.noop=void 0;function noop(){}r.noop=noop},14115:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.not=void 0;function not(e,r){return function(n,i){return!e.call(r,n,i)}}r.not=not},61132:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.pipeFromArray=r.pipe=void 0;var i=n(75742);function pipe(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return pipeFromArray(e)}r.pipe=pipe;function pipeFromArray(e){if(e.length===0){return i.identity}if(e.length===1){return e[0]}return function piped(r){return e.reduce((function(e,r){return r(e)}),r)}}r.pipeFromArray=pipeFromArray},55777:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.reportUnhandledError=void 0;var i=n(60251);var s=n(39605);function reportUnhandledError(e){s.timeoutProvider.setTimeout((function(){var r=i.config.onUnhandledError;if(r){r(e)}else{throw e}}))}r.reportUnhandledError=reportUnhandledError},41320:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createInvalidObservableTypeError=void 0;function createInvalidObservableTypeError(e){return new TypeError("You provided "+(e!==null&&typeof e==="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}r.createInvalidObservableTypeError=createInvalidObservableTypeError},56912:(e,r,n)=>{var i=n(20181);var s=i.Buffer;function copyProps(e,r){for(var n in e){r[n]=e[n]}}if(s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow){e.exports=i}else{copyProps(i,r);r.Buffer=SafeBuffer}function SafeBuffer(e,r,n){return s(e,r,n)}copyProps(s,SafeBuffer);SafeBuffer.from=function(e,r,n){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return s(e,r,n)};SafeBuffer.alloc=function(e,r,n){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var i=s(e);if(r!==undefined){if(typeof n==="string"){i.fill(r,n)}else{i.fill(r)}}else{i.fill(0)}return i};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return s(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i.SlowBuffer(e)}},53476:(e,r,n)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(20181);var s=i.Buffer;function copyProps(e,r){for(var n in e){r[n]=e[n]}}if(s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow){e.exports=i}else{copyProps(i,r);r.Buffer=SafeBuffer}function SafeBuffer(e,r,n){return s(e,r,n)}SafeBuffer.prototype=Object.create(s.prototype);copyProps(s,SafeBuffer);SafeBuffer.from=function(e,r,n){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return s(e,r,n)};SafeBuffer.alloc=function(e,r,n){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var i=s(e);if(r!==undefined){if(typeof n==="string"){i.fill(r,n)}else{i.fill(r)}}else{i.fill(0)}return i};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return s(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i.SlowBuffer(e)}},39392:(e,r,n)=>{"use strict";var i=n(20181);var s=i.Buffer;var o={};var u;for(u in i){if(!i.hasOwnProperty(u))continue;if(u==="SlowBuffer"||u==="Buffer")continue;o[u]=i[u]}var f=o.Buffer={};for(u in s){if(!s.hasOwnProperty(u))continue;if(u==="allocUnsafe"||u==="allocUnsafeSlow")continue;f[u]=s[u]}o.Buffer.prototype=s.prototype;if(!f.from||f.from===Uint8Array.from){f.from=function(e,r,n){if(typeof e==="number"){throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e)}if(e&&typeof e.length==="undefined"){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}return s(e,r,n)}}if(!f.alloc){f.alloc=function(e,r,n){if(typeof e!=="number"){throw new TypeError('The "size" argument must be of type number. Received type '+typeof e)}if(e<0||e>=2*(1<<30)){throw new RangeError('The value "'+e+'" is invalid for option "size"')}var i=s(e);if(!r||r.length===0){i.fill(0)}else if(typeof n==="string"){i.fill(r,n)}else{i.fill(r)}return i}}if(!o.kStringMaxLength){try{o.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}}if(!o.constants){o.constants={MAX_LENGTH:o.kMaxLength};if(o.kStringMaxLength){o.constants.MAX_STRING_LENGTH=o.kStringMaxLength}}e.exports=o},99511:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.wcswidth=r.wcwidth=void 0;const s=i(n(90525));r.wcswidth=s.default;const o=i(n(45152));r.wcwidth=o.default},51810:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});const bisearch=(e,r,n)=>{let i=0;let s;let o=n;if(e<r[0].first||e>r[o].last)return 0;while(o>=i){s=Math.floor((i+o)/2);if(e>r[s].last){i=s+1}else if(e<r[s].first){o=s-1}else{return 1}}return 0};r["default"]=bisearch},26261:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});const n=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}];r["default"]=n},90525:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});const s=i(n(45152));const mk_wcswidth=e=>{let r=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);const o=s.default(i);if(o<0){return-1}r+=o}return r};r["default"]=mk_wcswidth},45152:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});const s=i(n(26261));const o=i(n(51810));const mk_wcwidth=e=>{if(e===0){return 0}if(e<32||e>=127&&e<160){return-1}if(o.default(e,s.default,s.default.length-1)){return 0}return 1+Number(e>=4352&&(e<=4447||e===9001||e===9002||e>=11904&&e<=42191&&e!==12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))};r["default"]=mk_wcwidth},50615:(e,r,n)=>{"use strict";const{Duplex:i,Readable:s,Writable:o}=n(2203);const{CHANNEL_EXTENDED_DATATYPE:{STDERR:u}}=n(840);const{bufferSlice:f}=n(67532);const p=32*1024;const g=2*1024*1024;const b=g/2;class ClientStderr extends s{constructor(e,r){super(r);this._channel=e}_read(e){if(this._channel._waitChanDrain){this._channel._waitChanDrain=false;if(this._channel.incoming.window<=b)windowAdjust(this._channel)}}}class ServerStderr extends o{constructor(e){super({highWaterMark:g});this._channel=e}_write(e,r,n){const i=this._channel;const s=i._client._protocol;const o=i.outgoing;const p=o.packetSize;const g=o.id;let b=o.window;const _=e.length;let v=0;if(o.state!=="open")return;while(_-v>0&&b>0){let r=_-v;if(r>b)r=b;if(r>p)r=p;if(v===0&&r===_)s.channelExtData(g,e,u);else s.channelExtData(g,f(e,v,v+r),u);v+=r;b-=r}o.window=b;if(_-v>0){if(b===0)i._waitWindow=true;if(v>0)i._chunkErr=f(e,v,_);else i._chunkErr=e;i._chunkcbErr=n;return}n()}}class Channel extends i{constructor(e,r,n){const i={highWaterMark:g,allowHalfOpen:!n||n&&n.allowHalfOpen!==false,emitClose:false};super(i);this.allowHalfOpen=i.allowHalfOpen;const s=!!(n&&n.server);this.server=s;this.type=r.type;this.subtype=undefined;this.incoming=r.incoming;this.outgoing=r.outgoing;this._callbacks=[];this._client=e;this._hasX11=false;this._exit={code:undefined,signal:undefined,dump:undefined,desc:undefined};this.stdin=this.stdout=this;if(s)this.stderr=new ServerStderr(this);else this.stderr=new ClientStderr(this,i);this._waitWindow=false;this._waitChanDrain=false;this._chunk=undefined;this._chunkcb=undefined;this._chunkErr=undefined;this._chunkcbErr=undefined;this.on("finish",onFinish).on("prefinish",onFinish);this.on("end",onEnd).on("close",onEnd)}_read(e){if(this._waitChanDrain){this._waitChanDrain=false;if(this.incoming.window<=b)windowAdjust(this)}}_write(e,r,n){const i=this._client._protocol;const s=this.outgoing;const o=s.packetSize;const u=s.id;let p=s.window;const g=e.length;let b=0;if(s.state!=="open")return;while(g-b>0&&p>0){let r=g-b;if(r>p)r=p;if(r>o)r=o;if(b===0&&r===g)i.channelData(u,e);else i.channelData(u,f(e,b,b+r));b+=r;p-=r}s.window=p;if(g-b>0){if(p===0)this._waitWindow=true;if(b>0)this._chunk=f(e,b,g);else this._chunk=e;this._chunkcb=n;return}n()}eof(){if(this.outgoing.state==="open"){this.outgoing.state="eof";this._client._protocol.channelEOF(this.outgoing.id)}}close(){if(this.outgoing.state==="open"||this.outgoing.state==="eof"){this.outgoing.state="closing";this._client._protocol.channelClose(this.outgoing.id)}}destroy(){this.end();this.close();return this}setWindow(e,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");if(this.type==="session"&&(this.subtype==="shell"||this.subtype==="exec")&&this.writable&&this.outgoing.state==="open"){this._client._protocol.windowChange(this.outgoing.id,e,r,n,i)}}signal(e){if(this.server)throw new Error("Client-only method called in server mode");if(this.type==="session"&&this.writable&&this.outgoing.state==="open"){this._client._protocol.signal(this.outgoing.id,e)}}exit(e,r,n){if(!this.server)throw new Error("Server-only method called in client mode");if(this.type==="session"&&this.writable&&this.outgoing.state==="open"){if(typeof e==="number"){this._client._protocol.exitStatus(this.outgoing.id,e)}else{this._client._protocol.exitSignal(this.outgoing.id,e,r,n)}}}}function onFinish(){this.eof();if(this.server||!this.allowHalfOpen)this.close();this.writable=false}function onEnd(){this.readable=false}function windowAdjust(e){if(e.outgoing.state==="closed")return;const r=g-e.incoming.window;if(r<=0)return;e.incoming.window+=r;e._client._protocol.channelWindowAdjust(e.outgoing.id,r)}e.exports={Channel:Channel,MAX_WINDOW:g,PACKET_SIZE:p,windowAdjust:windowAdjust,WINDOW_THRESHOLD:b}},43005:(e,r,n)=>{"use strict";const{Socket:i}=n(69278);const{Duplex:s}=n(2203);const{resolve:o}=n(16928);const{readFile:u}=n(79896);const{execFile:f,spawn:p}=n(35317);const{isParsedKey:g,parseKey:b}=n(41177);const{makeBufferParser:_,readUInt32BE:v,writeUInt32BE:w,writeUInt32LE:I}=n(67532);function once(e){let r=false;return(...n)=>{if(r)return;r=true;e(...n)}}function concat(e,r){const n=Buffer.allocUnsafe(e.length+r.length);e.copy(n,0);r.copy(n,e.length);return n}function noop(){}const k=Buffer.alloc(0);const C=_();class BaseAgent{getIdentities(e){e(new Error("Missing getIdentities() implementation"))}sign(e,r,n,i){if(typeof n==="function")i=n;i(new Error("Missing sign() implementation"))}}class OpenSSHAgent extends BaseAgent{constructor(e){super();this.socketPath=e}getStream(e){e=once(e);const r=new i;r.on("connect",(()=>{e(null,r)}));r.on("close",onFail).on("end",onFail).on("error",onFail);r.connect(this.socketPath);function onFail(){try{r.destroy()}catch{}e(new Error("Failed to connect to agent"))}}getIdentities(e){e=once(e);this.getStream(((r,n)=>{function onFail(r){if(n){try{n.destroy()}catch{}}if(!r)r=new Error("Failed to retrieve identities from agent");e(r)}if(r)return onFail(r);const i=new P(true);i.on("error",onFail);i.pipe(n).pipe(i);n.on("close",onFail).on("end",onFail).on("error",onFail);i.getIdentities(((r,i)=>{if(r)return onFail(r);try{n.destroy()}catch{}e(null,i)}))}))}sign(e,r,n,i){if(typeof n==="function"){i=n;n=undefined}else if(typeof n!=="object"||n===null){n=undefined}i=once(i);this.getStream(((s,o)=>{function onFail(e){if(o){try{o.destroy()}catch{}}if(!e)e=new Error("Failed to sign data with agent");i(e)}if(s)return onFail(s);const u=new P(true);u.on("error",onFail);u.pipe(o).pipe(u);o.on("close",onFail).on("end",onFail).on("error",onFail);u.sign(e,r,n,((e,r)=>{if(e)return onFail(e);try{o.destroy()}catch{}i(null,r)}))}))}}const R=(()=>{const e=10;const r=11;const i=12;const o=13;const u=14;const f=15;const g=n.ab+"pagent.exe";const b={[e]:new Error("Invalid pagent.exe arguments"),[r]:new Error("Pageant is not running"),[i]:new Error("pagent.exe could not create an mmap"),[o]:new Error("pagent.exe could not set mode for stdin"),[u]:new Error("pagent.exe could not set mode for stdout"),[f]:new Error("pagent.exe did not get expected input payload")};function destroy(e){e.buffer=null;if(e.proc){e.proc.kill();e.proc=undefined}}class PageantSocket extends s{constructor(){super();this.proc=undefined;this.buffer=null}_read(e){}_write(e,r,i){if(this.buffer===null){this.buffer=e}else{const r=Buffer.allocUnsafe(this.buffer.length+e.length);this.buffer.copy(r,0);e.copy(r,this.buffer.length);this.buffer=r}if(this.buffer.length<4)return i();const s=v(this.buffer,0);if(this.buffer.length-4<s)return i();e=this.buffer.slice(0,4+s);if(this.buffer.length>4+s)return i(new Error("Unexpected multiple agent requests"));this.buffer=null;let o;const u=this.proc=p(n.ab+"pagent.exe",[e.length]);u.stdout.on("data",(e=>{this.push(e)}));u.on("error",(e=>{o=e;i(o)}));u.on("close",(e=>{this.proc=undefined;if(!o){if(o=b[e])return i(o);i()}}));u.stdin.end(e)}_final(e){destroy(this);e()}_destroy(e,r){destroy(this);r()}}return class PageantAgent extends OpenSSHAgent{getStream(e){e(null,new PageantSocket)}}})();const T=(()=>{const e=/^!<socket >(\d+) s ([A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8})/;return class CygwinAgent extends OpenSSHAgent{getStream(r){r=once(r);let n=this.socketPath;let s=false;u(n,(function readCygsocket(o,p){if(o){if(s)return r(new Error("Invalid cygwin unix socket path"));f("cygpath",["-w",n],((e,i,o)=>{if(e||i.length===0)return r(new Error("Invalid cygwin unix socket path"));s=true;n=i.toString().replace(/[\r\n]/g,"");u(n,readCygsocket)}));return}const g=e.exec(p.toString("ascii"));if(!g)return r(new Error("Malformed cygwin unix socket file"));let b;let _=0;let w=false;const k=[];let C;let R=Buffer.alloc(12);const T=parseInt(g[1],10);const x=g[2].replace(/-/g,"");const P=Buffer.allocUnsafe(16);for(let e=0,r=0;r<32;++e,r+=2)P[e]=parseInt(x.substring(r,r+2),16);for(let e=0;e<16;e+=4)I(P,v(P,e),e);tryConnect();function _onconnect(){_=0;b="secret";C.write(P)}function _ondata(e){_+=e.length;if(b==="secret"){if(_===16){_=0;b="creds";C.write(R)}return}if(b==="creds"){if(!w)k.push(e);if(_===12){C.removeListener("connect",_onconnect);C.removeListener("data",_ondata);C.removeListener("error",onFail);C.removeListener("end",onFail);C.removeListener("close",onFail);if(w)return r(null,C);w=true;R=Buffer.concat(k);I(R,process.pid,0);C.on("error",(()=>{}));C.destroy();tryConnect()}}}function onFail(){r(new Error("Problem negotiating cygwin unix socket security"))}function tryConnect(){C=new i;C.on("connect",_onconnect);C.on("data",_ondata);C.on("error",onFail);C.on("end",onFail);C.on("close",onFail);C.connect(T)}}))}}})();const x=/^[/\\][/\\]\.[/\\]pipe[/\\].+/;function createAgent(e){if(process.platform==="win32"&&!x.test(e)){return e==="pageant"?new R:new T(e)}return new OpenSSHAgent(e)}const P=(()=>{const e=11;const r=13;const n=5;const i=12;const o=14;const u=1<<1;const f=1<<2;const p=0;const _=1;function processResponses(e){let r;while(e[x].length){const n=e[x][0][R];if(n===undefined)break;e[x].shift();r=e.push(n)}return r}const I=Symbol("Inbound Request Type");const R=Symbol("Inbound Request Response");const T=Symbol("Inbound Request Context");class AgentInboundRequest{constructor(e,r){this[I]=e;this[R]=undefined;this[T]=r}hasResponded(){return this[R]!==undefined}getType(){return this[I]}getContext(){return this[T]}}function respond(e,r,n){r[R]=n;return processResponses(e)}function cleanup(e){e[B]=null;if(e[P]===p){const r=e[x];if(r&&r.length){e[x]=[];for(const e of r)e.cb(new Error("No reply from server"))}}try{e.end()}catch{}setImmediate((()=>{if(!e[j])e.emit("end");if(!e[U])e.emit("close")}))}function onClose(){this[U]=true}function onEnd(){this[j]=true}const x=Symbol("Requests");const P=Symbol("Agent Protocol Role");const B=Symbol("Agent Protocol Buffer");const L=Symbol("Agent Protocol Current Message Length");const U=Symbol("Agent Protocol Closed");const j=Symbol("Agent Protocol Ended");return class AgentProtocol extends s{constructor(e){super({autoDestroy:true,emitClose:false});this[P]=e?p:_;this[x]=[];this[B]=null;this[L]=-1;this.once("end",onEnd);this.once("close",onClose)}_read(e){}_write(s,g,_){if(this[B]===null)this[B]=s;else this[B]=concat(this[B],s);let w=this[B];let I=w.length;let k=0;while(k<I){if(I<5)break;if(this[L]===-1)this[L]=v(w,k);if(I<4+this[L])break;const s=w[k+=4];++k;if(this[P]===p){if(this[x].length===0)return _(new Error("Received unexpected message from server"));const u=this[x].shift();switch(s){case n:u.cb(new Error("Agent responded with failure"));break;case i:{if(u.type!==e)return _(new Error("Agent responded with wrong message type"));C.init(w,k);const r=C.readUInt32BE();if(r===undefined){C.clear();return _(new Error("Malformed agent response"))}const n=[];for(let e=0;e<r;++e){let e=C.readString();if(e===undefined){C.clear();return _(new Error("Malformed agent response"))}const r=C.readString(true);if(r===undefined){C.clear();return _(new Error("Malformed agent response"))}e=b(e);if(e instanceof Error)continue;e.comment=e.comment||r;n.push(e)}k=C.pos();C.clear();u.cb(null,n);break}case o:{if(u.type!==r)return _(new Error("Agent responded with wrong message type"));C.init(w,k);let e=C.readString();k=C.pos();C.clear();if(e===undefined)return _(new Error("Malformed agent response"));C.init(e,0);C.readString(true);e=C.readString();C.clear();if(e===undefined)return _(new Error("Malformed OpenSSH signature format"));u.cb(null,e);break}default:return _(new Error("Agent responded with unsupported message type"))}}else{switch(s){case e:{const e=new AgentInboundRequest(s);this[x].push(e);this.emit("identities",e);break}case r:{C.init(w,k);let e=C.readString();const r=C.readString();const n=C.readUInt32BE();k=C.pos();C.clear();if(n===undefined){const e=new AgentInboundRequest(s);this[x].push(e);return this.failureReply(e)}e=b(e);if(e instanceof Error){const e=new AgentInboundRequest(s);this[x].push(e);return this.failureReply(e)}const i={hash:undefined};let o;if(e.type==="ssh-rsa"){if(n&u){o="rsa-sha2-256";i.hash="sha256"}else if(n&f){o="rsa-sha2-512";i.hash="sha512"}}if(o===undefined)o=e.type;const p=new AgentInboundRequest(s,o);this[x].push(p);this.emit("sign",p,e,r,i);break}default:{const e=new AgentInboundRequest(s);this[x].push(e);this.failureReply(e)}}}this[L]=-1;if(k===I){this[B]=null;break}else{this[B]=w=w.slice(k);I=w.length;k=0}}_()}_destroy(e,r){cleanup(this);r()}_final(e){cleanup(this);e()}sign(e,n,i,s){if(this[P]!==p)throw new Error("Client-only method called with server role");if(typeof i==="function"){s=i;i=undefined}else if(typeof i!=="object"||i===null){i=undefined}let o=0;e=b(e);if(e instanceof Error)throw new Error("Invalid public key argument");if(e.type==="ssh-rsa"&&i){switch(i.hash){case"sha256":o=u;break;case"sha512":o=f;break}}e=e.getPublicSSH();const g=r;const _=e.length;const v=n.length;let I=0;const k=Buffer.allocUnsafe(4+1+4+_+4+v+4);w(k,k.length-4,I);k[I+=4]=g;w(k,_,++I);e.copy(k,I+=4);w(k,v,I+=_);n.copy(k,I+=4);w(k,o,I+=v);if(typeof s!=="function")s=noop;this[x].push({type:g,cb:s});return this.push(k)}getIdentities(r){if(this[P]!==p)throw new Error("Client-only method called with server role");const n=e;let i=0;const s=Buffer.allocUnsafe(4+1);w(s,s.length-4,i);s[i+=4]=n;if(typeof r!=="function")r=noop;this[x].push({type:n,cb:r});return this.push(s)}failureReply(e){if(this[P]!==_)throw new Error("Server-only method called with client role");if(!(e instanceof AgentInboundRequest))throw new Error("Wrong request argument");if(e.hasResponded())return true;let r=0;const i=Buffer.allocUnsafe(4+1);w(i,i.length-4,r);i[r+=4]=n;return respond(this,e,i)}getIdentitiesReply(r,n){if(this[P]!==_)throw new Error("Server-only method called with client role");if(!(r instanceof AgentInboundRequest))throw new Error("Wrong request argument");if(r.hasResponded())return true;if(r.getType()!==e)throw new Error("Invalid response to request");if(!Array.isArray(n))throw new Error("Keys argument must be an array");let s=4;const o=[];for(let e=0;e<n.length;++e){const r=n[e];if(typeof r!=="object"||r===null)throw new Error(`Invalid key entry: ${r}`);let i;let u;if(g(r)){i=r}else if(g(r.pubKey)){i=r.pubKey}else{if(typeof r.pubKey!=="object"||r.pubKey===null)continue;({pubKey:i,comment:u}=r.pubKey);i=b(i);if(i instanceof Error)continue}u=i.comment||u;i=i.getPublicSSH();s+=4+i.length;if(u&&typeof u==="string")u=Buffer.from(u);else if(!Buffer.isBuffer(u))u=k;s+=4+u.length;o.push({pubKey:i,comment:u})}let u=0;const f=Buffer.allocUnsafe(4+1+s);w(f,f.length-4,u);f[u+=4]=i;w(f,o.length,++u);u+=4;for(let e=0;e<o.length;++e){const{pubKey:r,comment:n}=o[e];w(f,r.length,u);r.copy(f,u+=4);w(f,n.length,u+=r.length);u+=4;if(n.length){n.copy(f,u);u+=n.length}}return respond(this,r,f)}signReply(e,n){if(this[P]!==_)throw new Error("Server-only method called with client role");if(!(e instanceof AgentInboundRequest))throw new Error("Wrong request argument");if(e.hasResponded())return true;if(e.getType()!==r)throw new Error("Invalid response to request");if(!Buffer.isBuffer(n))throw new Error("Signature argument must be a Buffer");if(n.length===0)throw new Error("Signature argument must be non-empty");let i=0;const s=e.getContext();const u=Buffer.byteLength(s);const f=Buffer.allocUnsafe(4+1+4+4+u+4+n.length);w(f,f.length-4,i);f[i+=4]=o;w(f,4+u+4+n.length,++i);w(f,u,i+=4);f.utf8Write(s,i+=4,u);w(f,n.length,i+=u);n.copy(f,i+=4);return respond(this,e,f)}}})();const B=Symbol("Agent");const L=Symbol("Agent Keys");const U=Symbol("Agent Keys Index");const j=Symbol("Agent Init Callbacks");class AgentContext{constructor(e){if(typeof e==="string")e=createAgent(e);else if(!isAgent(e))throw new Error("Invalid agent argument");this[B]=e;this[L]=null;this[U]=-1;this[j]=null}init(e){if(typeof e!=="function")e=noop;if(this[L]===null){if(this[j]===null){this[j]=[e];const doCbs=(...e)=>{process.nextTick((()=>{const r=this[j];this[j]=null;for(const n of r)n(...e)}))};this[B].getIdentities(once(((e,r)=>{if(e)return doCbs(e);if(!Array.isArray(r)){return doCbs(new Error("Agent implementation failed to provide keys"))}const n=[];for(let e of r){e=b(e);if(e instanceof Error){continue}n.push(e)}this[L]=n;this[U]=-1;doCbs()})))}else{this[j].push(e)}}else{process.nextTick(e)}}nextKey(){if(this[L]===null||++this[U]>=this[L].length){return false}return this[L][this[U]]}currentKey(){if(this[L]===null||this[U]>=this[L].length){return null}return this[L][this[U]]}pos(){if(this[L]===null||this[U]>=this[L].length){return-1}return this[U]}reset(){this[U]=-1}sign(...e){this[B].sign(...e)}}function isAgent(e){return e instanceof BaseAgent}e.exports={AgentContext:AgentContext,AgentProtocol:P,BaseAgent:BaseAgent,createAgent:createAgent,CygwinAgent:T,isAgent:isAgent,OpenSSHAgent:OpenSSHAgent,PageantAgent:R}},17077:(e,r,n)=>{"use strict";const{createHash:i,getHashes:s,randomFillSync:o}=n(76982);const{Socket:u}=n(69278);const{lookup:f}=n(72250);const p=n(24434);const g=s();const{COMPAT:b,CHANNEL_EXTENDED_DATATYPE:{STDERR:_},CHANNEL_OPEN_FAILURE:v,DEFAULT_CIPHER:w,DEFAULT_COMPRESSION:I,DEFAULT_KEX:k,DEFAULT_MAC:C,DEFAULT_SERVER_HOST_KEY:R,DISCONNECT_REASON:T,DISCONNECT_REASON_BY_VALUE:x,SUPPORTED_CIPHER:P,SUPPORTED_COMPRESSION:B,SUPPORTED_KEX:L,SUPPORTED_MAC:U,SUPPORTED_SERVER_HOST_KEY:j}=n(840);const{init:W}=n(5244);const Q=n(65149);const{parseKey:z}=n(41177);const{SFTP:G}=n(47352);const{bufferCopy:q,makeBufferParser:Y,makeError:V,readUInt32BE:J,sigSSHToASN1:ee,writeUInt32BE:te}=n(67532);const{AgentContext:re,createAgent:ne,isAgent:ie}=n(43005);const{Channel:se,MAX_WINDOW:oe,PACKET_SIZE:ae,windowAdjust:le,WINDOW_THRESHOLD:ce}=n(50615);const{ChannelManager:ue,generateAlgorithmList:fe,isWritable:he,onChannelOpenFailure:de,onCHANNEL_CLOSE:pe}=n(24645);const ge=Y();const be=Y();const ye=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/;const noop=e=>{};class Client extends p{constructor(){super();this.config={host:undefined,port:undefined,localAddress:undefined,localPort:undefined,forceIPv4:undefined,forceIPv6:undefined,keepaliveCountMax:undefined,keepaliveInterval:undefined,readyTimeout:undefined,ident:undefined,username:undefined,password:undefined,privateKey:undefined,tryKeyboard:undefined,agent:undefined,allowAgentFwd:undefined,authHandler:undefined,hostHashAlgo:undefined,hostHashCb:undefined,strictVendor:undefined,debug:undefined};this._agent=undefined;this._readyTimeout=undefined;this._chanMgr=undefined;this._callbacks=undefined;this._forwarding=undefined;this._forwardingUnix=undefined;this._acceptX11=undefined;this._agentFwdEnabled=undefined;this._remoteVer=undefined;this._protocol=undefined;this._sock=undefined;this._resetKA=undefined}connect(e){if(this._sock&&he(this._sock)){this.once("close",(()=>{this.connect(e)}));this.end();return this}this.config.host=e.hostname||e.host||"localhost";this.config.port=e.port||22;this.config.localAddress=typeof e.localAddress==="string"?e.localAddress:undefined;this.config.localPort=typeof e.localPort==="string"||typeof e.localPort==="number"?e.localPort:undefined;this.config.forceIPv4=e.forceIPv4||false;this.config.forceIPv6=e.forceIPv6||false;this.config.keepaliveCountMax=typeof e.keepaliveCountMax==="number"&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3;this.config.keepaliveInterval=typeof e.keepaliveInterval==="number"&&e.keepaliveInterval>0?e.keepaliveInterval:0;this.config.readyTimeout=typeof e.readyTimeout==="number"&&e.readyTimeout>=0?e.readyTimeout:2e4;this.config.ident=typeof e.ident==="string"||Buffer.isBuffer(e.ident)?e.ident:undefined;const r={kex:undefined,serverHostKey:undefined,cs:{cipher:undefined,mac:undefined,compress:undefined,lang:[]},sc:undefined};let n=true;if(typeof e.algorithms==="object"&&e.algorithms!==null){r.kex=fe(e.algorithms.kex,k,L);if(r.kex!==k)n=false;r.serverHostKey=fe(e.algorithms.serverHostKey,R,j);if(r.serverHostKey!==R)n=false;r.cs.cipher=fe(e.algorithms.cipher,w,P);if(r.cs.cipher!==w)n=false;r.cs.mac=fe(e.algorithms.hmac,C,U);if(r.cs.mac!==C)n=false;r.cs.compress=fe(e.algorithms.compress,I,B);if(r.cs.compress!==I)n=false;if(!n)r.sc=r.cs}if(typeof e.username==="string")this.config.username=e.username;else if(typeof e.user==="string")this.config.username=e.user;else throw new Error("Invalid username");this.config.password=typeof e.password==="string"?e.password:undefined;this.config.privateKey=typeof e.privateKey==="string"||Buffer.isBuffer(e.privateKey)?e.privateKey:undefined;this.config.localHostname=typeof e.localHostname==="string"?e.localHostname:undefined;this.config.localUsername=typeof e.localUsername==="string"?e.localUsername:undefined;this.config.tryKeyboard=e.tryKeyboard===true;if(typeof e.agent==="string"&&e.agent.length)this.config.agent=ne(e.agent);else if(ie(e.agent))this.config.agent=e.agent;else this.config.agent=undefined;this.config.allowAgentFwd=e.agentForward===true&&this.config.agent!==undefined;let s=this.config.authHandler=typeof e.authHandler==="function"||Array.isArray(e.authHandler)?e.authHandler:undefined;this.config.strictVendor=typeof e.strictVendor==="boolean"?e.strictVendor:true;const o=this.config.debug=typeof e.debug==="function"?e.debug:undefined;if(e.agentForward===true&&!this.config.allowAgentFwd){throw new Error("You must set a valid agent path to allow agent forwarding")}let p=this._callbacks=[];this._chanMgr=new ue(this);this._forwarding={};this._forwardingUnix={};this._acceptX11=0;this._agentFwdEnabled=false;this._agent=this.config.agent?this.config.agent:undefined;this._remoteVer=undefined;let b;if(this.config.privateKey){b=z(this.config.privateKey,e.passphrase);if(b instanceof Error)throw new Error(`Cannot parse privateKey: ${b.message}`);if(Array.isArray(b)){b=b[0]}if(b.getPrivatePEM()===null){throw new Error("privateKey value does not contain a (valid) private key")}}let v;if(typeof e.hostVerifier==="function"){const r=e.hostVerifier;let n;if(g.indexOf(e.hostHash)!==-1){n=e.hostHash}v=(e,s)=>{if(n)e=i(n).update(e).digest("hex");const o=r(e,s);if(o!==undefined)s(o)}}const q=this._sock=e.sock||new u;let Y=false;let J=false;if(this._protocol)this._protocol.cleanup();const ee=!o?undefined:(e,r,n)=>{o(`Debug output from server: ${JSON.stringify(n)}`)};let te;const ge=this._protocol=new Q({ident:this.config.ident,offer:n?undefined:r,onWrite:e=>{if(he(q))q.write(e)},onError:e=>{if(e.level==="handshake")clearTimeout(this._readyTimeout);if(!ge._destruct)q.removeAllListeners("data");this.emit("error",e);try{q.end()}catch{}},onHeader:e=>{J=true;this._remoteVer=e.versions.software;if(e.greeting)this.emit("greeting",e.greeting)},onHandshakeComplete:e=>{this.emit("handshake",e);if(!Y){Y=true;ge.service("ssh-userauth")}},debug:o,hostVerifier:v,messageHandlers:{DEBUG:ee,DISCONNECT:(e,r,n)=>{if(r!==T.BY_APPLICATION){if(!n){n=x[r];if(n===undefined)n=`Unexpected disconnection reason: ${r}`}const e=new Error(n);e.code=r;this.emit("error",e)}q.end()},SERVICE_ACCEPT:(e,r)=>{if(r==="ssh-userauth")tryNextAuth()},EXT_INFO:(e,r)=>{if(te===undefined){for(const e of r){if(e.name==="server-sig-algs"){te=e.algs;return}}te=null}},USERAUTH_BANNER:(e,r)=>{this.emit("banner",r)},USERAUTH_SUCCESS:e=>{resetKA();clearTimeout(this._readyTimeout);this.emit("ready")},USERAUTH_FAILURE:(e,r,n)=>{if(Ee.keyAlgos){const e=Ee.keyAlgos[0][0];if(o)o(`Client: ${Ee.type} (${e}) auth failed`);Ee.keyAlgos.shift();if(Ee.keyAlgos.length){const[e,r]=Ee.keyAlgos[0];switch(Ee.type){case"agent":ge.authPK(Ee.username,Ee.agentCtx.currentKey(),e);return;case"publickey":ge.authPK(Ee.username,Ee.key,e);return;case"hostbased":ge.authHostbased(Ee.username,Ee.key,Ee.localHostname,Ee.localUsername,e,((e,n)=>{const i=Ee.key.sign(e,r);if(i instanceof Error){i.message=`Error while signing with key: ${i.message}`;i.level="client-authentication";this.emit("error",i);return tryNextAuth()}n(i)}));return}}else{Ee.keyAlgos=undefined}}if(Ee.type==="agent"){const e=Ee.agentCtx.pos();o&&o(`Client: Agent key #${e+1} failed`);return tryNextAgentKey()}o&&o(`Client: ${Ee.type} auth failed`);Se=n;Ie=r;tryNextAuth()},USERAUTH_PASSWD_CHANGEREQ:(e,r)=>{if(Ee.type==="password"){this.emit("change password",r,(e=>{ge.authPassword(this.config.username,this.config.password,e)}))}},USERAUTH_PK_OK:e=>{let r;let n;if(Ee.keyAlgos)[r,n]=Ee.keyAlgos[0];if(Ee.type==="agent"){const e=Ee.agentCtx.currentKey();ge.authPK(Ee.username,e,r,((r,i)=>{const s={hash:n};Ee.agentCtx.sign(e,r,s,((e,r)=>{if(e){e.level="agent";this.emit("error",e)}else{return i(r)}tryNextAgentKey()}))}))}else if(Ee.type==="publickey"){ge.authPK(Ee.username,Ee.key,r,((e,r)=>{const i=Ee.key.sign(e,n);if(i instanceof Error){i.message=`Error signing data with key: ${i.message}`;i.level="client-authentication";this.emit("error",i);return tryNextAuth()}r(i)}))}},USERAUTH_INFO_REQUEST:(e,r,n,i)=>{if(Ee.type==="keyboard-interactive"){const e=Array.isArray(i)?i.length:0;if(e===0){o&&o("Client: Sending automatic USERAUTH_INFO_RESPONSE");ge.authInfoRes();return}Ee.prompt(r,n,"",i,(e=>{ge.authInfoRes(e)}))}},REQUEST_SUCCESS:(e,r)=>{if(p.length)p.shift()(false,r)},REQUEST_FAILURE:e=>{if(p.length)p.shift()(true)},GLOBAL_REQUEST:(e,r,n,i)=>{switch(r){case"hostkeys-00@openssh.com":hostKeysProve(this,i,((e,r)=>{if(e)return;this.emit("hostkeys",r)}));if(n)ge.requestSuccess();break;default:if(n)ge.requestFailure()}},CHANNEL_OPEN:(e,r)=>{onCHANNEL_OPEN(this,r)},CHANNEL_OPEN_CONFIRMATION:(e,r)=>{const n=this._chanMgr.get(r.recipient);if(typeof n!=="function")return;const i=n.type==="sftp";const s=i?"session":n.type;const u={type:s,incoming:{id:r.recipient,window:oe,packetSize:ae,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};const f=i?new G(this,u,{debug:o}):new se(this,u);this._chanMgr.update(r.recipient,f);n(undefined,f)},CHANNEL_OPEN_FAILURE:(e,r,n,i)=>{const s=this._chanMgr.get(r);if(typeof s!=="function")return;const o={reason:n,description:i};de(this,r,o,s)},CHANNEL_DATA:(e,r,n)=>{const i=this._chanMgr.get(r);if(typeof i!=="object"||i===null)return;if(i.incoming.window===0)return;i.incoming.window-=n.length;if(i.push(n)===false){i._waitChanDrain=true;return}if(i.incoming.window<=ce)le(i)},CHANNEL_EXTENDED_DATA:(e,r,n,i)=>{if(i!==_)return;const s=this._chanMgr.get(r);if(typeof s!=="object"||s===null)return;if(s.incoming.window===0)return;s.incoming.window-=n.length;if(!s.stderr.push(n)){s._waitChanDrain=true;return}if(s.incoming.window<=ce)le(s)},CHANNEL_WINDOW_ADJUST:(e,r,n)=>{const i=this._chanMgr.get(r);if(typeof i!=="object"||i===null)return;i.outgoing.window+=n;if(i._waitWindow){i._waitWindow=false;if(i._chunk){i._write(i._chunk,null,i._chunkcb)}else if(i._chunkcb){i._chunkcb()}else if(i._chunkErr){i.stderr._write(i._chunkErr,null,i._chunkcbErr)}else if(i._chunkcbErr){i._chunkcbErr()}}},CHANNEL_SUCCESS:(e,r)=>{const n=this._chanMgr.get(r);if(typeof n!=="object"||n===null)return;this._resetKA();if(n._callbacks.length)n._callbacks.shift()(false)},CHANNEL_FAILURE:(e,r)=>{const n=this._chanMgr.get(r);if(typeof n!=="object"||n===null)return;this._resetKA();if(n._callbacks.length)n._callbacks.shift()(true)},CHANNEL_REQUEST:(e,r,n,i,s)=>{const o=this._chanMgr.get(r);if(typeof o!=="object"||o===null)return;const u=o._exit;if(u.code!==undefined)return;switch(n){case"exit-status":o.emit("exit",u.code=s);return;case"exit-signal":o.emit("exit",u.code=null,u.signal=`SIG${s.signal}`,u.dump=s.coreDumped,u.desc=s.errorMessage);return}if(i)e.channelFailure(o.outgoing.id)},CHANNEL_EOF:(e,r)=>{const n=this._chanMgr.get(r);if(typeof n!=="object"||n===null)return;if(n.incoming.state!=="open")return;n.incoming.state="eof";if(n.readable)n.push(null);if(n.stderr.readable)n.stderr.push(null)},CHANNEL_CLOSE:(e,r)=>{pe(this,r,this._chanMgr.get(r))}}});q.pause();const be=this.config.keepaliveInterval;const ye=this.config.keepaliveCountMax;let me=0;let _e;const sendKA=()=>{if(++me>ye){clearInterval(_e);if(q.readable){const e=new Error("Keepalive timeout");e.level="client-timeout";this.emit("error",e);q.destroy()}return}if(he(q)){p.push(resetKA);ge.ping()}else{clearInterval(_e)}};function resetKA(){if(be>0){me=0;clearInterval(_e);if(he(q))_e=setInterval(sendKA,be)}}this._resetKA=resetKA;const ve=(()=>{let e=false;return()=>{if(e)return;e=true;if(Ae&&!J){const e=V("Connection lost before handshake","protocol",true);this.emit("error",e)}}})();const we=(()=>{let e=false;return()=>{if(e)return;e=true;Ae=true;o&&o("Socket connected");this.emit("connect");W.then((()=>{ge.start();q.on("data",(e=>{try{ge.parse(e,0,e.length)}catch(e){this.emit("error",e);try{if(he(q))q.end()}catch{}}}));if(q.stderr&&typeof q.stderr.resume==="function")q.stderr.resume();q.resume()})).catch((e=>{this.emit("error",e);try{if(he(q))q.end()}catch{}}))}})();let Ae=false;q.on("connect",we).on("timeout",(()=>{this.emit("timeout")})).on("error",(e=>{o&&o(`Socket error: ${e.message}`);clearTimeout(this._readyTimeout);e.level="client-socket";this.emit("error",e)})).on("end",(()=>{o&&o("Socket ended");ve();ge.cleanup();clearTimeout(this._readyTimeout);clearInterval(_e);this.emit("end")})).on("close",(()=>{o&&o("Socket closed");ve();ge.cleanup();clearTimeout(this._readyTimeout);clearInterval(_e);this.emit("close");const e=p;p=this._callbacks=[];const r=new Error("No response from server");for(let n=0;n<e.length;++n)e[n](r);this._chanMgr.cleanup(r)}));let Ee;let Se=null;let Ie=null;const ke=["none"];if(this.config.password!==undefined)ke.push("password");if(b!==undefined)ke.push("publickey");if(this._agent!==undefined)ke.push("agent");if(this.config.tryKeyboard)ke.push("keyboard-interactive");if(b!==undefined&&this.config.localHostname!==undefined&&this.config.localUsername!==undefined){ke.push("hostbased")}if(Array.isArray(s))s=makeSimpleAuthHandler(s);else if(typeof s!=="function")s=makeSimpleAuthHandler(ke);let Ce=false;const doNextAuth=e=>{if(Ce)return;Ce=true;if(e===false){const e=new Error("All configured authentication methods failed");e.level="client-authentication";this.emit("error",e);this.end();return}if(typeof e==="string"){const r=e;if(ke.indexOf(r)===-1)return skipAuth(`Authentication method not allowed: ${r}`);const n=this.config.username;switch(r){case"password":e={type:r,username:n,password:this.config.password};break;case"publickey":e={type:r,username:n,key:b};break;case"hostbased":e={type:r,username:n,key:b,localHostname:this.config.localHostname,localUsername:this.config.localUsername};break;case"agent":e={type:r,username:n,agentCtx:new re(this._agent)};break;case"keyboard-interactive":e={type:r,username:n,prompt:(...e)=>this.emit("keyboard-interactive",...e)};break;case"none":e={type:r,username:n};break;default:return skipAuth(`Skipping unsupported authentication method: ${e}`)}}else if(typeof e!=="object"||e===null){return skipAuth(`Skipping invalid authentication attempt: ${e}`)}else{const r=e.username;if(typeof r!=="string"){return skipAuth(`Skipping invalid authentication attempt: ${e}`)}const n=e.type;switch(n){case"password":{const{password:i}=e;if(typeof i!=="string"&&!Buffer.isBuffer(i))return skipAuth("Skipping invalid password auth attempt");e={type:n,username:r,password:i};break}case"publickey":{const i=z(e.key,e.passphrase);if(i instanceof Error)return skipAuth("Skipping invalid key auth attempt");if(!i.isPrivateKey())return skipAuth("Skipping non-private key");e={type:n,username:r,key:i};break}case"hostbased":{const{localHostname:i,localUsername:s}=e;const o=z(e.key,e.passphrase);if(o instanceof Error||typeof i!=="string"||typeof s!=="string"){return skipAuth("Skipping invalid hostbased auth attempt")}if(!o.isPrivateKey())return skipAuth("Skipping non-private key");e={type:n,username:r,key:o,localHostname:i,localUsername:s};break}case"agent":{let i=e.agent;if(typeof i==="string"&&i.length){i=ne(i)}else if(!ie(i)){return skipAuth(`Skipping invalid agent: ${e.agent}`)}e={type:n,username:r,agentCtx:new re(i)};break}case"keyboard-interactive":{const{prompt:i}=e;if(typeof i!=="function"){return skipAuth("Skipping invalid keyboard-interactive auth attempt")}e={type:n,username:r,prompt:i};break}case"none":e={type:n,username:r};break;default:return skipAuth(`Skipping unsupported authentication method: ${e}`)}}Ee=e;try{const e=Ee.username;switch(Ee.type){case"password":ge.authPassword(e,Ee.password);break;case"publickey":{let r;Ee.keyAlgos=getKeyAlgos(this,Ee.key,te);if(Ee.keyAlgos){if(Ee.keyAlgos.length){r=Ee.keyAlgos[0][0]}else{return skipAuth("Skipping key authentication (no mutual hash algorithm)")}}ge.authPK(e,Ee.key,r);break}case"hostbased":{let r;let n;Ee.keyAlgos=getKeyAlgos(this,Ee.key,te);if(Ee.keyAlgos){if(Ee.keyAlgos.length){[r,n]=Ee.keyAlgos[0]}else{return skipAuth("Skipping hostbased authentication (no mutual hash algorithm)")}}ge.authHostbased(e,Ee.key,Ee.localHostname,Ee.localUsername,r,((e,r)=>{const i=Ee.key.sign(e,n);if(i instanceof Error){i.message=`Error while signing with key: ${i.message}`;i.level="client-authentication";this.emit("error",i);return tryNextAuth()}r(i)}));break}case"agent":Ee.agentCtx.init((e=>{if(e){e.level="agent";this.emit("error",e);return tryNextAuth()}tryNextAgentKey()}));break;case"keyboard-interactive":ge.authKeyboard(e);break;case"none":ge.authNone(e);break}}finally{Ce=false}};function skipAuth(e){o&&o(e);process.nextTick(tryNextAuth)}function tryNextAuth(){Ce=false;const e=s(Ie,Se,doNextAuth);if(Ce||e===undefined)return;doNextAuth(e)}const tryNextAgentKey=()=>{if(Ee.type==="agent"){const e=Ee.agentCtx.nextKey();if(e===false){o&&o("Agent: No more keys left to try");o&&o("Client: agent auth failed");tryNextAuth()}else{const r=Ee.agentCtx.pos();let n;Ee.keyAlgos=getKeyAlgos(this,e,te);if(Ee.keyAlgos){if(Ee.keyAlgos.length){n=Ee.keyAlgos[0][0]}else{o&&o(`Agent: Skipping key #${r+1} (no mutual hash algorithm)`);tryNextAgentKey();return}}o&&o(`Agent: Trying key #${r+1}`);ge.authPK(Ee.username,e,n)}}};const startTimeout=()=>{if(this.config.readyTimeout>0){this._readyTimeout=setTimeout((()=>{const e=new Error("Timed out while waiting for handshake");e.level="client-timeout";this.emit("error",e);q.destroy()}),this.config.readyTimeout)}};if(!e.sock){let r=this.config.host;const n=this.config.forceIPv4;const i=this.config.forceIPv6;o&&o(`Client: Trying ${r} on port ${this.config.port} ...`);const doConnect=()=>{startTimeout();q.connect({host:r,port:this.config.port,localAddress:this.config.localAddress,localPort:this.config.localPort});q.setMaxListeners(0);q.setTimeout(typeof e.timeout==="number"?e.timeout:0)};if(!n&&!i||n&&i){doConnect()}else{f(r,n?4:6,((e,i,s)=>{if(e){const i=n?"IPv4":"IPv6";const s=new Error(`Error while looking up ${i} address for '${r}': ${e}`);clearTimeout(this._readyTimeout);s.level="client-dns";this.emit("error",s);this.emit("close");return}r=i;doConnect()}))}}else{startTimeout();if(typeof q.connecting==="boolean"){if(!q.connecting){we()}}else{we()}}return this}end(){if(this._sock&&he(this._sock)){this._protocol.disconnect(T.BY_APPLICATION);this._sock.end()}return this}destroy(){this._sock&&he(this._sock)&&this._sock.destroy();return this}exec(e,r,n){if(!this._sock||!he(this._sock))throw new Error("Not connected");if(typeof r==="function"){n=r;r={}}const i={allowHalfOpen:r.allowHalfOpen!==false};openChannel(this,"session",i,((i,s)=>{if(i){n(i);return}const o=[];function reqCb(e){if(e){s.close();n(e);return}if(o.length)o.shift()()}if(this.config.allowAgentFwd===true||r&&r.agentForward===true&&this._agent!==undefined){o.push((()=>reqAgentFwd(s,reqCb)))}if(typeof r==="object"&&r!==null){if(typeof r.env==="object"&&r.env!==null)reqEnv(s,r.env);if(typeof r.pty==="object"&&r.pty!==null||r.pty===true){o.push((()=>reqPty(s,r.pty,reqCb)))}if(typeof r.x11==="object"&&r.x11!==null||r.x11==="number"||r.x11===true){o.push((()=>reqX11(s,r.x11,reqCb)))}}o.push((()=>reqExec(s,e,r,n)));o.shift()()}));return this}shell(e,r,n){if(!this._sock||!he(this._sock))throw new Error("Not connected");if(typeof e==="function"){n=e;e=r=undefined}else if(typeof r==="function"){n=r;r=undefined}if(e&&(e.x11!==undefined||e.env!==undefined)){r=e;e=undefined}openChannel(this,"session",((i,s)=>{if(i){n(i);return}const o=[];function reqCb(e){if(e){s.close();n(e);return}if(o.length)o.shift()()}if(this.config.allowAgentFwd===true||r&&r.agentForward===true&&this._agent!==undefined){o.push((()=>reqAgentFwd(s,reqCb)))}if(e!==false)o.push((()=>reqPty(s,e,reqCb)));if(typeof r==="object"&&r!==null){if(typeof r.env==="object"&&r.env!==null)reqEnv(s,r.env);if(typeof r.x11==="object"&&r.x11!==null||r.x11==="number"||r.x11===true){o.push((()=>reqX11(s,r.x11,reqCb)))}}o.push((()=>reqShell(s,n)));o.shift()()}));return this}subsys(e,r){if(!this._sock||!he(this._sock))throw new Error("Not connected");openChannel(this,"session",((n,i)=>{if(n){r(n);return}reqSubsystem(i,e,((e,n)=>{if(e){r(e);return}r(undefined,n)}))}));return this}forwardIn(e,r,n){if(!this._sock||!he(this._sock))throw new Error("Not connected");const i=typeof n==="function";if(i){this._callbacks.push(((i,s)=>{if(i){n(i!==true?i:new Error(`Unable to bind to ${e}:${r}`));return}let o=r;if(r===0&&s&&s.length>=4){o=J(s,0);if(!(this._protocol._compatFlags&b.DYN_RPORT_BUG))r=o}this._forwarding[`${e}:${r}`]=o;n(undefined,o)}))}this._protocol.tcpipForward(e,r,i);return this}unforwardIn(e,r,n){if(!this._sock||!he(this._sock))throw new Error("Not connected");const i=typeof n==="function";if(i){this._callbacks.push((i=>{if(i){n(i!==true?i:new Error(`Unable to unbind from ${e}:${r}`));return}delete this._forwarding[`${e}:${r}`];n()}))}this._protocol.cancelTcpipForward(e,r,i);return this}forwardOut(e,r,n,i,s){if(!this._sock||!he(this._sock))throw new Error("Not connected");const o={srcIP:e,srcPort:r,dstIP:n,dstPort:i};if(typeof s!=="function")s=noop;openChannel(this,"direct-tcpip",o,s);return this}openssh_noMoreSessions(e){if(!this._sock||!he(this._sock))throw new Error("Not connected");const r=typeof e==="function";if(!this.config.strictVendor||this.config.strictVendor&&ye.test(this._remoteVer)){if(r){this._callbacks.push((r=>{if(r){e(r!==true?r:new Error("Unable to disable future sessions"));return}e()}))}this._protocol.openssh_noMoreSessions(r);return this}if(!r)return this;process.nextTick(e,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}openssh_forwardInStreamLocal(e,r){if(!this._sock||!he(this._sock))throw new Error("Not connected");const n=typeof r==="function";if(!this.config.strictVendor||this.config.strictVendor&&ye.test(this._remoteVer)){if(n){this._callbacks.push((n=>{if(n){r(n!==true?n:new Error(`Unable to bind to ${e}`));return}this._forwardingUnix[e]=true;r()}))}this._protocol.openssh_streamLocalForward(e,n);return this}if(!n)return this;process.nextTick(r,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}openssh_unforwardInStreamLocal(e,r){if(!this._sock||!he(this._sock))throw new Error("Not connected");const n=typeof r==="function";if(!this.config.strictVendor||this.config.strictVendor&&ye.test(this._remoteVer)){if(n){this._callbacks.push((n=>{if(n){r(n!==true?n:new Error(`Unable to unbind from ${e}`));return}delete this._forwardingUnix[e];r()}))}this._protocol.openssh_cancelStreamLocalForward(e,n);return this}if(!n)return this;process.nextTick(r,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}openssh_forwardOutStreamLocal(e,r){if(!this._sock||!he(this._sock))throw new Error("Not connected");if(typeof r!=="function")r=noop;if(!this.config.strictVendor||this.config.strictVendor&&ye.test(this._remoteVer)){openChannel(this,"direct-streamlocal@openssh.com",{socketPath:e},r);return this}process.nextTick(r,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}sftp(e){if(!this._sock||!he(this._sock))throw new Error("Not connected");openChannel(this,"sftp",((r,n)=>{if(r){e(r);return}reqSubsystem(n,"sftp",((r,i)=>{if(r){e(r);return}function removeListeners(){n.removeListener("ready",onReady);n.removeListener("error",onError);n.removeListener("exit",onExit);n.removeListener("close",onExit)}function onReady(){removeListeners();e(undefined,n)}function onError(r){removeListeners();e(r)}function onExit(r,n){removeListeners();let i;if(typeof r==="number")i=`Received exit code ${r} while establishing SFTP session`;else if(n!==undefined)i=`Received signal ${n} while establishing SFTP session`;else i="Received unexpected SFTP session termination";const s=new Error(i);s.code=r;s.signal=n;e(s)}n.on("ready",onReady).on("error",onError).on("exit",onExit).on("close",onExit);n._init()}))}));return this}setNoDelay(e){if(this._sock&&typeof this._sock.setNoDelay==="function")this._sock.setNoDelay(e);return this}}function openChannel(e,r,n,i){const s=oe;const o=ae;if(typeof n==="function"){i=n;n={}}const wrapper=(e,r)=>{i(e,r)};wrapper.type=r;const u=e._chanMgr.add(wrapper);if(u===-1){i(new Error("No free channels available"));return}switch(r){case"session":case"sftp":e._protocol.session(u,s,o);break;case"direct-tcpip":e._protocol.directTcpip(u,s,o,n);break;case"direct-streamlocal@openssh.com":e._protocol.openssh_directStreamLocal(u,s,o,n);break;default:throw new Error(`Unsupported channel type: ${r}`)}}function reqX11(e,r,n){const i={single:false,protocol:"MIT-MAGIC-COOKIE-1",cookie:undefined,screen:0};if(typeof r==="function"){n=r}else if(typeof r==="object"&&r!==null){if(typeof r.single==="boolean")i.single=r.single;if(typeof r.screen==="number")i.screen=r.screen;if(typeof r.protocol==="string")i.protocol=r.protocol;if(typeof r.cookie==="string")i.cookie=r.cookie;else if(Buffer.isBuffer(r.cookie))i.cookie=r.cookie.hexSlice(0,r.cookie.length)}if(i.cookie===undefined)i.cookie=me();const s=typeof n==="function";if(e.outgoing.state!=="open"){if(s)n(new Error("Channel is not open"));return}if(s){e._callbacks.push((r=>{if(r){n(r!==true?r:new Error("Unable to request X11"));return}e._hasX11=true;++e._client._acceptX11;e.once("close",(()=>{if(e._client._acceptX11)--e._client._acceptX11}));n()}))}e._client._protocol.x11Forward(e.outgoing.id,i,s)}function reqPty(e,r,n){let i=24;let s=80;let o=640;let u=480;let f="vt100";let p=null;if(typeof r==="function"){n=r}else if(typeof r==="object"&&r!==null){if(typeof r.rows==="number")i=r.rows;if(typeof r.cols==="number")s=r.cols;if(typeof r.width==="number")o=r.width;if(typeof r.height==="number")u=r.height;if(typeof r.term==="string")f=r.term;if(typeof r.modes==="object")p=r.modes}const g=typeof n==="function";if(e.outgoing.state!=="open"){if(g)n(new Error("Channel is not open"));return}if(g){e._callbacks.push((e=>{if(e){n(e!==true?e:new Error("Unable to request a pseudo-terminal"));return}n()}))}e._client._protocol.pty(e.outgoing.id,i,s,u,o,f,p,g)}function reqAgentFwd(e,r){const n=typeof r==="function";if(e.outgoing.state!=="open"){n&&r(new Error("Channel is not open"));return}if(e._client._agentFwdEnabled){n&&r(false);return}e._client._agentFwdEnabled=true;e._callbacks.push((i=>{if(i){e._client._agentFwdEnabled=false;if(n){r(i!==true?i:new Error("Unable to request agent forwarding"))}return}if(n)r()}));e._client._protocol.openssh_agentForward(e.outgoing.id,true)}function reqShell(e,r){if(e.outgoing.state!=="open"){r(new Error("Channel is not open"));return}e._callbacks.push((n=>{if(n){r(n!==true?n:new Error("Unable to open shell"));return}e.subtype="shell";r(undefined,e)}));e._client._protocol.shell(e.outgoing.id,true)}function reqExec(e,r,n,i){if(e.outgoing.state!=="open"){i(new Error("Channel is not open"));return}e._callbacks.push((r=>{if(r){i(r!==true?r:new Error("Unable to exec"));return}e.subtype="exec";e.allowHalfOpen=n.allowHalfOpen!==false;i(undefined,e)}));e._client._protocol.exec(e.outgoing.id,r,true)}function reqEnv(e,r){if(e.outgoing.state!=="open")return;const n=Object.keys(r||{});for(let i=0;i<n.length;++i){const s=n[i];const o=r[s];e._client._protocol.env(e.outgoing.id,s,o,false)}}function reqSubsystem(e,r,n){if(e.outgoing.state!=="open"){n(new Error("Channel is not open"));return}e._callbacks.push((i=>{if(i){n(i!==true?i:new Error(`Unable to start subsystem: ${r}`));return}e.subtype="subsystem";n(undefined,e)}));e._client._protocol.subsystem(e.outgoing.id,r,true)}function onCHANNEL_OPEN(e,r){let n=-1;let i;const accept=()=>{const i={type:r.type,incoming:{id:n,window:oe,packetSize:ae,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};const s=new se(e,i);e._chanMgr.update(n,s);e._protocol.channelOpenConfirm(r.sender,n,oe,ae);return s};const reject=()=>{if(i===undefined){if(n===-1)i=v.RESOURCE_SHORTAGE;else i=v.CONNECT_FAILED}if(n!==-1)e._chanMgr.remove(n);e._protocol.channelOpenFail(r.sender,i,"")};const reserveChannel=()=>{n=e._chanMgr.add();if(n===-1){i=v.RESOURCE_SHORTAGE;if(e.config.debug){e.config.debug("Client: Automatic rejection of incoming channel open: "+"no channels available")}}return n!==-1};const s=r.data;switch(r.type){case"forwarded-tcpip":{const r=e._forwarding[`${s.destIP}:${s.destPort}`];if(r!==undefined&&reserveChannel()){if(s.destPort===0)s.destPort=r;e.emit("tcp connection",s,accept,reject);return}break}case"forwarded-streamlocal@openssh.com":if(e._forwardingUnix[s.socketPath]!==undefined&&reserveChannel()){e.emit("unix connection",s,accept,reject);return}break;case"auth-agent@openssh.com":if(e._agentFwdEnabled&&typeof e._agent.getStream==="function"&&reserveChannel()){e._agent.getStream(((e,r)=>{if(e)return reject();const n=accept();n.pipe(r).pipe(n)}));return}break;case"x11":if(e._acceptX11!==0&&reserveChannel()){e.emit("x11",s,accept,reject);return}break;default:i=v.UNKNOWN_CHANNEL_TYPE;if(e.config.debug){e.config.debug("Client: Automatic rejection of unsupported incoming channel open "+`type: ${r.type}`)}}if(i===undefined){i=v.ADMINISTRATIVELY_PROHIBITED;if(e.config.debug){e.config.debug("Client: Automatic rejection of unexpected incoming channel open for: "+r.type)}}reject()}const me=(()=>{const e=Buffer.allocUnsafe(16);return()=>{o(e,0,16);return e.hexSlice(0,16)}})();function makeSimpleAuthHandler(e){if(!Array.isArray(e))throw new Error("authList must be an array");let r=0;return(n,i,s)=>{if(r===e.length)return false;return e[r++]}}function hostKeysProve(e,r,n){if(!e._sock||!he(e._sock))return;if(typeof n!=="function")n=noop;if(!Array.isArray(r))throw new TypeError("Invalid keys argument type");const i=[];for(const e of r){const r=z(e);if(r instanceof Error)throw r;i.push(r)}if(!e.config.strictVendor||e.config.strictVendor&&ye.test(e._remoteVer)){e._callbacks.push(((r,s)=>{if(r){n(r!==true?r:new Error("Server failed to prove supplied keys"));return}const o=[];let u=0;ge.init(s,0);while(ge.avail()){if(u===i.length)break;const r=i[u++];const n=r.getPublicSSH();const s=ge.readString();be.init(s,0);const f=be.readString(true);let p=be.readString();let g;if(f!==r.type){if(r.type==="ssh-rsa"){switch(f){case"rsa-sha2-256":g="sha256";break;case"rsa-sha2-512":g="sha512";break;default:continue}}else{continue}}const b=e._protocol._kex.sessionID;const _=Buffer.allocUnsafe(4+29+4+b.length+4+n.length);let v=0;te(_,29,v);_.utf8Write("hostkeys-prove-00@openssh.com",v+=4,29);te(_,b.length,v+=29);q(b,_,0,b.length,v+=4);te(_,n.length,v+=b.length);q(n,_,0,n.length,v+=4);if(!(p=ee(p,f)))continue;if(r.verify(_,p,g)===true)o.push(r)}be.clear();ge.clear();n(null,o)}));e._protocol.openssh_hostKeysProve(i);return}process.nextTick(n,new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}function getKeyAlgos(e,r,n){switch(r.type){case"ssh-rsa":if(e._protocol._compatFlags&b.IMPLY_RSA_SHA2_SIGALGS){if(!Array.isArray(n))n=["rsa-sha2-256","rsa-sha2-512"];else n=["rsa-sha2-256","rsa-sha2-512",...n]}if(Array.isArray(n)){if(n.indexOf("rsa-sha2-256")!==-1)return[["rsa-sha2-256","sha256"]];if(n.indexOf("rsa-sha2-512")!==-1)return[["rsa-sha2-512","sha512"]];if(n.indexOf("ssh-rsa")===-1)return[]}return[["ssh-rsa","sha1"]]}}e.exports=Client},73333:(e,r,n)=>{"use strict";const{Agent:i}=n(58611);const{Agent:s}=n(65692);const{connect:o}=n(64756);let u;for(const e of[i,s]){class SSHAgent extends e{constructor(e,r){super(r);this._connectCfg=e;this._defaultSrcIP=r&&r.srcIP||"localhost"}createConnection(r,i){const s=r&&r.localAddress||this._defaultSrcIP;const o=r&&r.localPort||0;const f=r.host;const p=r.port;if(u===undefined)u=n(17077);const g=new u;let b=false;g.on("ready",(()=>{g.forwardOut(s,o,f,p,((n,s)=>{b=true;if(n){g.end();return i(n)}s.once("close",(()=>g.end()));i(null,decorateStream(s,e,r))}))})).on("error",i).on("close",(()=>{if(!b)i(new Error("Unexpected connection close"))})).connect(this._connectCfg)}}r[e===i?"SSHTTPAgent":"SSHTTPSAgent"]=SSHAgent}function noop(){}function decorateStream(e,r,n){if(r===i){e.setKeepAlive=noop;e.setNoDelay=noop;e.setTimeout=noop;e.ref=noop;e.unref=noop;e.destroySoon=e.destroy;return e}n.socket=e;const s=o(n);const u=(()=>{let r=false;return()=>{if(r)return;r=true;if(e.isPaused())e.resume()}})();s.on("end",u).on("close",u);return s}},83628:(e,r,n)=>{"use strict";const{AgentProtocol:i,BaseAgent:s,createAgent:o,CygwinAgent:u,OpenSSHAgent:f,PageantAgent:p}=n(43005);const{SSHTTPAgent:g,SSHTTPSAgent:b}=n(73333);const{parseKey:_}=n(41177);const{flagsToString:v,OPEN_MODE:w,STATUS_CODE:I,stringToFlags:k}=n(47352);e.exports={AgentProtocol:i,BaseAgent:s,createAgent:o,Client:n(17077),CygwinAgent:u,HTTPAgent:g,HTTPSAgent:b,OpenSSHAgent:f,PageantAgent:p,Server:n(16545),utils:{parseKey:_,...n(31533),sftp:{flagsToString:v,OPEN_MODE:w,STATUS_CODE:I,stringToFlags:k}}}},31533:(e,r,n)=>{"use strict";const{createCipheriv:i,generateKeyPair:s,generateKeyPairSync:o,getCurves:u,randomBytes:f}=n(76982);const{Ber:p}=n(1594);const g=n(92327).pbkdf;const{CIPHER_INFO:b}=n(5244);const _=16;const v=16;const w=u();const I=new Map(Object.entries(b));function makeArgs(e,r){if(typeof e!=="string")throw new TypeError("Key type must be a string");const n={type:"spki",format:"der"};const i={type:"pkcs8",format:"der"};switch(e.toLowerCase()){case"rsa":{if(typeof r!=="object"||r===null)throw new TypeError("Missing options object for RSA key");const e=r.bits;if(!Number.isInteger(e))throw new TypeError("RSA bits must be an integer");if(e<=0||e>16384)throw new RangeError("RSA bits must be non-zero and <= 16384");return["rsa",{modulusLength:e,publicKeyEncoding:n,privateKeyEncoding:i}]}case"ecdsa":{if(typeof r!=="object"||r===null)throw new TypeError("Missing options object for ECDSA key");if(!Number.isInteger(r.bits))throw new TypeError("ECDSA bits must be an integer");let e;switch(r.bits){case 256:e="prime256v1";break;case 384:e="secp384r1";break;case 521:e="secp521r1";break;default:throw new Error("ECDSA bits must be 256, 384, or 521")}if(!w.includes(e))throw new Error("Unsupported ECDSA bits value");return["ec",{namedCurve:e,publicKeyEncoding:n,privateKeyEncoding:i}]}case"ed25519":return["ed25519",{publicKeyEncoding:n,privateKeyEncoding:i}];default:throw new Error(`Unsupported key type: ${e}`)}}function parseDERs(e,r,n){switch(e){case"rsa":{let e=new p.Reader(n);e.readSequence();if(e.readInt()!==0)throw new Error("Unsupported version in RSA private key");e.readSequence();if(e.readOID()!=="1.2.840.113549.1.1.1")throw new Error("Bad RSA private OID");if(e.readByte()!==p.Null)throw new Error("Malformed RSA private key (expected null)");if(e.readByte()!==0){throw new Error("Malformed RSA private key (expected zero-length null)")}e=new p.Reader(e.readString(p.OctetString,true));e.readSequence();if(e.readInt()!==0)throw new Error("Unsupported version in RSA private key");const r=e.readString(p.Integer,true);const i=e.readString(p.Integer,true);const s=e.readString(p.Integer,true);const o=e.readString(p.Integer,true);const u=e.readString(p.Integer,true);e.readString(p.Integer,true);e.readString(p.Integer,true);const f=e.readString(p.Integer,true);const g=Buffer.from("ssh-rsa");const b=Buffer.allocUnsafe(4+g.length+4+r.length+4+i.length+4+s.length+4+f.length+4+o.length+4+u.length);let _=0;b.writeUInt32BE(g.length,_+=0);b.set(g,_+=4);b.writeUInt32BE(r.length,_+=g.length);b.set(r,_+=4);b.writeUInt32BE(i.length,_+=r.length);b.set(i,_+=4);b.writeUInt32BE(s.length,_+=i.length);b.set(s,_+=4);b.writeUInt32BE(f.length,_+=s.length);b.set(f,_+=4);b.writeUInt32BE(o.length,_+=f.length);b.set(o,_+=4);b.writeUInt32BE(u.length,_+=o.length);b.set(u,_+=4);const v=Buffer.allocUnsafe(4+g.length+4+i.length+4+r.length);_=0;v.writeUInt32BE(g.length,_+=0);v.set(g,_+=4);v.writeUInt32BE(i.length,_+=g.length);v.set(i,_+=4);v.writeUInt32BE(r.length,_+=i.length);v.set(r,_+=4);return{sshName:g.toString(),priv:b,pub:v}}case"ec":{let e=new p.Reader(r);e.readSequence();e.readSequence();if(e.readOID()!=="1.2.840.10045.2.1")throw new Error("Bad ECDSA public OID");e.readOID();let i=e.readString(p.BitString,true);{let e=0;for(;e<i.length&&i[e]===0;++e);if(e>0)i=i.slice(e)}e=new p.Reader(n);e.readSequence();if(e.readInt()!==0)throw new Error("Unsupported version in ECDSA private key");e.readSequence();if(e.readOID()!=="1.2.840.10045.2.1")throw new Error("Bad ECDSA private OID");const s=e.readOID();let o;switch(s){case"1.2.840.10045.3.1.7":o="nistp256";break;case"1.3.132.0.34":o="nistp384";break;case"1.3.132.0.35":o="nistp521";break;default:throw new Error("Unsupported curve in ECDSA private key")}e=new p.Reader(e.readString(p.OctetString,true));e.readSequence();if(e.readInt()!==1)throw new Error("Unsupported version in ECDSA private key");const u=Buffer.concat([Buffer.from([0]),e.readString(p.OctetString,true)]);const f=Buffer.from(`ecdsa-sha2-${o}`);o=Buffer.from(o);const g=Buffer.allocUnsafe(4+f.length+4+o.length+4+i.length+4+u.length);let b=0;g.writeUInt32BE(f.length,b+=0);g.set(f,b+=4);g.writeUInt32BE(o.length,b+=f.length);g.set(o,b+=4);g.writeUInt32BE(i.length,b+=o.length);g.set(i,b+=4);g.writeUInt32BE(u.length,b+=i.length);g.set(u,b+=4);const _=Buffer.allocUnsafe(4+f.length+4+o.length+4+i.length);b=0;_.writeUInt32BE(f.length,b+=0);_.set(f,b+=4);_.writeUInt32BE(o.length,b+=f.length);_.set(o,b+=4);_.writeUInt32BE(i.length,b+=o.length);_.set(i,b+=4);return{sshName:f.toString(),priv:g,pub:_}}case"ed25519":{let e=new p.Reader(r);e.readSequence();e.readSequence();if(e.readOID()!=="1.3.101.112")throw new Error("Bad ED25519 public OID");let i=e.readString(p.BitString,true);{let e=0;for(;e<i.length&&i[e]===0;++e);if(e>0)i=i.slice(e)}e=new p.Reader(n);e.readSequence();if(e.readInt()!==0)throw new Error("Unsupported version in ED25519 private key");e.readSequence();if(e.readOID()!=="1.3.101.112")throw new Error("Bad ED25519 private OID");e=new p.Reader(e.readString(p.OctetString,true));const s=e.readString(p.OctetString,true);const o=Buffer.from("ssh-ed25519");const u=Buffer.allocUnsafe(4+o.length+4+i.length+4+(s.length+i.length));let f=0;u.writeUInt32BE(o.length,f+=0);u.set(o,f+=4);u.writeUInt32BE(i.length,f+=o.length);u.set(i,f+=4);u.writeUInt32BE(s.length+i.length,f+=i.length);u.set(s,f+=4);u.set(i,f+=s.length);const g=Buffer.allocUnsafe(4+o.length+4+i.length);f=0;g.writeUInt32BE(o.length,f+=0);g.set(o,f+=4);g.writeUInt32BE(i.length,f+=o.length);g.set(i,f+=4);return{sshName:o.toString(),priv:u,pub:g}}}}function convertKeys(e,r,n,s){let o="new";let u;let p="";if(typeof s==="object"&&s!==null){if(typeof s.comment==="string"&&s.comment)p=s.comment;if(typeof s.format==="string"&&s.format)o=s.format;if(s.passphrase){let e;if(typeof s.passphrase==="string")e=Buffer.from(s.passphrase);else if(Buffer.isBuffer(s.passphrase))e=s.passphrase;else throw new Error("Invalid passphrase");if(s.cipher===undefined)throw new Error("Missing cipher name");const r=I.get(s.cipher);if(r===undefined)throw new Error("Invalid cipher name");if(o==="new"){let n=v;if(s.rounds!==undefined){if(!Number.isInteger(s.rounds))throw new TypeError("rounds must be an integer");if(s.rounds>0)n=s.rounds}const i=Buffer.allocUnsafe(r.keyLen+r.ivLen);const o=f(_);const p=g(e,e.length,o,o.length,i,i.length,n);if(p!==0)return new Error("Failed to generate information to encrypt key");const b=Buffer.allocUnsafe(4+o.length+4);{let e=0;b.writeUInt32BE(o.length,e+=0);b.set(o,e+=4);b.writeUInt32BE(n,e+=o.length)}u={cipher:r,cipherName:s.cipher,kdfName:"bcrypt",kdfOptions:b,key:i.slice(0,r.keyLen),iv:i.slice(r.keyLen)}}}}switch(o){case"new":{let s="-----BEGIN OPENSSH PRIVATE KEY-----\n";let o;const g=Buffer.from(u?u.cipherName:"none");const b=Buffer.from(u?u.kdfName:"none");const _=u?u.kdfOptions:Buffer.alloc(0);const v=u?u.cipher.blockLen:8;const w=parseDERs(e,r,n);const I=f(4);const k=Buffer.from(p);const C=4+4+w.priv.length+4+k.length;let R=[];for(let e=1;(C+R.length)%v;++e)R.push(e&255);R=Buffer.from(R);let T=Buffer.allocUnsafe(C+R.length);let x;{let e=0;T.set(I,e+=0);T.set(I,e+=4);T.set(w.priv,e+=4);T.writeUInt32BE(k.length,e+=w.priv.length);T.set(k,e+=4);T.set(R,e+=k.length)}if(u){const e={authTagLength:u.cipher.authLen};const r=i(u.cipher.sslName,u.key,u.iv,e);r.setAutoPadding(false);T=Buffer.concat([r.update(T),r.final()]);if(u.cipher.authLen>0)x=r.getAuthTag();else x=Buffer.alloc(0);u.key.fill(0);u.iv.fill(0)}else{x=Buffer.alloc(0)}const P=Buffer.from("openssh-key-v1\0");const B=Buffer.allocUnsafe(P.length+4+g.length+4+b.length+4+_.length+4+4+w.pub.length+4+T.length+x.length);{let e=0;B.set(P,e+=0);B.writeUInt32BE(g.length,e+=P.length);B.set(g,e+=4);B.writeUInt32BE(b.length,e+=g.length);B.set(b,e+=4);B.writeUInt32BE(_.length,e+=b.length);B.set(_,e+=4);B.writeUInt32BE(1,e+=_.length);B.writeUInt32BE(w.pub.length,e+=4);B.set(w.pub,e+=4);B.writeUInt32BE(T.length,e+=w.pub.length);B.set(T,e+=4);B.set(x,e+=T.length)}{const e=B.base64Slice(0,B.length);let r=e.replace(/.{64}/g,"$&\n");if(e.length&63)r+="\n";s+=r}{const e=w.pub.base64Slice(0,w.pub.length);o=`${w.sshName} ${e}${p?` ${p}`:""}`}s+="-----END OPENSSH PRIVATE KEY-----\n";return{private:s,public:o}}default:throw new Error("Invalid output key format")}}function noop(){}e.exports={generateKeyPair:(e,r,n)=>{if(typeof r==="function"){n=r;r=undefined}if(typeof n!=="function")n=noop;const i=makeArgs(e,r);s(...i,((e,s,o)=>{if(e)return n(e);let u;try{u=convertKeys(i[0],s,o,r)}catch(e){return n(e)}n(null,u)}))},generateKeyPairSync:(e,r)=>{const n=makeArgs(e,r);const{publicKey:i,privateKey:s}=o(...n);return convertKeys(n[0],i,s,r)}}},65149:(e,r,n)=>{"use strict";const{inspect:i}=n(39023);const{bindingAvailable:s,NullCipher:o,NullDecipher:u}=n(5244);const{COMPAT_CHECKS:f,DISCONNECT_REASON:p,eddsaSupported:g,MESSAGE:b,SIGNALS:_,TERMINAL_MODE:v}=n(840);const{DEFAULT_KEXINIT_CLIENT:w,DEFAULT_KEXINIT_SERVER:I,KexInit:k,kexinit:C,onKEXPayload:R}=n(14257);const{parseKey:T}=n(41177);const x=n(96256);const{bufferCopy:P,bufferFill:B,bufferSlice:L,convertSignature:U,sendPacket:j,writeUInt32BE:W}=n(67532);const{PacketReader:Q,PacketWriter:z,ZlibPacketReader:G,ZlibPacketWriter:q}=n(96892);const Y=n(49674).rE;const V=new Map(Object.values(p).map((e=>[e,1])));const J=Buffer.from(`SSH-2.0-ssh2js${Y}`);const ee=Buffer.from(`${J}\r\n`);const te=8192;const re=1024;const ne=Buffer.from([b.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]);const ie=Buffer.from([v.TTY_OP_END]);function noop(){}class Protocol{constructor(e){const r=e.onWrite;if(typeof r!=="function")throw new Error("Missing onWrite function");this._onWrite=e=>{r(e)};const n=e.onError;if(typeof n!=="function")throw new Error("Missing onError function");this._onError=e=>{n(e)};const u=e.debug;this._debug=typeof u==="function"?e=>{u(e)}:undefined;const f=e.onHeader;this._onHeader=typeof f==="function"?(...e)=>{f(...e)}:noop;const p=e.onPacket;this._onPacket=typeof p==="function"?()=>{p()}:noop;let g=e.onHandshakeComplete;if(typeof g!=="function")g=noop;let b;this._onHandshakeComplete=(...e)=>{this._debug&&this._debug("Handshake completed");if(b===undefined)b=true;else b=false;const r=this._queue;if(r){this._queue=undefined;this._debug&&this._debug(`Draining outbound queue (${r.length}) ...`);for(let e=0;e<r.length;++e){const n=r[e];let i=this._packetRW.write.finalize(n);if(i===n){const e=this._cipher.allocPacket(n.length);e.set(n,5);i=e}j(this,i)}this._debug&&this._debug("... finished draining outbound queue")}if(b&&this._server&&this._kex.remoteExtInfoEnabled)sendExtInfo(this);g(...e)};this._queue=undefined;const _=e.messageHandlers;if(typeof _==="object"&&_!==null)this._handlers=_;else this._handlers={};this._onPayload=onPayload.bind(this);this._server=!!e.server;this._banner=undefined;let v;if(this._server){if(typeof e.hostKeys!=="object"||e.hostKeys===null)throw new Error("Missing server host key(s)");this._hostKeys=e.hostKeys;if(typeof e.greeting==="string"&&e.greeting.length){v=e.greeting.slice(-2)==="\r\n"?e.greeting:`${e.greeting}\r\n`}if(typeof e.banner==="string"&&e.banner.length){this._banner=e.banner.slice(-2)==="\r\n"?e.banner:`${e.banner}\r\n`}}else{this._hostKeys=undefined}let C=e.offer;if(typeof C!=="object"||C===null){C=this._server?I:w}else if(C.constructor!==k){if(this._server){C.kex=C.kex.concat(["kex-strict-s-v00@openssh.com"])}else{C.kex=C.kex.concat(["ext-info-c","kex-strict-c-v00@openssh.com"])}C=new k(C)}this._kex=undefined;this._strictMode=undefined;this._kexinit=undefined;this._offer=C;this._cipher=new o(0,this._onWrite);this._decipher=undefined;this._skipNextInboundPacket=false;this._packetRW={read:new Q,write:new z(this)};this._hostVerifier=!this._server&&typeof e.hostVerifier==="function"?e.hostVerifier:undefined;this._parse=parseHeader;this._buffer=undefined;this._authsQueue=[];this._authenticated=false;this._remoteIdentRaw=undefined;let R;if(typeof e.ident==="string"){this._identRaw=Buffer.from(`SSH-2.0-${e.ident}`);R=Buffer.allocUnsafe(this._identRaw.length+2);R.set(this._identRaw,0);R[R.length-2]=13;R[R.length-1]=10}else if(Buffer.isBuffer(e.ident)){const r=Buffer.allocUnsafe(8+e.ident.length);r.latin1Write("SSH-2.0-",0,8);r.set(e.ident,8);this._identRaw=r;R=Buffer.allocUnsafe(r.length+2);R.set(r,0);R[R.length-2]=13;R[R.length-1]=10}else{this._identRaw=J;R=ee}this._compatFlags=0;if(this._debug){if(s)this._debug("Custom crypto binding available");else this._debug("Custom crypto binding not available")}this._debug&&this._debug(`Local ident: ${i(this._identRaw.toString())}`);this.start=()=>{this.start=undefined;if(v)this._onWrite(v);this._onWrite(R)}}_destruct(e){this._packetRW.read.cleanup();this._packetRW.write.cleanup();this._cipher&&this._cipher.free();this._decipher&&this._decipher.free();if(typeof e!=="string"||e.length===0)e="fatal error";this.parse=()=>{throw new Error(`Instance unusable after ${e}`)};this._onWrite=()=>{throw new Error(`Instance unusable after ${e}`)};this._destruct=undefined}cleanup(){this._destruct&&this._destruct()}parse(e,r,n){while(r<n)r=this._parse(e,r,n)}disconnect(e){const r=1+4+4+4;let n=this._packetRW.write.allocStartKEX;const i=this._packetRW.write.alloc(r,true);const s=n+r;if(!V.has(e))e=p.PROTOCOL_ERROR;i[n]=b.DISCONNECT;W(i,e,++n);i.fill(0,n+=4,s);this._debug&&this._debug(`Outbound: Sending DISCONNECT (${e})`);j(this,this._packetRW.write.finalize(i,true),true)}ping(){const e=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(ne.length);r.set(ne,e);this._debug&&this._debug("Outbound: Sending ping (GLOBAL_REQUEST: keepalive@openssh.com)");j(this,this._packetRW.write.finalize(r))}rekey(){if(this._kexinit===undefined){this._debug&&this._debug("Outbound: Initiated explicit rekey");this._queue=[];C(this)}else{this._debug&&this._debug("Outbound: Ignoring rekey during handshake")}}requestSuccess(e){let r=this._packetRW.write.allocStart;let n;if(Buffer.isBuffer(e)){n=this._packetRW.write.alloc(1+e.length);n[r]=b.REQUEST_SUCCESS;n.set(e,++r)}else{n=this._packetRW.write.alloc(1);n[r]=b.REQUEST_SUCCESS}this._debug&&this._debug("Outbound: Sending REQUEST_SUCCESS");j(this,this._packetRW.write.finalize(n))}requestFailure(){const e=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(1);r[e]=b.REQUEST_FAILURE;this._debug&&this._debug("Outbound: Sending REQUEST_FAILURE");j(this,this._packetRW.write.finalize(r))}channelSuccess(e){let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[r]=b.CHANNEL_SUCCESS;W(n,e,++r);this._debug&&this._debug(`Outbound: Sending CHANNEL_SUCCESS (r:${e})`);j(this,this._packetRW.write.finalize(n))}channelFailure(e){let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[r]=b.CHANNEL_FAILURE;W(n,e,++r);this._debug&&this._debug(`Outbound: Sending CHANNEL_FAILURE (r:${e})`);j(this,this._packetRW.write.finalize(n))}channelEOF(e){let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[r]=b.CHANNEL_EOF;W(n,e,++r);this._debug&&this._debug(`Outbound: Sending CHANNEL_EOF (r:${e})`);j(this,this._packetRW.write.finalize(n))}channelClose(e){let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[r]=b.CHANNEL_CLOSE;W(n,e,++r);this._debug&&this._debug(`Outbound: Sending CHANNEL_CLOSE (r:${e})`);j(this,this._packetRW.write.finalize(n))}channelWindowAdjust(e,r){let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4);i[n]=b.CHANNEL_WINDOW_ADJUST;W(i,e,++n);W(i,r,n+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_WINDOW_ADJUST (r:${e}, ${r})`);j(this,this._packetRW.write.finalize(i))}channelData(e,r){const n=Buffer.isBuffer(r);const i=n?r.length:Buffer.byteLength(r);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+i);o[s]=b.CHANNEL_DATA;W(o,e,++s);W(o,i,s+=4);if(n)o.set(r,s+=4);else o.utf8Write(r,s+=4,i);this._debug&&this._debug(`Outbound: Sending CHANNEL_DATA (r:${e}, ${i})`);j(this,this._packetRW.write.finalize(o))}channelExtData(e,r,n){const i=Buffer.isBuffer(r);const s=i?r.length:Buffer.byteLength(r);let o=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+4+4+s);u[o]=b.CHANNEL_EXTENDED_DATA;W(u,e,++o);W(u,n,o+=4);W(u,s,o+=4);if(i)u.set(r,o+=4);else u.utf8Write(r,o+=4,s);this._debug&&this._debug(`Outbound: Sending CHANNEL_EXTENDED_DATA (r:${e})`);j(this,this._packetRW.write.finalize(u))}channelOpenConfirm(e,r,n,i){let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+4+4);o[s]=b.CHANNEL_OPEN_CONFIRMATION;W(o,e,++s);W(o,r,s+=4);W(o,n,s+=4);W(o,i,s+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN_CONFIRMATION (r:${e}, l:${r})`);j(this,this._packetRW.write.finalize(o))}channelOpenFail(e,r,n){if(typeof n!=="string")n="";const i=Buffer.byteLength(n);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+4+i+4);o[s]=b.CHANNEL_OPEN_FAILURE;W(o,e,++s);W(o,r,s+=4);W(o,i,s+=4);s+=4;if(i){o.utf8Write(n,s,i);s+=i}W(o,0,s);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN_FAILURE (r:${e})`);j(this,this._packetRW.write.finalize(o))}service(e){if(this._server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+r);i[n]=b.SERVICE_REQUEST;W(i,r,++n);i.utf8Write(e,n+=4,r);this._debug&&this._debug(`Outbound: Sending SERVICE_REQUEST (${e})`);j(this,this._packetRW.write.finalize(i))}authPassword(e,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);const s=Buffer.byteLength(r);const o=n?Buffer.byteLength(n):0;let u=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+i+4+14+4+8+1+4+s+(n?4+o:0));f[u]=b.USERAUTH_REQUEST;W(f,i,++u);f.utf8Write(e,u+=4,i);W(f,14,u+=i);f.utf8Write("ssh-connection",u+=4,14);W(f,8,u+=14);f.utf8Write("password",u+=4,8);f[u+=8]=n?1:0;W(f,s,++u);if(Buffer.isBuffer(r))P(r,f,0,s,u+=4);else f.utf8Write(r,u+=4,s);if(n){W(f,o,u+=s);if(Buffer.isBuffer(n))P(n,f,0,o,u+=4);else f.utf8Write(n,u+=4,o);this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (changed password)")}else{this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (password)")}this._authsQueue.push("password");j(this,this._packetRW.write.finalize(f))}authPK(e,r,n,i){if(this._server)throw new Error("Client-only method called in server mode");r=T(r);if(r instanceof Error)throw new Error("Invalid key");const s=r.type;r=r.getPublicSSH();if(typeof n==="function"){i=n;n=undefined}if(!n)n=s;const o=Buffer.byteLength(e);const u=Buffer.byteLength(n);const f=r.length;const p=this._kex.sessionID;const g=p.length;const _=(i?4+g:0)+1+4+o+4+14+4+9+1+4+u+4+f;let v;let w;if(i){v=Buffer.allocUnsafe(_);w=0;W(v,g,w);v.set(p,w+=4);w+=g}else{v=this._packetRW.write.alloc(_);w=this._packetRW.write.allocStart}v[w]=b.USERAUTH_REQUEST;W(v,o,++w);v.utf8Write(e,w+=4,o);W(v,14,w+=o);v.utf8Write("ssh-connection",w+=4,14);W(v,9,w+=14);v.utf8Write("publickey",w+=4,9);v[w+=9]=i?1:0;W(v,u,++w);v.utf8Write(n,w+=4,u);W(v,f,w+=u);v.set(r,w+=4);if(!i){this._authsQueue.push("publickey");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (publickey -- check)");j(this,this._packetRW.write.finalize(v));return}i(v,(i=>{i=U(i,s);if(i===false)throw new Error("Error while converting handshake signature");const p=i.length;w=this._packetRW.write.allocStart;v=this._packetRW.write.alloc(1+4+o+4+14+4+9+1+4+u+4+f+4+4+u+4+p);v[w]=b.USERAUTH_REQUEST;W(v,o,++w);v.utf8Write(e,w+=4,o);W(v,14,w+=o);v.utf8Write("ssh-connection",w+=4,14);W(v,9,w+=14);v.utf8Write("publickey",w+=4,9);v[w+=9]=1;W(v,u,++w);v.utf8Write(n,w+=4,u);W(v,f,w+=u);v.set(r,w+=4);W(v,4+u+4+p,w+=f);W(v,u,w+=4);v.utf8Write(n,w+=4,u);W(v,p,w+=u);v.set(i,w+=4);this._authsQueue.push("publickey");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (publickey)");j(this,this._packetRW.write.finalize(v))}))}authHostbased(e,r,n,i,s,o){if(this._server)throw new Error("Client-only method called in server mode");r=T(r);if(r instanceof Error)throw new Error("Invalid key");const u=r.type;r=r.getPublicSSH();if(typeof s==="function"){o=s;s=undefined}if(!s)s=u;const f=Buffer.byteLength(e);const p=Buffer.byteLength(s);const g=r.length;const _=this._kex.sessionID;const v=_.length;const w=Buffer.byteLength(n);const I=Buffer.byteLength(i);const k=Buffer.allocUnsafe(4+v+1+4+f+4+14+4+9+4+p+4+g+4+w+4+I);let C=0;W(k,v,C);k.set(_,C+=4);k[C+=v]=b.USERAUTH_REQUEST;W(k,f,++C);k.utf8Write(e,C+=4,f);W(k,14,C+=f);k.utf8Write("ssh-connection",C+=4,14);W(k,9,C+=14);k.utf8Write("hostbased",C+=4,9);W(k,p,C+=9);k.utf8Write(s,C+=4,p);W(k,g,C+=p);k.set(r,C+=4);W(k,w,C+=g);k.utf8Write(n,C+=4,w);W(k,I,C+=w);k.utf8Write(i,C+=4,I);o(k,(e=>{e=U(e,u);if(!e)throw new Error("Error while converting handshake signature");const r=e.length;const n=k.length-v-4;C=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(n+4+4+p+4+r);P(k,i,4+v,k.length,C);W(i,4+p+4+r,C+=n);W(i,p,C+=4);i.utf8Write(s,C+=4,p);W(i,r,C+=p);i.set(e,C+=4);this._authsQueue.push("hostbased");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (hostbased)");j(this,this._packetRW.write.finalize(i))}))}authKeyboard(e){if(this._server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+r+4+14+4+20+4+4);i[n]=b.USERAUTH_REQUEST;W(i,r,++n);i.utf8Write(e,n+=4,r);W(i,14,n+=r);i.utf8Write("ssh-connection",n+=4,14);W(i,20,n+=14);i.utf8Write("keyboard-interactive",n+=4,20);W(i,0,n+=20);W(i,0,n+=4);this._authsQueue.push("keyboard-interactive");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (keyboard-interactive)");j(this,this._packetRW.write.finalize(i))}authNone(e){if(this._server)throw new Error("Client-only method called in server mode");const r=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+r+4+14+4+4);i[n]=b.USERAUTH_REQUEST;W(i,r,++n);i.utf8Write(e,n+=4,r);W(i,14,n+=r);i.utf8Write("ssh-connection",n+=4,14);W(i,4,n+=14);i.utf8Write("none",n+=4,4);this._authsQueue.push("none");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (none)");j(this,this._packetRW.write.finalize(i))}authInfoRes(e){if(this._server)throw new Error("Client-only method called in server mode");let r=0;let n;if(e){n=new Array(e.length);for(let i=0;i<e.length;++i){const s=Buffer.byteLength(e[i]);n[i]=s;r+=4+s}}let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+r);s[i]=b.USERAUTH_INFO_RESPONSE;if(e){W(s,e.length,++i);i+=4;for(let r=0;r<e.length;++r){const o=n[r];W(s,o,i);i+=4;if(o){s.utf8Write(e[r],i,o);i+=o}}}else{W(s,0,++i)}this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_RESPONSE");j(this,this._packetRW.write.finalize(s))}tcpipForward(e,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+13+1+4+i+4);o[s]=b.GLOBAL_REQUEST;W(o,13,++s);o.utf8Write("tcpip-forward",s+=4,13);o[s+=13]=n===undefined||n===true?1:0;W(o,i,++s);o.utf8Write(e,s+=4,i);W(o,r,s+=i);this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (tcpip-forward)");j(this,this._packetRW.write.finalize(o))}cancelTcpipForward(e,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+20+1+4+i+4);o[s]=b.GLOBAL_REQUEST;W(o,20,++s);o.utf8Write("cancel-tcpip-forward",s+=4,20);o[s+=20]=n===undefined||n===true?1:0;W(o,i,++s);o.utf8Write(e,s+=4,i);W(o,r,s+=i);this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (cancel-tcpip-forward)");j(this,this._packetRW.write.finalize(o))}openssh_streamLocalForward(e,r){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+31+1+4+n);s[i]=b.GLOBAL_REQUEST;W(s,31,++i);s.utf8Write("streamlocal-forward@openssh.com",i+=4,31);s[i+=31]=r===undefined||r===true?1:0;W(s,n,++i);s.utf8Write(e,i+=4,n);this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (streamlocal-forward@openssh.com)");j(this,this._packetRW.write.finalize(s))}openssh_cancelStreamLocalForward(e,r){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+38+1+4+n);s[i]=b.GLOBAL_REQUEST;W(s,38,++i);s.utf8Write("cancel-streamlocal-forward@openssh.com",i+=4,38);s[i+=38]=r===undefined||r===true?1:0;W(s,n,++i);s.utf8Write(e,i+=4,n);if(this._debug){this._debug("Outbound: Sending GLOBAL_REQUEST "+"(cancel-streamlocal-forward@openssh.com)")}j(this,this._packetRW.write.finalize(s))}directTcpip(e,r,n,i){if(this._server)throw new Error("Client-only method called in server mode");const s=Buffer.byteLength(i.srcIP);const o=Buffer.byteLength(i.dstIP);let u=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+12+4+4+4+4+s+4+4+o+4);f[u]=b.CHANNEL_OPEN;W(f,12,++u);f.utf8Write("direct-tcpip",u+=4,12);W(f,e,u+=12);W(f,r,u+=4);W(f,n,u+=4);W(f,o,u+=4);f.utf8Write(i.dstIP,u+=4,o);W(f,i.dstPort,u+=o);W(f,s,u+=4);f.utf8Write(i.srcIP,u+=4,s);W(f,i.srcPort,u+=s);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, direct-tcpip)`);j(this,this._packetRW.write.finalize(f))}openssh_directStreamLocal(e,r,n,i){if(this._server)throw new Error("Client-only method called in server mode");const s=Buffer.byteLength(i.socketPath);let o=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+30+4+4+4+4+s+4+4);u[o]=b.CHANNEL_OPEN;W(u,30,++o);u.utf8Write("direct-streamlocal@openssh.com",o+=4,30);W(u,e,o+=30);W(u,r,o+=4);W(u,n,o+=4);W(u,s,o+=4);u.utf8Write(i.socketPath,o+=4,s);B(u,0,o+=s,o+8);if(this._debug){this._debug("Outbound: Sending CHANNEL_OPEN "+`(r:${e}, direct-streamlocal@openssh.com)`)}j(this,this._packetRW.write.finalize(u))}openssh_noMoreSessions(e){if(this._server)throw new Error("Client-only method called in server mode");let r=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4+28+1);n[r]=b.GLOBAL_REQUEST;W(n,28,++r);n.utf8Write("no-more-sessions@openssh.com",r+=4,28);n[r+=28]=e===undefined||e===true?1:0;this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (no-more-sessions@openssh.com)");j(this,this._packetRW.write.finalize(n))}session(e,r,n){if(this._server)throw new Error("Client-only method called in server mode");let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+7+4+4+4);s[i]=b.CHANNEL_OPEN;W(s,7,++i);s.utf8Write("session",i+=4,7);W(s,e,i+=7);W(s,r,i+=4);W(s,n,i+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, session)`);j(this,this._packetRW.write.finalize(s))}windowChange(e,r,n,i,s){if(this._server)throw new Error("Client-only method called in server mode");let o=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+4+13+1+4+4+4+4);u[o]=b.CHANNEL_REQUEST;W(u,e,++o);W(u,13,o+=4);u.utf8Write("window-change",o+=4,13);u[o+=13]=0;W(u,n,++o);W(u,r,o+=4);W(u,s,o+=4);W(u,i,o+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, window-change)`);j(this,this._packetRW.write.finalize(u))}pty(e,r,n,i,s,o,u,f){if(this._server)throw new Error("Client-only method called in server mode");if(!o||!o.length)o="vt100";if(u&&!Buffer.isBuffer(u)&&!Array.isArray(u)&&typeof u==="object"&&u!==null){u=modesToBytes(u)}if(!u||!u.length)u=ie;const p=o.length;const g=u.length;let _=this._packetRW.write.allocStart;const v=this._packetRW.write.alloc(1+4+4+7+1+4+p+4+4+4+4+4+g);v[_]=b.CHANNEL_REQUEST;W(v,e,++_);W(v,7,_+=4);v.utf8Write("pty-req",_+=4,7);v[_+=7]=f===undefined||f===true?1:0;W(v,p,++_);v.utf8Write(o,_+=4,p);W(v,n,_+=p);W(v,r,_+=4);W(v,s,_+=4);W(v,i,_+=4);W(v,g,_+=4);_+=4;if(Array.isArray(u)){for(let e=0;e<g;++e)v[_++]=u[e]}else if(Buffer.isBuffer(u)){v.set(u,_)}this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, pty-req)`);j(this,this._packetRW.write.finalize(v))}shell(e,r){if(this._server)throw new Error("Client-only method called in server mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4+5+1);i[n]=b.CHANNEL_REQUEST;W(i,e,++n);W(i,5,n+=4);i.utf8Write("shell",n+=4,5);i[n+=5]=r===undefined||r===true?1:0;this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, shell)`);j(this,this._packetRW.write.finalize(i))}exec(e,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.isBuffer(r);const s=i?r.length:Buffer.byteLength(r);let o=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+4+4+1+4+s);u[o]=b.CHANNEL_REQUEST;W(u,e,++o);W(u,4,o+=4);u.utf8Write("exec",o+=4,4);u[o+=4]=n===undefined||n===true?1:0;W(u,s,++o);if(i)u.set(r,o+=4);else u.utf8Write(r,o+=4,s);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exec: ${r})`);j(this,this._packetRW.write.finalize(u))}signal(e,r){if(this._server)throw new Error("Client-only method called in server mode");const n=r;r=r.toUpperCase();if(r.slice(0,3)==="SIG")r=r.slice(3);if(_[r]!==1)throw new Error(`Invalid signal: ${n}`);const i=r.length;let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+6+1+4+i);o[s]=b.CHANNEL_REQUEST;W(o,e,++s);W(o,6,s+=4);o.utf8Write("signal",s+=4,6);o[s+=6]=0;W(o,i,++s);o.utf8Write(r,s+=4,i);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, signal: ${r})`);j(this,this._packetRW.write.finalize(o))}env(e,r,n,i){if(this._server)throw new Error("Client-only method called in server mode");const s=Buffer.byteLength(r);const o=Buffer.isBuffer(n);const u=o?n.length:Buffer.byteLength(n);let f=this._packetRW.write.allocStart;const p=this._packetRW.write.alloc(1+4+4+3+1+4+s+4+u);p[f]=b.CHANNEL_REQUEST;W(p,e,++f);W(p,3,f+=4);p.utf8Write("env",f+=4,3);p[f+=3]=i===undefined||i===true?1:0;W(p,s,++f);p.utf8Write(r,f+=4,s);W(p,u,f+=s);if(o)p.set(n,f+=4);else p.utf8Write(n,f+=4,u);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, env: ${r}=${n})`);j(this,this._packetRW.write.finalize(p))}x11Forward(e,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=r.protocol;const s=r.cookie;const o=Buffer.isBuffer(i);const u=o?i.length:Buffer.byteLength(i);const f=Buffer.isBuffer(s);const p=f?s.length:Buffer.byteLength(s);let g=this._packetRW.write.allocStart;const _=this._packetRW.write.alloc(1+4+4+7+1+1+4+u+4+p+4);_[g]=b.CHANNEL_REQUEST;W(_,e,++g);W(_,7,g+=4);_.utf8Write("x11-req",g+=4,7);_[g+=7]=n===undefined||n===true?1:0;_[++g]=r.single?1:0;W(_,u,++g);if(o)_.set(i,g+=4);else _.utf8Write(i,g+=4,u);W(_,p,g+=u);if(f)_.set(s,g+=4);else _.latin1Write(s,g+=4,p);W(_,r.screen||0,g+=p);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, x11-req)`);j(this,this._packetRW.write.finalize(_))}subsystem(e,r,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(r);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+9+1+4+i);o[s]=b.CHANNEL_REQUEST;W(o,e,++s);W(o,9,s+=4);o.utf8Write("subsystem",s+=4,9);o[s+=9]=n===undefined||n===true?1:0;W(o,i,++s);o.utf8Write(r,s+=4,i);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, subsystem: ${r})`);j(this,this._packetRW.write.finalize(o))}openssh_agentForward(e,r){if(this._server)throw new Error("Client-only method called in server mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4+26+1);i[n]=b.CHANNEL_REQUEST;W(i,e,++n);W(i,26,n+=4);i.utf8Write("auth-agent-req@openssh.com",n+=4,26);i[n+=26]=r===undefined||r===true?1:0;if(this._debug){this._debug("Outbound: Sending CHANNEL_REQUEST "+`(r:${e}, auth-agent-req@openssh.com)`)}j(this,this._packetRW.write.finalize(i))}openssh_hostKeysProve(e){if(this._server)throw new Error("Client-only method called in server mode");let r=0;const n=[];for(const i of e){const e=i.getPublicSSH();r+=4+e.length;n.push(e)}let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+29+1+r);s[i]=b.GLOBAL_REQUEST;W(s,29,++i);s.utf8Write("hostkeys-prove-00@openssh.com",i+=4,29);s[i+=29]=1;++i;for(const e of n){W(s,e.length,i);P(e,s,0,e.length,i+=4);i+=e.length}if(this._debug){this._debug("Outbound: Sending GLOBAL_REQUEST (hostkeys-prove-00@openssh.com)")}j(this,this._packetRW.write.finalize(s))}serviceAccept(e){if(!this._server)throw new Error("Server-only method called in client mode");const r=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+r);i[n]=b.SERVICE_ACCEPT;W(i,r,++n);i.utf8Write(e,n+=4,r);this._debug&&this._debug(`Outbound: Sending SERVICE_ACCEPT (${e})`);j(this,this._packetRW.write.finalize(i));if(this._server&&this._banner&&e==="ssh-userauth"){const e=this._banner;this._banner=undefined;const r=Buffer.byteLength(e);n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+r+4);i[n]=b.USERAUTH_BANNER;W(i,r,++n);i.utf8Write(e,n+=4,r);W(i,0,n+=r);this._debug&&this._debug("Outbound: Sending USERAUTH_BANNER");j(this,this._packetRW.write.finalize(i))}}forwardedTcpip(e,r,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=Buffer.byteLength(i.boundAddr);const o=Buffer.byteLength(i.remoteAddr);let u=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+15+4+4+4+4+s+4+4+o+4);f[u]=b.CHANNEL_OPEN;W(f,15,++u);f.utf8Write("forwarded-tcpip",u+=4,15);W(f,e,u+=15);W(f,r,u+=4);W(f,n,u+=4);W(f,s,u+=4);f.utf8Write(i.boundAddr,u+=4,s);W(f,i.boundPort,u+=s);W(f,o,u+=4);f.utf8Write(i.remoteAddr,u+=4,o);W(f,i.remotePort,u+=o);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, forwarded-tcpip)`);j(this,this._packetRW.write.finalize(f))}x11(e,r,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=Buffer.byteLength(i.originAddr);let o=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+3+4+4+4+4+s+4);u[o]=b.CHANNEL_OPEN;W(u,3,++o);u.utf8Write("x11",o+=4,3);W(u,e,o+=3);W(u,r,o+=4);W(u,n,o+=4);W(u,s,o+=4);u.utf8Write(i.originAddr,o+=4,s);W(u,i.originPort,o+=s);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, x11)`);j(this,this._packetRW.write.finalize(u))}openssh_authAgent(e,r,n){if(!this._server)throw new Error("Server-only method called in client mode");let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+22+4+4+4);s[i]=b.CHANNEL_OPEN;W(s,22,++i);s.utf8Write("auth-agent@openssh.com",i+=4,22);W(s,e,i+=22);W(s,r,i+=4);W(s,n,i+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, auth-agent@openssh.com)`);j(this,this._packetRW.write.finalize(s))}openssh_forwardedStreamLocal(e,r,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=Buffer.byteLength(i.socketPath);let o=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+33+4+4+4+4+s+4);u[o]=b.CHANNEL_OPEN;W(u,33,++o);u.utf8Write("forwarded-streamlocal@openssh.com",o+=4,33);W(u,e,o+=33);W(u,r,o+=4);W(u,n,o+=4);W(u,s,o+=4);u.utf8Write(i.socketPath,o+=4,s);W(u,0,o+=s);if(this._debug){this._debug("Outbound: Sending CHANNEL_OPEN "+`(r:${e}, forwarded-streamlocal@openssh.com)`)}j(this,this._packetRW.write.finalize(u))}exitStatus(e,r){if(!this._server)throw new Error("Server-only method called in client mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4+11+1+4);i[n]=b.CHANNEL_REQUEST;W(i,e,++n);W(i,11,n+=4);i.utf8Write("exit-status",n+=4,11);i[n+=11]=0;W(i,r,++n);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exit-status: ${r})`);j(this,this._packetRW.write.finalize(i))}exitSignal(e,r,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=r;if(typeof s!=="string"||!s)throw new Error(`Invalid signal: ${s}`);let o=r.toUpperCase();if(o.slice(0,3)==="SIG")o=o.slice(3);if(_[o]!==1)throw new Error(`Invalid signal: ${s}`);const u=Buffer.byteLength(o);const f=i?Buffer.byteLength(i):0;let p=this._packetRW.write.allocStart;const g=this._packetRW.write.alloc(1+4+4+11+1+4+u+1+4+f+4);g[p]=b.CHANNEL_REQUEST;W(g,e,++p);W(g,11,p+=4);g.utf8Write("exit-signal",p+=4,11);g[p+=11]=0;W(g,u,++p);g.utf8Write(o,p+=4,u);g[p+=u]=n?1:0;W(g,f,++p);p+=4;if(f){g.utf8Write(i,p,f);p+=f}W(g,0,p);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exit-signal: ${r})`);j(this,this._packetRW.write.finalize(g))}authFailure(e,r){if(!this._server)throw new Error("Server-only method called in client mode");if(this._authsQueue.length===0)throw new Error("No auth in progress");let n;if(typeof e==="boolean"){r=e;e=undefined}if(e){n=[];for(let r=0;r<e.length;++r){if(e[r].toLowerCase()==="none")continue;n.push(e[r])}n=n.join(",")}else{n=""}const i=n.length;let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+i+1);o[s]=b.USERAUTH_FAILURE;W(o,i,++s);o.utf8Write(n,s+=4,i);o[s+=i]=r===true?1:0;this._authsQueue.shift();this._debug&&this._debug("Outbound: Sending USERAUTH_FAILURE");j(this,this._packetRW.write.finalize(o))}authSuccess(){if(!this._server)throw new Error("Server-only method called in client mode");if(this._authsQueue.length===0)throw new Error("No auth in progress");const e=this._packetRW.write.allocStart;const r=this._packetRW.write.alloc(1);r[e]=b.USERAUTH_SUCCESS;this._authsQueue.shift();this._authenticated=true;this._debug&&this._debug("Outbound: Sending USERAUTH_SUCCESS");j(this,this._packetRW.write.finalize(r));if(this._kex.negotiated.cs.compress==="zlib@openssh.com")this._packetRW.read=new G;if(this._kex.negotiated.sc.compress==="zlib@openssh.com")this._packetRW.write=new q(this)}authPKOK(e,r){if(!this._server)throw new Error("Server-only method called in client mode");if(this._authsQueue.length===0||this._authsQueue[0]!=="publickey")throw new Error('"publickey" auth not in progress');const n=Buffer.byteLength(e);const i=r.length;let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+n+4+i);o[s]=b.USERAUTH_PK_OK;W(o,n,++s);o.utf8Write(e,s+=4,n);W(o,i,s+=n);o.set(r,s+=4);this._authsQueue.shift();this._debug&&this._debug("Outbound: Sending USERAUTH_PK_OK");j(this,this._packetRW.write.finalize(o))}authPasswdChg(e){if(!this._server)throw new Error("Server-only method called in client mode");const r=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+r+4);i[n]=b.USERAUTH_PASSWD_CHANGEREQ;W(i,r,++n);i.utf8Write(e,n+=4,r);W(i,0,n+=r);this._debug&&this._debug("Outbound: Sending USERAUTH_PASSWD_CHANGEREQ");j(this,this._packetRW.write.finalize(i))}authInfoReq(e,r,n){if(!this._server)throw new Error("Server-only method called in client mode");let i=0;const s=e?Buffer.byteLength(e):0;const o=r?Buffer.byteLength(r):0;for(let e=0;e<n.length;++e)i+=4+Buffer.byteLength(n[e].prompt)+1;let u=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+s+4+o+4+4+i);f[u]=b.USERAUTH_INFO_REQUEST;W(f,s,++u);u+=4;if(e){f.utf8Write(e,u,s);u+=s}W(f,o,u);u+=4;if(r){f.utf8Write(r,u,o);u+=o}W(f,0,u);W(f,n.length,u+=4);u+=4;for(let e=0;e<n.length;++e){const r=n[e];const i=Buffer.byteLength(r.prompt);W(f,i,u);u+=4;if(i){f.utf8Write(r.prompt,u,i);u+=i}f[u++]=r.echo?1:0}this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_REQUEST");j(this,this._packetRW.write.finalize(f))}}const se=/^SSH-(2\.0|1\.99)-([^ ]+)(?: (.*))?$/;function parseHeader(e,r,n){let s;let o;if(this._buffer){s=Buffer.allocUnsafe(this._buffer.length+(n-r));s.set(this._buffer,0);if(r===0){s.set(e,this._buffer.length)}else{s.set(new Uint8Array(e.buffer,e.byteOffset+r,n-r),this._buffer.length)}o=this._buffer.length;r=0}else{s=e;o=0}const f=r;let p=r;let g=r;let b=false;let _=0;let v=0;for(;r<s.length;++r){const e=s[r];if(e===13){b=true;continue}if(e===10){if(g>p&&g-p>4&&s[p]===83&&s[p+1]===83&&s[p+2]===72&&s[p+3]===45){const e=s.latin1Slice(f,g+1);const b=p===f?e:e.slice(p-f);const _=se.exec(b);if(!_)throw new Error("Invalid identification string");const v={greeting:p===f?"":e.slice(0,p-f),identRaw:b,versions:{protocol:_[1],software:_[2]},comments:_[3]};this._remoteIdentRaw=Buffer.from(b);this._debug&&this._debug(`Remote ident: ${i(b)}`);this._compatFlags=getCompatFlags(v);this._buffer=undefined;this._decipher=new u(0,R.bind(this,{firstPacket:true}));this._parse=parsePacket;this._onHeader(v);if(!this._destruct){return n}C(this);return r+1-o}if(this._server)throw new Error("Greetings from clients not permitted");if(++v>re)throw new Error("Max greeting lines exceeded");b=false;p=r+1;_=0}else if(b){throw new Error("Invalid header: expected newline")}else if(++_>=te){throw new Error("Header line too long")}g=r}if(!this._buffer)this._buffer=L(s,f);return r-o}function parsePacket(e,r,n){return this._decipher.decrypt(e,r,n)}function onPayload(e){this._onPacket();if(e.length===0){this._debug&&this._debug("Inbound: Skipping empty packet payload");return}e=this._packetRW.read.read(e);const r=e[0];if(r===b.USERAUTH_SUCCESS&&!this._server&&!this._authenticated){this._authenticated=true;if(this._kex.negotiated.cs.compress==="zlib@openssh.com")this._packetRW.write=new q(this);if(this._kex.negotiated.sc.compress==="zlib@openssh.com")this._packetRW.read=new G}const n=x[r];if(n===undefined){this._debug&&this._debug(`Inbound: Unsupported message type: ${r}`);return}return n(this,e)}function getCompatFlags(e){const r=e.versions.software;let n=0;for(const e of f){if(typeof e[0]==="string"){if(r===e[0])n|=e[1]}else if(e[0].test(r)){n|=e[1]}}return n}function modesToBytes(e){const r=Object.keys(e);const n=Buffer.allocUnsafe(5*r.length+1);let i=0;for(let s=0;s<r.length;++s){const o=r[s];if(o==="TTY_OP_END")continue;const u=v[o];if(u===undefined)continue;const f=e[o];if(typeof f==="number"&&isFinite(f)){n[i++]=u;n[i++]=f>>>24;n[i++]=f>>>16;n[i++]=f>>>8;n[i++]=f}}n[i++]=v.TTY_OP_END;if(i<n.length)return L(n,0,i);return n}function sendExtInfo(e){let r="ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521"+"rsa-sha2-512,rsa-sha2-256,ssh-rsa,ssh-dss";if(g)r=`ssh-ed25519,${r}`;const n=Buffer.byteLength(r);let i=e._packetRW.write.allocStart;const s=e._packetRW.write.alloc(1+4+4+15+4+n);s[i]=b.EXT_INFO;W(s,1,++i);W(s,15,i+=4);s.utf8Write("server-sig-algs",i+=4,15);W(s,n,i+=15);s.utf8Write(r,i+=4,n);e._debug&&e._debug("Outbound: Sending EXT_INFO");j(e,e._packetRW.write.finalize(s))}e.exports=Protocol},47352:(e,r,n)=>{"use strict";const i=n(24434);const s=n(79896);const{constants:o}=s;const{Readable:u,Writable:f}=n(2203);const{inherits:p,types:{isDate:g}}=n(39023);const b=Buffer[Symbol.species];const{bufferCopy:_,bufferSlice:v,makeBufferParser:w,writeUInt32BE:I}=n(67532);const k={SIZE:1,UIDGID:2,PERMISSIONS:4,ACMODTIME:8,EXTENDED:2147483648};const C=Buffer.alloc(28);const R={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8};const T=new Map(Object.values(R).map((e=>[e,1])));const x={[R.OK]:"No error",[R.EOF]:"End of file",[R.NO_SUCH_FILE]:"No such file or directory",[R.PERMISSION_DENIED]:"Permission denied",[R.FAILURE]:"Failure",[R.BAD_MESSAGE]:"Bad message",[R.NO_CONNECTION]:"No connection",[R.CONNECTION_LOST]:"Connection lost",[R.OP_UNSUPPORTED]:"Operation unsupported"};const P={INIT:1,OPEN:3,CLOSE:4,READ:5,WRITE:6,LSTAT:7,FSTAT:8,SETSTAT:9,FSETSTAT:10,OPENDIR:11,READDIR:12,REMOVE:13,MKDIR:14,RMDIR:15,REALPATH:16,STAT:17,RENAME:18,READLINK:19,SYMLINK:20,EXTENDED:200};const B={VERSION:2,STATUS:101,HANDLE:102,DATA:103,NAME:104,ATTRS:105,EXTENDED:201};const L={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32};const U=2*1024;const j=2**32-1;const W=Buffer.from([0,0,0,5,P.INIT,0,0,0,3]);const Q=Buffer.from([0,0,0,5,B.VERSION,0,0,0,3]);const z=/^SSH-2.0-(?:OpenSSH|dropbear)/;const G=256*1024;const q=w();const Y={readable:false,writable:false,push:e=>{},once:()=>{},on:()=>{},emit:()=>{},end:()=>{}};function noop(){}class SFTP extends i{constructor(e,r,n){super();if(typeof n!=="object"||!n)n={};const i=e._protocol._remoteIdentRaw;this.server=!!n.server;this._debug=typeof n.debug==="function"?n.debug:undefined;this._isOpenSSH=i&&z.test(i);this._version=-1;this._extensions={};this._biOpt=n.biOpt;this._pktLenBytes=0;this._pktLen=0;this._pktPos=0;this._pktType=0;this._pktData=undefined;this._writeReqid=-1;this._requests={};this._maxInPktLen=G;this._maxOutPktLen=34e3;this._maxReadLen=(this._isOpenSSH?G:34e3)-U;this._maxWriteLen=(this._isOpenSSH?G:34e3)-U;this.maxOpenHandles=undefined;this._client=e;this._protocol=e._protocol;this._callbacks=[];this._hasX11=false;this._exit={code:undefined,signal:undefined,dump:undefined,desc:undefined};this._waitWindow=false;this._chunkcb=undefined;this._buffer=[];this.type=r.type;this.subtype=undefined;this.incoming=r.incoming;this.outgoing=r.outgoing;this.stderr=Y;this.readable=true}push(e){if(e===null){cleanupRequests(this);if(!this.readable)return;this.readable=false;this.emit("end");return}let r=0;while(r<e.length){if(this._pktLenBytes<4){let n=Math.min(4-this._pktLenBytes,e.length-r);this._pktLenBytes+=n;while(n--)this._pktLen=(this._pktLen<<8)+e[r++];if(this._pktLenBytes<4)return;if(this._pktLen===0)return doFatalSFTPError(this,"Invalid packet length");if(this._pktLen>this._maxInPktLen){const e=this._maxInPktLen;return doFatalSFTPError(this,`Packet length ${this._pktLen} exceeds max length of ${e}`)}if(r>=e.length)return}if(this._pktPos<this._pktLen){const n=Math.min(this._pktLen-this._pktPos,e.length-r);if(r!==0||n!==e.length){if(n===this._pktLen){this._pkt=new b(e.buffer,e.byteOffset+r,n)}else{if(!this._pkt)this._pkt=Buffer.allocUnsafe(this._pktLen);this._pkt.set(new Uint8Array(e.buffer,e.byteOffset+r,n),this._pktPos)}}else if(n===this._pktLen){this._pkt=e}else{if(!this._pkt)this._pkt=Buffer.allocUnsafe(this._pktLen);this._pkt.set(e,this._pktPos)}r+=n;this._pktPos+=n;if(this._pktPos<this._pktLen)return}const n=this._pkt[0];const i=this._pkt;this._pktLen=0;this._pktLenBytes=0;this._pkt=undefined;this._pktPos=0;const s=this.server?te[n]:ee[n];if(!s)return doFatalSFTPError(this,`Unknown packet type ${n}`);if(this._version===-1){if(this.server){if(n!==P.INIT)return doFatalSFTPError(this,`Expected INIT packet, got ${n}`)}else if(n!==B.VERSION){return doFatalSFTPError(this,`Expected VERSION packet, got ${n}`)}}if(s(this,i)===false)return}}end(){this.destroy()}destroy(){if(this.outgoing.state==="open"||this.outgoing.state==="eof"){this.outgoing.state="closing";this._protocol.channelClose(this.outgoing.id)}}_init(){this._init=noop;if(!this.server)sendOrBuffer(this,W)}createReadStream(e,r){if(this.server)throw new Error("Client-only method called in server mode");return new ReadStream(this,e,r)}createWriteStream(e,r){if(this.server)throw new Error("Client-only method called in server mode");return new WriteStream(this,e,r)}open(e,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");if(typeof n==="function"){i=n;n=undefined}const s=typeof r==="number"?r:stringToFlags(r);if(s===null)throw new Error(`Unknown flags string: ${r}`);let o=0;let u=0;if(typeof n==="string"||typeof n==="number")n={mode:n};if(typeof n==="object"&&n!==null){n=attrsToBytes(n);o=n.flags;u=n.nb}const f=Buffer.byteLength(e);let p=9;const g=Buffer.allocUnsafe(4+1+4+4+f+4+4+u);I(g,g.length-4,0);g[4]=P.OPEN;const b=this._writeReqid=this._writeReqid+1&j;I(g,b,5);I(g,f,p);g.utf8Write(e,p+=4,f);I(g,s,p+=f);I(g,o,p+=4);if(u){p+=4;if(u===C.length)g.set(C,p);else _(C,g,0,u,p);p+=u}this._requests[b]={cb:i};const v=sendOrBuffer(this,g);this._debug&&this._debug(`SFTP: Outbound: ${v?"Buffered":"Sending"} OPEN`)}close(e,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const n=e.length;let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.CLOSE;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.set(e,i+=4);this._requests[o]={cb:r};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} CLOSE`)}read(e,r,n,i,s,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(r))throw new Error("buffer is not a Buffer");if(n>=r.length)throw new Error("offset is out of bounds");if(n+i>r.length)throw new Error("length extends beyond buffer");if(s===null)throw new Error("null position currently unsupported");read_(this,e,r,n,i,s,o)}readData(e,r,n,i,s,o){this.read(e,r,n,i,s,o)}write(e,r,n,i,s,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(r))throw new Error("buffer is not a Buffer");if(n>r.length)throw new Error("offset is out of bounds");if(n+i>r.length)throw new Error("length extends beyond buffer");if(s===null)throw new Error("null position currently unsupported");if(!i){o&&process.nextTick(o,undefined,0);return}const u=this._maxWriteLen;const f=Math.max(i-u,0);const p=s;if(f)i=u;const g=e.length;let b=9;const v=Buffer.allocUnsafe(4+1+4+4+g+8+4+i);I(v,v.length-4,0);v[4]=P.WRITE;const w=this._writeReqid=this._writeReqid+1&j;I(v,w,5);I(v,g,b);v.set(e,b+=4);b+=g;for(let e=7;e>=0;--e){v[b+e]=s&255;s/=256}I(v,i,b+=8);_(r,v,n,n+i,b+=4);this._requests[w]={cb:s=>{if(s){if(typeof o==="function")o(s)}else if(f){this.write(e,r,n+i,f,p+i,o)}else if(typeof o==="function"){o(undefined,n+i)}}};const k=sendOrBuffer(this,v);if(this._debug){const e=k?"Sent":"Buffered";this._debug(`SFTP: Outbound: ${e} WRITE (id:${w})`)}}writeData(e,r,n,i,s,o){this.write(e,r,n,i,s,o)}fastGet(e,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");fastXfer(this,s,e,r,n,i)}fastPut(e,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");fastXfer(s,this,e,r,n,i)}readFile(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");let i;if(typeof n==="function"){i=n}else if(typeof r==="function"){i=r;r=undefined}if(typeof r==="string")r={encoding:r,flag:"r"};else if(!r)r={encoding:null,flag:"r"};else if(typeof r!=="object")throw new TypeError("Bad arguments");const s=r.encoding;if(s&&!Buffer.isEncoding(s))throw new Error(`Unknown encoding: ${s}`);let o;let u;let f;let p=0;let g;let b=0;const _=r.flag||"r";const read=()=>{if(o===0){u=Buffer.allocUnsafe(8192);this.read(g,u,0,8192,b,afterRead)}else{this.read(g,u,p,o-p,b,afterRead)}};const afterRead=(e,r)=>{let n;if(e){n=e.code===R.EOF;if(!n){return this.close(g,(()=>i&&i(e)))}}else{n=false}if(n||o===0&&r===0)return close();b+=r;p+=r;if(o!==0){if(p===o)close();else read()}else{f.push(v(u,0,r));read()}};afterRead._wantEOFError=true;const close=()=>{this.close(g,(e=>{if(o===0){u=Buffer.concat(f,p)}else if(p<o){u=v(u,0,p)}if(s)u=u.toString(s);return i&&i(e,u)}))};this.open(e,_,438,((r,n)=>{if(r)return i&&i(r);g=n;const tryStat=(r,n)=>{if(r){this.stat(e,((e,n)=>{if(e){return this.close(g,(()=>{i&&i(r)}))}tryStat(null,n)}));return}o=n.size||0;if(o===0){f=[];return read()}u=Buffer.allocUnsafe(o);read()};this.fstat(g,tryStat)}))}writeFile(e,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");let s;if(typeof i==="function"){s=i}else if(typeof n==="function"){s=n;n=undefined}if(typeof n==="string")n={encoding:n,mode:438,flag:"w"};else if(!n)n={encoding:"utf8",mode:438,flag:"w"};else if(typeof n!=="object")throw new TypeError("Bad arguments");if(n.encoding&&!Buffer.isEncoding(n.encoding))throw new Error(`Unknown encoding: ${n.encoding}`);const o=n.flag||"w";this.open(e,o,n.mode,((i,u)=>{if(i){s&&s(i)}else{const i=Buffer.isBuffer(r)?r:Buffer.from(""+r,n.encoding||"utf8");const f=/a/.test(o)?null:0;if(f===null){const tryStat=(r,n)=>{if(r){this.stat(e,((e,n)=>{if(e){return this.close(u,(()=>{s&&s(r)}))}tryStat(null,n)}));return}writeAll(this,u,i,0,i.length,n.size,s)};this.fstat(u,tryStat);return}writeAll(this,u,i,0,i.length,f,s)}}))}appendFile(e,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");let s;if(typeof i==="function"){s=i}else if(typeof n==="function"){s=n;n=undefined}if(typeof n==="string")n={encoding:n,mode:438,flag:"a"};else if(!n)n={encoding:"utf8",mode:438,flag:"a"};else if(typeof n!=="object")throw new TypeError("Bad arguments");if(!n.flag)n=Object.assign({flag:"a"},n);this.writeFile(e,r,n,s)}exists(e,r){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,(e=>{r&&r(e?false:true)}))}unlink(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.REMOVE;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:r};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} REMOVE`)}rename(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);const s=Buffer.byteLength(r);let o=9;const u=Buffer.allocUnsafe(4+1+4+4+i+4+s);I(u,u.length-4,0);u[4]=P.RENAME;const f=this._writeReqid=this._writeReqid+1&j;I(u,f,5);I(u,i,o);u.utf8Write(e,o+=4,i);I(u,s,o+=i);u.utf8Write(r,o+=4,s);this._requests[f]={cb:n};const p=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${p?"Buffered":"Sending"} RENAME`)}mkdir(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");let i=0;let s=0;if(typeof r==="function"){n=r;r=undefined}if(typeof r==="object"&&r!==null){r=attrsToBytes(r);i=r.flags;s=r.nb}const o=Buffer.byteLength(e);let u=9;const f=Buffer.allocUnsafe(4+1+4+4+o+4+s);I(f,f.length-4,0);f[4]=P.MKDIR;const p=this._writeReqid=this._writeReqid+1&j;I(f,p,5);I(f,o,u);f.utf8Write(e,u+=4,o);I(f,i,u+=o);if(s){u+=4;if(s===C.length)f.set(C,u);else _(C,f,0,s,u);u+=s}this._requests[p]={cb:n};const g=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${g?"Buffered":"Sending"} MKDIR`)}rmdir(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.RMDIR;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:r};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} RMDIR`)}readdir(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");if(typeof r==="function"){n=r;r={}}if(typeof r!=="object"||r===null)r={};const i=r&&r.full?false:true;if(!Buffer.isBuffer(e)&&typeof e!=="string")throw new Error("missing directory handle or path");if(typeof e==="string"){const i=[];let s=0;const reread=(e,o)=>{if(e)return n(e);this.readdir(o,r,((e,r)=>{const u=e&&e.code===R.EOF;if(e&&!u)return this.close(o,(()=>n(e)));if(u){return this.close(o,(e=>{if(e)return n(e);n(undefined,i)}))}for(let e=0;e<r.length;++e,++s)i[s]=r[e];reread(undefined,o)}))};return this.opendir(e,reread)}const s=e.length;let o=9;const u=Buffer.allocUnsafe(4+1+4+4+s);I(u,u.length-4,0);u[4]=P.READDIR;const f=this._writeReqid=this._writeReqid+1&j;I(u,f,5);I(u,s,o);u.set(e,o+=4);this._requests[f]={cb:i?(e,r)=>{if(typeof n!=="function")return;if(e)return n(e);for(let e=r.length-1;e>=0;--e){if(r[e].filename==="."||r[e].filename==="..")r.splice(e,1)}n(undefined,r)}:n};const p=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${p?"Buffered":"Sending"} READDIR`)}fstat(e,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const n=e.length;let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.FSTAT;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.set(e,i+=4);this._requests[o]={cb:r};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} FSTAT`)}stat(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.STAT;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:r};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} STAT`)}lstat(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.LSTAT;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:r};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} LSTAT`)}opendir(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.OPENDIR;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:r};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} OPENDIR`)}setstat(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");let i=0;let s=0;if(typeof r==="object"&&r!==null){r=attrsToBytes(r);i=r.flags;s=r.nb}else if(typeof r==="function"){n=r}const o=Buffer.byteLength(e);let u=9;const f=Buffer.allocUnsafe(4+1+4+4+o+4+s);I(f,f.length-4,0);f[4]=P.SETSTAT;const p=this._writeReqid=this._writeReqid+1&j;I(f,p,5);I(f,o,u);f.utf8Write(e,u+=4,o);I(f,i,u+=o);if(s){u+=4;if(s===C.length)f.set(C,u);else _(C,f,0,s,u);u+=s}this._requests[p]={cb:n};const g=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${g?"Buffered":"Sending"} SETSTAT`)}fsetstat(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");let i=0;let s=0;if(typeof r==="object"&&r!==null){r=attrsToBytes(r);i=r.flags;s=r.nb}else if(typeof r==="function"){n=r}const o=e.length;let u=9;const f=Buffer.allocUnsafe(4+1+4+4+o+4+s);I(f,f.length-4,0);f[4]=P.FSETSTAT;const p=this._writeReqid=this._writeReqid+1&j;I(f,p,5);I(f,o,u);f.set(e,u+=4);I(f,i,u+=o);if(s){u+=4;if(s===C.length)f.set(C,u);else _(C,f,0,s,u);u+=s}this._requests[p]={cb:n};const g=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${g?"Buffered":"Sending"} FSETSTAT`)}futimes(e,r,n,i){return this.fsetstat(e,{atime:toUnixTimestamp(r),mtime:toUnixTimestamp(n)},i)}utimes(e,r,n,i){return this.setstat(e,{atime:toUnixTimestamp(r),mtime:toUnixTimestamp(n)},i)}fchown(e,r,n,i){return this.fsetstat(e,{uid:r,gid:n},i)}chown(e,r,n,i){return this.setstat(e,{uid:r,gid:n},i)}fchmod(e,r,n){return this.fsetstat(e,{mode:r},n)}chmod(e,r,n){return this.setstat(e,{mode:r},n)}readlink(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.READLINK;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:(e,n)=>{if(typeof r!=="function")return;if(e)return r(e);if(!n||!n.length)return r(new Error("Response missing link info"));r(undefined,n[0].filename)}};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} READLINK`)}symlink(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(r);const s=Buffer.byteLength(e);let o=9;const u=Buffer.allocUnsafe(4+1+4+4+i+4+s);I(u,u.length-4,0);u[4]=P.SYMLINK;const f=this._writeReqid=this._writeReqid+1&j;I(u,f,5);if(this._isOpenSSH){I(u,s,o);u.utf8Write(e,o+=4,s);I(u,i,o+=s);u.utf8Write(r,o+=4,i)}else{I(u,i,o);u.utf8Write(r,o+=4,i);I(u,s,o+=i);u.utf8Write(e,o+=4,s)}this._requests[f]={cb:n};const p=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${p?"Buffered":"Sending"} SYMLINK`)}realpath(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=P.REALPATH;const o=this._writeReqid=this._writeReqid+1&j;I(s,o,5);I(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:(e,n)=>{if(typeof r!=="function")return;if(e)return r(e);if(!n||!n.length)return r(new Error("Response missing path info"));r(undefined,n[0].filename)}};const u=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} REALPATH`)}ext_openssh_rename(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");const i=this._extensions["posix-rename@openssh.com"];if(!i||i!=="1")throw new Error("Server does not support this extended request");const s=Buffer.byteLength(e);const o=Buffer.byteLength(r);let u=9;const f=Buffer.allocUnsafe(4+1+4+4+24+4+s+4+o);I(f,f.length-4,0);f[4]=P.EXTENDED;const p=this._writeReqid=this._writeReqid+1&j;I(f,p,5);I(f,24,u);f.utf8Write("posix-rename@openssh.com",u+=4,24);I(f,s,u+=24);f.utf8Write(e,u+=4,s);I(f,o,u+=s);f.utf8Write(r,u+=4,o);this._requests[p]={cb:n};const g=sendOrBuffer(this,f);if(this._debug){const e=g?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} posix-rename@openssh.com`)}}ext_openssh_statvfs(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["statvfs@openssh.com"];if(!n||n!=="2")throw new Error("Server does not support this extended request");const i=Buffer.byteLength(e);let s=9;const o=Buffer.allocUnsafe(4+1+4+4+19+4+i);I(o,o.length-4,0);o[4]=P.EXTENDED;const u=this._writeReqid=this._writeReqid+1&j;I(o,u,5);I(o,19,s);o.utf8Write("statvfs@openssh.com",s+=4,19);I(o,i,s+=19);o.utf8Write(e,s+=4,i);this._requests[u]={extended:"statvfs@openssh.com",cb:r};const f=sendOrBuffer(this,o);if(this._debug){const e=f?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} statvfs@openssh.com`)}}ext_openssh_fstatvfs(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["fstatvfs@openssh.com"];if(!n||n!=="2")throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const i=e.length;let s=9;const o=Buffer.allocUnsafe(4+1+4+4+20+4+i);I(o,o.length-4,0);o[4]=P.EXTENDED;const u=this._writeReqid=this._writeReqid+1&j;I(o,u,5);I(o,20,s);o.utf8Write("fstatvfs@openssh.com",s+=4,20);I(o,i,s+=20);o.set(e,s+=4);this._requests[u]={extended:"fstatvfs@openssh.com",cb:r};const f=sendOrBuffer(this,o);if(this._debug){const e=f?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} fstatvfs@openssh.com`)}}ext_openssh_hardlink(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");const i=this._extensions["hardlink@openssh.com"];if(i!=="1")throw new Error("Server does not support this extended request");const s=Buffer.byteLength(e);const o=Buffer.byteLength(r);let u=9;const f=Buffer.allocUnsafe(4+1+4+4+20+4+s+4+o);I(f,f.length-4,0);f[4]=P.EXTENDED;const p=this._writeReqid=this._writeReqid+1&j;I(f,p,5);I(f,20,u);f.utf8Write("hardlink@openssh.com",u+=4,20);I(f,s,u+=20);f.utf8Write(e,u+=4,s);I(f,o,u+=s);f.utf8Write(r,u+=4,o);this._requests[p]={cb:n};const g=sendOrBuffer(this,f);if(this._debug){const e=g?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} hardlink@openssh.com`)}}ext_openssh_fsync(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["fsync@openssh.com"];if(n!=="1")throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const i=e.length;let s=9;const o=Buffer.allocUnsafe(4+1+4+4+17+4+i);I(o,o.length-4,0);o[4]=P.EXTENDED;const u=this._writeReqid=this._writeReqid+1&j;I(o,u,5);I(o,17,s);o.utf8Write("fsync@openssh.com",s+=4,17);I(o,i,s+=17);o.set(e,s+=4);this._requests[u]={cb:r};const f=sendOrBuffer(this,o);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} fsync@openssh.com`)}ext_openssh_lsetstat(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");const i=this._extensions["lsetstat@openssh.com"];if(i!=="1")throw new Error("Server does not support this extended request");let s=0;let o=0;if(typeof r==="object"&&r!==null){r=attrsToBytes(r);s=r.flags;o=r.nb}else if(typeof r==="function"){n=r}const u=Buffer.byteLength(e);let f=9;const p=Buffer.allocUnsafe(4+1+4+4+20+4+u+4+o);I(p,p.length-4,0);p[4]=P.EXTENDED;const g=this._writeReqid=this._writeReqid+1&j;I(p,g,5);I(p,20,f);p.utf8Write("lsetstat@openssh.com",f+=4,20);I(p,u,f+=20);p.utf8Write(e,f+=4,u);I(p,s,f+=u);if(o){f+=4;if(o===C.length)p.set(C,f);else _(C,p,0,o,f);f+=o}this._requests[g]={cb:n};const b=sendOrBuffer(this,p);if(this._debug){const e=b?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} lsetstat@openssh.com`)}}ext_openssh_expandPath(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["expand-path@openssh.com"];if(n!=="1")throw new Error("Server does not support this extended request");const i=Buffer.byteLength(e);let s=9;const o=Buffer.allocUnsafe(4+1+4+4+23+4+i);I(o,o.length-4,0);o[4]=P.EXTENDED;const u=this._writeReqid=this._writeReqid+1&j;I(o,u,5);I(o,23,s);o.utf8Write("expand-path@openssh.com",s+=4,23);I(o,i,s+=20);o.utf8Write(e,s+=4,i);this._requests[u]={cb:(e,n)=>{if(typeof r!=="function")return;if(e)return r(e);if(!n||!n.length)return r(new Error("Response missing expanded path"));r(undefined,n[0].filename)}};const f=sendOrBuffer(this,o);if(this._debug){const e=f?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} expand-path@openssh.com`)}}ext_copy_data(e,r,n,i,s,o){if(this.server)throw new Error("Client-only method called in server mode");const u=this._extensions["copy-data"];if(u!=="1")throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("Source handle is not a Buffer");if(!Buffer.isBuffer(i))throw new Error("Destination handle is not a Buffer");let f=0;const p=Buffer.allocUnsafe(4+1+4+4+9+4+e.length+8+8+4+i.length+8);I(p,p.length-4,f);f+=4;p[f]=P.EXTENDED;++f;const g=this._writeReqid=this._writeReqid+1&j;I(p,g,f);f+=4;I(p,9,f);f+=4;p.utf8Write("copy-data",f,9);f+=9;I(p,e.length,f);f+=4;p.set(e,f);f+=e.length;for(let e=7;e>=0;--e){p[f+e]=r&255;r/=256}f+=8;for(let e=7;e>=0;--e){p[f+e]=n&255;n/=256}f+=8;I(p,i.length,f);f+=4;p.set(i,f);f+=i.length;for(let e=7;e>=0;--e){p[f+e]=s&255;s/=256}this._requests[g]={cb:o};const b=sendOrBuffer(this,p);if(this._debug){const e=b?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} copy-data`)}}ext_home_dir(e,r){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["home-directory"];if(n!=="1")throw new Error("Server does not support this extended request");if(typeof e!=="string")throw new TypeError("username is not a string");let i=0;const s=Buffer.byteLength(e);const o=Buffer.allocUnsafe(4+1+4+4+14+4+s);I(o,o.length-4,i);i+=4;o[i]=P.EXTENDED;++i;const u=this._writeReqid=this._writeReqid+1&j;I(o,u,i);i+=4;I(o,14,i);i+=4;o.utf8Write("home-directory",i,14);i+=14;I(o,s,i);i+=4;o.utf8Write(e,i,s);i+=s;this._requests[u]={cb:(e,n)=>{if(typeof r!=="function")return;if(e)return r(e);if(!n||!n.length)return r(new Error("Response missing home directory"));r(undefined,n[0].filename)}};const f=sendOrBuffer(this,o);if(this._debug){const e=f?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} home-directory`)}}ext_users_groups(e,r,n){if(this.server)throw new Error("Client-only method called in server mode");const i=this._extensions["users-groups-by-id@openssh.com"];if(i!=="1")throw new Error("Server does not support this extended request");if(!Array.isArray(e))throw new TypeError("uids is not an array");for(const r of e){if(!Number.isInteger(r)||r<0||r>2**32-1)throw new Error("uid values must all be 32-bit unsigned integers")}if(!Array.isArray(r))throw new TypeError("gids is not an array");for(const e of r){if(!Number.isInteger(e)||e<0||e>2**32-1)throw new Error("gid values must all be 32-bit unsigned integers")}let s=0;const o=Buffer.allocUnsafe(4+1+4+4+30+4+4*e.length+4+4*r.length);I(o,o.length-4,s);s+=4;o[s]=P.EXTENDED;++s;const u=this._writeReqid=this._writeReqid+1&j;I(o,u,s);s+=4;I(o,30,s);s+=4;o.utf8Write("users-groups-by-id@openssh.com",s,30);s+=30;I(o,4*e.length,s);s+=4;for(const r of e){I(o,r,s);s+=4}I(o,4*r.length,s);s+=4;for(const e of r){I(o,e,s);s+=4}this._requests[u]={extended:"users-groups-by-id@openssh.com",cb:n};const f=sendOrBuffer(this,o);if(this._debug){const e=f?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} users-groups-by-id@openssh.com`)}}handle(e,r){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(r))throw new Error("handle is not a Buffer");const n=r.length;if(n>256)throw new Error("handle too large (> 256 bytes)");let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);I(s,s.length-4,0);s[4]=B.HANDLE;I(s,e,5);I(s,n,i);if(n)s.set(r,i+=4);const o=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${o?"Buffered":"Sending"} HANDLE`)}status(e,r,n){if(!this.server)throw new Error("Server-only method called in client mode");if(!T.has(r))throw new Error(`Bad status code: ${r}`);n||(n="");const i=Buffer.byteLength(n);let s=9;const o=Buffer.allocUnsafe(4+1+4+4+4+i+4);I(o,o.length-4,0);o[4]=B.STATUS;I(o,e,5);I(o,r,s);I(o,i,s+=4);s+=4;if(i){o.utf8Write(n,s,i);s+=i}I(o,0,s);const u=sendOrBuffer(this,o);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} STATUS`)}data(e,r,n){if(!this.server)throw new Error("Server-only method called in client mode");const i=Buffer.isBuffer(r);if(!i&&typeof r!=="string")throw new Error("data is not a Buffer or string");let s;if(!i&&!n){n=undefined;s=true}const o=i?r.length:Buffer.byteLength(r,n);let u=9;const f=Buffer.allocUnsafe(4+1+4+4+o);I(f,f.length-4,0);f[4]=B.DATA;I(f,e,5);I(f,o,u);if(o){if(i)f.set(r,u+=4);else if(s)f.utf8Write(r,u+=4,o);else f.write(r,u+=4,o,n)}const p=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${p?"Buffered":"Sending"} DATA`)}name(e,r){if(!this.server)throw new Error("Server-only method called in client mode");if(!Array.isArray(r)){if(typeof r!=="object"||r===null)throw new Error("names is not an object or array");r=[r]}const n=r.length;let i=0;let s;const o=[];for(let e=0;e<n;++e){const n=r[e];const u=!n||!n.filename||typeof n.filename!=="string"?"":n.filename;i+=4+Buffer.byteLength(u);const f=!n||!n.longname||typeof n.longname!=="string"?"":n.longname;i+=4+Buffer.byteLength(f);if(typeof n.attrs==="object"&&n.attrs!==null){s=attrsToBytes(n.attrs);i+=4+s.nb;if(s.nb){let e;if(s.nb===C.length){e=new Uint8Array(C)}else{e=new Uint8Array(s.nb);_(C,e,0,s.nb,0)}s.bytes=e}o.push(s)}else{i+=4;o.push(null)}}let u=9;const f=Buffer.allocUnsafe(4+1+4+4+i);I(f,f.length-4,0);f[4]=B.NAME;I(f,e,5);I(f,n,u);u+=4;for(let e=0;e<n;++e){const n=r[e];{const e=!n||!n.filename||typeof n.filename!=="string"?"":n.filename;const r=Buffer.byteLength(e);I(f,r,u);u+=4;if(r){f.utf8Write(e,u,r);u+=r}}{const e=!n||!n.longname||typeof n.longname!=="string"?"":n.longname;const r=Buffer.byteLength(e);I(f,r,u);u+=4;if(r){f.utf8Write(e,u,r);u+=r}}const i=o[e];if(i){I(f,i.flags,u);u+=4;if(i.flags&&i.bytes){f.set(i.bytes,u);u+=i.nb}}else{I(f,0,u);u+=4}}const p=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${p?"Buffered":"Sending"} NAME`)}attrs(e,r){if(!this.server)throw new Error("Server-only method called in client mode");if(typeof r!=="object"||r===null)throw new Error("attrs is not an object");r=attrsToBytes(r);const n=r.flags;const i=r.nb;let s=9;const o=Buffer.allocUnsafe(4+1+4+4+i);I(o,o.length-4,0);o[4]=B.ATTRS;I(o,e,5);I(o,n,s);if(i){s+=4;if(i===C.length)o.set(C,s);else _(C,o,0,i,s);s+=i}const u=sendOrBuffer(this,o);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} ATTRS`)}}function tryCreateBuffer(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}function read_(e,r,n,i,s,o,u,f){const p=e._maxReadLen;const g=Math.max(s-p,0);if(g)s=p;const b=r.length;let _=9;let w=o;const k=Buffer.allocUnsafe(4+1+4+4+b+8+4);I(k,k.length-4,0);k[4]=P.READ;const C=e._writeReqid=e._writeReqid+1&j;I(k,C,5);I(k,b,_);k.set(r,_+=4);_+=b;for(let e=7;e>=0;--e){k[_+e]=w&255;w/=256}I(k,s,_+=8);if(typeof u!=="function")u=noop;const T=f||{nb:0,position:o,off:i,origOff:i,len:undefined,overflow:undefined,cb:(i,s,o)=>{const f=T.len;const p=T.overflow;if(i){if(u._wantEOFError||i.code!==R.EOF)return u(i)}else if(o>f){return u(new Error("Received more data than requested"))}else if(o===f&&p){T.nb+=o;T.position+=o;T.off+=o;read_(e,r,n,T.off,p,T.position,u,T);return}o=o||0;if(T.origOff===0&&n.length===T.nb)s=n;else s=v(n,T.origOff,T.origOff+T.nb+o);u(undefined,T.nb+o,s,T.position)},buffer:undefined};T.len=s;T.overflow=g;T.buffer=v(n,i,i+s);e._requests[C]=T;const x=sendOrBuffer(e,k);e._debug&&e._debug(`SFTP: Outbound: ${x?"Buffered":"Sending"} READ`)}function fastXfer(e,r,n,i,o,u){let f=64;let p=32768;let g;let b;let _;if(typeof o==="function"){u=o}else if(typeof o==="object"&&o!==null){if(typeof o.concurrency==="number"&&o.concurrency>0&&!isNaN(o.concurrency)){f=o.concurrency}if(typeof o.chunkSize==="number"&&o.chunkSize>0&&!isNaN(o.chunkSize)){p=o.chunkSize}if(typeof o.fileSize==="number"&&o.fileSize>0&&!isNaN(o.fileSize)){_=o.fileSize}if(typeof o.step==="function")g=o.step;if(typeof o.mode==="string"||typeof o.mode==="number")b=modeNum(o.mode)}let v;let w=0;let I=0;let k=false;let C;let R;let T;let x=p*f;function onerror(n){if(k)return;k=true;let i=0;let o;if(C||R){o=()=>{if(--i===0)u(n)};if(C&&(e===s||e.outgoing.state==="open"))++i;if(R&&(r===s||r.outgoing.state==="open"))++i;if(C&&(e===s||e.outgoing.state==="open"))e.close(C,o);if(R&&(r===s||r.outgoing.state==="open"))r.close(R,o)}else{u(n)}}e.open(n,"r",((o,k)=>{if(o)return onerror(o);C=k;if(_===undefined)e.fstat(C,tryStat);else tryStat(null,{size:_});function tryStat(o,_){if(o){if(e!==s){e.stat(n,((e,r)=>{if(e)return onerror(o);tryStat(null,r)}));return}return onerror(o)}v=_.size;r.open(i,"w",((n,s)=>{if(n)return onerror(n);R=s;if(v<=0)return onerror();while(x>v){if(f===1){x=v;break}x-=p;--f}T=tryCreateBuffer(x);if(T instanceof Error)return onerror(T);if(b!==undefined){r.fchmod(R,b,(function tryAgain(e){if(e){r.chmod(i,b,(e=>tryAgain()));return}startReads()}))}else{startReads()}function onread(n,i,s,o,f,b){if(n)return onerror(n);f=f||0;r.write(R,T,f,i,o,writeCb);function writeCb(n){if(n)return onerror(n);I+=i;g&&g(I,i,v);if(i<b)return singleRead(f,o+i,b-i);if(I===v){r.close(R,(r=>{R=undefined;if(r)return onerror(r);e.close(C,(e=>{C=undefined;if(e)return onerror(e);u()}))}));return}if(w>=v)return;const s=w+p>v?v-w:p;singleRead(f,w,s);w+=s}}function makeCb(e,r,n){return(i,s,o)=>{onread(i,s,o,r,e,n)}}function singleRead(r,n,i){e.read(C,T,r,i,n,makeCb(r,n,i))}function startReads(){let e=0;let r=0;while(w<v&&e<f){const n=w+p>v?v-w:p;singleRead(r,w,n);r+=n;w+=n;++e}}}))}}))}function writeAll(e,r,n,i,s,o,u){const f=typeof u==="function"?u:undefined;e.write(r,n,i,s,o,((u,p)=>{if(u){return e.close(r,(()=>{f&&f(u)}))}if(p===s){e.close(r,f)}else{i+=p;s-=p;o+=p;writeAll(e,r,n,i,s,o,f)}}))}class Stats{constructor(e){this.mode=e&&e.mode;this.uid=e&&e.uid;this.gid=e&&e.gid;this.size=e&&e.size;this.atime=e&&e.atime;this.mtime=e&&e.mtime;this.extended=e&&e.extended}isDirectory(){return(this.mode&o.S_IFMT)===o.S_IFDIR}isFile(){return(this.mode&o.S_IFMT)===o.S_IFREG}isBlockDevice(){return(this.mode&o.S_IFMT)===o.S_IFBLK}isCharacterDevice(){return(this.mode&o.S_IFMT)===o.S_IFCHR}isSymbolicLink(){return(this.mode&o.S_IFMT)===o.S_IFLNK}isFIFO(){return(this.mode&o.S_IFMT)===o.S_IFIFO}isSocket(){return(this.mode&o.S_IFMT)===o.S_IFSOCK}}function attrsToBytes(e){let r=0;let n=0;if(typeof e==="object"&&e!==null){if(typeof e.size==="number"){r|=k.SIZE;const i=e.size;C[n++]=i/72057594037927940;C[n++]=i/281474976710656;C[n++]=i/1099511627776;C[n++]=i/4294967296;C[n++]=i/16777216;C[n++]=i/65536;C[n++]=i/256;C[n++]=i}if(typeof e.uid==="number"&&typeof e.gid==="number"){r|=k.UIDGID;const i=e.uid;const s=e.gid;C[n++]=i>>>24;C[n++]=i>>>16;C[n++]=i>>>8;C[n++]=i;C[n++]=s>>>24;C[n++]=s>>>16;C[n++]=s>>>8;C[n++]=s}if(typeof e.mode==="number"||typeof e.mode==="string"){const i=modeNum(e.mode);r|=k.PERMISSIONS;C[n++]=i>>>24;C[n++]=i>>>16;C[n++]=i>>>8;C[n++]=i}if((typeof e.atime==="number"||g(e.atime))&&(typeof e.mtime==="number"||g(e.mtime))){const i=toUnixTimestamp(e.atime);const s=toUnixTimestamp(e.mtime);r|=k.ACMODTIME;C[n++]=i>>>24;C[n++]=i>>>16;C[n++]=i>>>8;C[n++]=i;C[n++]=s>>>24;C[n++]=s>>>16;C[n++]=s>>>8;C[n++]=s}}return{flags:r,nb:n}}function toUnixTimestamp(e){if(typeof e==="number"&&e===e)return e;if(g(e))return parseInt(e.getTime()/1e3,10);throw new Error(`Cannot parse time: ${e}`)}function modeNum(e){if(typeof e==="number"&&e===e)return e;if(typeof e==="string")return modeNum(parseInt(e,8));throw new Error(`Cannot parse mode: ${e}`)}const V={r:L.READ,"r+":L.READ|L.WRITE,w:L.TRUNC|L.CREAT|L.WRITE,wx:L.TRUNC|L.CREAT|L.WRITE|L.EXCL,xw:L.TRUNC|L.CREAT|L.WRITE|L.EXCL,"w+":L.TRUNC|L.CREAT|L.READ|L.WRITE,"wx+":L.TRUNC|L.CREAT|L.READ|L.WRITE|L.EXCL,"xw+":L.TRUNC|L.CREAT|L.READ|L.WRITE|L.EXCL,a:L.APPEND|L.CREAT|L.WRITE,ax:L.APPEND|L.CREAT|L.WRITE|L.EXCL,xa:L.APPEND|L.CREAT|L.WRITE|L.EXCL,"a+":L.APPEND|L.CREAT|L.READ|L.WRITE,"ax+":L.APPEND|L.CREAT|L.READ|L.WRITE|L.EXCL,"xa+":L.APPEND|L.CREAT|L.READ|L.WRITE|L.EXCL};function stringToFlags(e){const r=V[e];return r!==undefined?r:null}const J=(()=>{const e=Object.keys(V);return r=>{for(let n=0;n<e.length;++n){const i=e[n];if(V[i]===r)return i}return null}})();function readAttrs(e){const r=q.readUInt32BE();if(r===undefined)return;const n=new Stats;if(r&k.SIZE){const r=q.readUInt64BE(e);if(r===undefined)return;n.size=r}if(r&k.UIDGID){const e=q.readUInt32BE();const r=q.readUInt32BE();if(r===undefined)return;n.uid=e;n.gid=r}if(r&k.PERMISSIONS){const e=q.readUInt32BE();if(e===undefined)return;n.mode=e}if(r&k.ACMODTIME){const e=q.readUInt32BE();const r=q.readUInt32BE();if(r===undefined)return;n.atime=e;n.mtime=r}if(r&k.EXTENDED){const e=q.readUInt32BE();if(e===undefined)return;const r={};for(let n=0;n<e;++n){const e=q.readString(true);const n=q.readString();if(n===undefined)return;r[e]=n}n.extended=r}return n}function sendOrBuffer(e,r){const n=tryWritePayload(e,r);if(n!==undefined){e._buffer.push(n);return false}return true}function tryWritePayload(e,r){const n=e.outgoing;if(n.state!=="open")return;if(n.window===0){e._waitWindow=true;e._chunkcb=drainBuffer;return r}let i;const s=r.length;let o=0;while(s-o>0&&n.window>0){const i=Math.min(s-o,n.window,n.packetSize);n.window-=i;if(n.window===0){e._waitWindow=true;e._chunkcb=drainBuffer}if(o===0&&i===s){e._protocol.channelData(e.outgoing.id,r)}else{e._protocol.channelData(e.outgoing.id,v(r,o,o+i))}o+=i}if(s-o>0){if(o>0)i=v(r,o,s);else i=r}return i}function drainBuffer(){this._chunkcb=undefined;const e=this._buffer;let r=0;while(r<e.length){const n=e[r];const i=tryWritePayload(this,n);if(i!==undefined){if(i!==n)e[r]=i;if(r>0)this._buffer=e.slice(r);return}++r}if(r>0)this._buffer=[]}function doFatalSFTPError(e,r,n){const i=new Error(r);i.level="sftp-protocol";if(!n&&e._debug)e._debug(`SFTP: Inbound: ${r}`);e.emit("error",i);e.destroy();cleanupRequests(e);return false}function cleanupRequests(e){const r=Object.keys(e._requests);if(r.length===0)return;const n=e._requests;e._requests={};const i=new Error("No response from server");for(let e=0;e<r.length;++e){const s=n[r[e]];if(typeof s.cb==="function")s.cb(i)}}function requestLimits(e,r){let n=9;const i=Buffer.allocUnsafe(4+1+4+4+18);I(i,i.length-4,0);i[4]=P.EXTENDED;const s=e._writeReqid=e._writeReqid+1&j;I(i,s,5);I(i,18,n);i.utf8Write("limits@openssh.com",n+=4,18);e._requests[s]={extended:"limits@openssh.com",cb:r};const o=sendOrBuffer(e,i);if(e._debug){const r=o?"Buffered":"Sending";e._debug(`SFTP: Outbound: ${r} limits@openssh.com`)}}const ee={[B.VERSION]:(e,r)=>{if(e._version!==-1)return doFatalSFTPError(e,"Duplicate VERSION packet");const n={};q.init(r,1);let i=q.readUInt32BE();while(q.avail()){const e=q.readString(true);const r=q.readString(true);if(r===undefined){i=undefined;break}n[e]=r}q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed VERSION packet");if(e._debug){const r=Object.keys(n);if(r.length){e._debug(`SFTP: Inbound: Received VERSION (v${i}, exts:${r})`)}else{e._debug(`SFTP: Inbound: Received VERSION (v${i})`)}}e._version=i;e._extensions=n;if(n["limits@openssh.com"]==="1"){return requestLimits(e,((r,n)=>{if(!r){if(n.maxPktLen>0)e._maxOutPktLen=n.maxPktLen;if(n.maxReadLen>0)e._maxReadLen=n.maxReadLen;if(n.maxWriteLen>0)e._maxWriteLen=n.maxWriteLen;e.maxOpenHandles=n.maxOpenHandles>0?n.maxOpenHandles:Infinity}e.emit("ready")}))}e.emit("ready")},[B.STATUS]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readUInt32BE();const s=q.readString(true);q.clear();if(e._debug){const r=JSON.stringify(s);e._debug(`SFTP: Inbound: Received STATUS (id:${n}, ${i}, ${r})`)}const o=e._requests[n];delete e._requests[n];if(o&&typeof o.cb==="function"){if(i===R.OK){o.cb();return}const e=new Error(s||x[i]||"Unknown status");e.code=i;o.cb(e)}},[B.HANDLE]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString();q.clear();if(i===undefined){if(n!==undefined)delete e._requests[n];return doFatalSFTPError(e,"Malformed HANDLE packet")}e._debug&&e._debug(`SFTP: Inbound: Received HANDLE (id:${n})`);const s=e._requests[n];delete e._requests[n];if(s&&typeof s.cb==="function")s.cb(undefined,i)},[B.DATA]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();let i;if(n!==undefined){i=e._requests[n];delete e._requests[n]}if(i&&typeof i.cb==="function"){if(i.buffer){const r=q.readString(i.buffer);q.clear();if(r!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${n}, ${r})`);i.cb(undefined,i.buffer,r);return}}else{const r=q.readString();q.clear();if(r!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${n}, ${r.length})`);i.cb(undefined,r);return}}}else{const r=q.skipString();q.clear();if(r!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${n}, ${r})`);return}}return doFatalSFTPError(e,"Malformed DATA packet")},[B.NAME]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();let i;if(n!==undefined){i=e._requests[n];delete e._requests[n]}const s=q.readUInt32BE();if(s!==undefined){let r=[];for(let n=0;n<s;++n){const n=q.readString(true);const i=q.readString(true);const s=readAttrs(e._biOpt);if(s===undefined){r=undefined;break}r.push({filename:n,longname:i,attrs:s})}if(r!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received NAME (id:${n}, ${r.length})`);q.clear();if(i&&typeof i.cb==="function")i.cb(undefined,r);return}}q.clear();return doFatalSFTPError(e,"Malformed NAME packet")},[B.ATTRS]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();let i;if(n!==undefined){i=e._requests[n];delete e._requests[n]}const s=readAttrs(e._biOpt);q.clear();if(s!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received ATTRS (id:${n})`);if(i&&typeof i.cb==="function")i.cb(undefined,s);return}return doFatalSFTPError(e,"Malformed ATTRS packet")},[B.EXTENDED]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();if(n!==undefined){const r=e._requests[n];if(r){delete e._requests[n];switch(r.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":{const i=e._biOpt;const s={f_bsize:q.readUInt64BE(i),f_frsize:q.readUInt64BE(i),f_blocks:q.readUInt64BE(i),f_bfree:q.readUInt64BE(i),f_bavail:q.readUInt64BE(i),f_files:q.readUInt64BE(i),f_ffree:q.readUInt64BE(i),f_favail:q.readUInt64BE(i),f_sid:q.readUInt64BE(i),f_flag:q.readUInt64BE(i),f_namemax:q.readUInt64BE(i)};if(s.f_namemax===undefined)break;if(e._debug){e._debug("SFTP: Inbound: Received EXTENDED_REPLY "+`(id:${n}, ${r.extended})`)}q.clear();if(typeof r.cb==="function")r.cb(undefined,s);return}case"limits@openssh.com":{const i={maxPktLen:q.readUInt64BE(),maxReadLen:q.readUInt64BE(),maxWriteLen:q.readUInt64BE(),maxOpenHandles:q.readUInt64BE()};if(i.maxOpenHandles===undefined)break;if(e._debug){e._debug("SFTP: Inbound: Received EXTENDED_REPLY "+`(id:${n}, ${r.extended})`)}q.clear();if(typeof r.cb==="function")r.cb(undefined,i);return}case"users-groups-by-id@openssh.com":{const i=q.readUInt32BE();if(i===undefined)break;const s=new Array(i);for(let e=0;e<s.length;++e)s[e]=q.readString(true);const o=q.readUInt32BE();if(o===undefined)break;const u=new Array(o);for(let e=0;e<u.length;++e)u[e]=q.readString(true);if(u.length>0&&u[u.length-1]===undefined){break}if(e._debug){e._debug("SFTP: Inbound: Received EXTENDED_REPLY "+`(id:${n}, ${r.extended})`)}q.clear();if(typeof r.cb==="function")r.cb(undefined,s,u);return}default:e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${n}, ???)`);q.clear();if(typeof r.cb==="function")r.cb();return}}else{e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${n}, ???)`);q.clear();return}}q.clear();return doFatalSFTPError(e,"Malformed EXTENDED_REPLY packet")}};const te={[P.INIT]:(e,r)=>{if(e._version!==-1)return doFatalSFTPError(e,"Duplicate INIT packet");const n={};q.init(r,1);let i=q.readUInt32BE();while(q.avail()){const e=q.readString(true);const r=q.readString(true);if(r===undefined){i=undefined;break}n[e]=r}q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed INIT packet");if(e._debug){const r=Object.keys(n);if(r.length){e._debug(`SFTP: Inbound: Received INIT (v${i}, exts:${r})`)}else{e._debug(`SFTP: Inbound: Received INIT (v${i})`)}}sendOrBuffer(e,Q);e._version=i;e._extensions=n;e.emit("ready")},[P.OPEN]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);const s=q.readUInt32BE();const o=readAttrs(e._biOpt);q.clear();if(o===undefined)return doFatalSFTPError(e,"Malformed OPEN packet");e._debug&&e._debug(`SFTP: Inbound: Received OPEN (id:${n})`);if(!e.emit("OPEN",n,i,s,o)){e.status(n,R.OP_UNSUPPORTED)}},[P.CLOSE]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString();q.clear();if(i===undefined||i.length>256)return doFatalSFTPError(e,"Malformed CLOSE packet");e._debug&&e._debug(`SFTP: Inbound: Received CLOSE (id:${n})`);if(!e.emit("CLOSE",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.READ]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString();const s=q.readUInt64BE(e._biOpt);const o=q.readUInt32BE();q.clear();if(o===undefined||i.length>256)return doFatalSFTPError(e,"Malformed READ packet");e._debug&&e._debug(`SFTP: Inbound: Received READ (id:${n})`);if(!e.emit("READ",n,i,s,o)){e.status(n,R.OP_UNSUPPORTED)}},[P.WRITE]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString();const s=q.readUInt64BE(e._biOpt);const o=q.readString();q.clear();if(o===undefined||i.length>256)return doFatalSFTPError(e,"Malformed WRITE packet");e._debug&&e._debug(`SFTP: Inbound: Received WRITE (id:${n})`);if(!e.emit("WRITE",n,i,s,o)){e.status(n,R.OP_UNSUPPORTED)}},[P.LSTAT]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed LSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received LSTAT (id:${n})`);if(!e.emit("LSTAT",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.FSTAT]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString();q.clear();if(i===undefined||i.length>256)return doFatalSFTPError(e,"Malformed FSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received FSTAT (id:${n})`);if(!e.emit("FSTAT",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.SETSTAT]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);const s=readAttrs(e._biOpt);q.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed SETSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received SETSTAT (id:${n})`);if(!e.emit("SETSTAT",n,i,s)){e.status(n,R.OP_UNSUPPORTED)}},[P.FSETSTAT]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString();const s=readAttrs(e._biOpt);q.clear();if(s===undefined||i.length>256)return doFatalSFTPError(e,"Malformed FSETSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received FSETSTAT (id:${n})`);if(!e.emit("FSETSTAT",n,i,s)){e.status(n,R.OP_UNSUPPORTED)}},[P.OPENDIR]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed OPENDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received OPENDIR (id:${n})`);if(!e.emit("OPENDIR",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.READDIR]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString();q.clear();if(i===undefined||i.length>256)return doFatalSFTPError(e,"Malformed READDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received READDIR (id:${n})`);if(!e.emit("READDIR",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.REMOVE]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed REMOVE packet");e._debug&&e._debug(`SFTP: Inbound: Received REMOVE (id:${n})`);if(!e.emit("REMOVE",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.MKDIR]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);const s=readAttrs(e._biOpt);q.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed MKDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received MKDIR (id:${n})`);if(!e.emit("MKDIR",n,i,s)){e.status(n,R.OP_UNSUPPORTED)}},[P.RMDIR]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed RMDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received RMDIR (id:${n})`);if(!e.emit("RMDIR",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.REALPATH]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed REALPATH packet");e._debug&&e._debug(`SFTP: Inbound: Received REALPATH (id:${n})`);if(!e.emit("REALPATH",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.STAT]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed STAT packet");e._debug&&e._debug(`SFTP: Inbound: Received STAT (id:${n})`);if(!e.emit("STAT",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.RENAME]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);const s=q.readString(true);q.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed RENAME packet");e._debug&&e._debug(`SFTP: Inbound: Received RENAME (id:${n})`);if(!e.emit("RENAME",n,i,s)){e.status(n,R.OP_UNSUPPORTED)}},[P.READLINK]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);q.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed READLINK packet");e._debug&&e._debug(`SFTP: Inbound: Received READLINK (id:${n})`);if(!e.emit("READLINK",n,i)){e.status(n,R.OP_UNSUPPORTED)}},[P.SYMLINK]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);const s=q.readString(true);q.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed SYMLINK packet");e._debug&&e._debug(`SFTP: Inbound: Received SYMLINK (id:${n})`);let o;if(e._isOpenSSH){o=e.emit("SYMLINK",n,s,i)}else{o=e.emit("SYMLINK",n,i,s)}if(!o){e.status(n,R.OP_UNSUPPORTED)}},[P.EXTENDED]:(e,r)=>{q.init(r,1);const n=q.readUInt32BE();const i=q.readString(true);if(i===undefined){q.clear();return doFatalSFTPError(e,"Malformed EXTENDED packet")}let s;if(q.avail())s=q.readRaw();q.clear();e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED (id:${n})`);if(!e.emit("EXTENDED",n,i,s)){e.status(n,R.OP_UNSUPPORTED)}}};const{ERR_INVALID_ARG_TYPE:re,ERR_OUT_OF_RANGE:ne,validateNumber:ie}=n(66588);const se=128;let oe;const ae=[];function allocNewPool(e){if(ae.length>0)oe=ae.pop();else oe=Buffer.allocUnsafe(e);oe.used=0}function checkPosition(e,r){if(!Number.isSafeInteger(e)){ie(e,r);if(!Number.isInteger(e))throw new ne(r,"an integer",e);throw new ne(r,">= 0 and <= 2 ** 53 - 1",e)}if(e<0)throw new ne(r,">= 0 and <= 2 ** 53 - 1",e)}function roundUpToMultipleOf8(e){return e+7&~7}function ReadStream(e,r,n){if(n===undefined)n={};else if(typeof n==="string")n={encoding:n};else if(n===null||typeof n!=="object")throw new TypeError('"options" argument must be a string or an object');else n=Object.create(n);if(n.highWaterMark===undefined)n.highWaterMark=64*1024;n.emitClose=false;n.autoDestroy=false;u.call(this,n);this.path=r;this.flags=n.flags===undefined?"r":n.flags;this.mode=n.mode===undefined?438:n.mode;this.start=n.start;this.end=n.end;this.autoClose=n.autoClose===undefined?true:n.autoClose;this.pos=0;this.bytesRead=0;this.isClosed=false;this.handle=n.handle===undefined?null:n.handle;this.sftp=e;this._opening=false;if(this.start!==undefined){checkPosition(this.start,"start");this.pos=this.start}if(this.end===undefined){this.end=Infinity}else if(this.end!==Infinity){checkPosition(this.end,"end");if(this.start!==undefined&&this.start>this.end){throw new ne("start",`<= "end" (here: ${this.end})`,this.start)}}this.on("end",(function(){if(this.autoClose)this.destroy()}));if(!Buffer.isBuffer(this.handle))this.open()}p(ReadStream,u);ReadStream.prototype.open=function(){if(this._opening)return;this._opening=true;this.sftp.open(this.path,this.flags,this.mode,((e,r)=>{this._opening=false;if(e){this.emit("error",e);if(this.autoClose)this.destroy();return}this.handle=r;this.emit("open",r);this.emit("ready");this.read()}))};ReadStream.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",(()=>this._read(e)));if(this.destroyed)return;if(!oe||oe.length-oe.used<se){allocNewPool(this.readableHighWaterMark||this._readableState.highWaterMark)}const r=oe;let n=Math.min(oe.length-oe.used,e);const i=oe.used;if(this.end!==undefined)n=Math.min(this.end-this.pos+1,n);if(n<=0)return this.push(null);this.sftp.read(this.handle,oe,oe.used,n,this.pos,((e,s)=>{if(e){this.emit("error",e);if(this.autoClose)this.destroy();return}let o=null;if(i+n===r.used&&r===oe){r.used=roundUpToMultipleOf8(r.used+s-n)}else{const e=i+n&~7;const o=roundUpToMultipleOf8(i+s);if(e-o>=se)ae.push(r.slice(o,e))}if(s>0){this.bytesRead+=s;o=r.slice(i,i+s)}this.pos+=s;this.push(o)}));oe.used=roundUpToMultipleOf8(oe.used+n)};ReadStream.prototype._destroy=function(e,r){if(this._opening&&!Buffer.isBuffer(this.handle)){this.once("open",closeStream.bind(null,this,r,e));return}closeStream(this,r,e);this.handle=null;this._opening=false};function closeStream(e,r,n){if(!e.handle)return onclose();e.sftp.close(e.handle,onclose);function onclose(i){i=i||n;r(i);e.isClosed=true;if(!i)e.emit("close")}}ReadStream.prototype.close=function(e){this.destroy(null,e)};Object.defineProperty(ReadStream.prototype,"pending",{get(){return this.handle===null},configurable:true});function WriteStream(e,r,n){if(n===undefined)n={};else if(typeof n==="string")n={encoding:n};else if(n===null||typeof n!=="object")throw new TypeError('"options" argument must be a string or an object');else n=Object.create(n);n.emitClose=false;n.autoDestroy=false;f.call(this,n);this.path=r;this.flags=n.flags===undefined?"w":n.flags;this.mode=n.mode===undefined?438:n.mode;this.start=n.start;this.autoClose=n.autoClose===undefined?true:n.autoClose;this.pos=0;this.bytesWritten=0;this.isClosed=false;this.handle=n.handle===undefined?null:n.handle;this.sftp=e;this._opening=false;if(this.start!==undefined){checkPosition(this.start,"start");this.pos=this.start}if(n.encoding)this.setDefaultEncoding(n.encoding);this.on("finish",(function(){if(this._writableState.finalCalled)return;if(this.autoClose)this.destroy()}));if(!Buffer.isBuffer(this.handle))this.open()}p(WriteStream,f);WriteStream.prototype._final=function(e){if(this.autoClose)this.destroy();e()};WriteStream.prototype.open=function(){if(this._opening)return;this._opening=true;this.sftp.open(this.path,this.flags,this.mode,((e,r)=>{this._opening=false;if(e){this.emit("error",e);if(this.autoClose)this.destroy();return}this.handle=r;const tryAgain=e=>{if(e){this.sftp.chmod(this.path,this.mode,(e=>tryAgain()));return}if(this.flags[0]==="a"){const tryStat=(e,n)=>{if(e){this.sftp.stat(this.path,((r,n)=>{if(r){this.destroy();this.emit("error",e);return}tryStat(null,n)}));return}this.pos=n.size;this.emit("open",r);this.emit("ready")};this.sftp.fstat(r,tryStat);return}this.emit("open",r);this.emit("ready")};this.sftp.fchmod(r,this.mode,tryAgain)}))};WriteStream.prototype._write=function(e,r,n){if(!Buffer.isBuffer(e)){const r=new re("data","Buffer",e);return this.emit("error",r)}if(!Buffer.isBuffer(this.handle)){return this.once("open",(function(){this._write(e,r,n)}))}this.sftp.write(this.handle,e,0,e.length,this.pos,((e,r)=>{if(e){if(this.autoClose)this.destroy();return n(e)}this.bytesWritten+=r;n()}));this.pos+=e.length};WriteStream.prototype._writev=function(e,r){if(!Buffer.isBuffer(this.handle)){return this.once("open",(function(){this._writev(e,r)}))}const n=this.sftp;const i=this.handle;let s=e.length;const onwrite=(e,n)=>{if(e){this.destroy();return r(e)}this.bytesWritten+=n;if(--s===0)r()};for(let r=0;r<e.length;++r){const s=e[r].chunk;n.write(i,s,0,s.length,this.pos,onwrite);this.pos+=s.length}};if(typeof f.prototype.destroy!=="function")WriteStream.prototype.destroy=ReadStream.prototype.destroy;WriteStream.prototype._destroy=ReadStream.prototype._destroy;WriteStream.prototype.close=function(e){if(e){if(this.isClosed){process.nextTick(e);return}this.on("close",e)}if(!this.autoClose)this.on("finish",this.destroy.bind(this));this.end()};WriteStream.prototype.destroySoon=WriteStream.prototype.end;Object.defineProperty(WriteStream.prototype,"pending",{get(){return this.handle===null},configurable:true});e.exports={flagsToString:J,OPEN_MODE:L,SFTP:SFTP,Stats:Stats,STATUS_CODE:R,stringToFlags:stringToFlags}},840:(e,r,n)=>{"use strict";const i=n(76982);let s;try{s=n(27443)()}catch{}const{bindingAvailable:o,CIPHER_INFO:u,MAC_INFO:f}=n(5244);const p=(()=>{if(typeof i.sign==="function"&&typeof i.verify==="function"){const e="-----BEGIN PRIVATE KEY-----\r\nMC4CAQAwBQYDK2VwBCIEIHKj+sVa9WcD"+"/q2DJUJaf43Kptc8xYuUQA4bOFj9vC8T\r\n-----END PRIVATE KEY-----";const r=Buffer.from("a");let n;let s;try{n=i.sign(null,r,e);s=i.verify(null,r,e,n)}catch{}return Buffer.isBuffer(n)&&n.length===64&&s===true}return false})();const g=typeof i.diffieHellman==="function"&&typeof i.generateKeyPairSync==="function"&&typeof i.createPublicKey==="function";const b=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha256","diffie-hellman-group15-sha512","diffie-hellman-group16-sha512","diffie-hellman-group17-sha512","diffie-hellman-group18-sha512"];if(g){b.unshift("curve25519-sha256");b.unshift("curve25519-sha256@libssh.org")}const _=b.concat(["diffie-hellman-group-exchange-sha1","diffie-hellman-group14-sha1","diffie-hellman-group1-sha1"]);const v=["ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","rsa-sha2-512","rsa-sha2-256","ssh-rsa"];if(p)v.unshift("ssh-ed25519");const w=v.concat(["ssh-dss"]);const I=(()=>{const e=i.getCiphers();return r=>e.includes(u[r].sslName)})();let k=["aes128-gcm@openssh.com","aes256-gcm@openssh.com","aes128-ctr","aes192-ctr","aes256-ctr"];if(s&&s.flags&&!s.flags.aes){if(o)k.unshift("chacha20-poly1305@openssh.com");else k.push("chacha20-poly1305@openssh.com")}else if(o&&s&&s.arch==="x86"){k.splice(4,0,"chacha20-poly1305@openssh.com")}else{k.push("chacha20-poly1305@openssh.com")}k=k.filter(I);const C=k.concat(["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","aes128-gcm","aes256-gcm","arcfour256","arcfour128","cast128-cbc","arcfour"].filter(I));const R=(()=>{const e=i.getHashes();return r=>e.includes(f[r].sslName)})();const T=["hmac-sha2-256-etm@openssh.com","hmac-sha2-512-etm@openssh.com","hmac-sha1-etm@openssh.com","hmac-sha2-256","hmac-sha2-512","hmac-sha1"].filter(R);const x=T.concat(["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"].filter(R));const P=["none","zlib@openssh.com","zlib"];const B=P.concat([]);const L={BAD_DHGEX:1<<0,OLD_EXIT:1<<1,DYN_RPORT_BUG:1<<2,BUG_DHGEX_LARGE:1<<3,IMPLY_RSA_SHA2_SIGALGS:1<<4};e.exports={MESSAGE:{DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,EXT_INFO:7,KEXINIT:20,NEWKEYS:21,KEXDH_INIT:30,KEXDH_REPLY:31,KEXDH_GEX_GROUP:31,KEXDH_GEX_INIT:32,KEXDH_GEX_REPLY:33,KEXDH_GEX_REQUEST:34,KEXECDH_INIT:30,KEXECDH_REPLY:31,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,USERAUTH_PASSWD_CHANGEREQ:60,USERAUTH_PK_OK:60,USERAUTH_INFO_REQUEST:60,USERAUTH_INFO_RESPONSE:61,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100},DISCONNECT_REASON:{HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15},DISCONNECT_REASON_STR:undefined,CHANNEL_OPEN_FAILURE:{ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4},TERMINAL_MODE:{TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129},CHANNEL_EXTENDED_DATATYPE:{STDERR:1},SIGNALS:["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"].reduce(((e,r)=>({...e,[r]:1})),{}),COMPAT:L,COMPAT_CHECKS:[["Cisco-1.25",L.BAD_DHGEX],[/^Cisco-1[.]/,L.BUG_DHGEX_LARGE],[/^[0-9.]+$/,L.OLD_EXIT],[/^OpenSSH_5[.][0-9]+/,L.DYN_RPORT_BUG],[/^OpenSSH_7[.]4/,L.IMPLY_RSA_SHA2_SIGALGS]],DEFAULT_KEX:b,SUPPORTED_KEX:_,DEFAULT_SERVER_HOST_KEY:v,SUPPORTED_SERVER_HOST_KEY:w,DEFAULT_CIPHER:k,SUPPORTED_CIPHER:C,DEFAULT_MAC:T,SUPPORTED_MAC:x,DEFAULT_COMPRESSION:P,SUPPORTED_COMPRESSION:B,curve25519Supported:g,eddsaSupported:p};e.exports.DISCONNECT_REASON_BY_VALUE=Array.from(Object.entries(e.exports.DISCONNECT_REASON)).reduce(((e,[r,n])=>({...e,[n]:r})),{})},5244:(e,r,n)=>{"use strict";const{createCipheriv:i,createDecipheriv:s,createHmac:o,randomFillSync:u,timingSafeEqual:f}=n(76982);const{readUInt32BE:p,writeUInt32BE:g}=n(67532);const b=Buffer[Symbol.species];const _=2**32-1;const v=Buffer.alloc(0);const w=Buffer.alloc(4);const I=new Map;const k=35e3;let C;let R;let T;let x;let P;let B;let L;try{C=n(80600);({AESGCMCipher:R,ChaChaPolyCipher:T,GenericCipher:x,AESGCMDecipher:P,ChaChaPolyDecipher:B,GenericDecipher:L}=C)}catch{}const U=1<<0;const j=(()=>{function info(e,r,n,i,s,o,u){return{sslName:e,blockLen:r,keyLen:n,ivLen:i!==0||u&U?i:r,authLen:s,discardLen:o,stream:!!(u&U)}}return{"chacha20-poly1305@openssh.com":info("chacha20",8,64,0,16,0,U),"aes128-gcm":info("aes-128-gcm",16,16,12,16,0,U),"aes256-gcm":info("aes-256-gcm",16,32,12,16,0,U),"aes128-gcm@openssh.com":info("aes-128-gcm",16,16,12,16,0,U),"aes256-gcm@openssh.com":info("aes-256-gcm",16,32,12,16,0,U),"aes128-cbc":info("aes-128-cbc",16,16,0,0,0,0),"aes192-cbc":info("aes-192-cbc",16,24,0,0,0,0),"aes256-cbc":info("aes-256-cbc",16,32,0,0,0,0),"rijndael-cbc@lysator.liu.se":info("aes-256-cbc",16,32,0,0,0,0),"3des-cbc":info("des-ede3-cbc",8,24,0,0,0,0),"blowfish-cbc":info("bf-cbc",8,16,0,0,0,0),"idea-cbc":info("idea-cbc",8,16,0,0,0,0),"cast128-cbc":info("cast-cbc",8,16,0,0,0,0),"aes128-ctr":info("aes-128-ctr",16,16,16,0,0,U),"aes192-ctr":info("aes-192-ctr",16,24,16,0,0,U),"aes256-ctr":info("aes-256-ctr",16,32,16,0,0,U),"3des-ctr":info("des-ede3",8,24,8,0,0,U),"blowfish-ctr":info("bf-ecb",8,16,8,0,0,U),"cast128-ctr":info("cast5-ecb",8,16,8,0,0,U),arcfour:info("rc4",8,16,0,0,1536,U),arcfour128:info("rc4",8,16,0,0,1536,U),arcfour256:info("rc4",8,32,0,0,1536,U),arcfour512:info("rc4",8,64,0,0,1536,U)}})();const W=(()=>{function info(e,r,n,i){return{sslName:e,len:r,actualLen:n,isETM:i}}return{"hmac-md5":info("md5",16,16,false),"hmac-md5-96":info("md5",16,12,false),"hmac-ripemd160":info("ripemd160",20,20,false),"hmac-sha1":info("sha1",20,20,false),"hmac-sha1-etm@openssh.com":info("sha1",20,20,true),"hmac-sha1-96":info("sha1",20,12,false),"hmac-sha2-256":info("sha256",32,32,false),"hmac-sha2-256-etm@openssh.com":info("sha256",32,32,true),"hmac-sha2-256-96":info("sha256",32,12,false),"hmac-sha2-512":info("sha512",64,64,false),"hmac-sha2-512-etm@openssh.com":info("sha512",64,64,true),"hmac-sha2-512-96":info("sha512",64,12,false)}})();class NullCipher{constructor(e,r){this.outSeqno=e;this._onWrite=r;this._dead=false}free(){this._dead=true}allocPacket(e){let r=4+1+e;let n=8-(r&8-1);if(n<4)n+=8;r+=n;const i=Buffer.allocUnsafe(r);g(i,r-4,0);i[4]=n;u(i,5+e,n);return i}encrypt(e){if(this._dead)return;this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}const Q=Buffer.alloc(32);const z=Buffer.alloc(16);let G;let q;let Y;class ChaChaPolyCipherNative{constructor(e){const r=e.outbound;this.outSeqno=r.seqno;this._onWrite=r.onWrite;this._encKeyMain=r.cipherKey.slice(0,32);this._encKeyPktLen=r.cipherKey.slice(32);this._dead=false}free(){this._dead=true}allocPacket(e){let r=4+1+e;let n=8-(r-4&8-1);if(n<4)n+=8;r+=n;const i=Buffer.allocUnsafe(r);g(i,r-4,0);i[4]=n;u(i,5+e,n);return i}encrypt(e){if(this._dead)return;z[0]=0;g(z,this.outSeqno,12);const r=i("chacha20",this._encKeyMain,z).update(Q);const n=i("chacha20",this._encKeyPktLen,z).update(e.slice(0,4));this._onWrite(n);z[0]=1;const s=i("chacha20",this._encKeyMain,z).update(e.slice(4));this._onWrite(s);Y(q,n,n.length,s,s.length,r);const o=Buffer.allocUnsafe(16);o.set(new Uint8Array(G.HEAPU8.buffer,q,16),0);this._onWrite(o);this.outSeqno=this.outSeqno+1>>>0}}class ChaChaPolyCipherBinding{constructor(e){const r=e.outbound;this.outSeqno=r.seqno;this._onWrite=r.onWrite;this._instance=new T(r.cipherKey);this._dead=false}free(){this._dead=true;this._instance.free()}allocPacket(e){let r=4+1+e;let n=8-(r-4&8-1);if(n<4)n+=8;r+=n;const i=Buffer.allocUnsafe(r+16);g(i,r-4,0);i[4]=n;u(i,5+e,n);return i}encrypt(e){if(this._dead)return;this._instance.encrypt(e,this.outSeqno);this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}class AESGCMCipherNative{constructor(e){const r=e.outbound;this.outSeqno=r.seqno;this._onWrite=r.onWrite;this._encSSLName=r.cipherInfo.sslName;this._encKey=r.cipherKey;this._encIV=r.cipherIV;this._dead=false}free(){this._dead=true}allocPacket(e){let r=4+1+e;let n=16-(r-4&16-1);if(n<4)n+=16;r+=n;const i=Buffer.allocUnsafe(r);g(i,r-4,0);i[4]=n;u(i,5+e,n);return i}encrypt(e){if(this._dead)return;const r=i(this._encSSLName,this._encKey,this._encIV);r.setAutoPadding(false);const n=e.slice(0,4);r.setAAD(n);this._onWrite(n);const s=r.update(e.slice(4));this._onWrite(s);const o=r.final();if(o.length)this._onWrite(o);const u=r.getAuthTag();this._onWrite(u);ivIncrement(this._encIV);this.outSeqno=this.outSeqno+1>>>0}}class AESGCMCipherBinding{constructor(e){const r=e.outbound;this.outSeqno=r.seqno;this._onWrite=r.onWrite;this._instance=new R(r.cipherInfo.sslName,r.cipherKey,r.cipherIV);this._dead=false}free(){this._dead=true;this._instance.free()}allocPacket(e){let r=4+1+e;let n=16-(r-4&16-1);if(n<4)n+=16;r+=n;const i=Buffer.allocUnsafe(r+16);g(i,r-4,0);i[4]=n;u(i,5+e,n);return i}encrypt(e){if(this._dead)return;this._instance.encrypt(e);this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}class GenericCipherNative{constructor(e){const r=e.outbound;this.outSeqno=r.seqno;this._onWrite=r.onWrite;this._encBlockLen=r.cipherInfo.blockLen;this._cipherInstance=i(r.cipherInfo.sslName,r.cipherKey,r.cipherIV);this._macSSLName=r.macInfo.sslName;this._macKey=r.macKey;this._macActualLen=r.macInfo.actualLen;this._macETM=r.macInfo.isETM;this._aadLen=this._macETM?4:0;this._dead=false;const n=r.cipherInfo.discardLen;if(n){let e=I.get(n);if(e===undefined){e=Buffer.alloc(n);I.set(n,e)}this._cipherInstance.update(e)}}free(){this._dead=true}allocPacket(e){const r=this._encBlockLen;let n=4+1+e;let i=r-(n-this._aadLen&r-1);if(i<4)i+=r;n+=i;const s=Buffer.allocUnsafe(n);g(s,n-4,0);s[4]=i;u(s,5+e,i);return s}encrypt(e){if(this._dead)return;let r;if(this._macETM){const n=new Uint8Array(e.buffer,e.byteOffset,4);const i=this._cipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+4,e.length-4));this._onWrite(n);this._onWrite(i);r=o(this._macSSLName,this._macKey);g(w,this.outSeqno,0);r.update(w);r.update(n);r.update(i)}else{const n=this._cipherInstance.update(e);this._onWrite(n);r=o(this._macSSLName,this._macKey);g(w,this.outSeqno,0);r.update(w);r.update(e)}let n=r.digest();if(n.length>this._macActualLen)n=n.slice(0,this._macActualLen);this._onWrite(n);this.outSeqno=this.outSeqno+1>>>0}}class GenericCipherBinding{constructor(e){const r=e.outbound;this.outSeqno=r.seqno;this._onWrite=r.onWrite;this._encBlockLen=r.cipherInfo.blockLen;this._macLen=r.macInfo.len;this._macActualLen=r.macInfo.actualLen;this._aadLen=r.macInfo.isETM?4:0;this._instance=new x(r.cipherInfo.sslName,r.cipherKey,r.cipherIV,r.macInfo.sslName,r.macKey,r.macInfo.isETM);this._dead=false}free(){this._dead=true;this._instance.free()}allocPacket(e){const r=this._encBlockLen;let n=4+1+e;let i=r-(n-this._aadLen&r-1);if(i<4)i+=r;n+=i;const s=Buffer.allocUnsafe(n+this._macLen);g(s,n-4,0);s[4]=i;u(s,5+e,i);return s}encrypt(e){if(this._dead)return;this._instance.encrypt(e,this.outSeqno);if(this._macActualLen<this._macLen){e=new b(e.buffer,e.byteOffset,e.length-(this._macLen-this._macActualLen))}this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}class NullDecipher{constructor(e,r){this.inSeqno=e;this._onPayload=r;this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0}free(){}decrypt(e,r,n){while(r<n){if(this._lenBytes<4){let i=Math.min(4-this._lenBytes,n-r);this._lenBytes+=i;while(i--)this._len=(this._len<<8)+e[r++];if(this._lenBytes<4)return;if(this._len>k||this._len<8||(4+this._len&7)!==0){throw new Error("Bad packet length")}if(r>=n)return}if(this._packetPos<this._len){const i=Math.min(this._len-this._packetPos,n-r);let s;if(r!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+r,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._packetPos)}r+=i;this._packetPos+=i;if(this._packetPos<this._len)return}const i=!this._packet?v:new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?r:e}}}}class ChaChaPolyDecipherNative{constructor(e){const r=e.inbound;this.inSeqno=r.seqno;this._onPayload=r.onPayload;this._decKeyMain=r.decipherKey.slice(0,32);this._decKeyPktLen=r.decipherKey.slice(32);this._len=0;this._lenBuf=Buffer.alloc(4);this._lenPos=0;this._packet=null;this._pktLen=0;this._mac=Buffer.allocUnsafe(16);this._calcMac=Buffer.allocUnsafe(16);this._macPos=0}free(){}decrypt(e,r,n){while(r<n){if(this._lenPos<4){let i=Math.min(4-this._lenPos,n-r);while(i--)this._lenBuf[this._lenPos++]=e[r++];if(this._lenPos<4)return;z[0]=0;g(z,this.inSeqno,12);const o=s("chacha20",this._decKeyPktLen,z).update(this._lenBuf);this._len=p(o,0);if(this._len>k||this._len<8||(this._len&7)!==0){throw new Error("Bad packet length")}}if(this._pktLen<this._len){if(r>=n)return;const i=Math.min(this._len-this._pktLen,n-r);let s;if(r!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+r,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}r+=i;this._pktLen+=i;if(this._pktLen<this._len||r>=n)return}{const i=Math.min(16-this._macPos,n-r);if(r!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._macPos)}else{this._mac.set(e,this._macPos)}r+=i;this._macPos+=i;if(this._macPos<16)return}z[0]=0;g(z,this.inSeqno,12);const o=i("chacha20",this._decKeyMain,z).update(Q);Y(q,this._lenBuf,4,this._packet,this._packet.length,o);this._calcMac.set(new Uint8Array(G.HEAPU8.buffer,q,16),0);if(!f(this._calcMac,this._mac))throw new Error("Invalid MAC");z[0]=1;const u=s("chacha20",this._decKeyMain,z).update(this._packet);const _=new b(u.buffer,u.byteOffset+1,u.length-u[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenPos=0;this._packet=null;this._pktLen=0;this._macPos=0;{const e=this._onPayload(_);if(e!==undefined)return e===false?r:e}}}}class ChaChaPolyDecipherBinding{constructor(e){const r=e.inbound;this.inSeqno=r.seqno;this._onPayload=r.onPayload;this._instance=new B(r.decipherKey);this._len=0;this._lenBuf=Buffer.alloc(4);this._lenPos=0;this._packet=null;this._pktLen=0;this._mac=Buffer.allocUnsafe(16);this._macPos=0}free(){this._instance.free()}decrypt(e,r,n){while(r<n){if(this._lenPos<4){let i=Math.min(4-this._lenPos,n-r);while(i--)this._lenBuf[this._lenPos++]=e[r++];if(this._lenPos<4)return;this._len=this._instance.decryptLen(this._lenBuf,this.inSeqno);if(this._len>k||this._len<8||(this._len&7)!==0){throw new Error("Bad packet length")}if(r>=n)return}if(this._pktLen<this._len){const i=Math.min(this._len-this._pktLen,n-r);let s;if(r!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+r,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}r+=i;this._pktLen+=i;if(this._pktLen<this._len||r>=n)return}{const i=Math.min(16-this._macPos,n-r);if(r!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._macPos)}else{this._mac.set(e,this._macPos)}r+=i;this._macPos+=i;if(this._macPos<16)return}this._instance.decrypt(this._packet,this._mac,this.inSeqno);const i=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenPos=0;this._packet=null;this._pktLen=0;this._macPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?r:e}}}}class AESGCMDecipherNative{constructor(e){const r=e.inbound;this.inSeqno=r.seqno;this._onPayload=r.onPayload;this._decipherInstance=null;this._decipherSSLName=r.decipherInfo.sslName;this._decipherKey=r.decipherKey;this._decipherIV=r.decipherIV;this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._tag=Buffer.allocUnsafe(16);this._tagPos=0}free(){}decrypt(e,r,n){while(r<n){if(this._lenBytes<4){let i=Math.min(4-this._lenBytes,n-r);this._lenBytes+=i;while(i--)this._len=(this._len<<8)+e[r++];if(this._lenBytes<4)return;if(this._len+20>k||this._len<16||(this._len&15)!==0){throw new Error("Bad packet length")}this._decipherInstance=s(this._decipherSSLName,this._decipherKey,this._decipherIV);this._decipherInstance.setAutoPadding(false);this._decipherInstance.setAAD(V(this._len))}if(this._pktLen<this._len){if(r>=n)return;const i=Math.min(this._len-this._pktLen,n-r);let s;if(r!==0||i!==n){s=this._decipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+r,i))}else{s=this._decipherInstance.update(e)}if(s.length){if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._packetPos)}this._packetPos+=s.length}r+=i;this._pktLen+=i;if(this._pktLen<this._len||r>=n)return}{const i=Math.min(16-this._tagPos,n-r);if(r!==0||i!==n){this._tag.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._tagPos)}else{this._tag.set(e,this._tagPos)}r+=i;this._tagPos+=i;if(this._tagPos<16)return}{this._decipherInstance.setAuthTag(this._tag);const e=this._decipherInstance.final();if(e.length){if(this._packet)this._packet.set(e,this._packetPos);else this._packet=e}}const i=!this._packet?v:new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;ivIncrement(this._decipherIV);this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._tagPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?r:e}}}}class AESGCMDecipherBinding{constructor(e){const r=e.inbound;this.inSeqno=r.seqno;this._onPayload=r.onPayload;this._instance=new P(r.decipherInfo.sslName,r.decipherKey,r.decipherIV);this._len=0;this._lenBytes=0;this._packet=null;this._pktLen=0;this._tag=Buffer.allocUnsafe(16);this._tagPos=0}free(){}decrypt(e,r,n){while(r<n){if(this._lenBytes<4){let i=Math.min(4-this._lenBytes,n-r);this._lenBytes+=i;while(i--)this._len=(this._len<<8)+e[r++];if(this._lenBytes<4)return;if(this._len+20>k||this._len<16||(this._len&15)!==0){throw new Error(`Bad packet length: ${this._len}`)}}if(this._pktLen<this._len){if(r>=n)return;const i=Math.min(this._len-this._pktLen,n-r);let s;if(r!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+r,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}r+=i;this._pktLen+=i;if(this._pktLen<this._len||r>=n)return}{const i=Math.min(16-this._tagPos,n-r);if(r!==0||i!==n){this._tag.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._tagPos)}else{this._tag.set(e,this._tagPos)}r+=i;this._tagPos+=i;if(this._tagPos<16)return}this._instance.decrypt(this._packet,this._len,this._tag);const i=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenBytes=0;this._packet=null;this._pktLen=0;this._tagPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?r:e}}}}class GenericDecipherNative{constructor(e){const r=e.inbound;this.inSeqno=r.seqno;this._onPayload=r.onPayload;this._decipherInstance=s(r.decipherInfo.sslName,r.decipherKey,r.decipherIV);this._decipherInstance.setAutoPadding(false);this._block=Buffer.allocUnsafe(r.macInfo.isETM?4:r.decipherInfo.blockLen);this._blockSize=r.decipherInfo.blockLen;this._blockPos=0;this._len=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._mac=Buffer.allocUnsafe(r.macInfo.actualLen);this._macPos=0;this._macSSLName=r.macInfo.sslName;this._macKey=r.macKey;this._macActualLen=r.macInfo.actualLen;this._macETM=r.macInfo.isETM;this._macInstance=null;const n=r.decipherInfo.discardLen;if(n){let e=I.get(n);if(e===undefined){e=Buffer.alloc(n);I.set(n,e)}this._decipherInstance.update(e)}}free(){}decrypt(e,r,n){while(r<n){if(this._blockPos<this._block.length){const i=Math.min(this._block.length-this._blockPos,n-r);if(r!==0||i!==n||i<e.length){this._block.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._blockPos)}else{this._block.set(e,this._blockPos)}r+=i;this._blockPos+=i;if(this._blockPos<this._block.length)return;let s;let u;if(this._macETM){this._len=u=p(this._block,0)}else{s=this._decipherInstance.update(this._block);this._len=p(s,0);u=4+this._len-this._blockSize}if(this._len>k||this._len<5||(u&this._blockSize-1)!==0){throw new Error("Bad packet length")}this._macInstance=o(this._macSSLName,this._macKey);g(w,this.inSeqno,0);this._macInstance.update(w);if(this._macETM){this._macInstance.update(this._block)}else{this._macInstance.update(new Uint8Array(s.buffer,s.byteOffset,4));this._pktLen=s.length-4;this._packetPos=this._pktLen;this._packet=Buffer.allocUnsafe(this._len);this._packet.set(new Uint8Array(s.buffer,s.byteOffset+4,this._packetPos),0)}if(r>=n)return}if(this._pktLen<this._len){const i=Math.min(this._len-this._pktLen,n-r);let s;if(r!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+r,i);else s=e;if(this._macETM)this._macInstance.update(s);const o=this._decipherInstance.update(s);if(o.length){if(i===this._len){this._packet=o}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(o,this._packetPos)}this._packetPos+=o.length}r+=i;this._pktLen+=i;if(this._pktLen<this._len||r>=n)return}{const i=Math.min(this._macActualLen-this._macPos,n-r);if(r!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._macPos)}else{this._mac.set(e,this._macPos)}r+=i;this._macPos+=i;if(this._macPos<this._macActualLen)return}if(!this._macETM)this._macInstance.update(this._packet);let i=this._macInstance.digest();if(this._macActualLen<i.length){i=new Uint8Array(i.buffer,i.byteOffset,this._macActualLen)}if(!timingSafeEquals(i,this._mac))throw new Error("Invalid MAC");const s=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._blockPos=0;this._len=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._macPos=0;this._macInstance=null;{const e=this._onPayload(s);if(e!==undefined)return e===false?r:e}}}}class GenericDecipherBinding{constructor(e){const r=e.inbound;this.inSeqno=r.seqno;this._onPayload=r.onPayload;this._instance=new L(r.decipherInfo.sslName,r.decipherKey,r.decipherIV,r.macInfo.sslName,r.macKey,r.macInfo.isETM,r.macInfo.actualLen);this._block=Buffer.allocUnsafe(r.macInfo.isETM||r.decipherInfo.stream?4:r.decipherInfo.blockLen);this._blockPos=0;this._len=0;this._packet=null;this._pktLen=0;this._mac=Buffer.allocUnsafe(r.macInfo.actualLen);this._macPos=0;this._macActualLen=r.macInfo.actualLen;this._macETM=r.macInfo.isETM}free(){this._instance.free()}decrypt(e,r,n){while(r<n){if(this._blockPos<this._block.length){const i=Math.min(this._block.length-this._blockPos,n-r);if(r!==0||i!==n||i<e.length){this._block.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._blockPos)}else{this._block.set(e,this._blockPos)}r+=i;this._blockPos+=i;if(this._blockPos<this._block.length)return;let s;if(this._macETM){this._len=s=p(this._block,0)}else{this._instance.decryptBlock(this._block);this._len=p(this._block,0);s=4+this._len-this._block.length}if(this._len>k||this._len<5||(s&this._block.length-1)!==0){throw new Error("Bad packet length")}if(!this._macETM){this._pktLen=this._block.length-4;if(this._pktLen){this._packet=Buffer.allocUnsafe(this._len);this._packet.set(new Uint8Array(this._block.buffer,this._block.byteOffset+4,this._pktLen),0)}}if(r>=n)return}if(this._pktLen<this._len){const i=Math.min(this._len-this._pktLen,n-r);let s;if(r!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+r,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}r+=i;this._pktLen+=i;if(this._pktLen<this._len||r>=n)return}{const i=Math.min(this._macActualLen-this._macPos,n-r);if(r!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+r,i),this._macPos)}else{this._mac.set(e,this._macPos)}r+=i;this._macPos+=i;if(this._macPos<this._macActualLen)return}this._instance.decrypt(this._packet,this.inSeqno,this._block,this._mac);const i=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._blockPos=0;this._len=0;this._packet=null;this._pktLen=0;this._macPos=0;this._macInstance=null;{const e=this._onPayload(i);if(e!==undefined)return e===false?r:e}}}}function ivIncrement(e){++e[11]>>>8&&++e[10]>>>8&&++e[9]>>>8&&++e[8]>>>8&&++e[7]>>>8&&++e[6]>>>8&&++e[5]>>>8&&++e[4]>>>8}const V=(()=>{const e=Buffer.alloc(4);return r=>{e[0]=r>>>24;e[1]=r>>>16;e[2]=r>>>8;e[3]=r;return e}})();function timingSafeEquals(e,r){if(e.length!==r.length){f(e,e);return false}return f(e,r)}function createCipher(e){if(typeof e!=="object"||e===null)throw new Error("Invalid config");if(typeof e.outbound!=="object"||e.outbound===null)throw new Error("Invalid outbound");const r=e.outbound;if(typeof r.onWrite!=="function")throw new Error("Invalid outbound.onWrite");if(typeof r.cipherInfo!=="object"||r.cipherInfo===null)throw new Error("Invalid outbound.cipherInfo");if(!Buffer.isBuffer(r.cipherKey)||r.cipherKey.length!==r.cipherInfo.keyLen){throw new Error("Invalid outbound.cipherKey")}if(r.cipherInfo.ivLen&&(!Buffer.isBuffer(r.cipherIV)||r.cipherIV.length!==r.cipherInfo.ivLen)){throw new Error("Invalid outbound.cipherIV")}if(typeof r.seqno!=="number"||r.seqno<0||r.seqno>_){throw new Error("Invalid outbound.seqno")}const n=!!r.forceNative;switch(r.cipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return R&&!n?new AESGCMCipherBinding(e):new AESGCMCipherNative(e);case"chacha20":return T&&!n?new ChaChaPolyCipherBinding(e):new ChaChaPolyCipherNative(e);default:{if(typeof r.macInfo!=="object"||r.macInfo===null)throw new Error("Invalid outbound.macInfo");if(!Buffer.isBuffer(r.macKey)||r.macKey.length!==r.macInfo.len){throw new Error("Invalid outbound.macKey")}return x&&!n?new GenericCipherBinding(e):new GenericCipherNative(e)}}}function createDecipher(e){if(typeof e!=="object"||e===null)throw new Error("Invalid config");if(typeof e.inbound!=="object"||e.inbound===null)throw new Error("Invalid inbound");const r=e.inbound;if(typeof r.onPayload!=="function")throw new Error("Invalid inbound.onPayload");if(typeof r.decipherInfo!=="object"||r.decipherInfo===null){throw new Error("Invalid inbound.decipherInfo")}if(!Buffer.isBuffer(r.decipherKey)||r.decipherKey.length!==r.decipherInfo.keyLen){throw new Error("Invalid inbound.decipherKey")}if(r.decipherInfo.ivLen&&(!Buffer.isBuffer(r.decipherIV)||r.decipherIV.length!==r.decipherInfo.ivLen)){throw new Error("Invalid inbound.decipherIV")}if(typeof r.seqno!=="number"||r.seqno<0||r.seqno>_){throw new Error("Invalid inbound.seqno")}const n=!!r.forceNative;switch(r.decipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return P&&!n?new AESGCMDecipherBinding(e):new AESGCMDecipherNative(e);case"chacha20":return B&&!n?new ChaChaPolyDecipherBinding(e):new ChaChaPolyDecipherNative(e);default:{if(typeof r.macInfo!=="object"||r.macInfo===null)throw new Error("Invalid inbound.macInfo");if(!Buffer.isBuffer(r.macKey)||r.macKey.length!==r.macInfo.len){throw new Error("Invalid inbound.macKey")}return L&&!n?new GenericDecipherBinding(e):new GenericDecipherNative(e)}}}e.exports={CIPHER_INFO:j,MAC_INFO:W,bindingAvailable:!!C,init:(()=>new Promise((async(e,r)=>{try{G=await n(72130)();q=G._malloc(16);Y=G.cwrap("poly1305_auth",null,["number","array","number","array","number","array"])}catch(e){return r(e)}e()})))(),NullCipher:NullCipher,createCipher:createCipher,NullDecipher:NullDecipher,createDecipher:createDecipher}},72130:(e,r,n)=>{var i=function(){var e=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:undefined;if(typeof __filename!=="undefined")e=e||__filename;return function(r){r=r||{};var i;i||(i=typeof r!=="undefined"?r:{});var s,o;i.ready=new Promise((function(e,r){s=e;o=r}));var u={},f;for(f in i)i.hasOwnProperty(f)&&(u[f]=i[f]);var p="object"===typeof window,g="function"===typeof importScripts,b="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node,_="",v,w,I,k,C;if(b)_=g?n(16928).dirname(_)+"/":__dirname+"/",v=function(e,r){var i=H(e);if(i)return r?i:i.toString();k||(k=n(79896));C||(C=n(16928));e=C.normalize(e);return k.readFileSync(e,r?null:"utf8")},I=function(e){e=v(e,!0);e.buffer||(e=new Uint8Array(e));assert(e.buffer);return e},w=function(e,r,i){var s=H(e);s&&r(s);k||(k=n(79896));C||(C=n(16928));e=C.normalize(e);k.readFile(e,(function(e,n){e?i(e):r(n.buffer)}))},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),i.inspect=function(){return"[Emscripten Module object]"};else if(p||g)g?_=self.location.href:"undefined"!==typeof document&&document.currentScript&&(_=document.currentScript.src),e&&(_=e),0!==_.indexOf("blob:")?_=_.substr(0,_.lastIndexOf("/")+1):_="",v=function(e){try{var r=new XMLHttpRequest;r.open("GET",e,!1);r.send(null);return r.responseText}catch(s){if(e=H(e)){r=[];for(var n=0;n<e.length;n++){var i=e[n];255<i&&(ne&&assert(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+n+" not in 0x00-0xFF."),i&=255);r.push(String.fromCharCode(i))}return r.join("")}throw s}},g&&(I=function(e){try{var r=new XMLHttpRequest;r.open("GET",e,!1);r.responseType="arraybuffer";r.send(null);return new Uint8Array(r.response)}catch(r){if(e=H(e))return e;throw r}}),w=function(e,r,n){var i=new XMLHttpRequest;i.open("GET",e,!0);i.responseType="arraybuffer";i.onload=function(){if(200==i.status||0==i.status&&i.response)r(i.response);else{var s=H(e);s?r(s.buffer):n()}};i.onerror=n;i.send(null)};i.print||console.log.bind(console);var R=i.printErr||console.warn.bind(console);for(f in u)u.hasOwnProperty(f)&&(i[f]=u[f]);u=null;var T;i.wasmBinary&&(T=i.wasmBinary);var x=i.noExitRuntime||!0;"object"!==typeof WebAssembly&&K("no native wasm support detected");var P,B=!1;function assert(e,r){e||K("Assertion failed: "+r)}function N(e){var r=i["_"+e];assert(r,"Cannot call unknown function "+e+", make sure it is exported");return r}function ca(e,r,n,i){var s={string:function(e){var r=0;if(null!==e&&void 0!==e&&0!==e){var n=(e.length<<2)+1;r=le(n);var i=r,s=W;if(0<n){n=i+n-1;for(var o=0;o<e.length;++o){var u=e.charCodeAt(o);if(55296<=u&&57343>=u){var f=e.charCodeAt(++o);u=65536+((u&1023)<<10)|f&1023}if(127>=u){if(i>=n)break;s[i++]=u}else{if(2047>=u){if(i+1>=n)break;s[i++]=192|u>>6}else{if(65535>=u){if(i+2>=n)break;s[i++]=224|u>>12}else{if(i+3>=n)break;s[i++]=240|u>>18;s[i++]=128|u>>12&63}s[i++]=128|u>>6&63}s[i++]=128|u&63}}s[i]=0}}return r},array:function(e){var r=le(e.length);j.set(e,r);return r}},o=N(e),u=[];e=0;if(i)for(var f=0;f<i.length;f++){var p=s[n[f]];p?(0===e&&(e=oe()),u[f]=p(i[f])):u[f]=i[f]}n=o.apply(null,u);n=function(e){if("string"===r)if(e){for(var n=W,i=e+NaN,s=e;n[s]&&!(s>=i);)++s;if(16<s-e&&n.subarray&&L)e=L.decode(n.subarray(e,s));else{for(i="";e<s;){var o=n[e++];if(o&128){var u=n[e++]&63;if(192==(o&224))i+=String.fromCharCode((o&31)<<6|u);else{var f=n[e++]&63;o=224==(o&240)?(o&15)<<12|u<<6|f:(o&7)<<18|u<<12|f<<6|n[e++]&63;65536>o?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296|o>>10,56320|o&1023))}}else i+=String.fromCharCode(o)}e=i}}else e="";else e="boolean"===r?!!e:e;return e}(n);0!==e&&ae(e);return n}var L="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0,U,j,W;function ia(){var e=P.buffer;U=e;i.HEAP8=j=new Int8Array(e);i.HEAP16=new Int16Array(e);i.HEAP32=new Int32Array(e);i.HEAPU8=W=new Uint8Array(e);i.HEAPU16=new Uint16Array(e);i.HEAPU32=new Uint32Array(e);i.HEAPF32=new Float32Array(e);i.HEAPF64=new Float64Array(e)}var Q,z=[],G=[],q=[];function ma(){var e=i.preRun.shift();z.unshift(e)}var Y=0,V=null,J=null;i.preloadedImages={};i.preloadedAudios={};function K(e){if(i.onAbort)i.onAbort(e);R(e);B=!0;e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.");o(e);throw e}var ee="data:application/octet-stream;base64,",te;te="data:application/octet-stream;base64,AGFzbQEAAAABIAZgAX8Bf2ADf39/AGABfwBgAABgAAF/YAZ/f39/f38AAgcBAWEBYQAAAwsKAAEDAQAAAgQFAgQFAXABAQEFBwEBgAKAgAIGCQF/AUGAjMACCwclCQFiAgABYwADAWQACQFlAAgBZgAHAWcABgFoAAUBaQAKAWoBAAqGTQpPAQJ/QYAIKAIAIgEgAEEDakF8cSICaiEAAkAgAkEAIAAgAU0bDQAgAD8AQRB0SwRAIAAQAEUNAQtBgAggADYCACABDwtBhAhBMDYCAEF/C4wFAg5+Cn8gACgCJCEUIAAoAiAhFSAAKAIcIREgACgCGCESIAAoAhQhEyACQRBPBEAgAC0ATEVBGHQhFyAAKAIEIhZBBWytIQ8gACgCCCIYQQVsrSENIAAoAgwiGUEFbK0hCyAAKAIQIhpBBWytIQkgADUCACEIIBqtIRAgGa0hDiAYrSEMIBatIQoDQCASIAEtAAMiEiABLQAEQQh0ciABLQAFQRB0ciABLQAGIhZBGHRyQQJ2Qf///x9xaq0iAyAOfiABLwAAIAEtAAJBEHRyIBNqIBJBGHRBgICAGHFqrSIEIBB+fCARIAEtAAdBCHQgFnIgAS0ACEEQdHIgAS0ACSIRQRh0ckEEdkH///8fcWqtIgUgDH58IAEtAApBCHQgEXIgAS0AC0EQdHIgAS0ADEEYdHJBBnYgFWqtIgYgCn58IBQgF2ogAS8ADSABLQAPQRB0cmqtIgcgCH58IAMgDH4gBCAOfnwgBSAKfnwgBiAIfnwgByAJfnwgAyAKfiAEIAx+fCAFIAh+fCAGIAl+fCAHIAt+fCADIAh+IAQgCn58IAUgCX58IAYgC358IAcgDX58IAMgCX4gBCAIfnwgBSALfnwgBiANfnwgByAPfnwiA0IaiEL/////D4N8IgRCGohC/////w+DfCIFQhqIQv////8Pg3wiBkIaiEL/////D4N8IgdCGoinQQVsIAOnQf///x9xaiITQRp2IASnQf///x9xaiESIAWnQf///x9xIREgBqdB////H3EhFSAHp0H///8fcSEUIBNB////H3EhEyABQRBqIQEgAkEQayICQQ9LDQALCyAAIBQ2AiQgACAVNgIgIAAgETYCHCAAIBI2AhggACATNgIUCwMAAQu2BAEGfwJAIAAoAjgiBARAIABBPGohBQJAIAJBECAEayIDIAIgA0kbIgZFDQAgBkEDcSEHAkAgBkEBa0EDSQRAQQAhAwwBCyAGQXxxIQhBACEDA0AgBSADIARqaiABIANqLQAAOgAAIAUgA0EBciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0ECciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0EDciIEIAAoAjhqaiABIARqLQAAOgAAIANBBGohAyAAKAI4IQQgCEEEayIIDQALCyAHRQ0AA0AgBSADIARqaiABIANqLQAAOgAAIANBAWohAyAAKAI4IQQgB0EBayIHDQALCyAAIAQgBmoiAzYCOCADQRBJDQEgACAFQRAQAiAAQQA2AjggAiAGayECIAEgBmohAQsgAkEQTwRAIAAgASACQXBxIgMQAiACQQ9xIQIgASADaiEBCyACRQ0AIAJBA3EhBCAAQTxqIQVBACEDIAJBAWtBA08EQCACQXxxIQcDQCAFIAAoAjggA2pqIAEgA2otAAA6AAAgBSADQQFyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQJyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQNyIgYgACgCOGpqIAEgBmotAAA6AAAgA0EEaiEDIAdBBGsiBw0ACwsgBARAA0AgBSAAKAI4IANqaiABIANqLQAAOgAAIANBAWohAyAEQQFrIgQNAAsLIAAgACgCOCACajYCOAsLoS0BDH8jAEEQayIMJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEH0AU0EQEGICCgCACIFQRAgAEELakF4cSAAQQtJGyIIQQN2IgJ2IgFBA3EEQCABQX9zQQFxIAJqIgNBA3QiAUG4CGooAgAiBEEIaiEAAkAgBCgCCCICIAFBsAhqIgFGBEBBiAggBUF+IAN3cTYCAAwBCyACIAE2AgwgASACNgIICyAEIANBA3QiAUEDcjYCBCABIARqIgEgASgCBEEBcjYCBAwNCyAIQZAIKAIAIgpNDQEgAQRAAkBBAiACdCIAQQAgAGtyIAEgAnRxIgBBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2aiIDQQN0IgBBuAhqKAIAIgQoAggiASAAQbAIaiIARgRAQYgIIAVBfiADd3EiBTYCAAwBCyABIAA2AgwgACABNgIICyAEQQhqIQAgBCAIQQNyNgIEIAQgCGoiAiADQQN0IgEgCGsiA0EBcjYCBCABIARqIAM2AgAgCgRAIApBA3YiAUEDdEGwCGohB0GcCCgCACEEAn8gBUEBIAF0IgFxRQRAQYgIIAEgBXI2AgAgBwwBCyAHKAIICyEBIAcgBDYCCCABIAQ2AgwgBCAHNgIMIAQgATYCCAtBnAggAjYCAEGQCCADNgIADA0LQYwIKAIAIgZFDQEgBkEAIAZrcUEBayIAIABBDHZBEHEiAnYiAUEFdkEIcSIAIAJyIAEgAHYiAUECdkEEcSIAciABIAB2IgFBAXZBAnEiAHIgASAAdiIBQQF2QQFxIgByIAEgAHZqQQJ0QbgKaigCACIBKAIEQXhxIAhrIQMgASECA0ACQCACKAIQIgBFBEAgAigCFCIARQ0BCyAAKAIEQXhxIAhrIgIgAyACIANJIgIbIQMgACABIAIbIQEgACECDAELCyABIAhqIgkgAU0NAiABKAIYIQsgASABKAIMIgRHBEAgASgCCCIAQZgIKAIASRogACAENgIMIAQgADYCCAwMCyABQRRqIgIoAgAiAEUEQCABKAIQIgBFDQQgAUEQaiECCwNAIAIhByAAIgRBFGoiAigCACIADQAgBEEQaiECIAQoAhAiAA0ACyAHQQA2AgAMCwtBfyEIIABBv39LDQAgAEELaiIAQXhxIQhBjAgoAgAiCUUNAEEAIAhrIQMCQAJAAkACf0EAIAhBgAJJDQAaQR8gCEH///8HSw0AGiAAQQh2IgAgAEGA/j9qQRB2QQhxIgJ0IgAgAEGA4B9qQRB2QQRxIgF0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAEgAnIgAHJrIgBBAXQgCCAAQRVqdkEBcXJBHGoLIgVBAnRBuApqKAIAIgJFBEBBACEADAELQQAhACAIQQBBGSAFQQF2ayAFQR9GG3QhAQNAAkAgAigCBEF4cSAIayIHIANPDQAgAiEEIAciAw0AQQAhAyACIQAMAwsgACACKAIUIgcgByACIAFBHXZBBHFqKAIQIgJGGyAAIAcbIQAgAUEBdCEBIAINAAsLIAAgBHJFBEBBACEEQQIgBXQiAEEAIABrciAJcSIARQ0DIABBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2akECdEG4CmooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIAhrIgEgA0khAiABIAMgAhshAyAAIAQgAhshBCAAKAIQIgEEfyABBSAAKAIUCyIADQALCyAERQ0AIANBkAgoAgAgCGtPDQAgBCAIaiIGIARNDQEgBCgCGCEFIAQgBCgCDCIBRwRAIAQoAggiAEGYCCgCAEkaIAAgATYCDCABIAA2AggMCgsgBEEUaiICKAIAIgBFBEAgBCgCECIARQ0EIARBEGohAgsDQCACIQcgACIBQRRqIgIoAgAiAA0AIAFBEGohAiABKAIQIgANAAsgB0EANgIADAkLIAhBkAgoAgAiAk0EQEGcCCgCACEDAkAgAiAIayIBQRBPBEBBkAggATYCAEGcCCADIAhqIgA2AgAgACABQQFyNgIEIAIgA2ogATYCACADIAhBA3I2AgQMAQtBnAhBADYCAEGQCEEANgIAIAMgAkEDcjYCBCACIANqIgAgACgCBEEBcjYCBAsgA0EIaiEADAsLIAhBlAgoAgAiBkkEQEGUCCAGIAhrIgE2AgBBoAhBoAgoAgAiAiAIaiIANgIAIAAgAUEBcjYCBCACIAhBA3I2AgQgAkEIaiEADAsLQQAhACAIQS9qIgkCf0HgCygCAARAQegLKAIADAELQewLQn83AgBB5AtCgKCAgICABDcCAEHgCyAMQQxqQXBxQdiq1aoFczYCAEH0C0EANgIAQcQLQQA2AgBBgCALIgFqIgVBACABayIHcSICIAhNDQpBwAsoAgAiBARAQbgLKAIAIgMgAmoiASADTQ0LIAEgBEsNCwtBxAstAABBBHENBQJAAkBBoAgoAgAiAwRAQcgLIQADQCADIAAoAgAiAU8EQCABIAAoAgRqIANLDQMLIAAoAggiAA0ACwtBABABIgFBf0YNBiACIQVB5AsoAgAiA0EBayIAIAFxBEAgAiABayAAIAFqQQAgA2txaiEFCyAFIAhNDQYgBUH+////B0sNBkHACygCACIEBEBBuAsoAgAiAyAFaiIAIANNDQcgACAESw0HCyAFEAEiACABRw0BDAgLIAUgBmsgB3EiBUH+////B0sNBSAFEAEiASAAKAIAIAAoAgRqRg0EIAEhAAsCQCAAQX9GDQAgCEEwaiAFTQ0AQegLKAIAIgEgCSAFa2pBACABa3EiAUH+////B0sEQCAAIQEMCAsgARABQX9HBEAgASAFaiEFIAAhAQwIC0EAIAVrEAEaDAULIAAiAUF/Rw0GDAQLAAtBACEEDAcLQQAhAQwFCyABQX9HDQILQcQLQcQLKAIAQQRyNgIACyACQf7///8HSw0BIAIQASEBQQAQASEAIAFBf0YNASAAQX9GDQEgACABTQ0BIAAgAWsiBSAIQShqTQ0BC0G4C0G4CygCACAFaiIANgIAQbwLKAIAIABJBEBBvAsgADYCAAsCQAJAAkBBoAgoAgAiBwRAQcgLIQADQCABIAAoAgAiAyAAKAIEIgJqRg0CIAAoAggiAA0ACwwCC0GYCCgCACIAQQAgACABTRtFBEBBmAggATYCAAtBACEAQcwLIAU2AgBByAsgATYCAEGoCEF/NgIAQawIQeALKAIANgIAQdQLQQA2AgADQCAAQQN0IgNBuAhqIANBsAhqIgI2AgAgA0G8CGogAjYCACAAQQFqIgBBIEcNAAtBlAggBUEoayIDQXggAWtBB3FBACABQQhqQQdxGyIAayICNgIAQaAIIAAgAWoiADYCACAAIAJBAXI2AgQgASADakEoNgIEQaQIQfALKAIANgIADAILIAAtAAxBCHENACADIAdLDQAgASAHTQ0AIAAgAiAFajYCBEGgCCAHQXggB2tBB3FBACAHQQhqQQdxGyIAaiICNgIAQZQIQZQIKAIAIAVqIgEgAGsiADYCACACIABBAXI2AgQgASAHakEoNgIEQaQIQfALKAIANgIADAELQZgIKAIAIAFLBEBBmAggATYCAAsgASAFaiECQcgLIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQcgLIQADQCAHIAAoAgAiAk8EQCACIAAoAgRqIgQgB0sNAwsgACgCCCEADAALAAsgACABNgIAIAAgACgCBCAFajYCBCABQXggAWtBB3FBACABQQhqQQdxG2oiCSAIQQNyNgIEIAJBeCACa0EHcUEAIAJBCGpBB3EbaiIFIAggCWoiBmshAiAFIAdGBEBBoAggBjYCAEGUCEGUCCgCACACaiIANgIAIAYgAEEBcjYCBAwDCyAFQZwIKAIARgRAQZwIIAY2AgBBkAhBkAgoAgAgAmoiADYCACAGIABBAXI2AgQgACAGaiAANgIADAMLIAUoAgQiAEEDcUEBRgRAIABBeHEhBwJAIABB/wFNBEAgBSgCCCIDIABBA3YiAEEDdEGwCGpGGiADIAUoAgwiAUYEQEGICEGICCgCAEF+IAB3cTYCAAwCCyADIAE2AgwgASADNgIIDAELIAUoAhghCAJAIAUgBSgCDCIBRwRAIAUoAggiACABNgIMIAEgADYCCAwBCwJAIAVBFGoiACgCACIDDQAgBUEQaiIAKAIAIgMNAEEAIQEMAQsDQCAAIQQgAyIBQRRqIgAoAgAiAw0AIAFBEGohACABKAIQIgMNAAsgBEEANgIACyAIRQ0AAkAgBSAFKAIcIgNBAnRBuApqIgAoAgBGBEAgACABNgIAIAENAUGMCEGMCCgCAEF+IAN3cTYCAAwCCyAIQRBBFCAIKAIQIAVGG2ogATYCACABRQ0BCyABIAg2AhggBSgCECIABEAgASAANgIQIAAgATYCGAsgBSgCFCIARQ0AIAEgADYCFCAAIAE2AhgLIAUgB2ohBSACIAdqIQILIAUgBSgCBEF+cTYCBCAGIAJBAXI2AgQgAiAGaiACNgIAIAJB/wFNBEAgAkEDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwDC0EfIQAgAkH///8HTQRAIAJBCHYiACAAQYD+P2pBEHZBCHEiA3QiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASADciAAcmsiAEEBdCACIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQQCQEGMCCgCACIDQQEgAHQiAXFFBEBBjAggASADcjYCACAEIAY2AgAgBiAENgIYDAELIAJBAEEZIABBAXZrIABBH0YbdCEAIAQoAgAhAQNAIAEiAygCBEF4cSACRg0DIABBHXYhASAAQQF0IQAgAyABQQRxaiIEKAIQIgENAAsgBCAGNgIQIAYgAzYCGAsgBiAGNgIMIAYgBjYCCAwCC0GUCCAFQShrIgNBeCABa0EHcUEAIAFBCGpBB3EbIgBrIgI2AgBBoAggACABaiIANgIAIAAgAkEBcjYCBCABIANqQSg2AgRBpAhB8AsoAgA2AgAgByAEQScgBGtBB3FBACAEQSdrQQdxG2pBL2siACAAIAdBEGpJGyICQRs2AgQgAkHQCykCADcCECACQcgLKQIANwIIQdALIAJBCGo2AgBBzAsgBTYCAEHICyABNgIAQdQLQQA2AgAgAkEYaiEAA0AgAEEHNgIEIABBCGohASAAQQRqIQAgASAESQ0ACyACIAdGDQMgAiACKAIEQX5xNgIEIAcgAiAHayIEQQFyNgIEIAIgBDYCACAEQf8BTQRAIARBA3YiAEEDdEGwCGohAgJ/QYgIKAIAIgFBASAAdCIAcUUEQEGICCAAIAFyNgIAIAIMAQsgAigCCAshACACIAc2AgggACAHNgIMIAcgAjYCDCAHIAA2AggMBAtBHyEAIAdCADcCECAEQf///wdNBEAgBEEIdiIAIABBgP4/akEQdkEIcSICdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIAJyIAByayIAQQF0IAQgAEEVanZBAXFyQRxqIQALIAcgADYCHCAAQQJ0QbgKaiEDAkBBjAgoAgAiAkEBIAB0IgFxRQRAQYwIIAEgAnI2AgAgAyAHNgIAIAcgAzYCGAwBCyAEQQBBGSAAQQF2ayAAQR9GG3QhACADKAIAIQEDQCABIgIoAgRBeHEgBEYNBCAAQR12IQEgAEEBdCEAIAIgAUEEcWoiAygCECIBDQALIAMgBzYCECAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAwsgAygCCCIAIAY2AgwgAyAGNgIIIAZBADYCGCAGIAM2AgwgBiAANgIICyAJQQhqIQAMBQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIIC0GUCCgCACIAIAhNDQBBlAggACAIayIBNgIAQaAIQaAIKAIAIgIgCGoiADYCACAAIAFBAXI2AgQgAiAIQQNyNgIEIAJBCGohAAwDC0GECEEwNgIAQQAhAAwCCwJAIAVFDQACQCAEKAIcIgJBAnRBuApqIgAoAgAgBEYEQCAAIAE2AgAgAQ0BQYwIIAlBfiACd3EiCTYCAAwCCyAFQRBBFCAFKAIQIARGG2ogATYCACABRQ0BCyABIAU2AhggBCgCECIABEAgASAANgIQIAAgATYCGAsgBCgCFCIARQ0AIAEgADYCFCAAIAE2AhgLAkAgA0EPTQRAIAQgAyAIaiIAQQNyNgIEIAAgBGoiACAAKAIEQQFyNgIEDAELIAQgCEEDcjYCBCAGIANBAXI2AgQgAyAGaiADNgIAIANB/wFNBEAgA0EDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwBC0EfIQAgA0H///8HTQRAIANBCHYiACAAQYD+P2pBEHZBCHEiAnQiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASACciAAcmsiAEEBdCADIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQICQAJAIAlBASAAdCIBcUUEQEGMCCABIAlyNgIAIAIgBjYCACAGIAI2AhgMAQsgA0EAQRkgAEEBdmsgAEEfRht0IQAgAigCACEIA0AgCCIBKAIEQXhxIANGDQIgAEEddiECIABBAXQhACABIAJBBHFqIgIoAhAiCA0ACyACIAY2AhAgBiABNgIYCyAGIAY2AgwgBiAGNgIIDAELIAEoAggiACAGNgIMIAEgBjYCCCAGQQA2AhggBiABNgIMIAYgADYCCAsgBEEIaiEADAELAkAgC0UNAAJAIAEoAhwiAkECdEG4CmoiACgCACABRgRAIAAgBDYCACAEDQFBjAggBkF+IAJ3cTYCAAwCCyALQRBBFCALKAIQIAFGG2ogBDYCACAERQ0BCyAEIAs2AhggASgCECIABEAgBCAANgIQIAAgBDYCGAsgASgCFCIARQ0AIAQgADYCFCAAIAQ2AhgLAkAgA0EPTQRAIAEgAyAIaiIAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIEDAELIAEgCEEDcjYCBCAJIANBAXI2AgQgAyAJaiADNgIAIAoEQCAKQQN2IgBBA3RBsAhqIQRBnAgoAgAhAgJ/QQEgAHQiACAFcUUEQEGICCAAIAVyNgIAIAQMAQsgBCgCCAshACAEIAI2AgggACACNgIMIAIgBDYCDCACIAA2AggLQZwIIAk2AgBBkAggAzYCAAsgAUEIaiEACyAMQRBqJAAgAAsQACMAIABrQXBxIgAkACAACwYAIAAkAAsEACMAC4AJAgh/BH4jAEGQAWsiBiQAIAYgBS0AA0EYdEGAgIAYcSAFLwAAIAUtAAJBEHRycjYCACAGIAUoAANBAnZBg/7/H3E2AgQgBiAFKAAGQQR2Qf+B/x9xNgIIIAYgBSgACUEGdkH//8AfcTYCDCAFLwANIQggBS0ADyEJIAZCADcCFCAGQgA3AhwgBkEANgIkIAYgCCAJQRB0QYCAPHFyNgIQIAYgBSgAEDYCKCAGIAUoABQ2AiwgBiAFKAAYNgIwIAUoABwhBSAGQQA6AEwgBkEANgI4IAYgBTYCNCAGIAEgAhAEIAQEQCAGIAMgBBAECyAGKAI4IgEEQCAGQTxqIgIgAWpBAToAACABQQFqQQ9NBEAgASAGakE9aiEEAkBBDyABayIDRQ0AIAMgBGoiAUEBa0EAOgAAIARBADoAACADQQNJDQAgAUECa0EAOgAAIARBADoAASABQQNrQQA6AAAgBEEAOgACIANBB0kNACABQQRrQQA6AAAgBEEAOgADIANBCUkNACAEQQAgBGtBA3EiAWoiBEEANgIAIAQgAyABa0F8cSIBaiIDQQRrQQA2AgAgAUEJSQ0AIARBADYCCCAEQQA2AgQgA0EIa0EANgIAIANBDGtBADYCACABQRlJDQAgBEEANgIYIARBADYCFCAEQQA2AhAgBEEANgIMIANBEGtBADYCACADQRRrQQA2AgAgA0EYa0EANgIAIANBHGtBADYCACABIARBBHFBGHIiAWsiA0EgSQ0AIAEgBGohAQNAIAFCADcDGCABQgA3AxAgAUIANwMIIAFCADcDACABQSBqIQEgA0EgayIDQR9LDQALCwsgBkEBOgBMIAYgAkEQEAILIAY1AjQhECAGNQIwIREgBjUCLCEOIAAgBjUCKCAGKAIkIAYoAiAgBigCHCAGKAIYIgNBGnZqIgJBGnZqIgFBGnZqIgtBgICAYHIgAUH///8fcSINIAJB////H3EiCCAGKAIUIAtBGnZBBWxqIgFB////H3EiCUEFaiIFQRp2IANB////H3EgAUEadmoiA2oiAUEadmoiAkEadmoiBEEadmoiDEEfdSIHIANxIAEgDEEfdkEBayIDQf///x9xIgpxciIBQRp0IAUgCnEgByAJcXJyrXwiDzwAACAAIA9CGIg8AAMgACAPQhCIPAACIAAgD0IIiDwAASAAIA4gByAIcSACIApxciICQRR0IAFBBnZyrXwgD0IgiHwiDjwABCAAIA5CGIg8AAcgACAOQhCIPAAGIAAgDkIIiDwABSAAIBEgByANcSAEIApxciIBQQ50IAJBDHZyrXwgDkIgiHwiDjwACCAAIA5CGIg8AAsgACAOQhCIPAAKIAAgDkIIiDwACSAAIBAgAyAMcSAHIAtxckEIdCABQRJ2cq18IA5CIIh8Ig48AAwgACAOQhiIPAAPIAAgDkIQiDwADiAAIA5CCIg8AA0gBkIANwIwIAZCADcCKCAGQgA3AiAgBkIANwIYIAZCADcCECAGQgA3AgggBkIANwIAIAZBkAFqJAALpwwBB38CQCAARQ0AIABBCGsiAyAAQQRrKAIAIgFBeHEiAGohBQJAIAFBAXENACABQQNxRQ0BIAMgAygCACIBayIDQZgIKAIASQ0BIAAgAWohACADQZwIKAIARwRAIAFB/wFNBEAgAygCCCICIAFBA3YiBEEDdEGwCGpGGiACIAMoAgwiAUYEQEGICEGICCgCAEF+IAR3cTYCAAwDCyACIAE2AgwgASACNgIIDAILIAMoAhghBgJAIAMgAygCDCIBRwRAIAMoAggiAiABNgIMIAEgAjYCCAwBCwJAIANBFGoiAigCACIEDQAgA0EQaiICKAIAIgQNAEEAIQEMAQsDQCACIQcgBCIBQRRqIgIoAgAiBA0AIAFBEGohAiABKAIQIgQNAAsgB0EANgIACyAGRQ0BAkAgAyADKAIcIgJBAnRBuApqIgQoAgBGBEAgBCABNgIAIAENAUGMCEGMCCgCAEF+IAJ3cTYCAAwDCyAGQRBBFCAGKAIQIANGG2ogATYCACABRQ0CCyABIAY2AhggAygCECICBEAgASACNgIQIAIgATYCGAsgAygCFCICRQ0BIAEgAjYCFCACIAE2AhgMAQsgBSgCBCIBQQNxQQNHDQBBkAggADYCACAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAA8LIAMgBU8NACAFKAIEIgFBAXFFDQACQCABQQJxRQRAIAVBoAgoAgBGBEBBoAggAzYCAEGUCEGUCCgCACAAaiIANgIAIAMgAEEBcjYCBCADQZwIKAIARw0DQZAIQQA2AgBBnAhBADYCAA8LIAVBnAgoAgBGBEBBnAggAzYCAEGQCEGQCCgCACAAaiIANgIAIAMgAEEBcjYCBCAAIANqIAA2AgAPCyABQXhxIABqIQACQCABQf8BTQRAIAUoAggiAiABQQN2IgRBA3RBsAhqRhogAiAFKAIMIgFGBEBBiAhBiAgoAgBBfiAEd3E2AgAMAgsgAiABNgIMIAEgAjYCCAwBCyAFKAIYIQYCQCAFIAUoAgwiAUcEQCAFKAIIIgJBmAgoAgBJGiACIAE2AgwgASACNgIIDAELAkAgBUEUaiICKAIAIgQNACAFQRBqIgIoAgAiBA0AQQAhAQwBCwNAIAIhByAEIgFBFGoiAigCACIEDQAgAUEQaiECIAEoAhAiBA0ACyAHQQA2AgALIAZFDQACQCAFIAUoAhwiAkECdEG4CmoiBCgCAEYEQCAEIAE2AgAgAQ0BQYwIQYwIKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiABNgIAIAFFDQELIAEgBjYCGCAFKAIQIgIEQCABIAI2AhAgAiABNgIYCyAFKAIUIgJFDQAgASACNgIUIAIgATYCGAsgAyAAQQFyNgIEIAAgA2ogADYCACADQZwIKAIARw0BQZAIIAA2AgAPCyAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAAsgAEH/AU0EQCAAQQN2IgFBA3RBsAhqIQACf0GICCgCACICQQEgAXQiAXFFBEBBiAggASACcjYCACAADAELIAAoAggLIQIgACADNgIIIAIgAzYCDCADIAA2AgwgAyACNgIIDwtBHyECIANCADcCECAAQf///wdNBEAgAEEIdiIBIAFBgP4/akEQdkEIcSIBdCICIAJBgOAfakEQdkEEcSICdCIEIARBgIAPakEQdkECcSIEdEEPdiABIAJyIARyayIBQQF0IAAgAUEVanZBAXFyQRxqIQILIAMgAjYCHCACQQJ0QbgKaiEBAkACQAJAQYwIKAIAIgRBASACdCIHcUUEQEGMCCAEIAdyNgIAIAEgAzYCACADIAE2AhgMAQsgAEEAQRkgAkEBdmsgAkEfRht0IQIgASgCACEBA0AgASIEKAIEQXhxIABGDQIgAkEddiEBIAJBAXQhAiAEIAFBBHFqIgdBEGooAgAiAQ0ACyAHIAM2AhAgAyAENgIYCyADIAM2AgwgAyADNgIIDAELIAQoAggiACADNgIMIAQgAzYCCCADQQA2AhggAyAENgIMIAMgADYCCAtBqAhBqAgoAgBBAWsiAEF/IAAbNgIACwsLCQEAQYEICwIGUA==";if(!te.startsWith(ee)){var re=te;te=i.locateFile?i.locateFile(re,_):_+re}function pa(){var e=te;try{if(e==te&&T)return new Uint8Array(T);var r=H(e);if(r)return r;if(I)return I(e);throw"both async and sync fetching of the wasm failed"}catch(e){K(e)}}function qa(){if(!T&&(p||g)){if("function"===typeof fetch&&!te.startsWith("file://"))return fetch(te,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+te+"'";return e.arrayBuffer()})).catch((function(){return pa()}));if(w)return new Promise((function(e,r){w(te,(function(r){e(new Uint8Array(r))}),r)}))}return Promise.resolve().then((function(){return pa()}))}function X(e){for(;0<e.length;){var r=e.shift();if("function"==typeof r)r(i);else{var n=r.m;"number"===typeof n?void 0===r.l?Q.get(n)():Q.get(n)(r.l):n(void 0===r.l?null:r.l)}}}var ne=!1,ie="function"===typeof atob?atob:function(e){var r="",n=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));i=i<<2|s>>4;s=(s&15)<<4|o>>2;var f=(o&3)<<6|u;r+=String.fromCharCode(i);64!==o&&(r+=String.fromCharCode(s));64!==u&&(r+=String.fromCharCode(f))}while(n<e.length);return r};function H(e){if(e.startsWith(ee)){e=e.slice(ee.length);if("boolean"===typeof b&&b){var r=Buffer.from(e,"base64");r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}else try{var n=ie(e),i=new Uint8Array(n.length);for(e=0;e<n.length;++e)i[e]=n.charCodeAt(e);r=i}catch(e){throw Error("Converting base64 string to bytes failed.")}return r}}var se={a:function(e){var r=W.length;e>>>=0;if(2147483648<e)return!1;for(var n=1;4>=n;n*=2){var i=r*(1+.2/n);i=Math.min(i,e+100663296);i=Math.max(e,i);0<i%65536&&(i+=65536-i%65536);e:{try{P.grow(Math.min(2147483648,i)-U.byteLength+65535>>>16);ia();var s=1;break e}catch(e){}s=void 0}if(s)return!0}return!1}};(function(){function a(e){i.asm=e.exports;P=i.asm.b;ia();Q=i.asm.j;G.unshift(i.asm.c);Y--;i.monitorRunDependencies&&i.monitorRunDependencies(Y);0==Y&&(null!==V&&(clearInterval(V),V=null),J&&(e=J,J=null,e()))}function c(e){a(e.instance)}function d(r){return qa().then((function(r){return WebAssembly.instantiate(r,e)})).then(r,(function(e){R("failed to asynchronously prepare wasm: "+e);K(e)}))}var e={a:se};Y++;i.monitorRunDependencies&&i.monitorRunDependencies(Y);if(i.instantiateWasm)try{return i.instantiateWasm(e,a)}catch(e){return R("Module.instantiateWasm callback failed with error: "+e),!1}(function(){return T||"function"!==typeof WebAssembly.instantiateStreaming||te.startsWith(ee)||te.startsWith("file://")||"function"!==typeof fetch?d(c):fetch(te,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(c,(function(e){R("wasm streaming compile failed: "+e);R("falling back to ArrayBuffer instantiation");return d(c)}))}))})().catch(o);return{}})();i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.c).apply(null,arguments)};i._poly1305_auth=function(){return(i._poly1305_auth=i.asm.d).apply(null,arguments)};var oe=i.stackSave=function(){return(oe=i.stackSave=i.asm.e).apply(null,arguments)},ae=i.stackRestore=function(){return(ae=i.stackRestore=i.asm.f).apply(null,arguments)},le=i.stackAlloc=function(){return(le=i.stackAlloc=i.asm.g).apply(null,arguments)};i._malloc=function(){return(i._malloc=i.asm.h).apply(null,arguments)};i._free=function(){return(i._free=i.asm.i).apply(null,arguments)};i.cwrap=function(e,r,n,i){n=n||[];var s=n.every((function(e){return"number"===e}));return"string"!==r&&s&&!i?N(e):function(){return ca(e,r,n,arguments)}};var ce;J=function ta(){ce||Z();ce||(J=ta)};function Z(){function a(){if(!ce&&(ce=!0,i.calledRun=!0,!B)){X(G);s(i);if(i.onRuntimeInitialized)i.onRuntimeInitialized();if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var e=i.postRun.shift();q.unshift(e)}X(q)}}if(!(0<Y)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)ma();X(z);0<Y||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1);a()}),1)):a())}}i.run=Z;if(i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();Z();return r.ready}}();if(true)e.exports=i;else{}},96256:(e,r,n)=>{"use strict";const i=new Array(256);[n(14257).HANDLERS,n(56008)].forEach((e=>{for(let[r,n]of Object.entries(e)){r=+r;if(isFinite(r)&&r>=0&&r<i.length)i[r]=n}}));e.exports=i},56008:(e,r,n)=>{"use strict";const{bufferSlice:i,bufferParser:s,doFatalError:o,sigSSHToASN1:u,writeUInt32BE:f}=n(67532);const{CHANNEL_OPEN_FAILURE:p,COMPAT:g,MESSAGE:b,TERMINAL_MODE:_}=n(840);const{parseKey:v}=n(41177);const w=Array.from(Object.entries(_)).reduce(((e,[r,n])=>({...e,[r]:n})),{});e.exports={[b.DISCONNECT]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();const i=s.readString(true);const u=s.readString();s.clear();if(u===undefined){return o(e,"Inbound: Malformed DISCONNECT packet")}e._debug&&e._debug(`Inbound: Received DISCONNECT (${n}, "${i}")`);const f=e._handlers.DISCONNECT;f&&f(e,n,i)},[b.IGNORE]:(e,r)=>{e._debug&&e._debug("Inbound: Received IGNORE")},[b.UNIMPLEMENTED]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed UNIMPLEMENTED packet")}e._debug&&e._debug(`Inbound: Received UNIMPLEMENTED (seqno ${n})`)},[b.DEBUG]:(e,r)=>{s.init(r,1);const n=s.readBool();const i=s.readString(true);const u=s.readString();s.clear();if(u===undefined){return o(e,"Inbound: Malformed DEBUG packet")}e._debug&&e._debug("Inbound: Received DEBUG");const f=e._handlers.DEBUG;f&&f(e,n,i)},[b.SERVICE_REQUEST]:(e,r)=>{s.init(r,1);const n=s.readString(true);s.clear();if(n===undefined){return o(e,"Inbound: Malformed SERVICE_REQUEST packet")}e._debug&&e._debug(`Inbound: Received SERVICE_REQUEST (${n})`);const i=e._handlers.SERVICE_REQUEST;i&&i(e,n)},[b.SERVICE_ACCEPT]:(e,r)=>{s.init(r,1);const n=s.readString(true);s.clear();if(n===undefined){return o(e,"Inbound: Malformed SERVICE_ACCEPT packet")}e._debug&&e._debug(`Inbound: Received SERVICE_ACCEPT (${n})`);const i=e._handlers.SERVICE_ACCEPT;i&&i(e,n)},[b.EXT_INFO]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();let i;if(n!==undefined){i=[];for(let e=0;e<n;++e){const e=s.readString(true);const r=s.readString();if(r!==undefined){switch(e){case"server-sig-algs":{const n=r.latin1Slice(0,r.length).split(",");i.push({name:e,algs:n});continue}default:continue}}i=undefined;break}}s.clear();if(i===undefined)return o(e,"Inbound: Malformed EXT_INFO packet");e._debug&&e._debug("Inbound: Received EXT_INFO");const u=e._handlers.EXT_INFO;u&&u(e,i)},[b.USERAUTH_REQUEST]:(e,r)=>{s.init(r,1);const n=s.readString(true);const p=s.readString(true);const g=s.readString(true);let b;let _;switch(g){case"none":b=null;break;case"password":{const e=s.readBool();if(e!==undefined){b=s.readString(true);if(b!==undefined&&e){const e=s.readString(true);if(e!==undefined)b={oldPassword:b,newPassword:e};else b=undefined}}break}case"publickey":{const n=s.readBool();if(n!==undefined){const o=s.readString(true);let p=o;const g=s.readString();let v;switch(o){case"rsa-sha2-256":p="ssh-rsa";v="sha256";break;case"rsa-sha2-512":p="ssh-rsa";v="sha512";break}if(n){const n=s.pos();let _=s.readString();if(_!==undefined){if(_.length>4+o.length+4&&_.utf8Slice(4,4+o.length)===o){_=i(_,4+o.length+4)}_=u(_,p);if(_){const i=e._kex.sessionID;const s=Buffer.allocUnsafe(4+i.length+n);f(s,i.length,0);s.set(i,4);s.set(new Uint8Array(r.buffer,r.byteOffset,n),4+i.length);b={keyAlgo:p,key:g,signature:_,blob:s,hashAlgo:v}}}}else{b={keyAlgo:p,key:g,hashAlgo:v};_="publickey -- check"}}break}case"hostbased":{const n=s.readString(true);let o=n;const p=s.readString();const g=s.readString(true);const _=s.readString(true);let v;switch(n){case"rsa-sha2-256":o="ssh-rsa";v="sha256";break;case"rsa-sha2-512":o="ssh-rsa";v="sha512";break}const w=s.pos();let I=s.readString();if(I!==undefined){if(I.length>4+n.length+4&&I.utf8Slice(4,4+n.length)===n){I=i(I,4+n.length+4)}I=u(I,o);if(I!==undefined){const n=e._kex.sessionID;const i=Buffer.allocUnsafe(4+n.length+w);f(i,n.length,0);i.set(n,4);i.set(new Uint8Array(r.buffer,r.byteOffset,w),4+n.length);b={keyAlgo:o,key:p,signature:I,blob:i,localHostname:g,localUsername:_,hashAlgo:v}}}break}case"keyboard-interactive":s.skipString();b=s.readList();break;default:if(g!==undefined)b=s.readRaw()}s.clear();if(b===undefined){return o(e,"Inbound: Malformed USERAUTH_REQUEST packet")}if(_===undefined)_=g;e._authsQueue.push(g);e._debug&&e._debug(`Inbound: Received USERAUTH_REQUEST (${_})`);const v=e._handlers.USERAUTH_REQUEST;v&&v(e,n,p,g,b)},[b.USERAUTH_FAILURE]:(e,r)=>{s.init(r,1);const n=s.readList();const i=s.readBool();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_FAILURE packet")}e._debug&&e._debug(`Inbound: Received USERAUTH_FAILURE (${n})`);e._authsQueue.shift();const u=e._handlers.USERAUTH_FAILURE;u&&u(e,n,i)},[b.USERAUTH_SUCCESS]:(e,r)=>{e._debug&&e._debug("Inbound: Received USERAUTH_SUCCESS");e._authsQueue.shift();const n=e._handlers.USERAUTH_SUCCESS;n&&n(e)},[b.USERAUTH_BANNER]:(e,r)=>{s.init(r,1);const n=s.readString(true);const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_BANNER packet")}e._debug&&e._debug("Inbound: Received USERAUTH_BANNER");const u=e._handlers.USERAUTH_BANNER;u&&u(e,n)},60:(e,r)=>{if(!e._authsQueue.length){e._debug&&e._debug("Inbound: Received payload type 60 without auth");return}switch(e._authsQueue[0]){case"password":{s.init(r,1);const n=s.readString(true);const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_PASSWD_CHANGEREQ packet")}e._debug&&e._debug("Inbound: Received USERAUTH_PASSWD_CHANGEREQ");const u=e._handlers.USERAUTH_PASSWD_CHANGEREQ;u&&u(e,n);break}case"publickey":{s.init(r,1);const n=s.readString(true);const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_PK_OK packet")}e._debug&&e._debug("Inbound: Received USERAUTH_PK_OK");e._authsQueue.shift();const u=e._handlers.USERAUTH_PK_OK;u&&u(e,n,i);break}case"keyboard-interactive":{s.init(r,1);const n=s.readString(true);const i=s.readString(true);s.readString();const u=s.readUInt32BE();let f;if(u!==undefined){f=new Array(u);let e;for(e=0;e<u;++e){const r=s.readString(true);const n=s.readBool();if(n===undefined)break;f[e]={prompt:r,echo:n}}if(e!==u)f=undefined}s.clear();if(f===undefined){return o(e,"Inbound: Malformed USERAUTH_INFO_REQUEST packet")}e._debug&&e._debug("Inbound: Received USERAUTH_INFO_REQUEST");const p=e._handlers.USERAUTH_INFO_REQUEST;p&&p(e,n,i,f);break}default:e._debug&&e._debug("Inbound: Received unexpected payload type 60")}},61:(e,r)=>{if(!e._authsQueue.length){e._debug&&e._debug("Inbound: Received payload type 61 without auth");return}if(e._authsQueue[0]!=="keyboard-interactive"){return o(e,"Inbound: Received unexpected payload type 61")}s.init(r,1);const n=s.readUInt32BE();let i;if(n!==undefined){i=new Array(n);let e;for(e=0;e<n;++e){const r=s.readString(true);if(r===undefined)break;i[e]=r}if(e!==n)i=undefined}s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_INFO_RESPONSE packet")}e._debug&&e._debug("Inbound: Received USERAUTH_INFO_RESPONSE");const u=e._handlers.USERAUTH_INFO_RESPONSE;u&&u(e,i)},[b.GLOBAL_REQUEST]:(e,r)=>{s.init(r,1);const n=s.readString(true);const i=s.readBool();let u;if(i!==undefined){switch(n){case"tcpip-forward":case"cancel-tcpip-forward":{const e=s.readString(true);const r=s.readUInt32BE();if(r!==undefined)u={bindAddr:e,bindPort:r};break}case"streamlocal-forward@openssh.com":case"cancel-streamlocal-forward@openssh.com":{const e=s.readString(true);if(e!==undefined)u={socketPath:e};break}case"no-more-sessions@openssh.com":u=null;break;case"hostkeys-00@openssh.com":{u=[];while(s.avail()>0){const e=s.readString();if(e===undefined){u=undefined;break}const r=v(e);if(!(r instanceof Error))u.push(r)}break}default:u=s.readRaw()}}s.clear();if(u===undefined){return o(e,"Inbound: Malformed GLOBAL_REQUEST packet")}e._debug&&e._debug(`Inbound: GLOBAL_REQUEST (${n})`);const f=e._handlers.GLOBAL_REQUEST;if(f)f(e,n,i,u);else e.requestFailure()},[b.REQUEST_SUCCESS]:(e,r)=>{const n=r.length>1?i(r,1):null;e._debug&&e._debug("Inbound: REQUEST_SUCCESS");const s=e._handlers.REQUEST_SUCCESS;s&&s(e,n)},[b.REQUEST_FAILURE]:(e,r)=>{e._debug&&e._debug("Inbound: Received REQUEST_FAILURE");const n=e._handlers.REQUEST_FAILURE;n&&n(e)},[b.CHANNEL_OPEN]:(e,r)=>{s.init(r,1);const n=s.readString(true);const i=s.readUInt32BE();const u=s.readUInt32BE();const f=s.readUInt32BE();let g;switch(n){case"forwarded-tcpip":case"direct-tcpip":{const e=s.readString(true);const r=s.readUInt32BE();const o=s.readString(true);const p=s.readUInt32BE();if(p!==undefined){g={type:n,sender:i,window:u,packetSize:f,data:{destIP:e,destPort:r,srcIP:o,srcPort:p}}}break}case"forwarded-streamlocal@openssh.com":case"direct-streamlocal@openssh.com":{const e=s.readString(true);if(e!==undefined){g={type:n,sender:i,window:u,packetSize:f,data:{socketPath:e}}}break}case"x11":{const e=s.readString(true);const r=s.readUInt32BE();if(r!==undefined){g={type:n,sender:i,window:u,packetSize:f,data:{srcIP:e,srcPort:r}}}break}default:g={type:n,sender:i,window:u,packetSize:f,data:{}}}s.clear();if(g===undefined){return o(e,"Inbound: Malformed CHANNEL_OPEN packet")}e._debug&&e._debug(`Inbound: CHANNEL_OPEN (s:${i}, ${n})`);const b=e._handlers.CHANNEL_OPEN;if(b){b(e,g)}else{e.channelOpenFail(g.sender,p.ADMINISTRATIVELY_PROHIBITED,"","")}},[b.CHANNEL_OPEN_CONFIRMATION]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();const i=s.readUInt32BE();const u=s.readUInt32BE();const f=s.readUInt32BE();const p=s.avail()?s.readRaw():undefined;s.clear();if(f===undefined){return o(e,"Inbound: Malformed CHANNEL_OPEN_CONFIRMATION packet")}e._debug&&e._debug(`Inbound: CHANNEL_OPEN_CONFIRMATION (r:${n}, s:${i})`);const g=e._handlers.CHANNEL_OPEN_CONFIRMATION;if(g)g(e,{recipient:n,sender:i,window:u,packetSize:f,data:p})},[b.CHANNEL_OPEN_FAILURE]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();const i=s.readUInt32BE();const u=s.readString(true);const f=s.readString();s.clear();if(f===undefined){return o(e,"Inbound: Malformed CHANNEL_OPEN_FAILURE packet")}e._debug&&e._debug(`Inbound: CHANNEL_OPEN_FAILURE (r:${n})`);const p=e._handlers.CHANNEL_OPEN_FAILURE;p&&p(e,n,i,u)},[b.CHANNEL_WINDOW_ADJUST]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();const i=s.readUInt32BE();s.clear();if(i===undefined){return o(e,"Inbound: Malformed CHANNEL_WINDOW_ADJUST packet")}e._debug&&e._debug(`Inbound: CHANNEL_WINDOW_ADJUST (r:${n}, ${i})`);const u=e._handlers.CHANNEL_WINDOW_ADJUST;u&&u(e,n,i)},[b.CHANNEL_DATA]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed CHANNEL_DATA packet")}e._debug&&e._debug(`Inbound: CHANNEL_DATA (r:${n}, ${i.length})`);const u=e._handlers.CHANNEL_DATA;u&&u(e,n,i)},[b.CHANNEL_EXTENDED_DATA]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();const i=s.readUInt32BE();const u=s.readString();s.clear();if(u===undefined){return o(e,"Inbound: Malformed CHANNEL_EXTENDED_DATA packet")}e._debug&&e._debug(`Inbound: CHANNEL_EXTENDED_DATA (r:${n}, ${u.length})`);const f=e._handlers.CHANNEL_EXTENDED_DATA;f&&f(e,n,u,i)},[b.CHANNEL_EOF]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_EOF packet")}e._debug&&e._debug(`Inbound: CHANNEL_EOF (r:${n})`);const i=e._handlers.CHANNEL_EOF;i&&i(e,n)},[b.CHANNEL_CLOSE]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_CLOSE packet")}e._debug&&e._debug(`Inbound: CHANNEL_CLOSE (r:${n})`);const i=e._handlers.CHANNEL_CLOSE;i&&i(e,n)},[b.CHANNEL_REQUEST]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();const i=s.readString(true);const u=s.readBool();let f;if(u!==undefined){switch(i){case"exit-status":f=s.readUInt32BE();e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${f})`);break;case"exit-signal":{let r;let o;if(e._compatFlags&g.OLD_EXIT){const e=s.readUInt32BE();switch(e){case 1:r="HUP";break;case 2:r="INT";break;case 3:r="QUIT";break;case 6:r="ABRT";break;case 9:r="KILL";break;case 14:r="ALRM";break;case 15:r="TERM";break;default:if(e!==undefined){r=`UNKNOWN (${e})`}}o=false}else{r=s.readString(true);o=s.readBool();if(o===undefined)r=undefined}const u=s.readString(true);if(s.skipString()!==undefined)f={signal:r,coreDumped:o,errorMessage:u};e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${r})`);break}case"pty-req":{const r=s.readString(true);const o=s.readUInt32BE();const u=s.readUInt32BE();const p=s.readUInt32BE();const g=s.readUInt32BE();const b=s.readString();if(b!==undefined){s.init(b,1);let e={};while(s.avail()){const r=s.readByte();if(r===_.TTY_OP_END)break;const n=w[r];const i=s.readUInt32BE();if(r===undefined||n===undefined||i===undefined){e=undefined;break}e[n]=i}if(e!==undefined)f={term:r,cols:o,rows:u,width:p,height:g,modes:e}}e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break}case"window-change":{const r=s.readUInt32BE();const o=s.readUInt32BE();const u=s.readUInt32BE();const p=s.readUInt32BE();if(p!==undefined)f={cols:r,rows:o,width:u,height:p};e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break}case"x11-req":{const r=s.readBool();const o=s.readString(true);const u=s.readString();const p=s.readUInt32BE();if(p!==undefined)f={single:r,protocol:o,cookie:u,screen:p};e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break}case"env":{const r=s.readString(true);const o=s.readString(true);if(o!==undefined)f={name:r,value:o};if(e._debug){e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: `+`${r}=${o})`)}break}case"shell":f=null;e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break;case"exec":f=s.readString(true);e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${f})`);break;case"subsystem":f=s.readString(true);e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${f})`);break;case"signal":f=s.readString(true);e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${f})`);break;case"xon-xoff":f=s.readBool();e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${f})`);break;case"auth-agent-req@openssh.com":f=null;e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break;default:f=s.avail()?s.readRaw():null;e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`)}}s.clear();if(f===undefined){return o(e,"Inbound: Malformed CHANNEL_REQUEST packet")}const p=e._handlers.CHANNEL_REQUEST;p&&p(e,n,i,u,f)},[b.CHANNEL_SUCCESS]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_SUCCESS packet")}e._debug&&e._debug(`Inbound: CHANNEL_SUCCESS (r:${n})`);const i=e._handlers.CHANNEL_SUCCESS;i&&i(e,n)},[b.CHANNEL_FAILURE]:(e,r)=>{s.init(r,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_FAILURE packet")}e._debug&&e._debug(`Inbound: CHANNEL_FAILURE (r:${n})`);const i=e._handlers.CHANNEL_FAILURE;i&&i(e,n)}}},14257:(e,r,n)=>{"use strict";const{createDiffieHellman:i,createDiffieHellmanGroup:s,createECDH:o,createHash:u,createPublicKey:f,diffieHellman:p,generateKeyPairSync:g,randomFillSync:b}=n(76982);const{Ber:_}=n(1594);const{COMPAT:v,curve25519Supported:w,DEFAULT_KEX:I,DEFAULT_SERVER_HOST_KEY:k,DEFAULT_CIPHER:C,DEFAULT_MAC:R,DEFAULT_COMPRESSION:T,DISCONNECT_REASON:x,MESSAGE:P}=n(840);const{CIPHER_INFO:B,createCipher:L,createDecipher:U,MAC_INFO:j}=n(5244);const{parseDERKey:W}=n(41177);const{bufferFill:Q,bufferParser:z,convertSignature:G,doFatalError:q,FastBuffer:Y,sigSSHToASN1:V,writeUInt32BE:J}=n(67532);const{PacketReader:ee,PacketWriter:te,ZlibPacketReader:re,ZlibPacketWriter:ne}=n(96892);let ie;const se=2048;const oe=8192;const ae=Buffer.alloc(0);function kexinit(e){let r;if(e._compatFlags&v.BAD_DHGEX){const n=e._offer.lists.kex;let i=n.array;let s=false;for(let e=0;e<i.length;++e){if(i[e].includes("group-exchange")){if(!s){s=true;i=i.slice()}i.splice(e--,1)}}if(s){let s=1+16+e._offer.totalSize+1+4;const o=Buffer.from(i.join(","));s-=n.buffer.length-o.length;const u=e._offer.lists.all;const f=new Uint8Array(u.buffer,u.byteOffset+4+n.buffer.length,u.length-(4+n.buffer.length));r=Buffer.allocUnsafe(s);J(r,o.length,17);r.set(o,17+4);r.set(f,17+4+o.length)}}if(r===undefined){r=Buffer.allocUnsafe(1+16+e._offer.totalSize+1+4);e._offer.copyAllTo(r,17)}e._debug&&e._debug("Outbound: Sending KEXINIT");r[0]=P.KEXINIT;b(r,1,16);Q(r,0,r.length-5);e._kexinit=r;e._packetRW.write.allocStart=0;{const n=e._packetRW.write.allocStartKEX;const i=e._packetRW.write.alloc(r.length,true);i.set(r,n);e._cipher.encrypt(e._packetRW.write.finalize(i,true))}}function handleKexInit(e,r){const n={kex:undefined,serverHostKey:undefined,cs:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined},sc:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined}};z.init(r,17);if((n.kex=z.readList())===undefined||(n.serverHostKey=z.readList())===undefined||(n.cs.cipher=z.readList())===undefined||(n.sc.cipher=z.readList())===undefined||(n.cs.mac=z.readList())===undefined||(n.sc.mac=z.readList())===undefined||(n.cs.compress=z.readList())===undefined||(n.sc.compress=z.readList())===undefined||(n.cs.lang=z.readList())===undefined||(n.sc.lang=z.readList())===undefined){z.clear();return q(e,"Received malformed KEXINIT","handshake",x.KEY_EXCHANGE_FAILED)}const i=z.pos();const s=i<r.length&&r[i]===1;z.clear();const o=e._offer;const u=n;let f=o.lists.kex.array;if(e._compatFlags&v.BAD_DHGEX){let e=false;for(let r=0;r<f.length;++r){if(f[r].indexOf("group-exchange")!==-1){if(!e){e=true;f=f.slice()}f.splice(r--,1)}}}let p;let g;let b;const _=e._debug;_&&_("Inbound: Handshake in progress");_&&_(`Handshake: (local) KEX method: ${f}`);_&&_(`Handshake: (remote) KEX method: ${u.kex}`);let w;if(e._server){g=f;p=u.kex;w=p.indexOf("ext-info-c")!==-1}else{g=u.kex;p=f;w=g.indexOf("ext-info-s")!==-1}if(e._strictMode===undefined){if(e._server){e._strictMode=p.indexOf("kex-strict-c-v00@openssh.com")!==-1}else{e._strictMode=g.indexOf("kex-strict-s-v00@openssh.com")!==-1}if(e._strictMode){_&&_("Handshake: strict KEX mode enabled");if(e._decipher.inSeqno!==1){if(_)_("Handshake: KEXINIT not first packet in strict KEX mode");return q(e,"Handshake failed: KEXINIT not first packet in strict KEX mode","handshake",x.KEY_EXCHANGE_FAILED)}}}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: no matching key exchange algorithm");return q(e,"Handshake failed: no matching key exchange algorithm","handshake",x.KEY_EXCHANGE_FAILED)}n.kex=p[b];_&&_(`Handshake: KEX algorithm: ${p[b]}`);if(s&&(!u.kex.length||p[b]!==u.kex[0])){e._skipNextInboundPacket=true}const I=o.lists.serverHostKey.array;_&&_(`Handshake: (local) Host key format: ${I}`);_&&_(`Handshake: (remote) Host key format: ${u.serverHostKey}`);if(e._server){g=I;p=u.serverHostKey}else{g=u.serverHostKey;p=I}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: No matching host key format");return q(e,"Handshake failed: no matching host key format","handshake",x.KEY_EXCHANGE_FAILED)}n.serverHostKey=p[b];_&&_(`Handshake: Host key format: ${p[b]}`);const k=o.lists.cs.cipher.array;_&&_(`Handshake: (local) C->S cipher: ${k}`);_&&_(`Handshake: (remote) C->S cipher: ${u.cs.cipher}`);if(e._server){g=k;p=u.cs.cipher}else{g=u.cs.cipher;p=k}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: No matching C->S cipher");return q(e,"Handshake failed: no matching C->S cipher","handshake",x.KEY_EXCHANGE_FAILED)}n.cs.cipher=p[b];_&&_(`Handshake: C->S Cipher: ${p[b]}`);const C=o.lists.sc.cipher.array;_&&_(`Handshake: (local) S->C cipher: ${C}`);_&&_(`Handshake: (remote) S->C cipher: ${u.sc.cipher}`);if(e._server){g=C;p=u.sc.cipher}else{g=u.sc.cipher;p=C}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: No matching S->C cipher");return q(e,"Handshake failed: no matching S->C cipher","handshake",x.KEY_EXCHANGE_FAILED)}n.sc.cipher=p[b];_&&_(`Handshake: S->C cipher: ${p[b]}`);const R=o.lists.cs.mac.array;_&&_(`Handshake: (local) C->S MAC: ${R}`);_&&_(`Handshake: (remote) C->S MAC: ${u.cs.mac}`);if(B[n.cs.cipher].authLen>0){n.cs.mac="";_&&_("Handshake: C->S MAC: <implicit>")}else{if(e._server){g=R;p=u.cs.mac}else{g=u.cs.mac;p=R}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: No matching C->S MAC");return q(e,"Handshake failed: no matching C->S MAC","handshake",x.KEY_EXCHANGE_FAILED)}n.cs.mac=p[b];_&&_(`Handshake: C->S MAC: ${p[b]}`)}const T=o.lists.sc.mac.array;_&&_(`Handshake: (local) S->C MAC: ${T}`);_&&_(`Handshake: (remote) S->C MAC: ${u.sc.mac}`);if(B[n.sc.cipher].authLen>0){n.sc.mac="";_&&_("Handshake: S->C MAC: <implicit>")}else{if(e._server){g=T;p=u.sc.mac}else{g=u.sc.mac;p=T}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: No matching S->C MAC");return q(e,"Handshake failed: no matching S->C MAC","handshake",x.KEY_EXCHANGE_FAILED)}n.sc.mac=p[b];_&&_(`Handshake: S->C MAC: ${p[b]}`)}const P=o.lists.cs.compress.array;_&&_(`Handshake: (local) C->S compression: ${P}`);_&&_(`Handshake: (remote) C->S compression: ${u.cs.compress}`);if(e._server){g=P;p=u.cs.compress}else{g=u.cs.compress;p=P}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: No matching C->S compression");return q(e,"Handshake failed: no matching C->S compression","handshake",x.KEY_EXCHANGE_FAILED)}n.cs.compress=p[b];_&&_(`Handshake: C->S compression: ${p[b]}`);const L=o.lists.sc.compress.array;_&&_(`Handshake: (local) S->C compression: ${L}`);_&&_(`Handshake: (remote) S->C compression: ${u.sc.compress}`);if(e._server){g=L;p=u.sc.compress}else{g=u.sc.compress;p=L}for(b=0;b<p.length&&g.indexOf(p[b])===-1;++b);if(b===p.length){_&&_("Handshake: No matching S->C compression");return q(e,"Handshake failed: no matching S->C compression","handshake",x.KEY_EXCHANGE_FAILED)}n.sc.compress=p[b];_&&_(`Handshake: S->C compression: ${p[b]}`);n.cs.lang="";n.sc.lang="";if(e._kex){if(!e._kexinit){kexinit(e)}e._decipher._onPayload=onKEXPayload.bind(e,{firstPacket:false})}e._kex=le(n,e,r);e._kex.remoteExtInfoEnabled=w;e._kex.start()}const le=(()=>{function convertToMpint(e){let r=0;let n=e.length;while(e[r]===0){++r;--n}let i;if(e[r]&128){i=Buffer.allocUnsafe(1+n);i[0]=0;e.copy(i,1,r);e=i}else if(n!==e.length){i=Buffer.allocUnsafe(n);e.copy(i,0,r);e=i}return e}class KeyExchange{constructor(e,r,n){this._protocol=r;this.sessionID=r._kex?r._kex.sessionID:undefined;this.negotiated=e;this.remoteExtInfoEnabled=false;this._step=1;this._public=null;this._dh=null;this._sentNEWKEYS=false;this._receivedNEWKEYS=false;this._finished=false;this._hostVerified=false;this._kexinit=r._kexinit;this._remoteKexinit=n;this._identRaw=r._identRaw;this._remoteIdentRaw=r._remoteIdentRaw;this._hostKey=undefined;this._dhData=undefined;this._sig=undefined}finish(e){if(this._finished)return false;this._finished=true;const r=this._protocol._server;const n=this.negotiated;const i=this.convertPublicKey(this._dhData);let s=this.computeSecret(this._dhData);if(s instanceof Error){s.message=`Error while computing DH secret (${this.type}): ${s.message}`;s.level="handshake";return q(this._protocol,s,x.KEY_EXCHANGE_FAILED)}const o=u(this.hashName);ue(o,r?this._remoteIdentRaw:this._identRaw);ue(o,r?this._identRaw:this._remoteIdentRaw);ue(o,r?this._remoteKexinit:this._kexinit);ue(o,r?this._kexinit:this._remoteKexinit);const f=r?this._hostKey.getPublicSSH():this._hostKey;ue(o,f);if(this.type==="groupex"){const e=this.getDHParams();const r=Buffer.allocUnsafe(4);J(r,this._minBits,0);o.update(r);J(r,this._prefBits,0);o.update(r);J(r,this._maxBits,0);o.update(r);ue(o,e.prime);ue(o,e.generator)}ue(o,r?i:this.getPublicKey());const p=r?this.getPublicKey():i;ue(o,p);ue(o,s);const g=o.digest();if(!r){z.init(this._sig,0);const e=z.readString(true);if(!e){return q(this._protocol,"Malformed packet while reading signature","handshake",x.KEY_EXCHANGE_FAILED)}if(e!==n.serverHostKey){return q(this._protocol,`Wrong signature type: ${e}, `+`expected: ${n.serverHostKey}`,"handshake",x.KEY_EXCHANGE_FAILED)}let r=z.readString();z.clear();if(r===undefined){return q(this._protocol,"Malformed packet while reading signature","handshake",x.KEY_EXCHANGE_FAILED)}if(!(r=V(r,e))){return q(this._protocol,"Malformed signature","handshake",x.KEY_EXCHANGE_FAILED)}let i;{z.init(this._hostKey,0);const e=z.readString(true);const r=this._hostKey.slice(z.pos());z.clear();i=W(r,e);if(i instanceof Error){i.level="handshake";return q(this._protocol,i,x.KEY_EXCHANGE_FAILED)}}let s;switch(this.negotiated.serverHostKey){case"rsa-sha2-256":s="sha256";break;case"rsa-sha2-512":s="sha512";break}this._protocol._debug&&this._protocol._debug("Verifying signature ...");const o=i.verify(g,r,s);if(o!==true){if(o instanceof Error){this._protocol._debug&&this._protocol._debug(`Signature verification failed: ${o.stack}`)}else{this._protocol._debug&&this._protocol._debug("Signature verification failed")}return q(this._protocol,"Handshake failed: signature verification failed","handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Verified signature")}else{let e;switch(this.negotiated.serverHostKey){case"rsa-sha2-256":e="sha256";break;case"rsa-sha2-512":e="sha512";break}this._protocol._debug&&this._protocol._debug("Generating signature ...");let r=this._hostKey.sign(g,e);if(r instanceof Error){return q(this._protocol,"Handshake failed: signature generation failed for "+`${this._hostKey.type} host key: ${r.message}`,"handshake",x.KEY_EXCHANGE_FAILED)}r=G(r,this._hostKey.type);if(r===false){return q(this._protocol,"Handshake failed: signature conversion failed for "+`${this._hostKey.type} host key`,"handshake",x.KEY_EXCHANGE_FAILED)}const n=this.negotiated.serverHostKey;const i=Buffer.byteLength(n);const s=4+i+4+r.length;let o=this._protocol._packetRW.write.allocStartKEX;const u=this._protocol._packetRW.write.alloc(1+4+f.length+4+p.length+4+s,true);u[o]=P.KEXDH_REPLY;J(u,f.length,++o);u.set(f,o+=4);J(u,p.length,o+=f.length);u.set(p,o+=4);J(u,s,o+=p.length);J(u,i,o+=4);u.utf8Write(n,o+=4,i);J(u,r.length,o+=i);u.set(r,o+=4);if(this._protocol._debug){let e;switch(this.type){case"group":e="KEXDH_REPLY";break;case"groupex":e="KEXDH_GEX_REPLY";break;default:e="KEXECDH_REPLY"}this._protocol._debug(`Outbound: Sending ${e}`)}this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(u,true))}if(r||!e)trySendNEWKEYS(this);let b;let _;const completeHandshake=e=>{if(b){trySendNEWKEYS(this);b.outbound.seqno=this._protocol._cipher.outSeqno;this._protocol._cipher.free();this._protocol._cipher=L(b);this._protocol._packetRW.write=_;b=undefined;_=undefined;this._protocol._onHandshakeComplete(n);return false}if(!this.sessionID)this.sessionID=g;{const e=Buffer.allocUnsafe(4+s.length);J(e,s.length,0);e.set(s,4);s=e}const i=B[n.cs.cipher];const o=B[n.sc.cipher];const u=generateKEXVal(i.ivLen,this.hashName,s,g,this.sessionID,"A");const f=generateKEXVal(o.ivLen,this.hashName,s,g,this.sessionID,"B");const p=generateKEXVal(i.keyLen,this.hashName,s,g,this.sessionID,"C");const v=generateKEXVal(o.keyLen,this.hashName,s,g,this.sessionID,"D");let w;let I;if(!i.authLen){w=j[n.cs.mac];I=generateKEXVal(w.len,this.hashName,s,g,this.sessionID,"E")}let k;let C;if(!o.authLen){k=j[n.sc.mac];C=generateKEXVal(k.len,this.hashName,s,g,this.sessionID,"F")}const R={inbound:{onPayload:this._protocol._onPayload,seqno:this._protocol._decipher.inSeqno,decipherInfo:!r?o:i,decipherIV:!r?f:u,decipherKey:!r?v:p,macInfo:!r?k:w,macKey:!r?C:I},outbound:{onWrite:this._protocol._onWrite,seqno:this._protocol._cipher.outSeqno,cipherInfo:r?o:i,cipherIV:r?f:u,cipherKey:r?v:p,macInfo:r?k:w,macKey:r?C:I}};this._protocol._decipher.free();b=R;this._protocol._decipher=U(R);const T={read:undefined,write:undefined};switch(n.cs.compress){case"zlib":if(r)T.read=new re;else T.write=new ne(this._protocol);break;case"zlib@openssh.com":if(this._protocol._authenticated){if(r)T.read=new re;else T.write=new ne(this._protocol);break}default:if(r)T.read=new ee;else T.write=new te(this._protocol)}switch(n.sc.compress){case"zlib":if(r)T.write=new ne(this._protocol);else T.read=new re;break;case"zlib@openssh.com":if(this._protocol._authenticated){if(r)T.write=new ne(this._protocol);else T.read=new re;break}default:if(r)T.write=new te(this._protocol);else T.read=new ee}this._protocol._packetRW.read.cleanup();this._protocol._packetRW.write.cleanup();this._protocol._packetRW.read=T.read;_=T.write;this._public=null;this._dh=null;this._kexinit=this._protocol._kexinit=undefined;this._remoteKexinit=undefined;this._identRaw=undefined;this._remoteIdentRaw=undefined;this._hostKey=undefined;this._dhData=undefined;this._sig=undefined;if(!e)return completeHandshake();return false};if(r||e)this.finish=completeHandshake;if(!r)return completeHandshake(e)}start(){if(!this._protocol._server){if(this._protocol._debug){let e;switch(this.type){case"group":e="KEXDH_INIT";break;default:e="KEXECDH_INIT"}this._protocol._debug(`Outbound: Sending ${e}`)}const e=this.getPublicKey();let r=this._protocol._packetRW.write.allocStartKEX;const n=this._protocol._packetRW.write.alloc(1+4+e.length,true);n[r]=P.KEXDH_INIT;J(n,e.length,++r);n.set(e,r+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(n,true))}}getPublicKey(){this.generateKeys();const e=this._public;if(e)return this.convertPublicKey(e)}convertPublicKey(e){let r;let n=0;let i=e.length;while(e[n]===0){++n;--i}if(e[n]&128){r=Buffer.allocUnsafe(1+i);r[0]=0;e.copy(r,1,n);return r}if(i!==e.length){r=Buffer.allocUnsafe(i);e.copy(r,0,n);e=r}return e}computeSecret(e){this.generateKeys();try{return convertToMpint(this._dh.computeSecret(e))}catch(e){return e}}parse(e){const r=e[0];switch(this._step){case 1:if(this._protocol._server){if(r!==P.KEXDH_INIT){return q(this._protocol,`Received packet ${r} instead of ${P.KEXDH_INIT}`,"handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH Init");z.init(e,1);const n=z.readString();z.clear();if(n===undefined){return q(this._protocol,"Received malformed KEX*_INIT","handshake",x.KEY_EXCHANGE_FAILED)}this._dhData=n;let i=this._protocol._hostKeys[this.negotiated.serverHostKey];if(Array.isArray(i))i=i[0];this._hostKey=i;this.finish()}else{if(r!==P.KEXDH_REPLY){return q(this._protocol,`Received packet ${r} instead of ${P.KEXDH_REPLY}`,"handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH Reply");z.init(e,1);let n;let i;let s;if((n=z.readString())===undefined||(i=z.readString())===undefined||(s=z.readString())===undefined){z.clear();return q(this._protocol,"Received malformed KEX*_REPLY","handshake",x.KEY_EXCHANGE_FAILED)}z.clear();z.init(n,0);const o=z.readString(true);z.clear();if(o===undefined){return q(this._protocol,"Received malformed host public key","handshake",x.KEY_EXCHANGE_FAILED)}if(o!==this.negotiated.serverHostKey){switch(this.negotiated.serverHostKey){case"rsa-sha2-256":case"rsa-sha2-512":if(o==="ssh-rsa")break;default:return q(this._protocol,"Host key does not match negotiated type","handshake",x.KEY_EXCHANGE_FAILED)}}this._hostKey=n;this._dhData=i;this._sig=s;let u=false;let f;if(this._protocol._hostVerifier===undefined){f=true;this._protocol._debug&&this._protocol._debug("Host accepted by default (no verification)")}else{f=this._protocol._hostVerifier(n,(e=>{if(u)return;u=true;if(e===false){this._protocol._debug&&this._protocol._debug("Host denied (verification failed)");return q(this._protocol,"Host denied (verification failed)","handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Host accepted (verified)");this._hostVerified=true;if(this._receivedNEWKEYS)this.finish();else trySendNEWKEYS(this)}))}if(f===undefined){++this._step;return}u=true;if(f===false){this._protocol._debug&&this._protocol._debug("Host denied (verification failed)");return q(this._protocol,"Host denied (verification failed)","handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Host accepted (verified)");this._hostVerified=true;trySendNEWKEYS(this)}++this._step;break;case 2:if(r!==P.NEWKEYS){return q(this._protocol,`Received packet ${r} instead of ${P.NEWKEYS}`,"handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Inbound: NEWKEYS");this._receivedNEWKEYS=true;if(this._protocol._strictMode)this._protocol._decipher.inSeqno=0;++this._step;return this.finish(!this._protocol._server&&!this._hostVerified);default:return q(this._protocol,`Received unexpected packet ${r} after NEWKEYS`,"handshake",x.KEY_EXCHANGE_FAILED)}}}class Curve25519Exchange extends KeyExchange{constructor(e,...r){super(...r);this.type="25519";this.hashName=e;this._keys=null}generateKeys(){if(!this._keys)this._keys=g("x25519")}getPublicKey(){this.generateKeys();const e=this._keys.publicKey.export({type:"spki",format:"der"});return e.slice(-32)}convertPublicKey(e){let r;let n=0;let i=e.length;while(e[n]===0){++n;--i}if(e.length===32)return e;if(i!==e.length){r=Buffer.allocUnsafe(i);e.copy(r,0,n);e=r}return e}computeSecret(e){this.generateKeys();try{const r=new _.Writer;r.startSequence();r.startSequence();r.writeOID("1.3.101.110");r.endSequence();r.startSequence(_.BitString);r.writeByte(0);r._ensure(e.length);e.copy(r._buf,r._offset,0,e.length);r._offset+=e.length;r.endSequence();r.endSequence();return convertToMpint(p({privateKey:this._keys.privateKey,publicKey:f({key:r.buffer,type:"spki",format:"der"})}))}catch(e){return e}}}class ECDHExchange extends KeyExchange{constructor(e,r,...n){super(...n);this.type="ecdh";this.curveName=e;this.hashName=r}generateKeys(){if(!this._dh){this._dh=o(this.curveName);this._public=this._dh.generateKeys()}}}class DHGroupExchange extends KeyExchange{constructor(e,...r){super(...r);this.type="groupex";this.hashName=e;this._prime=null;this._generator=null;this._minBits=se;this._prefBits=dhEstimate(this.negotiated);if(this._protocol._compatFlags&v.BUG_DHGEX_LARGE)this._prefBits=Math.min(this._prefBits,4096);this._maxBits=oe}start(){if(this._protocol._server)return;this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_REQUEST");let e=this._protocol._packetRW.write.allocStartKEX;const r=this._protocol._packetRW.write.alloc(1+4+4+4,true);r[e]=P.KEXDH_GEX_REQUEST;J(r,this._minBits,++e);J(r,this._prefBits,e+=4);J(r,this._maxBits,e+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(r,true))}generateKeys(){if(!this._dh&&this._prime&&this._generator){this._dh=i(this._prime,this._generator);this._public=this._dh.generateKeys()}}setDHParams(e,r){if(!Buffer.isBuffer(e))throw new Error("Invalid prime value");if(!Buffer.isBuffer(r))throw new Error("Invalid generator value");this._prime=e;this._generator=r}getDHParams(){if(this._dh){return{prime:convertToMpint(this._dh.getPrime()),generator:convertToMpint(this._dh.getGenerator())}}}parse(e){const r=e[0];switch(this._step){case 1:{if(this._protocol._server){if(r!==P.KEXDH_GEX_REQUEST){return q(this._protocol,`Received packet ${r} instead of `+P.KEXDH_GEX_REQUEST,"handshake",x.KEY_EXCHANGE_FAILED)}return q(this._protocol,"Group exchange not implemented for server","handshake",x.KEY_EXCHANGE_FAILED)}if(r!==P.KEXDH_GEX_GROUP){return q(this._protocol,`Received packet ${r} instead of ${P.KEXDH_GEX_GROUP}`,"handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH GEX Group");z.init(e,1);let n;let i;if((n=z.readString())===undefined||(i=z.readString())===undefined){z.clear();return q(this._protocol,"Received malformed KEXDH_GEX_GROUP","handshake",x.KEY_EXCHANGE_FAILED)}z.clear();this.setDHParams(n,i);this.generateKeys();const s=this.getPublicKey();this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_INIT");let o=this._protocol._packetRW.write.allocStartKEX;const u=this._protocol._packetRW.write.alloc(1+4+s.length,true);u[o]=P.KEXDH_GEX_INIT;J(u,s.length,++o);u.set(s,o+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(u,true));++this._step;break}case 2:if(this._protocol._server){if(r!==P.KEXDH_GEX_INIT){return q(this._protocol,`Received packet ${r} instead of ${P.KEXDH_GEX_INIT}`,"handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH GEX Init");return q(this._protocol,"Group exchange not implemented for server","handshake",x.KEY_EXCHANGE_FAILED)}else if(r!==P.KEXDH_GEX_REPLY){return q(this._protocol,`Received packet ${r} instead of ${P.KEXDH_GEX_REPLY}`,"handshake",x.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH GEX Reply");this._step=1;e[0]=P.KEXDH_REPLY;this.parse=KeyExchange.prototype.parse;this.parse(e)}}}class DHExchange extends KeyExchange{constructor(e,r,...n){super(...n);this.type="group";this.groupName=e;this.hashName=r}start(){if(!this._protocol._server){this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_INIT");const e=this.getPublicKey();let r=this._protocol._packetRW.write.allocStartKEX;const n=this._protocol._packetRW.write.alloc(1+4+e.length,true);n[r]=P.KEXDH_INIT;J(n,e.length,++r);n.set(e,r+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(n,true))}}generateKeys(){if(!this._dh){this._dh=s(this.groupName);this._public=this._dh.generateKeys()}}getDHParams(){if(this._dh){return{prime:convertToMpint(this._dh.getPrime()),generator:convertToMpint(this._dh.getGenerator())}}}}return(e,...r)=>{if(typeof e!=="object"||e===null)throw new Error("Invalid negotiated argument");const n=e.kex;if(typeof n==="string"){r=[e,...r];switch(n){case"curve25519-sha256":case"curve25519-sha256@libssh.org":if(!w)break;return new Curve25519Exchange("sha256",...r);case"ecdh-sha2-nistp256":return new ECDHExchange("prime256v1","sha256",...r);case"ecdh-sha2-nistp384":return new ECDHExchange("secp384r1","sha384",...r);case"ecdh-sha2-nistp521":return new ECDHExchange("secp521r1","sha512",...r);case"diffie-hellman-group1-sha1":return new DHExchange("modp2","sha1",...r);case"diffie-hellman-group14-sha1":return new DHExchange("modp14","sha1",...r);case"diffie-hellman-group14-sha256":return new DHExchange("modp14","sha256",...r);case"diffie-hellman-group15-sha512":return new DHExchange("modp15","sha512",...r);case"diffie-hellman-group16-sha512":return new DHExchange("modp16","sha512",...r);case"diffie-hellman-group17-sha512":return new DHExchange("modp17","sha512",...r);case"diffie-hellman-group18-sha512":return new DHExchange("modp18","sha512",...r);case"diffie-hellman-group-exchange-sha1":return new DHGroupExchange("sha1",...r);case"diffie-hellman-group-exchange-sha256":return new DHGroupExchange("sha256",...r)}throw new Error(`Unsupported key exchange algorithm: ${n}`)}throw new Error(`Invalid key exchange type: ${n}`)}})();const ce=(()=>{const e=["kex","serverHostKey",["cs","cipher"],["sc","cipher"],["cs","mac"],["sc","mac"],["cs","compress"],["sc","compress"],["cs","lang"],["sc","lang"]];return class KexInit{constructor(r){if(typeof r!=="object"||r===null)throw new TypeError("Argument must be an object");const n={kex:undefined,serverHostKey:undefined,cs:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined},sc:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined},all:undefined};let i=0;for(const s of e){let e;let o;let u;let f;if(typeof s==="string"){e=n;o=r[s];u=f=s}else{const i=s[0];e=n[i];f=s[1];o=r[i][f];u=`${i}.${f}`}const p={array:undefined,buffer:undefined};if(Buffer.isBuffer(o)){p.array=(""+o).split(",");p.buffer=o;i+=4+o.length}else{if(typeof o==="string")o=o.split(",");if(Array.isArray(o)){p.array=o;p.buffer=Buffer.from(o.join(","))}else{throw new TypeError(`Invalid \`${u}\` type: ${typeof o}`)}i+=4+p.buffer.length}e[f]=p}const s=Buffer.allocUnsafe(i);n.all=s;let o=0;for(const r of e){let e;if(typeof r==="string")e=n[r].buffer;else e=n[r[0]][r[1]].buffer;o=J(s,e.length,o);s.set(e,o);o+=e.length}this.totalSize=i;this.lists=n}copyAllTo(e,r){const n=this.lists.all;if(typeof r!=="number")throw new TypeError(`Invalid offset value: ${typeof r}`);if(e.length-r<n.length)throw new Error("Insufficient space to copy list");e.set(n,r);return n.length}}})();const ue=(()=>{const e=Buffer.allocUnsafe(4);return(r,n)=>{J(e,n.length,0);r.update(e);r.update(n)}})();function generateKEXVal(e,r,n,i,s,o){let f;if(e){let p=u(r).update(n).update(i).update(o).update(s).digest();while(p.length<e){const e=u(r).update(n).update(i).update(p).digest();const s=Buffer.allocUnsafe(p.length+e.length);s.set(p,0);s.set(e,p.length);p=s}if(p.length===e)f=p;else f=new Y(p.buffer,p.byteOffset,e)}else{f=ae}return f}function onKEXPayload(e,r){if(r.length===0){this._debug&&this._debug("Inbound: Skipping empty packet payload");return}if(this._skipNextInboundPacket){this._skipNextInboundPacket=false;return}r=this._packetRW.read.read(r);const i=r[0];if(!this._strictMode){switch(i){case P.IGNORE:case P.UNIMPLEMENTED:case P.DEBUG:if(!ie)ie=n(96256);return ie[i](this,r)}}switch(i){case P.DISCONNECT:if(!ie)ie=n(96256);return ie[i](this,r);case P.KEXINIT:if(!e.firstPacket){return q(this,"Received extra KEXINIT during handshake","handshake",x.KEY_EXCHANGE_FAILED)}e.firstPacket=false;return handleKexInit(this,r);default:if(i<20||i>49){return q(this,`Received unexpected packet type ${i}`,"handshake",x.KEY_EXCHANGE_FAILED)}}return this._kex.parse(r)}function dhEstimate(e){const r=B[e.cs.cipher];const n=B[e.sc.cipher];const i=Math.max(0,r.sslName==="des-ede3-cbc"?14:r.keyLen,r.blockLen,r.ivLen,n.sslName==="des-ede3-cbc"?14:n.keyLen,n.blockLen,n.ivLen)*8;if(i<=112)return 2048;if(i<=128)return 3072;if(i<=192)return 7680;return 8192}function trySendNEWKEYS(e){if(!e._sentNEWKEYS){e._protocol._debug&&e._protocol._debug("Outbound: Sending NEWKEYS");const r=e._protocol._packetRW.write.allocStartKEX;const n=e._protocol._packetRW.write.alloc(1,true);n[r]=P.NEWKEYS;e._protocol._cipher.encrypt(e._protocol._packetRW.write.finalize(n,true));e._sentNEWKEYS=true;if(e._protocol._strictMode)e._protocol._cipher.outSeqno=0}}e.exports={KexInit:ce,kexinit:kexinit,onKEXPayload:onKEXPayload,DEFAULT_KEXINIT_CLIENT:new ce({kex:I.concat(["ext-info-c","kex-strict-c-v00@openssh.com"]),serverHostKey:k,cs:{cipher:C,mac:R,compress:T,lang:[]},sc:{cipher:C,mac:R,compress:T,lang:[]}}),DEFAULT_KEXINIT_SERVER:new ce({kex:I.concat(["kex-strict-s-v00@openssh.com"]),serverHostKey:k,cs:{cipher:C,mac:R,compress:T,lang:[]},sc:{cipher:C,mac:R,compress:T,lang:[]}}),HANDLERS:{[P.KEXINIT]:handleKexInit}}},41177:(e,r,n)=>{"use strict";const{createDecipheriv:i,createECDH:s,createHash:o,createHmac:u,createSign:f,createVerify:p,getCiphers:g,sign:b,verify:_}=n(76982);const v=g();const{Ber:w}=n(1594);const I=n(92327).pbkdf;const{CIPHER_INFO:k}=n(5244);const{eddsaSupported:C,SUPPORTED_CIPHER:R}=n(840);const{bufferSlice:T,makeBufferParser:x,readString:P,readUInt32BE:B,writeUInt32BE:L}=n(67532);const U=Symbol("Hash Algorithm");const j=Symbol("Private key PEM");const W=Symbol("Public key PEM");const Q=Symbol("Public key SSH");const z=Symbol("Decrypted Key");const G=Object.create(null);{const J=Object.keys(k);for(let ee=0;ee<J.length;++ee){const te=k[J[ee]].sslName;if(!te||G[te])continue;G[te]=k[J[ee]]}}const q=x();function makePEM(e,r){r=r.base64Slice(0,r.length);let n=r.replace(/.{64}/g,"$&\n");if(r.length&63)n+="\n";return`-----BEGIN ${e} KEY-----\n${n}-----END ${e} KEY-----`}function combineBuffers(e,r){const n=Buffer.allocUnsafe(e.length+r.length);n.set(e,0);n.set(r,e.length);return n}function skipFields(e,r){const n=e.length;let i=e._pos||0;for(let s=0;s<r;++s){const r=n-i;if(i>=n||r<4)return false;const s=B(e,i);if(r<4+s)return false;i+=4+s}e._pos=i;return true}function genOpenSSLRSAPub(e,r){const n=new w.Writer;n.startSequence();n.startSequence();n.writeOID("1.2.840.113549.1.1.1");n.writeNull();n.endSequence();n.startSequence(w.BitString);n.writeByte(0);n.startSequence();n.writeBuffer(e,w.Integer);n.writeBuffer(r,w.Integer);n.endSequence();n.endSequence();n.endSequence();return makePEM("PUBLIC",n.buffer)}function genOpenSSHRSAPub(e,r){const n=Buffer.allocUnsafe(4+7+4+r.length+4+e.length);L(n,7,0);n.utf8Write("ssh-rsa",4,7);let i=4+7;L(n,r.length,i);n.set(r,i+=4);L(n,e.length,i+=r.length);n.set(e,i+4);return n}const Y=(()=>{function genRSAASN1Buf(e,r,n,i,s,o,u,f){const p=new w.Writer;p.startSequence();p.writeInt(0,w.Integer);p.writeBuffer(e,w.Integer);p.writeBuffer(r,w.Integer);p.writeBuffer(n,w.Integer);p.writeBuffer(i,w.Integer);p.writeBuffer(s,w.Integer);p.writeBuffer(o,w.Integer);p.writeBuffer(u,w.Integer);p.writeBuffer(f,w.Integer);p.endSequence();return p.buffer}function bigIntFromBuffer(e){return BigInt(`0x${e.hexSlice(0,e.length)}`)}function bigIntToBuffer(e){let r=e.toString(16);if((r.length&1)!==0){r=`0${r}`}else{const e=r.charCodeAt(0);if(e===56||e===57||e>=97&&e<=102){r=`00${r}`}}return Buffer.from(r,"hex")}return function genOpenSSLRSAPriv(e,r,n,i,s,o){const u=bigIntFromBuffer(n);const f=bigIntToBuffer(u%(bigIntFromBuffer(s)-1n));const p=bigIntToBuffer(u%(bigIntFromBuffer(o)-1n));return makePEM("RSA PRIVATE",genRSAASN1Buf(e,r,n,s,o,f,p,i))}})();function genOpenSSLDSAPub(e,r,n,i){const s=new w.Writer;s.startSequence();s.startSequence();s.writeOID("1.2.840.10040.4.1");s.startSequence();s.writeBuffer(e,w.Integer);s.writeBuffer(r,w.Integer);s.writeBuffer(n,w.Integer);s.endSequence();s.endSequence();s.startSequence(w.BitString);s.writeByte(0);s.writeBuffer(i,w.Integer);s.endSequence();s.endSequence();return makePEM("PUBLIC",s.buffer)}function genOpenSSHDSAPub(e,r,n,i){const s=Buffer.allocUnsafe(4+7+4+e.length+4+r.length+4+n.length+4+i.length);L(s,7,0);s.utf8Write("ssh-dss",4,7);let o=4+7;L(s,e.length,o);s.set(e,o+=4);L(s,r.length,o+=e.length);s.set(r,o+=4);L(s,n.length,o+=r.length);s.set(n,o+=4);L(s,i.length,o+=n.length);s.set(i,o+4);return s}function genOpenSSLDSAPriv(e,r,n,i,s){const o=new w.Writer;o.startSequence();o.writeInt(0,w.Integer);o.writeBuffer(e,w.Integer);o.writeBuffer(r,w.Integer);o.writeBuffer(n,w.Integer);o.writeBuffer(i,w.Integer);o.writeBuffer(s,w.Integer);o.endSequence();return makePEM("DSA PRIVATE",o.buffer)}function genOpenSSLEdPub(e){const r=new w.Writer;r.startSequence();r.startSequence();r.writeOID("1.3.101.112");r.endSequence();r.startSequence(w.BitString);r.writeByte(0);r._ensure(e.length);r._buf.set(e,r._offset);r._offset+=e.length;r.endSequence();r.endSequence();return makePEM("PUBLIC",r.buffer)}function genOpenSSHEdPub(e){const r=Buffer.allocUnsafe(4+11+4+e.length);L(r,11,0);r.utf8Write("ssh-ed25519",4,11);L(r,e.length,15);r.set(e,19);return r}function genOpenSSLEdPriv(e){const r=new w.Writer;r.startSequence();r.writeInt(0,w.Integer);r.startSequence();r.writeOID("1.3.101.112");r.endSequence();r.startSequence(w.OctetString);r.writeBuffer(e,w.OctetString);r.endSequence();r.endSequence();return makePEM("PRIVATE",r.buffer)}function genOpenSSLECDSAPub(e,r){const n=new w.Writer;n.startSequence();n.startSequence();n.writeOID("1.2.840.10045.2.1");n.writeOID(e);n.endSequence();n.startSequence(w.BitString);n.writeByte(0);n._ensure(r.length);n._buf.set(r,n._offset);n._offset+=r.length;n.endSequence();n.endSequence();return makePEM("PUBLIC",n.buffer)}function genOpenSSHECDSAPub(e,r){let n;switch(e){case"1.2.840.10045.3.1.7":n="nistp256";break;case"1.3.132.0.34":n="nistp384";break;case"1.3.132.0.35":n="nistp521";break;default:return}const i=Buffer.allocUnsafe(4+19+4+8+4+r.length);L(i,19,0);i.utf8Write(`ecdsa-sha2-${n}`,4,19);L(i,8,23);i.utf8Write(n,27,8);L(i,r.length,35);i.set(r,39);return i}function genOpenSSLECDSAPriv(e,r,n){const i=new w.Writer;i.startSequence();i.writeInt(1,w.Integer);i.writeBuffer(n,w.OctetString);i.startSequence(160);i.writeOID(e);i.endSequence();i.startSequence(161);i.startSequence(w.BitString);i.writeByte(0);i._ensure(r.length);i._buf.set(r,i._offset);i._offset+=r.length;i.endSequence();i.endSequence();i.endSequence();return makePEM("EC PRIVATE",i.buffer)}function genOpenSSLECDSAPubFromPriv(e,r){const n=s(e);n.setPrivateKey(r);return n.getPublicKey()}const V={sign:(()=>{if(typeof b==="function"){return function sign(e,r){const n=this[j];if(n===null)return new Error("No private key available");if(!r||typeof r!=="string")r=this[U];try{return b(r,e,n)}catch(e){return e}}}return function sign(e,r){const n=this[j];if(n===null)return new Error("No private key available");if(!r||typeof r!=="string")r=this[U];const i=f(r);i.update(e);try{return i.sign(n)}catch(e){return e}}})(),verify:(()=>{if(typeof _==="function"){return function verify(e,r,n){const i=this[W];if(i===null)return new Error("No public key available");if(!n||typeof n!=="string")n=this[U];try{return _(n,e,i,r)}catch(e){return e}}}return function verify(e,r,n){const i=this[W];if(i===null)return new Error("No public key available");if(!n||typeof n!=="string")n=this[U];const s=p(n);s.update(e);try{return s.verify(i,r)}catch(e){return e}}})(),isPrivateKey:function isPrivateKey(){return this[j]!==null},getPrivatePEM:function getPrivatePEM(){return this[j]},getPublicPEM:function getPublicPEM(){return this[W]},getPublicSSH:function getPublicSSH(){return this[Q]},equals:function equals(e){const r=parseKey(e);if(r instanceof Error)return false;return this.type===r.type&&this[j]===r[j]&&this[W]===r[W]&&this[Q].equals(r[Q])}};function OpenSSH_Private(e,r,n,i,s,o,u){this.type=e;this.comment=r;this[j]=n;this[W]=i;this[Q]=s;this[U]=o;this[z]=u}OpenSSH_Private.prototype=V;{const re=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/;OpenSSH_Private.parse=(e,r)=>{const n=re.exec(e);if(n===null)return null;let s;const o=Buffer.from(n[1],"base64");if(o.length<31)return new Error("Malformed OpenSSH private key");const u=o.utf8Slice(0,15);if(u!=="openssh-key-v1\0")return new Error(`Unsupported OpenSSH key magic: ${u}`);const f=P(o,15,true);if(f===undefined)return new Error("Malformed OpenSSH private key");if(f!=="none"&&R.indexOf(f)===-1)return new Error(`Unsupported cipher for OpenSSH key: ${f}`);const p=P(o,o._pos,true);if(p===undefined)return new Error("Malformed OpenSSH private key");if(p!=="none"){if(f==="none")return new Error("Malformed OpenSSH private key");if(p!=="bcrypt")return new Error(`Unsupported kdf name for OpenSSH key: ${p}`);if(!r){return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}}else if(f!=="none"){return new Error("Malformed OpenSSH private key")}let g;let b;let _;if(f!=="none")g=k[f];const v=P(o,o._pos);if(v===undefined)return new Error("Malformed OpenSSH private key");if(v.length){switch(p){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":{const e=P(v,0);if(e===undefined||v._pos+4>v.length)return new Error("Malformed OpenSSH private key");const n=B(v,v._pos);const i=Buffer.allocUnsafe(g.keyLen+g.ivLen);const s=I(r,r.length,e,e.length,i,i.length,n);if(s!==0)return new Error("Failed to generate information to decrypt key");b=T(i,0,g.keyLen);_=T(i,g.keyLen,i.length);break}}}else if(p!=="none"){return new Error("Malformed OpenSSH private key")}if(o._pos+3>=o.length)return new Error("Malformed OpenSSH private key");const w=B(o,o._pos);o._pos+=4;if(w>0){for(let e=0;e<w;++e){const e=P(o,o._pos);if(e===undefined)return new Error("Malformed OpenSSH private key");const r=P(e,0,true);if(r===undefined)return new Error("Malformed OpenSSH private key")}let e=P(o,o._pos);if(e===undefined)return new Error("Malformed OpenSSH private key");if(b!==undefined){if(e.length<g.blockLen||e.length%g.blockLen!==0){return new Error("Malformed OpenSSH private key")}try{const r={authTagLength:g.authLen};const n=i(g.sslName,b,_,r);n.setAutoPadding(false);if(g.authLen>0){if(o.length-o._pos<g.authLen)return new Error("Malformed OpenSSH private key");n.setAuthTag(T(o,o._pos,o._pos+=g.authLen))}e=combineBuffers(n.update(e),n.final())}catch(e){return e}}if(o._pos!==o.length)return new Error("Malformed OpenSSH private key");s=parseOpenSSHPrivKeys(e,w,b!==undefined)}else{s=[]}if(s instanceof Error)return s;return s[0]};function parseOpenSSHPrivKeys(e,r,n){const i=[];if(e.length<8)return new Error("Malformed OpenSSH private key");const s=B(e,0);const o=B(e,4);if(s!==o){if(n){return new Error("OpenSSH key integrity check failed -- bad passphrase?")}return new Error("OpenSSH key integrity check failed")}e._pos=8;let u;let f;for(u=0;u<r;++u){let r;let s;let o;let u;const p=P(e,e._pos,true);if(p===undefined)return new Error("Malformed OpenSSH private key");switch(p){case"ssh-rsa":{const n=P(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH private key");const i=P(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH private key");const f=P(e,e._pos);if(f===undefined)return new Error("Malformed OpenSSH private key");const p=P(e,e._pos);if(p===undefined)return new Error("Malformed OpenSSH private key");const g=P(e,e._pos);if(g===undefined)return new Error("Malformed OpenSSH private key");const b=P(e,e._pos);if(b===undefined)return new Error("Malformed OpenSSH private key");o=genOpenSSLRSAPub(n,i);u=genOpenSSHRSAPub(n,i);s=Y(n,i,f,p,g,b);r="sha1";break}case"ssh-dss":{const n=P(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH private key");const i=P(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH private key");const f=P(e,e._pos);if(f===undefined)return new Error("Malformed OpenSSH private key");const p=P(e,e._pos);if(p===undefined)return new Error("Malformed OpenSSH private key");const g=P(e,e._pos);if(g===undefined)return new Error("Malformed OpenSSH private key");o=genOpenSSLDSAPub(n,i,f,p);u=genOpenSSHDSAPub(n,i,f,p);s=genOpenSSLDSAPriv(n,i,f,p,g);r="sha1";break}case"ssh-ed25519":{if(!C)return new Error(`Unsupported OpenSSH private key type: ${p}`);const n=P(e,e._pos);if(n===undefined||n.length!==32)return new Error("Malformed OpenSSH private key");const i=P(e,e._pos);if(i===undefined||i.length!==64)return new Error("Malformed OpenSSH private key");o=genOpenSSLEdPub(n);u=genOpenSSHEdPub(n);s=genOpenSSLEdPriv(T(i,0,32));r=null;break}case"ecdsa-sha2-nistp256":r="sha256";f="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":if(r===undefined){r="sha384";f="1.3.132.0.34"}case"ecdsa-sha2-nistp521":{if(r===undefined){r="sha512";f="1.3.132.0.35"}if(!skipFields(e,1))return new Error("Malformed OpenSSH private key");const n=P(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH private key");const i=P(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH private key");o=genOpenSSLECDSAPub(f,n);u=genOpenSSHECDSAPub(f,n);s=genOpenSSLECDSAPriv(f,n,i);break}default:return new Error(`Unsupported OpenSSH private key type: ${p}`)}const g=P(e,e._pos,true);if(g===undefined)return new Error("Malformed OpenSSH private key");i.push(new OpenSSH_Private(p,g,s,o,u,r,n))}let p=0;for(u=e._pos;u<e.length;++u){if(e[u]!==++p%255)return new Error("Malformed OpenSSH private key")}return i}}function OpenSSH_Old_Private(e,r,n,i,s,o,u){this.type=e;this.comment=r;this[j]=n;this[W]=i;this[Q]=s;this[U]=o;this[z]=u}OpenSSH_Old_Private.prototype=V;{const ne=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;OpenSSH_Old_Private.parse=(e,r)=>{const n=ne.exec(e);if(n===null)return null;let s=Buffer.from(n[3],"base64");let u=n[2];let f=false;if(u!==undefined){u=u.split(/\r\n|\n/g);for(let e=0;e<u.length;++e){const n=u[e];let p=n.indexOf(":");if(n.slice(0,p)==="DEK-Info"){const e=n.slice(p+2);p=e.indexOf(",");if(p===-1)continue;const u=e.slice(0,p).toLowerCase();if(v.indexOf(u)===-1){return new Error(`Cipher (${u}) not supported `+"for encrypted OpenSSH private key")}const g=G[u];if(!g){return new Error(`Cipher (${u}) not supported `+"for encrypted OpenSSH private key")}const b=Buffer.from(e.slice(p+1),"hex");if(b.length!==g.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!r){return new Error("Encrypted OpenSSH private key detected, but no passphrase given")}const _=T(b,0,8);let w=o("md5").update(r).update(_).digest();while(w.length<g.keyLen){w=combineBuffers(w,o("md5").update(w).update(r).update(_).digest())}if(w.length>g.keyLen)w=T(w,0,g.keyLen);try{const e=i(u,w,b);e.setAutoPadding(false);s=combineBuffers(e.update(s),e.final());f=true}catch(e){return e}}}}let p;let g;let b;let _;let I;let k;let C="Malformed OpenSSH private key";if(f)C+=". Bad passphrase?";switch(n[1]){case"RSA":p="ssh-rsa";g=makePEM("RSA PRIVATE",s);try{k=new w.Reader(s);k.readSequence();k.readInt();const e=k.readString(w.Integer,true);if(e===null)return new Error(C);const r=k.readString(w.Integer,true);if(r===null)return new Error(C);b=genOpenSSLRSAPub(e,r);_=genOpenSSHRSAPub(e,r)}catch{return new Error(C)}I="sha1";break;case"DSA":p="ssh-dss";g=makePEM("DSA PRIVATE",s);try{k=new w.Reader(s);k.readSequence();k.readInt();const e=k.readString(w.Integer,true);if(e===null)return new Error(C);const r=k.readString(w.Integer,true);if(r===null)return new Error(C);const n=k.readString(w.Integer,true);if(n===null)return new Error(C);const i=k.readString(w.Integer,true);if(i===null)return new Error(C);b=genOpenSSLDSAPub(e,r,n,i);_=genOpenSSHDSAPub(e,r,n,i)}catch{return new Error(C)}I="sha1";break;case"EC":{let e;let r;let n;try{k=new w.Reader(s);k.readSequence();k.readInt();r=k.readString(w.OctetString,true);k.readByte();const i=k.readLength();if(i!==null){k._offset=i;n=k.readOID();if(n===null)return new Error(C);switch(n){case"1.2.840.10045.3.1.7":e="prime256v1";p="ecdsa-sha2-nistp256";I="sha256";break;case"1.3.132.0.34":e="secp384r1";p="ecdsa-sha2-nistp384";I="sha384";break;case"1.3.132.0.35":e="secp521r1";p="ecdsa-sha2-nistp521";I="sha512";break;default:return new Error(`Unsupported private key EC OID: ${n}`)}}else{return new Error(C)}}catch{return new Error(C)}g=makePEM("EC PRIVATE",s);const i=genOpenSSLECDSAPubFromPriv(e,r);b=genOpenSSLECDSAPub(n,i);_=genOpenSSHECDSAPub(n,i);break}}return new OpenSSH_Old_Private(p,"",g,b,_,I,f)}}function PPK_Private(e,r,n,i,s,o,u){this.type=e;this.comment=r;this[j]=n;this[W]=i;this[Q]=s;this[U]=o;this[z]=u}PPK_Private.prototype=V;{const ie=Buffer.alloc(0);const se=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);const oe=Buffer.from([0,0,0,0]);const ae=Buffer.from([0,0,0,1]);const le=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;PPK_Private.parse=(e,r)=>{const n=le.exec(e);if(n===null)return null;const s=n[2];const f=s!=="none";if(f&&!r){return new Error("Encrypted PPK private key detected, but no passphrase given")}let p=Buffer.from(n[5],"base64");if(f){const e=k[s];let n=combineBuffers(o("sha1").update(oe).update(r).digest(),o("sha1").update(ae).update(r).digest());if(n.length>e.keyLen)n=T(n,0,e.keyLen);try{const r=i(e.sslName,n,se);r.setAutoPadding(false);p=combineBuffers(r.update(p),r.final())}catch(e){return e}}const g=n[1];const b=n[3];const _=Buffer.from(n[4],"base64");const v=n[6];const w=g.length;const I=s.length;const C=Buffer.byteLength(b);const R=_.length;const x=p.length;const B=Buffer.allocUnsafe(4+w+4+I+4+C+4+R+4+x);let U=0;L(B,w,U);B.utf8Write(g,U+=4,w);L(B,I,U+=w);B.utf8Write(s,U+=4,I);L(B,C,U+=I);B.utf8Write(b,U+=4,C);L(B,R,U+=C);B.set(_,U+=4);L(B,x,U+=R);B.set(p,U+4);if(!r)r=ie;const j=u("sha1",o("sha1").update("putty-private-key-file-mac-key").update(r).digest()).update(B).digest("hex");if(j!==v){if(f){return new Error("PPK private key integrity check failed -- bad passphrase?")}return new Error("PPK private key integrity check failed")}let W;let Q;let z;_._pos=0;skipFields(_,1);switch(g){case"ssh-rsa":{const e=P(_,_._pos);if(e===undefined)return new Error("Malformed PPK public key");const r=P(_,_._pos);if(r===undefined)return new Error("Malformed PPK public key");const n=P(p,0);if(n===undefined)return new Error("Malformed PPK private key");const i=P(p,p._pos);if(i===undefined)return new Error("Malformed PPK private key");const s=P(p,p._pos);if(s===undefined)return new Error("Malformed PPK private key");const o=P(p,p._pos);if(o===undefined)return new Error("Malformed PPK private key");W=genOpenSSLRSAPub(r,e);Q=genOpenSSHRSAPub(r,e);z=Y(r,e,n,o,i,s);break}case"ssh-dss":{const e=P(_,_._pos);if(e===undefined)return new Error("Malformed PPK public key");const r=P(_,_._pos);if(r===undefined)return new Error("Malformed PPK public key");const n=P(_,_._pos);if(n===undefined)return new Error("Malformed PPK public key");const i=P(_,_._pos);if(i===undefined)return new Error("Malformed PPK public key");const s=P(p,0);if(s===undefined)return new Error("Malformed PPK private key");W=genOpenSSLDSAPub(e,r,n,i);Q=genOpenSSHDSAPub(e,r,n,i);z=genOpenSSLDSAPriv(e,r,n,i,s);break}}return new PPK_Private(g,b,z,W,Q,"sha1",f)}}function OpenSSH_Public(e,r,n,i,s){this.type=e;this.comment=r;this[j]=null;this[W]=n;this[Q]=i;this[U]=s;this[z]=false}OpenSSH_Public.prototype=V;{let ce;if(C)ce=/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/;else ce=/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/;OpenSSH_Public.parse=e=>{const r=ce.exec(e);if(r===null)return null;const n=r[1];const i=r[2];const s=Buffer.from(r[3],"base64");const o=r[4]||"";const u=P(s,s._pos,true);if(u===undefined||u.indexOf(i)!==0)return new Error("Malformed OpenSSH public key");return parseDER(s,i,o,n)}}function RFC4716_Public(e,r,n,i,s){this.type=e;this.comment=r;this[j]=null;this[W]=n;this[Q]=i;this[U]=s;this[z]=false}RFC4716_Public.prototype=V;{const ue=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r?\n)((?:.{0,72}\r?\n)+)---- END SSH2 PUBLIC KEY ----$/;const fe=/^[A-Z0-9a-z/+=\r\n]+$/;const he=/^([\x21-\x39\x3B-\x7E]{1,64}): ((?:[^\\]*\\\r?\n)*[^\r\n]+)\r?\n/gm;const de=/\\\r?\n/g;RFC4716_Public.parse=e=>{let r=ue.exec(e);if(r===null)return null;const n=r[1];let i=0;let s="";while(r=he.exec(n)){const e=r[1];const n=r[2].replace(de,"");if(n.length>1024){he.lastIndex=0;return new Error("Malformed RFC4716 public key")}i=he.lastIndex;if(e.toLowerCase()==="comment"){s=n;if(s.length>1&&s.charCodeAt(0)===34&&s.charCodeAt(s.length-1)===34){s=s.slice(1,-1)}}}let o=n.slice(i);if(!fe.test(o))return new Error("Malformed RFC4716 public key");o=Buffer.from(o,"base64");const u=P(o,0,true);if(u===undefined)return new Error("Malformed RFC4716 public key");let f=null;let p=null;switch(u){case"ssh-rsa":{const e=P(o,o._pos);if(e===undefined)return new Error("Malformed RFC4716 public key");const r=P(o,o._pos);if(r===undefined)return new Error("Malformed RFC4716 public key");f=genOpenSSLRSAPub(r,e);p=genOpenSSHRSAPub(r,e);break}case"ssh-dss":{const e=P(o,o._pos);if(e===undefined)return new Error("Malformed RFC4716 public key");const r=P(o,o._pos);if(r===undefined)return new Error("Malformed RFC4716 public key");const n=P(o,o._pos);if(n===undefined)return new Error("Malformed RFC4716 public key");const i=P(o,o._pos);if(i===undefined)return new Error("Malformed RFC4716 public key");f=genOpenSSLDSAPub(e,r,n,i);p=genOpenSSHDSAPub(e,r,n,i);break}default:return new Error("Malformed RFC4716 public key")}return new RFC4716_Public(u,s,f,p,"sha1")}}function parseDER(e,r,n,i){if(!isSupportedKeyType(r))return new Error(`Unsupported OpenSSH public key type: ${r}`);let s;let o;let u=null;let f=null;switch(r){case"ssh-rsa":{const r=P(e,e._pos||0);if(r===undefined)return new Error("Malformed OpenSSH public key");const n=P(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH public key");u=genOpenSSLRSAPub(n,r);f=genOpenSSHRSAPub(n,r);s="sha1";break}case"ssh-dss":{const r=P(e,e._pos||0);if(r===undefined)return new Error("Malformed OpenSSH public key");const n=P(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH public key");const i=P(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH public key");const o=P(e,e._pos);if(o===undefined)return new Error("Malformed OpenSSH public key");u=genOpenSSLDSAPub(r,n,i,o);f=genOpenSSHDSAPub(r,n,i,o);s="sha1";break}case"ssh-ed25519":{const r=P(e,e._pos||0);if(r===undefined||r.length!==32)return new Error("Malformed OpenSSH public key");u=genOpenSSLEdPub(r);f=genOpenSSHEdPub(r);s=null;break}case"ecdsa-sha2-nistp256":s="sha256";o="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":if(s===undefined){s="sha384";o="1.3.132.0.34"}case"ecdsa-sha2-nistp521":{if(s===undefined){s="sha512";o="1.3.132.0.35"}if(!skipFields(e,1))return new Error("Malformed OpenSSH public key");const r=P(e,e._pos||0);if(r===undefined)return new Error("Malformed OpenSSH public key");u=genOpenSSLECDSAPub(o,r);f=genOpenSSHECDSAPub(o,r);break}default:return new Error(`Unsupported OpenSSH public key type: ${r}`)}return new OpenSSH_Public(i,n,u,f,s)}function isSupportedKeyType(e){switch(e){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return true;case"ssh-ed25519":if(C)return true;default:return false}}function isParsedKey(e){if(!e)return false;return typeof e[z]==="boolean"}function parseKey(e,r){if(isParsedKey(e))return e;let n;if(Buffer.isBuffer(e)){n=e;e=e.utf8Slice(0,e.length).trim()}else if(typeof e==="string"){e=e.trim()}else{return new Error("Key data must be a Buffer or string")}if(r!=undefined){if(typeof r==="string")r=Buffer.from(r);else if(!Buffer.isBuffer(r))return new Error("Passphrase must be a string or Buffer when supplied")}let i;if((i=OpenSSH_Private.parse(e,r))!==null)return i;if((i=OpenSSH_Old_Private.parse(e,r))!==null)return i;if((i=PPK_Private.parse(e,r))!==null)return i;if((i=OpenSSH_Public.parse(e))!==null)return i;if((i=RFC4716_Public.parse(e))!==null)return i;if(n){q.init(n,0);const r=q.readString(true);if(r!==undefined){e=q.readRaw();if(e!==undefined){i=parseDER(e,r,"",r);if(i instanceof Error)i=null}}q.clear()}if(i)return i;return new Error("Unsupported key format")}e.exports={isParsedKey:isParsedKey,isSupportedKeyType:isSupportedKeyType,parseDERKey:(e,r)=>parseDER(e,r,"",r),parseKey:parseKey}},66588:(e,r,n)=>{"use strict";const i=n(42613);const{inspect:s}=n(39023);function addNumericalSeparator(e){let r="";let n=e.length;const i=e[0]==="-"?1:0;for(;n>=i+4;n-=3)r=`_${e.slice(n-3,n)}${r}`;return`${e.slice(0,n)}${r}`}function oneOf(e,r){i(typeof r==="string","`thing` has to be of type string");if(Array.isArray(e)){const n=e.length;i(n>0,"At least one expected value needs to be specified");e=e.map((e=>String(e)));if(n>2){return`one of ${r} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]}else if(n===2){return`one of ${r} ${e[0]} or ${e[1]}`}return`of ${r} ${e[0]}`}return`of ${r} ${String(e)}`}r.ERR_INTERNAL_ASSERTION=class ERR_INTERNAL_ASSERTION extends Error{constructor(e){super();Error.captureStackTrace(this,ERR_INTERNAL_ASSERTION);const r="This is caused by either a bug in ssh2 "+"or incorrect usage of ssh2 internals.\n"+"Please open an issue with this stack trace at "+"https://github.com/mscdex/ssh2/issues\n";this.message=e===undefined?r:`${e}\n${r}`}};const o=2**32;const u=(()=>{try{return new Function("return 2n ** 32n")()}catch{}})();r.ERR_OUT_OF_RANGE=class ERR_OUT_OF_RANGE extends RangeError{constructor(e,r,n,f){super();Error.captureStackTrace(this,ERR_OUT_OF_RANGE);i(r,'Missing "range" argument');let p=f?e:`The value of "${e}" is out of range.`;let g;if(Number.isInteger(n)&&Math.abs(n)>o){g=addNumericalSeparator(String(n))}else if(typeof n==="bigint"){g=String(n);if(n>u||n<-u)g=addNumericalSeparator(g);g+="n"}else{g=s(n)}p+=` It must be ${r}. Received ${g}`;this.message=p}};class ERR_INVALID_ARG_TYPE extends TypeError{constructor(e,r,n){super();Error.captureStackTrace(this,ERR_INVALID_ARG_TYPE);i(typeof e==="string",`'name' must be a string`);let s;if(typeof r==="string"&&r.startsWith("not ")){s="must not be";r=r.replace(/^not /,"")}else{s="must be"}let o;if(e.endsWith(" argument")){o=`The ${e} ${s} ${oneOf(r,"type")}`}else{const n=e.includes(".")?"property":"argument";o=`The "${e}" ${n} ${s} ${oneOf(r,"type")}`}o+=`. Received type ${typeof n}`;this.message=o}}r.ERR_INVALID_ARG_TYPE=ERR_INVALID_ARG_TYPE;r.validateNumber=function validateNumber(e,r){if(typeof e!=="number")throw new ERR_INVALID_ARG_TYPE(r,"number",e)}},67532:(e,r,n)=>{"use strict";const i=n(1594).Ber;let s;const o=Buffer[Symbol.species];const u=Object.getPrototypeOf(Uint8Array.prototype).fill;function readUInt32BE(e,r){return e[r++]*16777216+e[r++]*65536+e[r++]*256+e[r]}function bufferCopy(e,r,n,i,s){if(!s)s=0;if(i>e.length)i=e.length;let o=i-n;const u=r.length-s;if(o>u)o=u;r.set(new Uint8Array(e.buffer,e.byteOffset+n,o),s);return o}function bufferSlice(e,r,n){if(n===undefined)n=e.length;return new o(e.buffer,e.byteOffset+r,n-r)}function makeBufferParser(){let e=0;let r;const n={init:(n,i)=>{r=n;e=typeof i==="number"?i:0},pos:()=>e,length:()=>r?r.length:0,avail:()=>r&&e<r.length?r.length-e:0,clear:()=>{r=undefined},readUInt32BE:()=>{if(!r||e+3>=r.length)return;return r[e++]*16777216+r[e++]*65536+r[e++]*256+r[e++]},readUInt64BE:n=>{if(!r||e+7>=r.length)return;switch(n){case"always":return BigInt(`0x${r.hexSlice(e,e+=8)}`);case"maybe":if(r[e]>31)return BigInt(`0x${r.hexSlice(e,e+=8)}`);default:return r[e++]*72057594037927940+r[e++]*281474976710656+r[e++]*1099511627776+r[e++]*4294967296+r[e++]*16777216+r[e++]*65536+r[e++]*256+r[e++]}},skip:n=>{if(r&&n>0)e+=n},skipString:()=>{const i=n.readUInt32BE();if(i===undefined)return;e+=i;return e<=r.length?i:undefined},readByte:()=>{if(r&&e<r.length)return r[e++]},readBool:()=>{if(r&&e<r.length)return!!r[e++]},readList:()=>{const e=n.readString(true);if(e===undefined)return;return e?e.split(","):[]},readString:(i,s)=>{if(typeof i==="number"){s=i;i=undefined}const o=n.readUInt32BE();if(o===undefined)return;if(r.length-e<o||typeof s==="number"&&o>s){return}if(i){if(Buffer.isBuffer(i))return bufferCopy(r,i,e,e+=o);return r.utf8Slice(e,e+=o)}return bufferSlice(r,e,e+=o)},readRaw:n=>{if(!r)return;if(typeof n!=="number")return bufferSlice(r,e,e+=r.length-e);if(r.length-e>=n)return bufferSlice(r,e,e+=n)}};return n}function makeError(e,r,n){const i=new Error(e);if(typeof r==="boolean"){n=r;i.level="protocol"}else{i.level=r||"protocol"}i.fatal=!!n;return i}function writeUInt32BE(e,r,n){e[n++]=r>>>24;e[n++]=r>>>16;e[n++]=r>>>8;e[n++]=r;return n}const f=makeBufferParser();e.exports={bufferCopy:bufferCopy,bufferSlice:bufferSlice,FastBuffer:o,bufferFill:(e,r,n,i)=>u.call(e,r,n,i),makeError:makeError,doFatalError:(e,r,i,o)=>{let u;if(s===undefined)({DISCONNECT_REASON:s}=n(840));if(r instanceof Error){u=r;if(typeof i!=="number")o=s.PROTOCOL_ERROR;else o=i}else{u=makeError(r,i,true)}if(typeof o!=="number")o=s.PROTOCOL_ERROR;e.disconnect(o);e._destruct();e._onError(u);return Infinity},readUInt32BE:readUInt32BE,writeUInt32BE:writeUInt32BE,writeUInt32LE:(e,r,n)=>{e[n++]=r;e[n++]=r>>>8;e[n++]=r>>>16;e[n++]=r>>>24;return n},makeBufferParser:makeBufferParser,bufferParser:makeBufferParser(),readString:(e,r,n,i)=>{if(typeof n==="number"){i=n;n=undefined}if(r===undefined)r=0;const s=e.length-r;if(r<0||r>=e.length||s<4)return;const o=readUInt32BE(e,r);if(s<4+o||typeof i==="number"&&o>i)return;r+=4;const u=r+o;e._pos=u;if(n){if(Buffer.isBuffer(n))return bufferCopy(e,n,r,u);return e.utf8Slice(r,u)}return bufferSlice(e,r,u)},sigSSHToASN1:(e,r)=>{switch(r){case"ssh-dss":{if(e.length>40)return e;const r=new i.Writer;r.startSequence();let n=e.slice(0,20);let s=e.slice(20);if(n[0]&128){const e=Buffer.allocUnsafe(21);e[0]=0;n.copy(e,1);n=e}else if(n[0]===0&&!(n[1]&128)){n=n.slice(1)}if(s[0]&128){const e=Buffer.allocUnsafe(21);e[0]=0;s.copy(e,1);s=e}else if(s[0]===0&&!(s[1]&128)){s=s.slice(1)}r.writeBuffer(n,i.Integer);r.writeBuffer(s,i.Integer);r.endSequence();return r.buffer}case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":{f.init(e,0);const r=f.readString();const n=f.readString();f.clear();if(r===undefined||n===undefined)return;const s=new i.Writer;s.startSequence();s.writeBuffer(r,i.Integer);s.writeBuffer(n,i.Integer);s.endSequence();return s.buffer}default:return e}},convertSignature:(e,r)=>{switch(r){case"ssh-dss":{if(e.length<=40)return e;const r=new i.Reader(e);r.readSequence();let n=r.readString(i.Integer,true);let s=r.readString(i.Integer,true);let o=0;let u=0;if(n.length<20){const e=Buffer.allocUnsafe(20);e.set(n,1);n=e;n[0]=0}if(s.length<20){const e=Buffer.allocUnsafe(20);e.set(s,1);s=e;s[0]=0}if(n.length>20&&n[0]===0)o=1;if(s.length>20&&s[0]===0)u=1;const f=Buffer.allocUnsafe(n.length-o+(s.length-u));bufferCopy(n,f,o,n.length,0);bufferCopy(s,f,u,s.length,n.length-o);return f}case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":{if(e[0]===0)return e;const r=new i.Reader(e);r.readSequence();const n=r.readString(i.Integer,true);const s=r.readString(i.Integer,true);if(n===null||s===null)return;const o=Buffer.allocUnsafe(4+n.length+4+s.length);writeUInt32BE(o,n.length,0);o.set(n,4);writeUInt32BE(o,s.length,4+n.length);o.set(s,4+4+n.length);return o}}return e},sendPacket:(e,r,n)=>{if(!n&&e._kexinit!==undefined){if(e._queue===undefined)e._queue=[];e._queue.push(r);e._debug&&e._debug("Outbound: ... packet queued");return false}e._cipher.encrypt(r);return true}}},96892:(e,r,n)=>{"use strict";const{kMaxLength:i}=n(20181);const{createInflate:s,constants:{DEFLATE:o,INFLATE:u,Z_DEFAULT_CHUNK:f,Z_DEFAULT_COMPRESSION:p,Z_DEFAULT_MEMLEVEL:g,Z_DEFAULT_STRATEGY:b,Z_DEFAULT_WINDOWBITS:_,Z_PARTIAL_FLUSH:v}}=n(43106);const w=s()._handle.constructor;function processCallback(){throw new Error("Should not get here")}function zlibOnError(e,r,n){const i=this._owner;const s=new Error(e);s.errno=r;s.code=n;i._err=s}function _close(e){if(!e._handle)return;e._handle.close();e._handle=null}class Zlib{constructor(e){const r=_;const n=p;const s=g;const o=b;const u=undefined;this._err=undefined;this._writeState=new Uint32Array(2);this._chunkSize=f;this._maxOutputLength=i;this._outBuffer=Buffer.allocUnsafe(this._chunkSize);this._outOffset=0;this._handle=new w(e);this._handle._owner=this;this._handle.onerror=zlibOnError;this._handle.init(r,n,s,o,this._writeState,processCallback,u)}writeSync(e,r){const n=this._handle;if(!n)throw new Error("Invalid Zlib instance");let i=e.length;let s=this._chunkSize-this._outOffset;let o=0;let u;let f;let p;let g=0;const b=this._writeState;let _=this._outBuffer;let w=this._outOffset;const I=this._chunkSize;while(true){n.writeSync(v,e,o,i,_,w,s);if(this._err)throw this._err;u=b[0];f=b[1];const r=i-f;const k=s-u;if(k>0){const e=w===0&&k===_.length?_:_.slice(w,w+k);w+=k;if(!p)p=e;else if(p.push===undefined)p=[p,e];else p.push(e);g+=e.byteLength;if(g>this._maxOutputLength){_close(this);throw new Error(`Output length exceeded maximum of ${this._maxOutputLength}`)}}else if(k!==0){throw new Error("have should not go down")}if(u===0||w>=I){s=I;w=0;_=Buffer.allocUnsafe(I)}if(u===0){o+=r;i=f}else{break}}this._outBuffer=_;this._outOffset=w;if(g===0)p=Buffer.alloc(0);if(r){p.totalLen=g;return p}if(p.push===undefined)return p;const k=Buffer.allocUnsafe(g);for(let e=0,r=0;e<p.length;++e){const n=p[e];k.set(n,r);r+=n.length}return k}}class ZlibPacketWriter{constructor(e){this.allocStart=0;this.allocStartKEX=0;this._protocol=e;this._zlib=new Zlib(o)}cleanup(){if(this._zlib)_close(this._zlib)}alloc(e,r){return Buffer.allocUnsafe(e)}finalize(e,r){if(this._protocol._kexinit===undefined||r){const r=this._zlib.writeSync(e,true);const n=this._protocol._cipher.allocPacket(r.totalLen);if(r.push===undefined){n.set(r,5)}else{for(let e=0,i=5;e<r.length;++e){const s=r[e];n.set(s,i);i+=s.length}}return n}return e}}class PacketWriter{constructor(e){this.allocStart=5;this.allocStartKEX=5;this._protocol=e}cleanup(){}alloc(e,r){if(this._protocol._kexinit===undefined||r)return this._protocol._cipher.allocPacket(e);return Buffer.allocUnsafe(e)}finalize(e,r){return e}}class ZlibPacketReader{constructor(){this._zlib=new Zlib(u)}cleanup(){if(this._zlib)_close(this._zlib)}read(e){return this._zlib.writeSync(e,false)}}class PacketReader{cleanup(){}read(e){return e}}e.exports={PacketReader:PacketReader,PacketWriter:PacketWriter,ZlibPacketReader:ZlibPacketReader,ZlibPacketWriter:ZlibPacketWriter}},16545:(e,r,n)=>{"use strict";const{Server:i}=n(69278);const s=n(24434);const{listenerCount:o}=s;const{CHANNEL_OPEN_FAILURE:u,DEFAULT_CIPHER:f,DEFAULT_COMPRESSION:p,DEFAULT_KEX:g,DEFAULT_MAC:b,DEFAULT_SERVER_HOST_KEY:_,DISCONNECT_REASON:v,DISCONNECT_REASON_BY_VALUE:w,SUPPORTED_CIPHER:I,SUPPORTED_COMPRESSION:k,SUPPORTED_KEX:C,SUPPORTED_MAC:R,SUPPORTED_SERVER_HOST_KEY:T}=n(840);const{init:x}=n(5244);const{KexInit:P}=n(14257);const{parseKey:B}=n(41177);const L=n(65149);const{SFTP:U}=n(47352);const{writeUInt32BE:j}=n(67532);const{Channel:W,MAX_WINDOW:Q,PACKET_SIZE:z,windowAdjust:G,WINDOW_THRESHOLD:q}=n(50615);const{ChannelManager:Y,generateAlgorithmList:V,isWritable:J,onChannelOpenFailure:ee,onCHANNEL_CLOSE:te}=n(24645);const re=10;class AuthContext extends s{constructor(e,r,n,i,s){super();this.username=this.user=r;this.service=n;this.method=i;this._initialResponse=false;this._finalResponse=false;this._multistep=false;this._cbfinal=(e,r,n)=>{if(!this._finalResponse){this._finalResponse=true;s(this,e,r,n)}};this._protocol=e}accept(){this._cleanup&&this._cleanup();this._initialResponse=true;this._cbfinal(true)}reject(e,r){this._cleanup&&this._cleanup();this._initialResponse=true;this._cbfinal(false,e,r)}}class KeyboardAuthContext extends AuthContext{constructor(e,r,n,i,s,o){super(e,r,n,i,o);this._multistep=true;this._cb=undefined;this._onInfoResponse=e=>{const r=this._cb;if(r){this._cb=undefined;r(e)}};this.submethods=s;this.on("abort",(()=>{this._cb&&this._cb(new Error("Authentication request aborted"))}))}prompt(e,r,n,i){if(!Array.isArray(e))e=[e];if(typeof r==="function"){i=r;r=n=undefined}else if(typeof n==="function"){i=n;n=undefined}else if(typeof i!=="function"){i=undefined}for(let r=0;r<e.length;++r){if(typeof e[r]==="string"){e[r]={prompt:e[r],echo:true}}}this._cb=i;this._initialResponse=true;this._protocol.authInfoReq(r,n,e)}}class PKAuthContext extends AuthContext{constructor(e,r,n,i,s,o){super(e,r,n,i,o);this.key={algo:s.keyAlgo,data:s.key};this.hashAlgo=s.hashAlgo;this.signature=s.signature;this.blob=s.blob}accept(){if(!this.signature){this._initialResponse=true;this._protocol.authPKOK(this.key.algo,this.key.data)}else{AuthContext.prototype.accept.call(this)}}}class HostbasedAuthContext extends AuthContext{constructor(e,r,n,i,s,o){super(e,r,n,i,o);this.key={algo:s.keyAlgo,data:s.key};this.hashAlgo=s.hashAlgo;this.signature=s.signature;this.blob=s.blob;this.localHostname=s.localHostname;this.localUsername=s.localUsername}}class PwdAuthContext extends AuthContext{constructor(e,r,n,i,s,o){super(e,r,n,i,o);this.password=s;this._changeCb=undefined}requestChange(e,r){if(this._changeCb)throw new Error("Change request already in progress");if(typeof e!=="string")throw new Error("prompt argument must be a string");if(typeof r!=="function")throw new Error("Callback argument must be a function");this._changeCb=r;this._protocol.authPasswdChg(e)}}class Session extends s{constructor(e,r,n){super();this.type="session";this.subtype=undefined;this.server=true;this._ending=false;this._channel=undefined;this._chanInfo={type:"session",incoming:{id:n,window:Q,packetSize:z,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}}}}class Server extends s{constructor(e,r){super();if(typeof e!=="object"||e===null)throw new Error("Missing configuration object");const n=Object.create(null);const s=[];const o=e.hostKeys;if(!Array.isArray(o))throw new Error("hostKeys must be an array");const u=typeof e.algorithms==="object"&&e.algorithms!==null?e.algorithms:{};const v=V(u.serverHostKey,_,T);for(let e=0;e<o.length;++e){let r;if(Buffer.isBuffer(o[e])||typeof o[e]==="string")r=B(o[e]);else r=B(o[e].key,o[e].passphrase);if(r instanceof Error)throw new Error(`Cannot parse privateKey: ${r.message}`);if(Array.isArray(r)){r=r[0]}if(r.getPrivatePEM()===null)throw new Error("privateKey value contains an invalid private key");if(s.includes(r.type))continue;if(r.type==="ssh-rsa"){let e=v.indexOf("ssh-rsa");const i=v.indexOf("rsa-sha2-256");const o=v.indexOf("rsa-sha2-512");if(e===-1){e=Infinity}[e,i,o].sort(compareNumbers).forEach((u=>{if(u===-1)return;let f;switch(u){case e:f="ssh-rsa";break;case i:f="rsa-sha2-256";break;case o:f="rsa-sha2-512";break;default:return}n[f]=r;s.push(f)}))}else{n[r.type]=r;s.push(r.type)}}const w={kex:V(u.kex,g,C).concat(["kex-strict-s-v00@openssh.com"]),serverHostKey:s,cs:{cipher:V(u.cipher,f,I),mac:V(u.hmac,b,R),compress:V(u.compress,p,k),lang:[]},sc:undefined};w.sc=w.cs;if(typeof r==="function")this.on("connection",r);const x=typeof e.debug==="function"?e.debug:undefined;const L=e.ident?Buffer.from(e.ident):undefined;const U=new P(w);this._srv=new i((r=>{if(this._connections>=this.maxConnections){r.destroy();return}++this._connections;r.once("close",(()=>{--this._connections}));let i;if(x){const e=`[${process.hrtime().join(".")}] `;i=r=>{x(`${e}${r}`)}}new Client(r,n,L,U,i,this,e)})).on("error",(e=>{this.emit("error",e)})).on("listening",(()=>{this.emit("listening")})).on("close",(()=>{this.emit("close")}));this._connections=0;this.maxConnections=Infinity}injectSocket(e){this._srv.emit("connection",e)}listen(...e){this._srv.listen(...e);return this}address(){return this._srv.address()}getConnections(e){this._srv.getConnections(e);return this}close(e){this._srv.close(e);return this}ref(){this._srv.ref();return this}unref(){this._srv.unref();return this}}Server.KEEPALIVE_CLIENT_INTERVAL=15e3;Server.KEEPALIVE_CLIENT_COUNT_MAX=3;class Client extends s{constructor(e,r,n,i,s,f,p){super();let g=0;let b=false;let _=[];let I;let k;let C;const R=[];this._sock=e;this._chanMgr=new Y(this);this._debug=s;this.noMoreSessions=false;this.authenticated=false;function onClientPreHeaderError(e){}this.on("error",onClientPreHeaderError);const T=!s?undefined:(e,r,n)=>{s(`Debug output from client: ${JSON.stringify(n)}`)};const P=typeof p.keepaliveInterval==="number"&&isFinite(p.keepaliveInterval)&&p.keepaliveInterval>0?p.keepaliveInterval:typeof Server.KEEPALIVE_CLIENT_INTERVAL==="number"&&isFinite(Server.KEEPALIVE_CLIENT_INTERVAL)&&Server.KEEPALIVE_CLIENT_INTERVAL>0?Server.KEEPALIVE_CLIENT_INTERVAL:-1;const B=typeof p.keepaliveCountMax==="number"&&isFinite(p.keepaliveCountMax)&&p.keepaliveCountMax>=0?p.keepaliveCountMax:typeof Server.KEEPALIVE_CLIENT_COUNT_MAX==="number"&&isFinite(Server.KEEPALIVE_CLIENT_COUNT_MAX)&&Server.KEEPALIVE_CLIENT_COUNT_MAX>=0?Server.KEEPALIVE_CLIENT_COUNT_MAX:-1;let V=0;if(P!==-1&&B!==-1){this.once("ready",(()=>{const onClose=()=>{clearInterval(k)};this.on("close",onClose).on("end",onClose);k=setInterval((()=>{if(++V>B){clearInterval(k);const e=new Error("Keepalive timeout");e.level="client-timeout";this.emit("error",e);this.end()}else{ne.ping()}}),P)}));C=()=>{k&&k.refresh();V=0}}const ne=this._protocol=new L({server:true,hostKeys:r,ident:n,offer:i,onPacket:C,greeting:p.greeting,banner:p.banner,onWrite:r=>{if(J(e))e.write(r)},onError:r=>{if(!ne._destruct)e.removeAllListeners("data");this.emit("error",r);try{e.end()}catch{}},onHeader:r=>{this.removeListener("error",onClientPreHeaderError);const n={ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:r};if(!f.emit("connection",this,n)){ne.disconnect(v.BY_APPLICATION);e.end();return}if(r.greeting)this.emit("greeting",r.greeting)},onHandshakeComplete:e=>{if(++g>1)this.emit("rekey");this.emit("handshake",e)},debug:s,messageHandlers:{DEBUG:T,DISCONNECT:(r,n,i)=>{if(n!==v.BY_APPLICATION){if(!i){i=w[n];if(i===undefined)i=`Unexpected disconnection reason: ${n}`}const e=new Error(i);e.code=n;this.emit("error",e)}e.end()},CHANNEL_OPEN:(e,r)=>{if(r.type==="session"&&this.noMoreSessions||!this.authenticated){const e=u.ADMINISTRATIVELY_PROHIBITED;return ne.channelOpenFail(r.sender,e)}let n=-1;let i;let f=false;let p;const reject=()=>{if(f)return;f=true;if(i===undefined){if(n===-1)i=u.RESOURCE_SHORTAGE;else i=u.CONNECT_FAILED}if(n!==-1)this._chanMgr.remove(n);ne.channelOpenFail(r.sender,i,"")};const reserveChannel=()=>{n=this._chanMgr.add();if(n===-1){i=u.RESOURCE_SHORTAGE;if(s){s("Automatic rejection of incoming channel open: "+"no channels available")}}return n!==-1};const g=r.data;switch(r.type){case"session":if(o(this,"session")&&reserveChannel()){p=()=>{if(f)return;f=true;const e=new Session(this,r,n);this._chanMgr.update(n,e);ne.channelOpenConfirm(r.sender,n,Q,z);return e};this.emit("session",p,reject);return}break;case"direct-tcpip":if(o(this,"tcpip")&&reserveChannel()){p=()=>{if(f)return;f=true;const e={type:undefined,incoming:{id:n,window:Q,packetSize:z,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};const i=new W(this,e,{server:true});this._chanMgr.update(n,i);ne.channelOpenConfirm(r.sender,n,Q,z);return i};this.emit("tcpip",p,reject,g);return}break;case"direct-streamlocal@openssh.com":if(o(this,"openssh.streamlocal")&&reserveChannel()){p=()=>{if(f)return;f=true;const e={type:undefined,incoming:{id:n,window:Q,packetSize:z,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};const i=new W(this,e,{server:true});this._chanMgr.update(n,i);ne.channelOpenConfirm(r.sender,n,Q,z);return i};this.emit("openssh.streamlocal",p,reject,g);return}break;default:i=u.UNKNOWN_CHANNEL_TYPE;if(s){s("Automatic rejection of unsupported incoming channel open"+` type: ${r.type}`)}}if(i===undefined){i=u.ADMINISTRATIVELY_PROHIBITED;if(s){s("Automatic rejection of unexpected incoming channel open"+` for: ${r.type}`)}}reject()},CHANNEL_OPEN_CONFIRMATION:(e,r)=>{const n=this._chanMgr.get(r.recipient);if(typeof n!=="function")return;const i={type:n.type,incoming:{id:r.recipient,window:Q,packetSize:z,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};const s=new W(this,i,{server:true});this._chanMgr.update(r.recipient,s);n(undefined,s)},CHANNEL_OPEN_FAILURE:(e,r,n,i)=>{const s=this._chanMgr.get(r);if(typeof s!=="function")return;const o={reason:n,description:i};ee(this,r,o,s)},CHANNEL_DATA:(e,r,n)=>{let i=this._chanMgr.get(r);if(typeof i!=="object"||i===null)return;if(i.constructor===Session){i=i._channel;if(!i)return}if(i.incoming.window===0)return;i.incoming.window-=n.length;if(i.push(n)===false){i._waitChanDrain=true;return}if(i.incoming.window<=q)G(i)},CHANNEL_EXTENDED_DATA:(e,r,n,i)=>{},CHANNEL_WINDOW_ADJUST:(e,r,n)=>{let i=this._chanMgr.get(r);if(typeof i!=="object"||i===null)return;if(i.constructor===Session){i=i._channel;if(!i)return}i.outgoing.window+=n;if(i._waitWindow){i._waitWindow=false;if(i._chunk){i._write(i._chunk,null,i._chunkcb)}else if(i._chunkcb){i._chunkcb()}else if(i._chunkErr){i.stderr._write(i._chunkErr,null,i._chunkcbErr)}else if(i._chunkcbErr){i._chunkcbErr()}}},CHANNEL_SUCCESS:(e,r)=>{let n=this._chanMgr.get(r);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){n=n._channel;if(!n)return}if(n._callbacks.length)n._callbacks.shift()(false)},CHANNEL_FAILURE:(e,r)=>{let n=this._chanMgr.get(r);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){n=n._channel;if(!n)return}if(n._callbacks.length)n._callbacks.shift()(true)},CHANNEL_REQUEST:(e,r,n,i,u)=>{const f=this._chanMgr.get(r);if(typeof f!=="object"||f===null)return;let p=false;let g;let b;if(f.constructor!==Session){if(i)ne.channelFailure(f.outgoing.id);return}if(i){if(n!=="shell"&&n!=="exec"&&n!=="subsystem"){g=()=>{if(p||f._ending||f._channel)return;p=true;ne.channelSuccess(f._chanInfo.outgoing.id)}}b=()=>{if(p||f._ending||f._channel)return;p=true;ne.channelFailure(f._chanInfo.outgoing.id)}}if(f._ending){b&&b();return}switch(n){case"env":if(o(f,"env")){f.emit("env",g,b,{key:u.name,val:u.value});return}break;case"pty-req":if(o(f,"pty")){f.emit("pty",g,b,u);return}break;case"window-change":if(o(f,"window-change"))f.emit("window-change",g,b,u);else b&&b();break;case"x11-req":if(o(f,"x11")){f.emit("x11",g,b,u);return}break;case"signal":if(o(f,"signal")){f.emit("signal",g,b,{name:u});return}break;case"auth-agent-req@openssh.com":if(o(f,"auth-agent")){f.emit("auth-agent",g,b);return}break;case"shell":if(o(f,"shell")){g=()=>{if(p||f._ending||f._channel)return;p=true;if(i)ne.channelSuccess(f._chanInfo.outgoing.id);const e=new W(this,f._chanInfo,{server:true});e.subtype=f.subtype=n;f._channel=e;return e};f.emit("shell",g,b);return}break;case"exec":if(o(f,"exec")){g=()=>{if(p||f._ending||f._channel)return;p=true;if(i)ne.channelSuccess(f._chanInfo.outgoing.id);const e=new W(this,f._chanInfo,{server:true});e.subtype=f.subtype=n;f._channel=e;return e};f.emit("exec",g,b,{command:u});return}break;case"subsystem":{let e=u==="sftp";g=()=>{if(p||f._ending||f._channel)return;p=true;if(i)ne.channelSuccess(f._chanInfo.outgoing.id);let r;if(e){r=new U(this,f._chanInfo,{server:true,debug:s})}else{r=new W(this,f._chanInfo,{server:true});r.subtype=f.subtype=`${n}:${u}`}f._channel=r;return r};if(u==="sftp"){if(o(f,"sftp")){f.emit("sftp",g,b);return}e=false}if(o(f,"subsystem")){f.emit("subsystem",g,b,{name:u});return}break}}s&&s(`Automatic rejection of incoming channel request: ${n}`);b&&b()},CHANNEL_EOF:(e,r)=>{let n=this._chanMgr.get(r);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){if(!n._ending){n._ending=true;n.emit("eof");n.emit("end")}n=n._channel;if(!n)return}if(n.incoming.state!=="open")return;n.incoming.state="eof";if(n.readable)n.push(null)},CHANNEL_CLOSE:(e,r)=>{let n=this._chanMgr.get(r);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){n._ending=true;n.emit("close");n=n._channel;if(!n)return}te(this,r,n)},SERVICE_REQUEST:(r,n)=>{if(g===0||b||this.authenticated||n!=="ssh-userauth"){ne.disconnect(v.SERVICE_NOT_AVAILABLE);e.end();return}b=true;ne.serviceAccept(n)},USERAUTH_REQUEST:(r,n,i,s,u)=>{if(g===0||this.authenticated||I&&(I.username!==n||I.service!==i)||s!=="password"&&s!=="publickey"&&s!=="hostbased"&&s!=="keyboard-interactive"&&s!=="none"||_.length===re){ne.disconnect(v.PROTOCOL_ERROR);e.end();return}else if(i!=="ssh-connection"){ne.disconnect(v.SERVICE_NOT_AVAILABLE);e.end();return}let f;switch(s){case"keyboard-interactive":f=new KeyboardAuthContext(ne,n,i,s,u,onAuthDecide);break;case"publickey":f=new PKAuthContext(ne,n,i,s,u,onAuthDecide);break;case"hostbased":f=new HostbasedAuthContext(ne,n,i,s,u,onAuthDecide);break;case"password":if(I&&I instanceof PwdAuthContext&&I._changeCb){const e=I._changeCb;I._changeCb=undefined;e(u.newPassword);return}f=new PwdAuthContext(ne,n,i,s,u,onAuthDecide);break;case"none":f=new AuthContext(ne,n,i,s,onAuthDecide);break}if(I){if(!I._initialResponse){return _.push(f)}else if(I._multistep&&!I._finalResponse){I._cleanup&&I._cleanup();I.emit("abort")}}I=f;if(o(this,"authentication"))this.emit("authentication",I);else I.reject()},USERAUTH_INFO_RESPONSE:(e,r)=>{if(I&&I instanceof KeyboardAuthContext)I._onInfoResponse(r)},GLOBAL_REQUEST:(e,r,n,i)=>{const s={type:null,buf:null};function setReply(e,r){s.type=e;s.buf=r;sendReplies()}if(n)R.push(s);if((r==="tcpip-forward"||r==="cancel-tcpip-forward"||r==="no-more-sessions@openssh.com"||r==="streamlocal-forward@openssh.com"||r==="cancel-streamlocal-forward@openssh.com")&&o(this,"request")&&this.authenticated){let e;let s;if(n){let n=false;e=e=>{if(n)return;n=true;let s;if(r==="tcpip-forward"&&i.bindPort===0&&typeof e==="number"){s=Buffer.allocUnsafe(4);j(s,e,0)}setReply("SUCCESS",s)};s=()=>{if(n)return;n=true;setReply("FAILURE")}}if(r==="no-more-sessions@openssh.com"){this.noMoreSessions=true;e&&e();return}this.emit("request",e,s,r,i)}else if(n){setReply("FAILURE")}}}});e.pause();x.then((()=>{ne.start();e.on("data",(r=>{try{ne.parse(r,0,r.length)}catch(r){this.emit("error",r);try{if(J(e))e.end()}catch{}}}));e.resume()})).catch((r=>{this.emit("error",r);try{if(J(e))e.end()}catch{}}));e.on("error",(e=>{e.level="socket";this.emit("error",e)})).once("end",(()=>{s&&s("Socket ended");ne.cleanup();this.emit("end")})).once("close",(()=>{s&&s("Socket closed");ne.cleanup();this.emit("close");const e=new Error("No response from server");this._chanMgr.cleanup(e)}));const onAuthDecide=(e,r,n,i)=>{if(I===e&&!this.authenticated){if(r){I=undefined;this.authenticated=true;ne.authSuccess();_=[];this.emit("ready")}else{ne.authFailure(n,i);if(_.length){I=_.pop();if(o(this,"authentication"))this.emit("authentication",I);else I.reject()}}}};function sendReplies(){while(R.length>0&&R[0].type){const e=R.shift();if(e.type==="SUCCESS")ne.requestSuccess(e.buf);if(e.type==="FAILURE")ne.requestFailure()}}}end(){if(this._sock&&J(this._sock)){this._protocol.disconnect(v.BY_APPLICATION);this._sock.end()}return this}x11(e,r,n){const i={originAddr:e,originPort:r};openChannel(this,"x11",i,n);return this}forwardOut(e,r,n,i,s){const o={boundAddr:e,boundPort:r,remoteAddr:n,remotePort:i};openChannel(this,"forwarded-tcpip",o,s);return this}openssh_forwardOutStreamLocal(e,r){const n={socketPath:e};openChannel(this,"forwarded-streamlocal@openssh.com",n,r);return this}rekey(e){let r;try{this._protocol.rekey()}catch(e){r=e}if(typeof e==="function"){if(r)process.nextTick(e,r);else this.once("rekey",e)}}setNoDelay(e){if(this._sock&&typeof this._sock.setNoDelay==="function")this._sock.setNoDelay(e);return this}}function openChannel(e,r,n,i){const s=Q;const o=z;if(typeof n==="function"){i=n;n={}}const wrapper=(e,r)=>{i(e,r)};wrapper.type=r;const u=e._chanMgr.add(wrapper);if(u===-1){i(new Error("No free channels available"));return}switch(r){case"forwarded-tcpip":e._protocol.forwardedTcpip(u,s,o,n);break;case"x11":e._protocol.x11(u,s,o,n);break;case"forwarded-streamlocal@openssh.com":e._protocol.openssh_forwardedStreamLocal(u,s,o,n);break;default:throw new Error(`Unsupported channel type: ${r}`)}}function compareNumbers(e,r){return e-r}e.exports=Server;e.exports.IncomingClient=Client},24645:(e,r,n)=>{"use strict";const{SFTP:i}=n(47352);const s=2**32-1;function onChannelOpenFailure(e,r,n,i){e._chanMgr.remove(r);if(typeof i!=="function")return;let s;if(n instanceof Error){s=n}else if(typeof n==="object"&&n!==null){s=new Error(`(SSH) Channel open failure: ${n.description}`);s.reason=n.reason}else{s=new Error("(SSH) Channel open failure: server closed channel unexpectedly");s.reason=""}i(s)}function onCHANNEL_CLOSE(e,r,n,s,o){if(typeof n==="function"){onChannelOpenFailure(e,r,s,n);return}if(typeof n!=="object"||n===null)return;if(n.incoming&&n.incoming.state==="closed")return;e._chanMgr.remove(r);if(n.server&&n.constructor.name==="Session")return;n.incoming.state="closed";if(n.readable)n.push(null);if(n.server){if(n.stderr.writable)n.stderr.end()}else if(n.stderr.readable){n.stderr.push(null)}if(n.constructor!==i&&(n.outgoing.state==="open"||n.outgoing.state==="eof")&&!o){n.close()}if(n.outgoing.state==="closing")n.outgoing.state="closed";const u=n._readableState;const f=n._writableState;if(f&&!f.ending&&!f.finished&&!o)n.end();const p=n._callbacks;n._callbacks=[];for(let e=0;e<p.length;++e)p[e](true);if(n.server){if(!n.readable||n.destroyed||u&&u.endEmitted){n.emit("close")}else{n.once("end",(()=>n.emit("close")))}}else{let e;switch(n.type){case"direct-streamlocal@openssh.com":case"direct-tcpip":e=()=>n.emit("close");break;default:{const r=n._exit;e=()=>{if(r.code===null)n.emit("close",r.code,r.signal,r.dump,r.desc);else n.emit("close",r.code)}}}if(!n.readable||n.destroyed||u&&u.endEmitted){e()}else{n.once("end",e)}const r=n.stderr._readableState;if(!n.stderr.readable||n.stderr.destroyed||r&&r.endEmitted){n.stderr.emit("close")}else{n.stderr.once("end",(()=>n.stderr.emit("close")))}}}class ChannelManager{constructor(e){this._client=e;this._channels={};this._cur=-1;this._count=0}add(e){let r;if(this._cur<s){r=++this._cur}else if(this._count===0){this._cur=0;r=0}else{const e=this._channels;for(let n=0;n<s;++n){if(e[n]===undefined){r=n;break}}}if(r===undefined)return-1;this._channels[r]=e||true;++this._count;return r}update(e,r){if(typeof e!=="number"||e<0||e>=s||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);if(r&&this._channels[e])this._channels[e]=r}get(e){if(typeof e!=="number"||e<0||e>=s||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);return this._channels[e]}remove(e){if(typeof e!=="number"||e<0||e>=s||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);if(this._channels[e]){delete this._channels[e];if(this._count)--this._count}}cleanup(e){const r=this._channels;this._channels={};this._cur=-1;this._count=0;const n=Object.keys(r);const i=this._client;for(let s=0;s<n.length;++s){const o=+n[s];const u=r[o];onCHANNEL_CLOSE(i,o,u._channel||u,e,true)}}}const o=(()=>{const e=Object.prototype.toString;return r=>e.call(r)==="[object RegExp]"})();function generateAlgorithmList(e,r,n){if(Array.isArray(e)&&e.length>0){for(let r=0;r<e.length;++r){if(n.indexOf(e[r])===-1)throw new Error(`Unsupported algorithm: ${e[r]}`)}return e}if(typeof e==="object"&&e!==null){const i=Object.keys(e);let s=r;for(let u=0;u<i.length;++u){const f=i[u];let p=e[f];switch(f){case"append":if(!Array.isArray(p))p=[p];if(Array.isArray(p)){for(let e=0;e<p.length;++e){const i=p[e];if(typeof i==="string"){if(!i||s.indexOf(i)!==-1)continue;if(n.indexOf(i)===-1)throw new Error(`Unsupported algorithm: ${i}`);if(s===r)s=s.slice();s.push(i)}else if(o(i)){for(let e=0;e<n.length;++e){const o=n[e];if(i.test(o)){if(s.indexOf(o)!==-1)continue;if(s===r)s=s.slice();s.push(o)}}}}}break;case"prepend":if(!Array.isArray(p))p=[p];if(Array.isArray(p)){for(let e=p.length;e>=0;--e){const i=p[e];if(typeof i==="string"){if(!i||s.indexOf(i)!==-1)continue;if(n.indexOf(i)===-1)throw new Error(`Unsupported algorithm: ${i}`);if(s===r)s=s.slice();s.unshift(i)}else if(o(i)){for(let e=n.length;e>=0;--e){const o=n[e];if(i.test(o)){if(s.indexOf(o)!==-1)continue;if(s===r)s=s.slice();s.unshift(o)}}}}}break;case"remove":if(!Array.isArray(p))p=[p];if(Array.isArray(p)){for(let e=0;e<p.length;++e){const n=p[e];if(typeof n==="string"){if(!n)continue;const e=s.indexOf(n);if(e===-1)continue;if(s===r)s=s.slice();s.splice(e,1)}else if(o(n)){for(let e=0;e<s.length;++e){if(n.test(s[e])){if(s===r)s=s.slice();s.splice(e,1);--e}}}}}break}}return s}return r}e.exports={ChannelManager:ChannelManager,generateAlgorithmList:generateAlgorithmList,onChannelOpenFailure:onChannelOpenFailure,onCHANNEL_CLOSE:onCHANNEL_CLOSE,isWritable:e=>e&&e.writable&&e._readableState&&e._readableState.ended===false}},9129:(e,r,n)=>{const{EventEmitter:i}=n(24434);const s=new Error("Stream was destroyed");const o=new Error("Premature close");const u=n(35e3);const f=n(12302);const p=typeof queueMicrotask==="undefined"?e=>global.process.nextTick(e):queueMicrotask;const g=(1<<29)-1;const b=1;const _=2;const v=4;const w=8;const I=g^b;const k=g^_;const C=1<<4;const R=2<<4;const T=4<<4;const x=8<<4;const P=16<<4;const B=32<<4;const L=64<<4;const U=128<<4;const j=256<<4;const W=512<<4;const Q=1024<<4;const z=2048<<4;const G=4096<<4;const q=8192<<4;const Y=P|B;const V=C|G;const J=T|C;const ee=j|x;const te=P|q;const re=g^C;const ne=g^T;const ie=g^(T|G);const se=g^G;const oe=g^P;const ae=g^(x|W);const le=g^L;const ce=g^Y;const ue=g^z;const fe=g^R;const he=g^q;const de=g^te;const pe=1<<18;const ge=2<<18;const be=4<<18;const ye=8<<18;const me=16<<18;const _e=32<<18;const ve=64<<18;const we=128<<18;const Ae=256<<18;const Ee=512<<18;const Se=1024<<18;const Ie=g^(pe|Ae);const ke=g^be;const Ce=g^(pe|Ee);const Oe=g^me;const Re=g^ye;const Te=g^we;const xe=g^ge;const Pe=g^Se;const Be=C|pe;const Le=g^Be;const Ne=Q|_e;const Me=v|w|_;const De=Me|b;const Fe=Me|Ne;const Ue=ke&ne;const je=we|z;const We=je&Le;const He=De|We;const Qe=De|L|Q;const ze=De|Q|x;const Ge=De|L|x;const $e=De|j|x|W;const qe=De|C|L|Q|G|q;const Ke=Me|L|Q;const Ye=R|De|z|T;const Ve=z|b;const Xe=De|Ee|_e;const Ze=ye|me;const Je=ye|pe;const et=ye|me|De|pe;const tt=De|pe|ye|Se;const rt=be|pe;const nt=pe|Ae;const it=De|Ee|Je|_e;const st=me|Me|Ee|_e;const ot=ge|De|we|be;const at=Ee|_e|Me;const lt=Symbol.asyncIterator||Symbol("asyncIterator");class WritableState{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e;this.queue=new u;this.highWaterMark=r;this.buffered=0;this.error=null;this.pipeline=null;this.drains=null;this.byteLength=o||s||defaultByteLength;this.map=i||n;this.afterWrite=afterWrite.bind(this);this.afterUpdateNextTick=updateWriteNT.bind(this)}get ended(){return(this.stream._duplexState&_e)!==0}push(e){if((this.stream._duplexState&at)!==0)return false;if(this.map!==null)e=this.map(e);this.buffered+=this.byteLength(e);this.queue.push(e);if(this.buffered<this.highWaterMark){this.stream._duplexState|=ye;return true}this.stream._duplexState|=Ze;return false}shift(){const e=this.queue.shift();this.buffered-=this.byteLength(e);if(this.buffered===0)this.stream._duplexState&=Re;return e}end(e){if(typeof e==="function")this.stream.once("finish",e);else if(e!==undefined&&e!==null)this.push(e);this.stream._duplexState=(this.stream._duplexState|Ee)&ke}autoBatch(e,r){const n=[];const i=this.stream;n.push(e);while((i._duplexState&tt)===Je){n.push(i._writableState.shift())}if((i._duplexState&De)!==0)return r(null);i._writev(n,r)}update(){const e=this.stream;e._duplexState|=ge;do{while((e._duplexState&tt)===ye){const r=this.shift();e._duplexState|=nt;e._write(r,this.afterWrite)}if((e._duplexState&rt)===0)this.updateNonPrimary()}while(this.continueUpdate()===true);e._duplexState&=xe}updateNonPrimary(){const e=this.stream;if((e._duplexState&it)===Ee){e._duplexState=e._duplexState|pe;e._final(afterFinal.bind(this));return}if((e._duplexState&Me)===v){if((e._duplexState&je)===0){e._duplexState|=Be;e._destroy(afterDestroy.bind(this))}return}if((e._duplexState&He)===b){e._duplexState=(e._duplexState|Be)&I;e._open(afterOpen.bind(this))}}continueUpdate(){if((this.stream._duplexState&we)===0)return false;this.stream._duplexState&=Te;return true}updateCallback(){if((this.stream._duplexState&ot)===be)this.update();else this.updateNextTick()}updateNextTick(){if((this.stream._duplexState&we)!==0)return;this.stream._duplexState|=we;if((this.stream._duplexState&ge)===0)p(this.afterUpdateNextTick)}}class ReadableState{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e;this.queue=new u;this.highWaterMark=r===0?1:r;this.buffered=0;this.readAhead=r>0;this.error=null;this.pipeline=null;this.byteLength=o||s||defaultByteLength;this.map=i||n;this.pipeTo=null;this.afterRead=afterRead.bind(this);this.afterUpdateNextTick=updateReadNT.bind(this)}get ended(){return(this.stream._duplexState&Q)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!=="function")r=null;this.stream._duplexState|=B;this.pipeTo=e;this.pipeline=new Pipeline(this.stream,e,r);if(r)this.stream.on("error",noop);if(isStreamx(e)){e._writableState.pipeline=this.pipeline;if(r)e.on("error",noop);e.on("finish",this.pipeline.finished.bind(this.pipeline))}else{const r=this.pipeline.done.bind(this.pipeline,e);const n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",r);e.on("close",n);e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",afterDrain.bind(this));this.stream.emit("piping",e);e.emit("pipe",this.stream)}push(e){const r=this.stream;if(e===null){this.highWaterMark=0;r._duplexState=(r._duplexState|L)&ie;return false}if(this.map!==null){e=this.map(e);if(e===null){r._duplexState&=se;return this.buffered<this.highWaterMark}}this.buffered+=this.byteLength(e);this.queue.push(e);r._duplexState=(r._duplexState|x)&se;return this.buffered<this.highWaterMark}shift(){const e=this.queue.shift();this.buffered-=this.byteLength(e);if(this.buffered===0)this.stream._duplexState&=ae;return e}unshift(e){const r=[this.map!==null?this.map(e):e];while(this.buffered>0)r.push(this.shift());for(let e=0;e<r.length-1;e++){const n=r[e];this.buffered+=this.byteLength(n);this.queue.push(n)}this.push(r[r.length-1])}read(){const e=this.stream;if((e._duplexState&ze)===x){const r=this.shift();if(this.pipeTo!==null&&this.pipeTo.write(r)===false)e._duplexState&=ce;if((e._duplexState&U)!==0)e.emit("data",r);return r}if(this.readAhead===false){e._duplexState|=q;this.updateNextTick()}return null}drain(){const e=this.stream;while((e._duplexState&ze)===x&&(e._duplexState&Y)!==0){const r=this.shift();if(this.pipeTo!==null&&this.pipeTo.write(r)===false)e._duplexState&=ce;if((e._duplexState&U)!==0)e.emit("data",r)}}update(){const e=this.stream;e._duplexState|=R;do{this.drain();while(this.buffered<this.highWaterMark&&(e._duplexState&qe)===q){e._duplexState|=V;e._read(this.afterRead);this.drain()}if((e._duplexState&$e)===ee){e._duplexState|=W;e.emit("readable")}if((e._duplexState&J)===0)this.updateNonPrimary()}while(this.continueUpdate()===true);e._duplexState&=fe}updateNonPrimary(){const e=this.stream;if((e._duplexState&Ge)===L){e._duplexState=(e._duplexState|Q)&le;e.emit("end");if((e._duplexState&Fe)===Ne)e._duplexState|=v;if(this.pipeTo!==null)this.pipeTo.end()}if((e._duplexState&Me)===v){if((e._duplexState&je)===0){e._duplexState|=Be;e._destroy(afterDestroy.bind(this))}return}if((e._duplexState&He)===b){e._duplexState=(e._duplexState|Be)&I;e._open(afterOpen.bind(this))}}continueUpdate(){if((this.stream._duplexState&z)===0)return false;this.stream._duplexState&=ue;return true}updateCallback(){if((this.stream._duplexState&Ye)===T)this.update();else this.updateNextTick()}updateNextTickIfOpen(){if((this.stream._duplexState&Ve)!==0)return;this.stream._duplexState|=z;if((this.stream._duplexState&R)===0)p(this.afterUpdateNextTick)}updateNextTick(){if((this.stream._duplexState&z)!==0)return;this.stream._duplexState|=z;if((this.stream._duplexState&R)===0)p(this.afterUpdateNextTick)}}class TransformState{constructor(e){this.data=null;this.afterTransform=afterTransform.bind(e);this.afterFinal=null}}class Pipeline{constructor(e,r,n){this.from=e;this.to=r;this.afterPipe=n;this.error=null;this.pipeToFinished=false}finished(){this.pipeToFinished=true}done(e,r){if(r)this.error=r;if(e===this.to){this.to=null;if(this.from!==null){if((this.from._duplexState&Q)===0||!this.pipeToFinished){this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}return}}if(e===this.from){this.from=null;if(this.to!==null){if((e._duplexState&Q)===0){this.to.destroy(this.error||new Error("Readable stream closed before ending"))}return}}if(this.afterPipe!==null)this.afterPipe(this.error);this.to=this.from=this.afterPipe=null}}function afterDrain(){this.stream._duplexState|=B;this.updateCallback()}function afterFinal(e){const r=this.stream;if(e)r.destroy(e);if((r._duplexState&Me)===0){r._duplexState|=_e;r.emit("finish")}if((r._duplexState&Fe)===Ne){r._duplexState|=v}r._duplexState&=Ce;if((r._duplexState&ge)===0)this.update();else this.updateNextTick()}function afterDestroy(e){const r=this.stream;if(!e&&this.error!==s)e=this.error;if(e)r.emit("error",e);r._duplexState|=w;r.emit("close");const n=r._readableState;const i=r._writableState;if(n!==null&&n.pipeline!==null)n.pipeline.done(r,e);if(i!==null){while(i.drains!==null&&i.drains.length>0)i.drains.shift().resolve(false);if(i.pipeline!==null)i.pipeline.done(r,e)}}function afterWrite(e){const r=this.stream;if(e)r.destroy(e);r._duplexState&=Ie;if(this.drains!==null)tickDrains(this.drains);if((r._duplexState&et)===me){r._duplexState&=Oe;if((r._duplexState&ve)===ve){r.emit("drain")}}this.updateCallback()}function afterRead(e){if(e)this.stream.destroy(e);this.stream._duplexState&=re;if(this.readAhead===false&&(this.stream._duplexState&P)===0)this.stream._duplexState&=he;this.updateCallback()}function updateReadNT(){if((this.stream._duplexState&R)===0){this.stream._duplexState&=ue;this.update()}}function updateWriteNT(){if((this.stream._duplexState&ge)===0){this.stream._duplexState&=Te;this.update()}}function tickDrains(e){for(let r=0;r<e.length;r++){if(--e[r].writes===0){e.shift().resolve(true);r--}}}function afterOpen(e){const r=this.stream;if(e)r.destroy(e);if((r._duplexState&v)===0){if((r._duplexState&Qe)===0)r._duplexState|=T;if((r._duplexState&Xe)===0)r._duplexState|=be;r.emit("open")}r._duplexState&=Le;if(r._writableState!==null){r._writableState.updateCallback()}if(r._readableState!==null){r._readableState.updateCallback()}}function afterTransform(e,r){if(r!==undefined&&r!==null)this.push(r);this._writableState.afterWrite(e)}function newListener(e){if(this._readableState!==null){if(e==="data"){this._duplexState|=U|te;this._readableState.updateNextTick()}if(e==="readable"){this._duplexState|=j;this._readableState.updateNextTick()}}if(this._writableState!==null){if(e==="drain"){this._duplexState|=ve;this._writableState.updateNextTick()}}}class Stream extends i{constructor(e){super();this._duplexState=0;this._readableState=null;this._writableState=null;if(e){if(e.open)this._open=e.open;if(e.destroy)this._destroy=e.destroy;if(e.predestroy)this._predestroy=e.predestroy;if(e.signal){e.signal.addEventListener("abort",abort.bind(this))}}this.on("newListener",newListener)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?true:undefined}get writable(){return this._writableState!==null?true:undefined}get destroyed(){return(this._duplexState&w)!==0}get destroying(){return(this._duplexState&Me)!==0}destroy(e){if((this._duplexState&Me)===0){if(!e)e=s;this._duplexState=(this._duplexState|v)&Ue;if(this._readableState!==null){this._readableState.highWaterMark=0;this._readableState.error=e}if(this._writableState!==null){this._writableState.highWaterMark=0;this._writableState.error=e}this._duplexState|=_;this._predestroy();this._duplexState&=k;if(this._readableState!==null)this._readableState.updateNextTick();if(this._writableState!==null)this._writableState.updateNextTick()}}}class Readable extends Stream{constructor(e){super(e);this._duplexState|=b|_e|q;this._readableState=new ReadableState(this,e);if(e){if(this._readableState.readAhead===false)this._duplexState&=he;if(e.read)this._read=e.read;if(e.eagerOpen)this._readableState.updateNextTick();if(e.encoding)this.setEncoding(e.encoding)}}setEncoding(e){const r=new f(e);const n=this._readableState.map||echo;this._readableState.map=mapOrSkip;return this;function mapOrSkip(e){const i=r.push(e);return i===""&&(e.byteLength!==0||r.remaining>0)?null:n(i)}}_read(e){e(null)}pipe(e,r){this._readableState.updateNextTick();this._readableState.pipe(e,r);return e}read(){this._readableState.updateNextTick();return this._readableState.read()}push(e){this._readableState.updateNextTickIfOpen();return this._readableState.push(e)}unshift(e){this._readableState.updateNextTickIfOpen();return this._readableState.unshift(e)}resume(){this._duplexState|=te;this._readableState.updateNextTick();return this}pause(){this._duplexState&=this._readableState.readAhead===false?de:oe;return this}static _fromAsyncIterator(e,r){let n;const i=new Readable({...r,read(r){e.next().then(push).then(r.bind(null,null)).catch(r)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return i;function push(e){if(e.done)i.push(null);else i.push(e.value)}}static from(e,r){if(isReadStreamx(e))return e;if(e[lt])return this._fromAsyncIterator(e[lt](),r);if(!Array.isArray(e))e=e===undefined?[]:[e];let n=0;return new Readable({...r,read(r){this.push(n===e.length?null:e[n++]);r(null)}})}static isBackpressured(e){return(e._duplexState&Ke)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&P)===0}[lt](){const e=this;let r=null;let n=null;let i=null;this.on("error",(e=>{r=e}));this.on("readable",onreadable);this.on("close",onclose);return{[lt](){return this},next(){return new Promise((function(r,s){n=r;i=s;const o=e.read();if(o!==null)ondata(o);else if((e._duplexState&w)!==0)ondata(null)}))},return(){return destroy(null)},throw(e){return destroy(e)}};function onreadable(){if(n!==null)ondata(e.read())}function onclose(){if(n!==null)ondata(null)}function ondata(o){if(i===null)return;if(r)i(r);else if(o===null&&(e._duplexState&Q)===0)i(s);else n({value:o,done:o===null});i=n=null}function destroy(r){e.destroy(r);return new Promise(((n,i)=>{if(e._duplexState&w)return n({value:undefined,done:true});e.once("close",(function(){if(r)i(r);else n({value:undefined,done:true})}))}))}}}class Writable extends Stream{constructor(e){super(e);this._duplexState|=b|Q;this._writableState=new WritableState(this,e);if(e){if(e.writev)this._writev=e.writev;if(e.write)this._write=e.write;if(e.final)this._final=e.final;if(e.eagerOpen)this._writableState.updateNextTick()}}cork(){this._duplexState|=Se}uncork(){this._duplexState&=Pe;this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&st)!==0}static drained(e){if(e.destroyed)return Promise.resolve(false);const r=e._writableState;const n=isWritev(e)?Math.min(1,r.queue.length):r.queue.length;const i=n+(e._duplexState&Ae?1:0);if(i===0)return Promise.resolve(true);if(r.drains===null)r.drains=[];return new Promise((e=>{r.drains.push({writes:i,resolve:e})}))}write(e){this._writableState.updateNextTick();return this._writableState.push(e)}end(e){this._writableState.updateNextTick();this._writableState.end(e);return this}}class Duplex extends Readable{constructor(e){super(e);this._duplexState=b|this._duplexState&q;this._writableState=new WritableState(this,e);if(e){if(e.writev)this._writev=e.writev;if(e.write)this._write=e.write;if(e.final)this._final=e.final}}cork(){this._duplexState|=Se}uncork(){this._duplexState&=Pe;this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){this._writableState.updateNextTick();return this._writableState.push(e)}end(e){this._writableState.updateNextTick();this._writableState.end(e);return this}}class Transform extends Duplex{constructor(e){super(e);this._transformState=new TransformState(this);if(e){if(e.transform)this._transform=e.transform;if(e.flush)this._flush=e.flush}}_write(e,r){if(this._readableState.buffered>=this._readableState.highWaterMark){this._transformState.data=e}else{this._transform(e,this._transformState.afterTransform)}}_read(e){if(this._transformState.data!==null){const r=this._transformState.data;this._transformState.data=null;e(null);this._transform(r,this._transformState.afterTransform)}else{e(null)}}destroy(e){super.destroy(e);if(this._transformState.data!==null){this._transformState.data=null;this._transformState.afterTransform()}}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e;this._flush(transformAfterFlush.bind(this))}}class PassThrough extends Transform{}function transformAfterFlush(e,r){const n=this._transformState.afterFinal;if(e)return n(e);if(r!==null&&r!==undefined)this.push(r);this.push(null);n(null)}function pipelinePromise(...e){return new Promise(((r,n)=>pipeline(...e,(e=>{if(e)return n(e);r()}))))}function pipeline(e,...r){const n=Array.isArray(e)?[...e,...r]:[e,...r];const i=n.length&&typeof n[n.length-1]==="function"?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let s=n[0];let u=null;let f=null;for(let e=1;e<n.length;e++){u=n[e];if(isStreamx(s)){s.pipe(u,onerror)}else{errorHandle(s,true,e>1,onerror);s.pipe(u)}s=u}if(i){let e=false;const r=isStreamx(u)||!!(u._writableState&&u._writableState.autoDestroy);u.on("error",(e=>{if(f===null)f=e}));u.on("finish",(()=>{e=true;if(!r)i(f)}));if(r){u.on("close",(()=>i(f||(e?null:o))))}}return u;function errorHandle(e,r,n,i){e.on("error",i);e.on("close",onclose);function onclose(){if(r&&e._readableState&&!e._readableState.ended)return i(o);if(n&&e._writableState&&!e._writableState.ended)return i(o)}}function onerror(e){if(!e||f)return;f=e;for(const r of n){r.destroy(e)}}}function echo(e){return e}function isStream(e){return!!e._readableState||!!e._writableState}function isStreamx(e){return typeof e._duplexState==="number"&&isStream(e)}function isEnded(e){return!!e._readableState&&e._readableState.ended}function isFinished(e){return!!e._writableState&&e._writableState.ended}function getStreamError(e,r={}){const n=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return!r.all&&n===s?null:n}function isReadStreamx(e){return isStreamx(e)&&e.readable}function isDisturbed(e){return(e._duplexState&b)!==b||(e._duplexState&je)!==0}function isTypedArray(e){return typeof e==="object"&&e!==null&&typeof e.byteLength==="number"}function defaultByteLength(e){return isTypedArray(e)?e.byteLength:1024}function noop(){}function abort(){this.destroy(new Error("Stream aborted."))}function isWritev(e){return e._writev!==Writable.prototype._writev&&e._writev!==Duplex.prototype._writev}e.exports={pipeline:pipeline,pipelinePromise:pipelinePromise,isStream:isStream,isStreamx:isStreamx,isEnded:isEnded,isFinished:isFinished,isDisturbed:isDisturbed,getStreamError:getStreamError,Stream:Stream,Writable:Writable,Readable:Readable,Duplex:Duplex,Transform:Transform,PassThrough:PassThrough}},88927:(e,r,n)=>{"use strict";var i=n(56912).Buffer;var s=i.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(e){if(!e)return"utf8";var r;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(r)return;e=(""+e).toLowerCase();r=true}}}function normalizeEncoding(e){var r=_normalizeEncoding(e);if(typeof r!=="string"&&(i.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return r||e}r.I=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var r;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;r=4;break;case"utf8":this.fillLast=utf8FillLast;r=4;break;case"base64":this.text=base64Text;this.end=base64End;r=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=i.allocUnsafe(r)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var r;var n;if(this.lastNeed){r=this.fillLast(e);if(r===undefined)return"";n=this.lastNeed;this.lastNeed=0}else{n=0}if(n<e.length)return r?r+this.text(e,n):this.text(e,n);return r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function utf8CheckIncomplete(e,r,n){var i=r.length-1;if(i<n)return 0;var s=utf8CheckByte(r[i]);if(s>=0){if(s>0)e.lastNeed=s-1;return s}if(--i<n||s===-2)return 0;s=utf8CheckByte(r[i]);if(s>=0){if(s>0)e.lastNeed=s-2;return s}if(--i<n||s===-2)return 0;s=utf8CheckByte(r[i]);if(s>=0){if(s>0){if(s===2)s=0;else e.lastNeed=s-3}return s}return 0}function utf8CheckExtraBytes(e,r,n){if((r[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&r.length>1){if((r[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&r.length>2){if((r[2]&192)!==128){e.lastNeed=2;return"�"}}}}function utf8FillLast(e){var r=this.lastTotal-this.lastNeed;var n=utf8CheckExtraBytes(this,e,r);if(n!==undefined)return n;if(this.lastNeed<=e.length){e.copy(this.lastChar,r,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,r,0,e.length);this.lastNeed-=e.length}function utf8Text(e,r){var n=utf8CheckIncomplete(this,e,r);if(!this.lastNeed)return e.toString("utf8",r);this.lastTotal=n;var i=e.length-(n-this.lastNeed);e.copy(this.lastChar,0,i);return e.toString("utf8",r,i)}function utf8End(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed)return r+"�";return r}function utf16Text(e,r){if((e.length-r)%2===0){var n=e.toString("utf16le",r);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return n.slice(0,-1)}}return n}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",r,e.length-1)}function utf16End(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,n)}return r}function base64Text(e,r){var n=(e.length-r)%3;if(n===0)return e.toString("base64",r);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",r,e.length-n)}function base64End(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed)return r+this.lastChar.toString("base64",0,3-this.lastNeed);return r}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}},23252:(e,r,n)=>{"use strict";var i=n(53476).Buffer;var s=i.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(e){if(!e)return"utf8";var r;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(r)return;e=(""+e).toLowerCase();r=true}}}function normalizeEncoding(e){var r=_normalizeEncoding(e);if(typeof r!=="string"&&(i.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return r||e}r.StringDecoder=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var r;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;r=4;break;case"utf8":this.fillLast=utf8FillLast;r=4;break;case"base64":this.text=base64Text;this.end=base64End;r=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=i.allocUnsafe(r)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var r;var n;if(this.lastNeed){r=this.fillLast(e);if(r===undefined)return"";n=this.lastNeed;this.lastNeed=0}else{n=0}if(n<e.length)return r?r+this.text(e,n):this.text(e,n);return r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function utf8CheckIncomplete(e,r,n){var i=r.length-1;if(i<n)return 0;var s=utf8CheckByte(r[i]);if(s>=0){if(s>0)e.lastNeed=s-1;return s}if(--i<n||s===-2)return 0;s=utf8CheckByte(r[i]);if(s>=0){if(s>0)e.lastNeed=s-2;return s}if(--i<n||s===-2)return 0;s=utf8CheckByte(r[i]);if(s>=0){if(s>0){if(s===2)s=0;else e.lastNeed=s-3}return s}return 0}function utf8CheckExtraBytes(e,r,n){if((r[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&r.length>1){if((r[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&r.length>2){if((r[2]&192)!==128){e.lastNeed=2;return"�"}}}}function utf8FillLast(e){var r=this.lastTotal-this.lastNeed;var n=utf8CheckExtraBytes(this,e,r);if(n!==undefined)return n;if(this.lastNeed<=e.length){e.copy(this.lastChar,r,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,r,0,e.length);this.lastNeed-=e.length}function utf8Text(e,r){var n=utf8CheckIncomplete(this,e,r);if(!this.lastNeed)return e.toString("utf8",r);this.lastTotal=n;var i=e.length-(n-this.lastNeed);e.copy(this.lastChar,0,i);return e.toString("utf8",r,i)}function utf8End(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed)return r+"�";return r}function utf16Text(e,r){if((e.length-r)%2===0){var n=e.toString("utf16le",r);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return n.slice(0,-1)}}return n}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",r,e.length-1)}function utf16End(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,n)}return r}function base64Text(e,r){var n=(e.length-r)%3;if(n===0)return e.toString("base64",r);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",r,e.length-n)}function base64End(e){var r=e&&e.length?this.write(e):"";if(this.lastNeed)return r+this.lastChar.toString("base64",0,3-this.lastNeed);return r}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}},14504:(e,r,n)=>{const i={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{e.exports=n(79896).constants||i}catch{e.exports=i}},55908:(e,r,n)=>{const{Writable:i,Readable:s,getStreamError:o}=n(9129);const u=n(35e3);const f=n(32312);const p=n(86263);const g=f.alloc(0);class BufferList{constructor(){this.buffered=0;this.shifted=0;this.queue=new u;this._offset=0}push(e){this.buffered+=e.byteLength;this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return g;let r=this._next(e);if(e===r.byteLength)return r;const n=[r];while((e-=r.byteLength)>0){r=this._next(e);n.push(r)}return f.concat(n)}_next(e){const r=this.queue.peek();const n=r.byteLength-this._offset;if(e>=n){const e=this._offset?r.subarray(this._offset,r.byteLength):r;this.queue.shift();this._offset=0;this.buffered-=n;this.shifted+=n;return e}this.buffered-=e;this.shifted+=e;return r.subarray(this._offset,this._offset+=e)}}class Source extends s{constructor(e,r,n){super();this.header=r;this.offset=n;this._parent=e}_read(e){if(this.header.size===0){this.push(null)}if(this._parent._stream===this){this._parent._update()}e(null)}_predestroy(){this._parent.destroy(o(this))}_detach(){if(this._parent._stream===this){this._parent._stream=null;this._parent._missing=overflow(this.header.size);this._parent._update()}}_destroy(e){this._detach();e(null)}}class Extract extends i{constructor(e){super(e);if(!e)e={};this._buffer=new BufferList;this._offset=0;this._header=null;this._stream=null;this._missing=0;this._longHeader=false;this._callback=noop;this._locked=false;this._finished=false;this._pax=null;this._paxGlobal=null;this._gnuLongPath=null;this._gnuLongLinkPath=null;this._filenameEncoding=e.filenameEncoding||"utf-8";this._allowUnknownFormat=!!e.allowUnknownFormat;this._unlockBound=this._unlock.bind(this)}_unlock(e){this._locked=false;if(e){this.destroy(e);this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return false;this._offset=this._buffer.shifted;try{this._header=p.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){this._continueWrite(e);return false}if(!this._header)return true;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":this._longHeader=true;this._missing=this._header.size;return true}this._locked=true;this._applyLongHeaders();if(this._header.size===0||this._header.type==="directory"){this.emit("entry",this._header,this._createStream(),this._unlockBound);return true}this._stream=this._createStream();this._missing=this._header.size;this.emit("entry",this._header,this._stream,this._unlockBound);return true}_applyLongHeaders(){if(this._gnuLongPath){this._header.name=this._gnuLongPath;this._gnuLongPath=null}if(this._gnuLongLinkPath){this._header.linkname=this._gnuLongLinkPath;this._gnuLongLinkPath=null}if(this._pax){if(this._pax.path)this._header.name=this._pax.path;if(this._pax.linkpath)this._header.linkname=this._pax.linkpath;if(this._pax.size)this._header.size=parseInt(this._pax.size,10);this._header.pax=this._pax;this._pax=null}}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=p.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=p.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=p.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?p.decodePax(e):Object.assign({},this._paxGlobal,p.decodePax(e));break}}_consumeLongHeader(){this._longHeader=false;this._missing=overflow(this._header.size);const e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(e){this._continueWrite(e);return false}return true}_consumeStream(){const e=this._buffer.shiftFirst(this._missing);if(e===null)return false;this._missing-=e.byteLength;const r=this._stream.push(e);if(this._missing===0){this._stream.push(null);if(r)this._stream._detach();return r&&this._locked===false}return r}_createStream(){return new Source(this,this._header,this._offset)}_update(){while(this._buffer.buffered>0&&!this.destroying){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===false)return;continue}if(this._longHeader===true){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===false)return false;continue}const e=this._buffer.shiftFirst(this._missing);if(e!==null)this._missing-=e.byteLength;continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===false)return}this._continueWrite(null)}_continueWrite(e){const r=this._callback;this._callback=noop;r(e)}_write(e,r){this._callback=r;this._buffer.push(e);this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0;e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){if(this._stream)this._stream.destroy(o(this));e(null)}[Symbol.asyncIterator](){let e=null;let r=null;let n=null;let i=null;let s=null;const o=this;this.on("entry",onentry);this.on("error",(r=>{e=r}));this.on("close",onclose);return{[Symbol.asyncIterator](){return this},next(){return new Promise(onnext)},return(){return destroy(null)},throw(e){return destroy(e)}};function consumeCallback(e){if(!s)return;const r=s;s=null;r(e)}function onnext(s,u){if(e){return u(e)}if(i){s({value:i,done:false});i=null;return}r=s;n=u;consumeCallback(null);if(o._finished&&r){r({value:undefined,done:true});r=n=null}}function onentry(e,o,u){s=u;o.on("error",noop);if(r){r({value:o,done:false});r=n=null}else{i=o}}function onclose(){consumeCallback(e);if(!r)return;if(e)n(e);else r({value:undefined,done:true});r=n=null}function destroy(e){o.destroy(e);consumeCallback(e);return new Promise(((r,n)=>{if(o.destroyed)return r({value:undefined,done:true});o.once("close",(function(){if(e)n(e);else r({value:undefined,done:true})}))}))}}}e.exports=function extract(e){return new Extract(e)};function noop(){}function overflow(e){e&=511;return e&&512-e}},86263:(e,r,n)=>{const i=n(32312);const s="0000000000000000000";const o="7777777777777777777";const u="0".charCodeAt(0);const f=i.from([117,115,116,97,114,0]);const p=i.from([u,u]);const g=i.from([117,115,116,97,114,32]);const b=i.from([32,0]);const _=4095;const v=257;const w=263;r.decodeLongPath=function decodeLongPath(e,r){return decodeStr(e,0,e.length,r)};r.encodePax=function encodePax(e){let r="";if(e.name)r+=addLength(" path="+e.name+"\n");if(e.linkname)r+=addLength(" linkpath="+e.linkname+"\n");const n=e.pax;if(n){for(const e in n){r+=addLength(" "+e+"="+n[e]+"\n")}}return i.from(r)};r.decodePax=function decodePax(e){const r={};while(e.length){let n=0;while(n<e.length&&e[n]!==32)n++;const s=parseInt(i.toString(e.subarray(0,n)),10);if(!s)return r;const o=i.toString(e.subarray(n+1,s-1));const u=o.indexOf("=");if(u===-1)return r;r[o.slice(0,u)]=o.slice(u+1);e=e.subarray(s)}return r};r.encode=function encode(e){const r=i.alloc(512);let n=e.name;let s="";if(e.typeflag===5&&n[n.length-1]!=="/")n+="/";if(i.byteLength(n)!==n.length)return null;while(i.byteLength(n)>100){const e=n.indexOf("/");if(e===-1)return null;s+=s?"/"+n.slice(0,e):n.slice(0,e);n=n.slice(e+1)}if(i.byteLength(n)>100||i.byteLength(s)>155)return null;if(e.linkname&&i.byteLength(e.linkname)>100)return null;i.write(r,n);i.write(r,encodeOct(e.mode&_,6),100);i.write(r,encodeOct(e.uid,6),108);i.write(r,encodeOct(e.gid,6),116);encodeSize(e.size,r,124);i.write(r,encodeOct(e.mtime.getTime()/1e3|0,11),136);r[156]=u+toTypeflag(e.type);if(e.linkname)i.write(r,e.linkname,157);i.copy(f,r,v);i.copy(p,r,w);if(e.uname)i.write(r,e.uname,265);if(e.gname)i.write(r,e.gname,297);i.write(r,encodeOct(e.devmajor||0,6),329);i.write(r,encodeOct(e.devminor||0,6),337);if(s)i.write(r,s,345);i.write(r,encodeOct(cksum(r),6),148);return r};r.decode=function decode(e,r,n){let i=e[156]===0?0:e[156]-u;let s=decodeStr(e,0,100,r);const o=decodeOct(e,100,8);const f=decodeOct(e,108,8);const p=decodeOct(e,116,8);const g=decodeOct(e,124,12);const b=decodeOct(e,136,12);const _=toType(i);const v=e[157]===0?null:decodeStr(e,157,100,r);const w=decodeStr(e,265,32);const I=decodeStr(e,297,32);const k=decodeOct(e,329,8);const C=decodeOct(e,337,8);const R=cksum(e);if(R===8*32)return null;if(R!==decodeOct(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(isUSTAR(e)){if(e[345])s=decodeStr(e,345,155,r)+"/"+s}else if(isGNU(e)){}else{if(!n){throw new Error("Invalid tar header: unknown format.")}}if(i===0&&s&&s[s.length-1]==="/")i=5;return{name:s,mode:o,uid:f,gid:p,size:g,mtime:new Date(1e3*b),type:_,linkname:v,uname:w,gname:I,devmajor:k,devminor:C,pax:null}};function isUSTAR(e){return i.equals(f,e.subarray(v,v+6))}function isGNU(e){return i.equals(g,e.subarray(v,v+6))&&i.equals(b,e.subarray(w,w+2))}function clamp(e,r,n){if(typeof e!=="number")return n;e=~~e;if(e>=r)return r;if(e>=0)return e;e+=r;if(e>=0)return e;return 0}function toType(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function toTypeflag(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function indexOf(e,r,n,i){for(;n<i;n++){if(e[n]===r)return n}return i}function cksum(e){let r=8*32;for(let n=0;n<148;n++)r+=e[n];for(let n=156;n<512;n++)r+=e[n];return r}function encodeOct(e,r){e=e.toString(8);if(e.length>r)return o.slice(0,r)+" ";return s.slice(0,r-e.length)+e+" "}function encodeSizeBin(e,r,n){r[n]=128;for(let i=11;i>0;i--){r[n+i]=e&255;e=Math.floor(e/256)}}function encodeSize(e,r,n){if(e.toString(8).length>11){encodeSizeBin(e,r,n)}else{i.write(r,encodeOct(e,11),n)}}function parse256(e){let r;if(e[0]===128)r=true;else if(e[0]===255)r=false;else return null;const n=[];let i;for(i=e.length-1;i>0;i--){const s=e[i];if(r)n.push(s);else n.push(255-s)}let s=0;const o=n.length;for(i=0;i<o;i++){s+=n[i]*Math.pow(256,i)}return r?s:-1*s}function decodeOct(e,r,n){e=e.subarray(r,r+n);r=0;if(e[r]&128){return parse256(e)}else{while(r<e.length&&e[r]===32)r++;const n=clamp(indexOf(e,32,r,e.length),e.length,e.length);while(r<n&&e[r]===0)r++;if(n===r)return 0;return parseInt(i.toString(e.subarray(r,n)),8)}}function decodeStr(e,r,n,s){return i.toString(e.subarray(r,indexOf(e,0,r,r+n)),s)}function addLength(e){const r=i.byteLength(e);let n=Math.floor(Math.log(r)/Math.log(10))+1;if(r+n>=Math.pow(10,n))n++;return r+n+e}},82753:(e,r,n)=>{r.extract=n(55908);r.pack=n(14016)},14016:(e,r,n)=>{const{Readable:i,Writable:s,getStreamError:o}=n(9129);const u=n(32312);const f=n(14504);const p=n(86263);const g=493;const b=420;const _=u.alloc(1024);class Sink extends s{constructor(e,r,n){super({mapWritable:mapWritable,eagerOpen:true});this.written=0;this.header=r;this._callback=n;this._linkname=null;this._isLinkname=r.type==="symlink"&&!r.linkname;this._isVoid=r.type!=="file"&&r.type!=="contiguous-file";this._finished=false;this._pack=e;this._openCallback=null;if(this._pack._stream===null)this._pack._stream=this;else this._pack._pending.push(this)}_open(e){this._openCallback=e;if(this._pack._stream===this)this._continueOpen()}_continuePack(e){if(this._callback===null)return;const r=this._callback;this._callback=null;r(e)}_continueOpen(){if(this._pack._stream===null)this._pack._stream=this;const e=this._openCallback;this._openCallback=null;if(e===null)return;if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this;if(!this._isLinkname){this._pack._encode(this.header)}if(this._isVoid){this._finish();this._continuePack(null)}e(null)}_write(e,r){if(this._isLinkname){this._linkname=this._linkname?u.concat([this._linkname,e]):e;return r(null)}if(this._isVoid){if(e.byteLength>0){return r(new Error("No body allowed for this entry"))}return r()}this.written+=e.byteLength;if(this._pack.push(e))return r();this._pack._drain=r}_finish(){if(this._finished)return;this._finished=true;if(this._isLinkname){this.header.linkname=this._linkname?u.toString(this._linkname,"utf-8"):"";this._pack._encode(this.header)}overflow(this._pack,this.header.size);this._pack._done(this)}_final(e){if(this.written!==this.header.size){return e(new Error("Size mismatch"))}this._finish();e(null)}_getError(){return o(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this);this._continuePack(this._finished?null:this._getError());e()}}class Pack extends i{constructor(e){super(e);this._drain=noop;this._finalized=false;this._finalizing=false;this._pending=[];this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");if(typeof r==="function"){n=r;r=null}if(!n)n=noop;if(!e.size||e.type==="symlink")e.size=0;if(!e.type)e.type=modeToType(e.mode);if(!e.mode)e.mode=e.type==="directory"?g:b;if(!e.uid)e.uid=0;if(!e.gid)e.gid=0;if(!e.mtime)e.mtime=new Date;if(typeof r==="string")r=u.from(r);const i=new Sink(this,e,n);if(u.isBuffer(r)){e.size=r.byteLength;i.write(r);i.end();return i}if(i._isVoid){return i}return i}finalize(){if(this._stream||this._pending.length>0){this._finalizing=true;return}if(this._finalized)return;this._finalized=true;this.push(_);this.push(null)}_done(e){if(e!==this._stream)return;this._stream=null;if(this._finalizing)this.finalize();if(this._pending.length)this._pending.shift()._continueOpen()}_encode(e){if(!e.pax){const r=p.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){const r=p.encodePax({name:e.name,linkname:e.linkname,pax:e.pax});const n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(p.encode(n));this.push(r);overflow(this,r.byteLength);n.size=e.size;n.type=e.type;this.push(p.encode(n))}_doDrain(){const e=this._drain;this._drain=noop;e()}_predestroy(){const e=o(this);if(this._stream)this._stream.destroy(e);while(this._pending.length){const r=this._pending.shift();r.destroy(e);r._continueOpen()}this._doDrain()}_read(e){this._doDrain();e()}}e.exports=function pack(e){return new Pack(e)};function modeToType(e){switch(e&f.S_IFMT){case f.S_IFBLK:return"block-device";case f.S_IFCHR:return"character-device";case f.S_IFDIR:return"directory";case f.S_IFIFO:return"fifo";case f.S_IFLNK:return"symlink"}return"file"}function noop(){}function overflow(e,r){r&=511;if(r)e.push(_.subarray(0,512-r))}function mapWritable(e){return u.isBuffer(e)?e:u.from(e)}},12302:(e,r,n)=>{const i=n(58520);const s=n(92590);e.exports=class TextDecoder{constructor(e="utf8"){this.encoding=normalizeEncoding(e);switch(this.encoding){case"utf8":this.decoder=new s;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new i(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){if(typeof e==="string")return e;return this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";if(e)r=this.push(e);r+=this.decoder.flush();return r}};function normalizeEncoding(e){e=e.toLowerCase();switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:throw new Error("Unknown encoding: "+e)}}},58520:(e,r,n)=>{const i=n(32312);e.exports=class PassThroughDecoder{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return i.toString(e,this.encoding)}flush(){return""}}},92590:(e,r,n)=>{const i=n(32312);e.exports=class UTF8Decoder{constructor(){this.codePoint=0;this.bytesSeen=0;this.bytesNeeded=0;this.lowerBoundary=128;this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let r=true;for(let n=Math.max(0,e.byteLength-4),i=e.byteLength;n<i&&r;n++){r=e[n]<=127}if(r)return i.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){const i=e[n];if(this.bytesNeeded===0){if(i<=127){r+=String.fromCharCode(i)}else{this.bytesSeen=1;if(i>=194&&i<=223){this.bytesNeeded=2;this.codePoint=i&31}else if(i>=224&&i<=239){if(i===224)this.lowerBoundary=160;else if(i===237)this.upperBoundary=159;this.bytesNeeded=3;this.codePoint=i&15}else if(i>=240&&i<=244){if(i===240)this.lowerBoundary=144;if(i===244)this.upperBoundary=143;this.bytesNeeded=4;this.codePoint=i&7}else{r+="�"}}continue}if(i<this.lowerBoundary||i>this.upperBoundary){this.codePoint=0;this.bytesNeeded=0;this.bytesSeen=0;this.lowerBoundary=128;this.upperBoundary=191;r+="�";continue}this.lowerBoundary=128;this.upperBoundary=191;this.codePoint=this.codePoint<<6|i&63;this.bytesSeen++;if(this.bytesSeen!==this.bytesNeeded)continue;r+=String.fromCodePoint(this.codePoint);this.codePoint=0;this.bytesNeeded=0;this.bytesSeen=0}return r}flush(){const e=this.bytesNeeded>0?"�":"";this.codePoint=0;this.bytesNeeded=0;this.bytesSeen=0;this.lowerBoundary=128;this.upperBoundary=191;return e}}},27567:(e,r,n)=>{(function(e){"use strict";var gf=function(e){var r,n=new Float64Array(16);if(e)for(r=0;r<e.length;r++)n[r]=e[r];return n};var randombytes=function(){throw new Error("no PRNG")};var r=new Uint8Array(16);var i=new Uint8Array(32);i[0]=9;var s=gf(),o=gf([1]),u=gf([56129,1]),f=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(e,r,n,i){e[r]=n>>24&255;e[r+1]=n>>16&255;e[r+2]=n>>8&255;e[r+3]=n&255;e[r+4]=i>>24&255;e[r+5]=i>>16&255;e[r+6]=i>>8&255;e[r+7]=i&255}function vn(e,r,n,i,s){var o,u=0;for(o=0;o<s;o++)u|=e[r+o]^n[i+o];return(1&u-1>>>8)-1}function crypto_verify_16(e,r,n,i){return vn(e,r,n,i,16)}function crypto_verify_32(e,r,n,i){return vn(e,r,n,i,32)}function core_salsa20(e,r,n,i){var s=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,o=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,u=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,f=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,p=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,g=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,b=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,_=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,v=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,w=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,I=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,k=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,C=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,R=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,T=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,x=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24;var P=s,B=o,L=u,U=f,j=p,W=g,Q=b,z=_,G=v,q=w,Y=I,V=k,J=C,ee=R,te=T,re=x,ne;for(var ie=0;ie<20;ie+=2){ne=P+J|0;j^=ne<<7|ne>>>32-7;ne=j+P|0;G^=ne<<9|ne>>>32-9;ne=G+j|0;J^=ne<<13|ne>>>32-13;ne=J+G|0;P^=ne<<18|ne>>>32-18;ne=W+B|0;q^=ne<<7|ne>>>32-7;ne=q+W|0;ee^=ne<<9|ne>>>32-9;ne=ee+q|0;B^=ne<<13|ne>>>32-13;ne=B+ee|0;W^=ne<<18|ne>>>32-18;ne=Y+Q|0;te^=ne<<7|ne>>>32-7;ne=te+Y|0;L^=ne<<9|ne>>>32-9;ne=L+te|0;Q^=ne<<13|ne>>>32-13;ne=Q+L|0;Y^=ne<<18|ne>>>32-18;ne=re+V|0;U^=ne<<7|ne>>>32-7;ne=U+re|0;z^=ne<<9|ne>>>32-9;ne=z+U|0;V^=ne<<13|ne>>>32-13;ne=V+z|0;re^=ne<<18|ne>>>32-18;ne=P+U|0;B^=ne<<7|ne>>>32-7;ne=B+P|0;L^=ne<<9|ne>>>32-9;ne=L+B|0;U^=ne<<13|ne>>>32-13;ne=U+L|0;P^=ne<<18|ne>>>32-18;ne=W+j|0;Q^=ne<<7|ne>>>32-7;ne=Q+W|0;z^=ne<<9|ne>>>32-9;ne=z+Q|0;j^=ne<<13|ne>>>32-13;ne=j+z|0;W^=ne<<18|ne>>>32-18;ne=Y+q|0;V^=ne<<7|ne>>>32-7;ne=V+Y|0;G^=ne<<9|ne>>>32-9;ne=G+V|0;q^=ne<<13|ne>>>32-13;ne=q+G|0;Y^=ne<<18|ne>>>32-18;ne=re+te|0;J^=ne<<7|ne>>>32-7;ne=J+re|0;ee^=ne<<9|ne>>>32-9;ne=ee+J|0;te^=ne<<13|ne>>>32-13;ne=te+ee|0;re^=ne<<18|ne>>>32-18}P=P+s|0;B=B+o|0;L=L+u|0;U=U+f|0;j=j+p|0;W=W+g|0;Q=Q+b|0;z=z+_|0;G=G+v|0;q=q+w|0;Y=Y+I|0;V=V+k|0;J=J+C|0;ee=ee+R|0;te=te+T|0;re=re+x|0;e[0]=P>>>0&255;e[1]=P>>>8&255;e[2]=P>>>16&255;e[3]=P>>>24&255;e[4]=B>>>0&255;e[5]=B>>>8&255;e[6]=B>>>16&255;e[7]=B>>>24&255;e[8]=L>>>0&255;e[9]=L>>>8&255;e[10]=L>>>16&255;e[11]=L>>>24&255;e[12]=U>>>0&255;e[13]=U>>>8&255;e[14]=U>>>16&255;e[15]=U>>>24&255;e[16]=j>>>0&255;e[17]=j>>>8&255;e[18]=j>>>16&255;e[19]=j>>>24&255;e[20]=W>>>0&255;e[21]=W>>>8&255;e[22]=W>>>16&255;e[23]=W>>>24&255;e[24]=Q>>>0&255;e[25]=Q>>>8&255;e[26]=Q>>>16&255;e[27]=Q>>>24&255;e[28]=z>>>0&255;e[29]=z>>>8&255;e[30]=z>>>16&255;e[31]=z>>>24&255;e[32]=G>>>0&255;e[33]=G>>>8&255;e[34]=G>>>16&255;e[35]=G>>>24&255;e[36]=q>>>0&255;e[37]=q>>>8&255;e[38]=q>>>16&255;e[39]=q>>>24&255;e[40]=Y>>>0&255;e[41]=Y>>>8&255;e[42]=Y>>>16&255;e[43]=Y>>>24&255;e[44]=V>>>0&255;e[45]=V>>>8&255;e[46]=V>>>16&255;e[47]=V>>>24&255;e[48]=J>>>0&255;e[49]=J>>>8&255;e[50]=J>>>16&255;e[51]=J>>>24&255;e[52]=ee>>>0&255;e[53]=ee>>>8&255;e[54]=ee>>>16&255;e[55]=ee>>>24&255;e[56]=te>>>0&255;e[57]=te>>>8&255;e[58]=te>>>16&255;e[59]=te>>>24&255;e[60]=re>>>0&255;e[61]=re>>>8&255;e[62]=re>>>16&255;e[63]=re>>>24&255}function core_hsalsa20(e,r,n,i){var s=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,o=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,u=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,f=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,p=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,g=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,b=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,_=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,v=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,w=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,I=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,k=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,C=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,R=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,T=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,x=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24;var P=s,B=o,L=u,U=f,j=p,W=g,Q=b,z=_,G=v,q=w,Y=I,V=k,J=C,ee=R,te=T,re=x,ne;for(var ie=0;ie<20;ie+=2){ne=P+J|0;j^=ne<<7|ne>>>32-7;ne=j+P|0;G^=ne<<9|ne>>>32-9;ne=G+j|0;J^=ne<<13|ne>>>32-13;ne=J+G|0;P^=ne<<18|ne>>>32-18;ne=W+B|0;q^=ne<<7|ne>>>32-7;ne=q+W|0;ee^=ne<<9|ne>>>32-9;ne=ee+q|0;B^=ne<<13|ne>>>32-13;ne=B+ee|0;W^=ne<<18|ne>>>32-18;ne=Y+Q|0;te^=ne<<7|ne>>>32-7;ne=te+Y|0;L^=ne<<9|ne>>>32-9;ne=L+te|0;Q^=ne<<13|ne>>>32-13;ne=Q+L|0;Y^=ne<<18|ne>>>32-18;ne=re+V|0;U^=ne<<7|ne>>>32-7;ne=U+re|0;z^=ne<<9|ne>>>32-9;ne=z+U|0;V^=ne<<13|ne>>>32-13;ne=V+z|0;re^=ne<<18|ne>>>32-18;ne=P+U|0;B^=ne<<7|ne>>>32-7;ne=B+P|0;L^=ne<<9|ne>>>32-9;ne=L+B|0;U^=ne<<13|ne>>>32-13;ne=U+L|0;P^=ne<<18|ne>>>32-18;ne=W+j|0;Q^=ne<<7|ne>>>32-7;ne=Q+W|0;z^=ne<<9|ne>>>32-9;ne=z+Q|0;j^=ne<<13|ne>>>32-13;ne=j+z|0;W^=ne<<18|ne>>>32-18;ne=Y+q|0;V^=ne<<7|ne>>>32-7;ne=V+Y|0;G^=ne<<9|ne>>>32-9;ne=G+V|0;q^=ne<<13|ne>>>32-13;ne=q+G|0;Y^=ne<<18|ne>>>32-18;ne=re+te|0;J^=ne<<7|ne>>>32-7;ne=J+re|0;ee^=ne<<9|ne>>>32-9;ne=ee+J|0;te^=ne<<13|ne>>>32-13;ne=te+ee|0;re^=ne<<18|ne>>>32-18}e[0]=P>>>0&255;e[1]=P>>>8&255;e[2]=P>>>16&255;e[3]=P>>>24&255;e[4]=W>>>0&255;e[5]=W>>>8&255;e[6]=W>>>16&255;e[7]=W>>>24&255;e[8]=Y>>>0&255;e[9]=Y>>>8&255;e[10]=Y>>>16&255;e[11]=Y>>>24&255;e[12]=re>>>0&255;e[13]=re>>>8&255;e[14]=re>>>16&255;e[15]=re>>>24&255;e[16]=Q>>>0&255;e[17]=Q>>>8&255;e[18]=Q>>>16&255;e[19]=Q>>>24&255;e[20]=z>>>0&255;e[21]=z>>>8&255;e[22]=z>>>16&255;e[23]=z>>>24&255;e[24]=G>>>0&255;e[25]=G>>>8&255;e[26]=G>>>16&255;e[27]=G>>>24&255;e[28]=q>>>0&255;e[29]=q>>>8&255;e[30]=q>>>16&255;e[31]=q>>>24&255}function crypto_core_salsa20(e,r,n,i){core_salsa20(e,r,n,i)}function crypto_core_hsalsa20(e,r,n,i){core_hsalsa20(e,r,n,i)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function crypto_stream_salsa20_xor(e,r,n,i,s,o,u){var f=new Uint8Array(16),p=new Uint8Array(64);var g,b;for(b=0;b<16;b++)f[b]=0;for(b=0;b<8;b++)f[b]=o[b];while(s>=64){crypto_core_salsa20(p,f,u,v);for(b=0;b<64;b++)e[r+b]=n[i+b]^p[b];g=1;for(b=8;b<16;b++){g=g+(f[b]&255)|0;f[b]=g&255;g>>>=8}s-=64;r+=64;i+=64}if(s>0){crypto_core_salsa20(p,f,u,v);for(b=0;b<s;b++)e[r+b]=n[i+b]^p[b]}return 0}function crypto_stream_salsa20(e,r,n,i,s){var o=new Uint8Array(16),u=new Uint8Array(64);var f,p;for(p=0;p<16;p++)o[p]=0;for(p=0;p<8;p++)o[p]=i[p];while(n>=64){crypto_core_salsa20(u,o,s,v);for(p=0;p<64;p++)e[r+p]=u[p];f=1;for(p=8;p<16;p++){f=f+(o[p]&255)|0;o[p]=f&255;f>>>=8}n-=64;r+=64}if(n>0){crypto_core_salsa20(u,o,s,v);for(p=0;p<n;p++)e[r+p]=u[p]}return 0}function crypto_stream(e,r,n,i,s){var o=new Uint8Array(32);crypto_core_hsalsa20(o,i,s,v);var u=new Uint8Array(8);for(var f=0;f<8;f++)u[f]=i[f+16];return crypto_stream_salsa20(e,r,n,u,o)}function crypto_stream_xor(e,r,n,i,s,o,u){var f=new Uint8Array(32);crypto_core_hsalsa20(f,o,u,v);var p=new Uint8Array(8);for(var g=0;g<8;g++)p[g]=o[g+16];return crypto_stream_salsa20_xor(e,r,n,i,s,p,f)}var poly1305=function(e){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var r,n,i,s,o,u,f,p;r=e[0]&255|(e[1]&255)<<8;this.r[0]=r&8191;n=e[2]&255|(e[3]&255)<<8;this.r[1]=(r>>>13|n<<3)&8191;i=e[4]&255|(e[5]&255)<<8;this.r[2]=(n>>>10|i<<6)&7939;s=e[6]&255|(e[7]&255)<<8;this.r[3]=(i>>>7|s<<9)&8191;o=e[8]&255|(e[9]&255)<<8;this.r[4]=(s>>>4|o<<12)&255;this.r[5]=o>>>1&8190;u=e[10]&255|(e[11]&255)<<8;this.r[6]=(o>>>14|u<<2)&8191;f=e[12]&255|(e[13]&255)<<8;this.r[7]=(u>>>11|f<<5)&8065;p=e[14]&255|(e[15]&255)<<8;this.r[8]=(f>>>8|p<<8)&8191;this.r[9]=p>>>5&127;this.pad[0]=e[16]&255|(e[17]&255)<<8;this.pad[1]=e[18]&255|(e[19]&255)<<8;this.pad[2]=e[20]&255|(e[21]&255)<<8;this.pad[3]=e[22]&255|(e[23]&255)<<8;this.pad[4]=e[24]&255|(e[25]&255)<<8;this.pad[5]=e[26]&255|(e[27]&255)<<8;this.pad[6]=e[28]&255|(e[29]&255)<<8;this.pad[7]=e[30]&255|(e[31]&255)<<8};poly1305.prototype.blocks=function(e,r,n){var i=this.fin?0:1<<11;var s,o,u,f,p,g,b,_,v;var w,I,k,C,R,T,x,P,B,L;var U=this.h[0],j=this.h[1],W=this.h[2],Q=this.h[3],z=this.h[4],G=this.h[5],q=this.h[6],Y=this.h[7],V=this.h[8],J=this.h[9];var ee=this.r[0],te=this.r[1],re=this.r[2],ne=this.r[3],ie=this.r[4],se=this.r[5],oe=this.r[6],ae=this.r[7],le=this.r[8],ce=this.r[9];while(n>=16){s=e[r+0]&255|(e[r+1]&255)<<8;U+=s&8191;o=e[r+2]&255|(e[r+3]&255)<<8;j+=(s>>>13|o<<3)&8191;u=e[r+4]&255|(e[r+5]&255)<<8;W+=(o>>>10|u<<6)&8191;f=e[r+6]&255|(e[r+7]&255)<<8;Q+=(u>>>7|f<<9)&8191;p=e[r+8]&255|(e[r+9]&255)<<8;z+=(f>>>4|p<<12)&8191;G+=p>>>1&8191;g=e[r+10]&255|(e[r+11]&255)<<8;q+=(p>>>14|g<<2)&8191;b=e[r+12]&255|(e[r+13]&255)<<8;Y+=(g>>>11|b<<5)&8191;_=e[r+14]&255|(e[r+15]&255)<<8;V+=(b>>>8|_<<8)&8191;J+=_>>>5|i;v=0;w=v;w+=U*ee;w+=j*(5*ce);w+=W*(5*le);w+=Q*(5*ae);w+=z*(5*oe);v=w>>>13;w&=8191;w+=G*(5*se);w+=q*(5*ie);w+=Y*(5*ne);w+=V*(5*re);w+=J*(5*te);v+=w>>>13;w&=8191;I=v;I+=U*te;I+=j*ee;I+=W*(5*ce);I+=Q*(5*le);I+=z*(5*ae);v=I>>>13;I&=8191;I+=G*(5*oe);I+=q*(5*se);I+=Y*(5*ie);I+=V*(5*ne);I+=J*(5*re);v+=I>>>13;I&=8191;k=v;k+=U*re;k+=j*te;k+=W*ee;k+=Q*(5*ce);k+=z*(5*le);v=k>>>13;k&=8191;k+=G*(5*ae);k+=q*(5*oe);k+=Y*(5*se);k+=V*(5*ie);k+=J*(5*ne);v+=k>>>13;k&=8191;C=v;C+=U*ne;C+=j*re;C+=W*te;C+=Q*ee;C+=z*(5*ce);v=C>>>13;C&=8191;C+=G*(5*le);C+=q*(5*ae);C+=Y*(5*oe);C+=V*(5*se);C+=J*(5*ie);v+=C>>>13;C&=8191;R=v;R+=U*ie;R+=j*ne;R+=W*re;R+=Q*te;R+=z*ee;v=R>>>13;R&=8191;R+=G*(5*ce);R+=q*(5*le);R+=Y*(5*ae);R+=V*(5*oe);R+=J*(5*se);v+=R>>>13;R&=8191;T=v;T+=U*se;T+=j*ie;T+=W*ne;T+=Q*re;T+=z*te;v=T>>>13;T&=8191;T+=G*ee;T+=q*(5*ce);T+=Y*(5*le);T+=V*(5*ae);T+=J*(5*oe);v+=T>>>13;T&=8191;x=v;x+=U*oe;x+=j*se;x+=W*ie;x+=Q*ne;x+=z*re;v=x>>>13;x&=8191;x+=G*te;x+=q*ee;x+=Y*(5*ce);x+=V*(5*le);x+=J*(5*ae);v+=x>>>13;x&=8191;P=v;P+=U*ae;P+=j*oe;P+=W*se;P+=Q*ie;P+=z*ne;v=P>>>13;P&=8191;P+=G*re;P+=q*te;P+=Y*ee;P+=V*(5*ce);P+=J*(5*le);v+=P>>>13;P&=8191;B=v;B+=U*le;B+=j*ae;B+=W*oe;B+=Q*se;B+=z*ie;v=B>>>13;B&=8191;B+=G*ne;B+=q*re;B+=Y*te;B+=V*ee;B+=J*(5*ce);v+=B>>>13;B&=8191;L=v;L+=U*ce;L+=j*le;L+=W*ae;L+=Q*oe;L+=z*se;v=L>>>13;L&=8191;L+=G*ie;L+=q*ne;L+=Y*re;L+=V*te;L+=J*ee;v+=L>>>13;L&=8191;v=(v<<2)+v|0;v=v+w|0;w=v&8191;v=v>>>13;I+=v;U=w;j=I;W=k;Q=C;z=R;G=T;q=x;Y=P;V=B;J=L;r+=16;n-=16}this.h[0]=U;this.h[1]=j;this.h[2]=W;this.h[3]=Q;this.h[4]=z;this.h[5]=G;this.h[6]=q;this.h[7]=Y;this.h[8]=V;this.h[9]=J};poly1305.prototype.finish=function(e,r){var n=new Uint16Array(10);var i,s,o,u;if(this.leftover){u=this.leftover;this.buffer[u++]=1;for(;u<16;u++)this.buffer[u]=0;this.fin=1;this.blocks(this.buffer,0,16)}i=this.h[1]>>>13;this.h[1]&=8191;for(u=2;u<10;u++){this.h[u]+=i;i=this.h[u]>>>13;this.h[u]&=8191}this.h[0]+=i*5;i=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=i;i=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=i;n[0]=this.h[0]+5;i=n[0]>>>13;n[0]&=8191;for(u=1;u<10;u++){n[u]=this.h[u]+i;i=n[u]>>>13;n[u]&=8191}n[9]-=1<<13;s=(i^1)-1;for(u=0;u<10;u++)n[u]&=s;s=~s;for(u=0;u<10;u++)this.h[u]=this.h[u]&s|n[u];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;o=this.h[0]+this.pad[0];this.h[0]=o&65535;for(u=1;u<8;u++){o=(this.h[u]+this.pad[u]|0)+(o>>>16)|0;this.h[u]=o&65535}e[r+0]=this.h[0]>>>0&255;e[r+1]=this.h[0]>>>8&255;e[r+2]=this.h[1]>>>0&255;e[r+3]=this.h[1]>>>8&255;e[r+4]=this.h[2]>>>0&255;e[r+5]=this.h[2]>>>8&255;e[r+6]=this.h[3]>>>0&255;e[r+7]=this.h[3]>>>8&255;e[r+8]=this.h[4]>>>0&255;e[r+9]=this.h[4]>>>8&255;e[r+10]=this.h[5]>>>0&255;e[r+11]=this.h[5]>>>8&255;e[r+12]=this.h[6]>>>0&255;e[r+13]=this.h[6]>>>8&255;e[r+14]=this.h[7]>>>0&255;e[r+15]=this.h[7]>>>8&255};poly1305.prototype.update=function(e,r,n){var i,s;if(this.leftover){s=16-this.leftover;if(s>n)s=n;for(i=0;i<s;i++)this.buffer[this.leftover+i]=e[r+i];n-=s;r+=s;this.leftover+=s;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}if(n>=16){s=n-n%16;this.blocks(e,r,s);r+=s;n-=s}if(n){for(i=0;i<n;i++)this.buffer[this.leftover+i]=e[r+i];this.leftover+=n}};function crypto_onetimeauth(e,r,n,i,s,o){var u=new poly1305(o);u.update(n,i,s);u.finish(e,r);return 0}function crypto_onetimeauth_verify(e,r,n,i,s,o){var u=new Uint8Array(16);crypto_onetimeauth(u,0,n,i,s,o);return crypto_verify_16(e,r,u,0)}function crypto_secretbox(e,r,n,i,s){var o;if(n<32)return-1;crypto_stream_xor(e,0,r,0,n,i,s);crypto_onetimeauth(e,16,e,32,n-32,e);for(o=0;o<16;o++)e[o]=0;return 0}function crypto_secretbox_open(e,r,n,i,s){var o;var u=new Uint8Array(32);if(n<32)return-1;crypto_stream(u,0,32,i,s);if(crypto_onetimeauth_verify(r,16,r,32,n-32,u)!==0)return-1;crypto_stream_xor(e,0,r,0,n,i,s);for(o=0;o<32;o++)e[o]=0;return 0}function set25519(e,r){var n;for(n=0;n<16;n++)e[n]=r[n]|0}function car25519(e){var r,n,i=1;for(r=0;r<16;r++){n=e[r]+i+65535;i=Math.floor(n/65536);e[r]=n-i*65536}e[0]+=i-1+37*(i-1)}function sel25519(e,r,n){var i,s=~(n-1);for(var o=0;o<16;o++){i=s&(e[o]^r[o]);e[o]^=i;r[o]^=i}}function pack25519(e,r){var n,i,s;var o=gf(),u=gf();for(n=0;n<16;n++)u[n]=r[n];car25519(u);car25519(u);car25519(u);for(i=0;i<2;i++){o[0]=u[0]-65517;for(n=1;n<15;n++){o[n]=u[n]-65535-(o[n-1]>>16&1);o[n-1]&=65535}o[15]=u[15]-32767-(o[14]>>16&1);s=o[15]>>16&1;o[14]&=65535;sel25519(u,o,1-s)}for(n=0;n<16;n++){e[2*n]=u[n]&255;e[2*n+1]=u[n]>>8}}function neq25519(e,r){var n=new Uint8Array(32),i=new Uint8Array(32);pack25519(n,e);pack25519(i,r);return crypto_verify_32(n,0,i,0)}function par25519(e){var r=new Uint8Array(32);pack25519(r,e);return r[0]&1}function unpack25519(e,r){var n;for(n=0;n<16;n++)e[n]=r[2*n]+(r[2*n+1]<<8);e[15]&=32767}function A(e,r,n){for(var i=0;i<16;i++)e[i]=r[i]+n[i]}function Z(e,r,n){for(var i=0;i<16;i++)e[i]=r[i]-n[i]}function M(e,r,n){var i,s,o=0,u=0,f=0,p=0,g=0,b=0,_=0,v=0,w=0,I=0,k=0,C=0,R=0,T=0,x=0,P=0,B=0,L=0,U=0,j=0,W=0,Q=0,z=0,G=0,q=0,Y=0,V=0,J=0,ee=0,te=0,re=0,ne=n[0],ie=n[1],se=n[2],oe=n[3],ae=n[4],le=n[5],ce=n[6],ue=n[7],fe=n[8],he=n[9],de=n[10],pe=n[11],ge=n[12],be=n[13],ye=n[14],me=n[15];i=r[0];o+=i*ne;u+=i*ie;f+=i*se;p+=i*oe;g+=i*ae;b+=i*le;_+=i*ce;v+=i*ue;w+=i*fe;I+=i*he;k+=i*de;C+=i*pe;R+=i*ge;T+=i*be;x+=i*ye;P+=i*me;i=r[1];u+=i*ne;f+=i*ie;p+=i*se;g+=i*oe;b+=i*ae;_+=i*le;v+=i*ce;w+=i*ue;I+=i*fe;k+=i*he;C+=i*de;R+=i*pe;T+=i*ge;x+=i*be;P+=i*ye;B+=i*me;i=r[2];f+=i*ne;p+=i*ie;g+=i*se;b+=i*oe;_+=i*ae;v+=i*le;w+=i*ce;I+=i*ue;k+=i*fe;C+=i*he;R+=i*de;T+=i*pe;x+=i*ge;P+=i*be;B+=i*ye;L+=i*me;i=r[3];p+=i*ne;g+=i*ie;b+=i*se;_+=i*oe;v+=i*ae;w+=i*le;I+=i*ce;k+=i*ue;C+=i*fe;R+=i*he;T+=i*de;x+=i*pe;P+=i*ge;B+=i*be;L+=i*ye;U+=i*me;i=r[4];g+=i*ne;b+=i*ie;_+=i*se;v+=i*oe;w+=i*ae;I+=i*le;k+=i*ce;C+=i*ue;R+=i*fe;T+=i*he;x+=i*de;P+=i*pe;B+=i*ge;L+=i*be;U+=i*ye;j+=i*me;i=r[5];b+=i*ne;_+=i*ie;v+=i*se;w+=i*oe;I+=i*ae;k+=i*le;C+=i*ce;R+=i*ue;T+=i*fe;x+=i*he;P+=i*de;B+=i*pe;L+=i*ge;U+=i*be;j+=i*ye;W+=i*me;i=r[6];_+=i*ne;v+=i*ie;w+=i*se;I+=i*oe;k+=i*ae;C+=i*le;R+=i*ce;T+=i*ue;x+=i*fe;P+=i*he;B+=i*de;L+=i*pe;U+=i*ge;j+=i*be;W+=i*ye;Q+=i*me;i=r[7];v+=i*ne;w+=i*ie;I+=i*se;k+=i*oe;C+=i*ae;R+=i*le;T+=i*ce;x+=i*ue;P+=i*fe;B+=i*he;L+=i*de;U+=i*pe;j+=i*ge;W+=i*be;Q+=i*ye;z+=i*me;i=r[8];w+=i*ne;I+=i*ie;k+=i*se;C+=i*oe;R+=i*ae;T+=i*le;x+=i*ce;P+=i*ue;B+=i*fe;L+=i*he;U+=i*de;j+=i*pe;W+=i*ge;Q+=i*be;z+=i*ye;G+=i*me;i=r[9];I+=i*ne;k+=i*ie;C+=i*se;R+=i*oe;T+=i*ae;x+=i*le;P+=i*ce;B+=i*ue;L+=i*fe;U+=i*he;j+=i*de;W+=i*pe;Q+=i*ge;z+=i*be;G+=i*ye;q+=i*me;i=r[10];k+=i*ne;C+=i*ie;R+=i*se;T+=i*oe;x+=i*ae;P+=i*le;B+=i*ce;L+=i*ue;U+=i*fe;j+=i*he;W+=i*de;Q+=i*pe;z+=i*ge;G+=i*be;q+=i*ye;Y+=i*me;i=r[11];C+=i*ne;R+=i*ie;T+=i*se;x+=i*oe;P+=i*ae;B+=i*le;L+=i*ce;U+=i*ue;j+=i*fe;W+=i*he;Q+=i*de;z+=i*pe;G+=i*ge;q+=i*be;Y+=i*ye;V+=i*me;i=r[12];R+=i*ne;T+=i*ie;x+=i*se;P+=i*oe;B+=i*ae;L+=i*le;U+=i*ce;j+=i*ue;W+=i*fe;Q+=i*he;z+=i*de;G+=i*pe;q+=i*ge;Y+=i*be;V+=i*ye;J+=i*me;i=r[13];T+=i*ne;x+=i*ie;P+=i*se;B+=i*oe;L+=i*ae;U+=i*le;j+=i*ce;W+=i*ue;Q+=i*fe;z+=i*he;G+=i*de;q+=i*pe;Y+=i*ge;V+=i*be;J+=i*ye;ee+=i*me;i=r[14];x+=i*ne;P+=i*ie;B+=i*se;L+=i*oe;U+=i*ae;j+=i*le;W+=i*ce;Q+=i*ue;z+=i*fe;G+=i*he;q+=i*de;Y+=i*pe;V+=i*ge;J+=i*be;ee+=i*ye;te+=i*me;i=r[15];P+=i*ne;B+=i*ie;L+=i*se;U+=i*oe;j+=i*ae;W+=i*le;Q+=i*ce;z+=i*ue;G+=i*fe;q+=i*he;Y+=i*de;V+=i*pe;J+=i*ge;ee+=i*be;te+=i*ye;re+=i*me;o+=38*B;u+=38*L;f+=38*U;p+=38*j;g+=38*W;b+=38*Q;_+=38*z;v+=38*G;w+=38*q;I+=38*Y;k+=38*V;C+=38*J;R+=38*ee;T+=38*te;x+=38*re;s=1;i=o+s+65535;s=Math.floor(i/65536);o=i-s*65536;i=u+s+65535;s=Math.floor(i/65536);u=i-s*65536;i=f+s+65535;s=Math.floor(i/65536);f=i-s*65536;i=p+s+65535;s=Math.floor(i/65536);p=i-s*65536;i=g+s+65535;s=Math.floor(i/65536);g=i-s*65536;i=b+s+65535;s=Math.floor(i/65536);b=i-s*65536;i=_+s+65535;s=Math.floor(i/65536);_=i-s*65536;i=v+s+65535;s=Math.floor(i/65536);v=i-s*65536;i=w+s+65535;s=Math.floor(i/65536);w=i-s*65536;i=I+s+65535;s=Math.floor(i/65536);I=i-s*65536;i=k+s+65535;s=Math.floor(i/65536);k=i-s*65536;i=C+s+65535;s=Math.floor(i/65536);C=i-s*65536;i=R+s+65535;s=Math.floor(i/65536);R=i-s*65536;i=T+s+65535;s=Math.floor(i/65536);T=i-s*65536;i=x+s+65535;s=Math.floor(i/65536);x=i-s*65536;i=P+s+65535;s=Math.floor(i/65536);P=i-s*65536;o+=s-1+37*(s-1);s=1;i=o+s+65535;s=Math.floor(i/65536);o=i-s*65536;i=u+s+65535;s=Math.floor(i/65536);u=i-s*65536;i=f+s+65535;s=Math.floor(i/65536);f=i-s*65536;i=p+s+65535;s=Math.floor(i/65536);p=i-s*65536;i=g+s+65535;s=Math.floor(i/65536);g=i-s*65536;i=b+s+65535;s=Math.floor(i/65536);b=i-s*65536;i=_+s+65535;s=Math.floor(i/65536);_=i-s*65536;i=v+s+65535;s=Math.floor(i/65536);v=i-s*65536;i=w+s+65535;s=Math.floor(i/65536);w=i-s*65536;i=I+s+65535;s=Math.floor(i/65536);I=i-s*65536;i=k+s+65535;s=Math.floor(i/65536);k=i-s*65536;i=C+s+65535;s=Math.floor(i/65536);C=i-s*65536;i=R+s+65535;s=Math.floor(i/65536);R=i-s*65536;i=T+s+65535;s=Math.floor(i/65536);T=i-s*65536;i=x+s+65535;s=Math.floor(i/65536);x=i-s*65536;i=P+s+65535;s=Math.floor(i/65536);P=i-s*65536;o+=s-1+37*(s-1);e[0]=o;e[1]=u;e[2]=f;e[3]=p;e[4]=g;e[5]=b;e[6]=_;e[7]=v;e[8]=w;e[9]=I;e[10]=k;e[11]=C;e[12]=R;e[13]=T;e[14]=x;e[15]=P}function S(e,r){M(e,r,r)}function inv25519(e,r){var n=gf();var i;for(i=0;i<16;i++)n[i]=r[i];for(i=253;i>=0;i--){S(n,n);if(i!==2&&i!==4)M(n,n,r)}for(i=0;i<16;i++)e[i]=n[i]}function pow2523(e,r){var n=gf();var i;for(i=0;i<16;i++)n[i]=r[i];for(i=250;i>=0;i--){S(n,n);if(i!==1)M(n,n,r)}for(i=0;i<16;i++)e[i]=n[i]}function crypto_scalarmult(e,r,n){var i=new Uint8Array(32);var s=new Float64Array(80),o,f;var p=gf(),g=gf(),b=gf(),_=gf(),v=gf(),w=gf();for(f=0;f<31;f++)i[f]=r[f];i[31]=r[31]&127|64;i[0]&=248;unpack25519(s,n);for(f=0;f<16;f++){g[f]=s[f];_[f]=p[f]=b[f]=0}p[0]=_[0]=1;for(f=254;f>=0;--f){o=i[f>>>3]>>>(f&7)&1;sel25519(p,g,o);sel25519(b,_,o);A(v,p,b);Z(p,p,b);A(b,g,_);Z(g,g,_);S(_,v);S(w,p);M(p,b,p);M(b,g,v);A(v,p,b);Z(p,p,b);S(g,p);Z(b,_,w);M(p,b,u);A(p,p,_);M(b,b,p);M(p,_,w);M(_,g,s);S(g,v);sel25519(p,g,o);sel25519(b,_,o)}for(f=0;f<16;f++){s[f+16]=p[f];s[f+32]=b[f];s[f+48]=g[f];s[f+64]=_[f]}var I=s.subarray(32);var k=s.subarray(16);inv25519(I,I);M(k,k,I);pack25519(e,k);return 0}function crypto_scalarmult_base(e,r){return crypto_scalarmult(e,r,i)}function crypto_box_keypair(e,r){randombytes(r,32);return crypto_scalarmult_base(e,r)}function crypto_box_beforenm(e,n,i){var s=new Uint8Array(32);crypto_scalarmult(s,i,n);return crypto_core_hsalsa20(e,r,s,v)}var w=crypto_secretbox;var I=crypto_secretbox_open;function crypto_box(e,r,n,i,s,o){var u=new Uint8Array(32);crypto_box_beforenm(u,s,o);return w(e,r,n,i,u)}function crypto_box_open(e,r,n,i,s,o){var u=new Uint8Array(32);crypto_box_beforenm(u,s,o);return I(e,r,n,i,u)}var k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(e,r,n,i){var s=new Int32Array(16),o=new Int32Array(16),u,f,p,g,b,_,v,w,I,C,R,T,x,P,B,L,U,j,W,Q,z,G,q,Y,V,J;var ee=e[0],te=e[1],re=e[2],ne=e[3],ie=e[4],se=e[5],oe=e[6],ae=e[7],le=r[0],ce=r[1],ue=r[2],fe=r[3],he=r[4],de=r[5],pe=r[6],ge=r[7];var be=0;while(i>=128){for(W=0;W<16;W++){Q=8*W+be;s[W]=n[Q+0]<<24|n[Q+1]<<16|n[Q+2]<<8|n[Q+3];o[W]=n[Q+4]<<24|n[Q+5]<<16|n[Q+6]<<8|n[Q+7]}for(W=0;W<80;W++){u=ee;f=te;p=re;g=ne;b=ie;_=se;v=oe;w=ae;I=le;C=ce;R=ue;T=fe;x=he;P=de;B=pe;L=ge;z=ae;G=ge;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=(ie>>>14|he<<32-14)^(ie>>>18|he<<32-18)^(he>>>41-32|ie<<32-(41-32));G=(he>>>14|ie<<32-14)^(he>>>18|ie<<32-18)^(ie>>>41-32|he<<32-(41-32));q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;z=ie&se^~ie&oe;G=he&de^~he&pe;q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;z=k[W*2];G=k[W*2+1];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;z=s[W%16];G=o[W%16];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;U=V&65535|J<<16;j=q&65535|Y<<16;z=U;G=j;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=(ee>>>28|le<<32-28)^(le>>>34-32|ee<<32-(34-32))^(le>>>39-32|ee<<32-(39-32));G=(le>>>28|ee<<32-28)^(ee>>>34-32|le<<32-(34-32))^(ee>>>39-32|le<<32-(39-32));q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;z=ee&te^ee&re^te&re;G=le&ce^le&ue^ce&ue;q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;w=V&65535|J<<16;L=q&65535|Y<<16;z=g;G=T;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=U;G=j;q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;g=V&65535|J<<16;T=q&65535|Y<<16;te=u;re=f;ne=p;ie=g;se=b;oe=_;ae=v;ee=w;ce=I;ue=C;fe=R;he=T;de=x;pe=P;ge=B;le=L;if(W%16===15){for(Q=0;Q<16;Q++){z=s[Q];G=o[Q];q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=s[(Q+9)%16];G=o[(Q+9)%16];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;U=s[(Q+1)%16];j=o[(Q+1)%16];z=(U>>>1|j<<32-1)^(U>>>8|j<<32-8)^U>>>7;G=(j>>>1|U<<32-1)^(j>>>8|U<<32-8)^(j>>>7|U<<32-7);q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;U=s[(Q+14)%16];j=o[(Q+14)%16];z=(U>>>19|j<<32-19)^(j>>>61-32|U<<32-(61-32))^U>>>6;G=(j>>>19|U<<32-19)^(U>>>61-32|j<<32-(61-32))^(j>>>6|U<<32-6);q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;s[Q]=V&65535|J<<16;o[Q]=q&65535|Y<<16}}}z=ee;G=le;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[0];G=r[0];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[0]=ee=V&65535|J<<16;r[0]=le=q&65535|Y<<16;z=te;G=ce;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[1];G=r[1];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[1]=te=V&65535|J<<16;r[1]=ce=q&65535|Y<<16;z=re;G=ue;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[2];G=r[2];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[2]=re=V&65535|J<<16;r[2]=ue=q&65535|Y<<16;z=ne;G=fe;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[3];G=r[3];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[3]=ne=V&65535|J<<16;r[3]=fe=q&65535|Y<<16;z=ie;G=he;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[4];G=r[4];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[4]=ie=V&65535|J<<16;r[4]=he=q&65535|Y<<16;z=se;G=de;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[5];G=r[5];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[5]=se=V&65535|J<<16;r[5]=de=q&65535|Y<<16;z=oe;G=pe;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[6];G=r[6];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[6]=oe=V&65535|J<<16;r[6]=pe=q&65535|Y<<16;z=ae;G=ge;q=G&65535;Y=G>>>16;V=z&65535;J=z>>>16;z=e[7];G=r[7];q+=G&65535;Y+=G>>>16;V+=z&65535;J+=z>>>16;Y+=q>>>16;V+=Y>>>16;J+=V>>>16;e[7]=ae=V&65535|J<<16;r[7]=ge=q&65535|Y<<16;be+=128;i-=128}return i}function crypto_hash(e,r,n){var i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),u,f=n;i[0]=1779033703;i[1]=3144134277;i[2]=1013904242;i[3]=2773480762;i[4]=1359893119;i[5]=2600822924;i[6]=528734635;i[7]=1541459225;s[0]=4089235720;s[1]=2227873595;s[2]=4271175723;s[3]=1595750129;s[4]=2917565137;s[5]=725511199;s[6]=4215389547;s[7]=327033209;crypto_hashblocks_hl(i,s,r,n);n%=128;for(u=0;u<n;u++)o[u]=r[f-n+u];o[n]=128;n=256-128*(n<112?1:0);o[n-9]=0;ts64(o,n-8,f/536870912|0,f<<3);crypto_hashblocks_hl(i,s,o,n);for(u=0;u<8;u++)ts64(e,8*u,i[u],s[u]);return 0}function add(e,r){var n=gf(),i=gf(),s=gf(),o=gf(),u=gf(),f=gf(),g=gf(),b=gf(),_=gf();Z(n,e[1],e[0]);Z(_,r[1],r[0]);M(n,n,_);A(i,e[0],e[1]);A(_,r[0],r[1]);M(i,i,_);M(s,e[3],r[3]);M(s,s,p);M(o,e[2],r[2]);A(o,o,o);Z(u,i,n);Z(f,o,s);A(g,o,s);A(b,i,n);M(e[0],u,f);M(e[1],b,g);M(e[2],g,f);M(e[3],u,b)}function cswap(e,r,n){var i;for(i=0;i<4;i++){sel25519(e[i],r[i],n)}}function pack(e,r){var n=gf(),i=gf(),s=gf();inv25519(s,r[2]);M(n,r[0],s);M(i,r[1],s);pack25519(e,i);e[31]^=par25519(n)<<7}function scalarmult(e,r,n){var i,u;set25519(e[0],s);set25519(e[1],o);set25519(e[2],o);set25519(e[3],s);for(u=255;u>=0;--u){i=n[u/8|0]>>(u&7)&1;cswap(e,r,i);add(r,e);add(e,e);cswap(e,r,i)}}function scalarbase(e,r){var n=[gf(),gf(),gf(),gf()];set25519(n[0],g);set25519(n[1],b);set25519(n[2],o);M(n[3],g,b);scalarmult(e,n,r)}function crypto_sign_keypair(e,r,n){var i=new Uint8Array(64);var s=[gf(),gf(),gf(),gf()];var o;if(!n)randombytes(r,32);crypto_hash(i,r,32);i[0]&=248;i[31]&=127;i[31]|=64;scalarbase(s,i);pack(e,s);for(o=0;o<32;o++)r[o+32]=e[o];return 0}var C=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(e,r){var n,i,s,o;for(i=63;i>=32;--i){n=0;for(s=i-32,o=i-12;s<o;++s){r[s]+=n-16*r[i]*C[s-(i-32)];n=r[s]+128>>8;r[s]-=n*256}r[s]+=n;r[i]=0}n=0;for(s=0;s<32;s++){r[s]+=n-(r[31]>>4)*C[s];n=r[s]>>8;r[s]&=255}for(s=0;s<32;s++)r[s]-=n*C[s];for(i=0;i<32;i++){r[i+1]+=r[i]>>8;e[i]=r[i]&255}}function reduce(e){var r=new Float64Array(64),n;for(n=0;n<64;n++)r[n]=e[n];for(n=0;n<64;n++)e[n]=0;modL(e,r)}function crypto_sign(e,r,n,i){var s=new Uint8Array(64),o=new Uint8Array(64),u=new Uint8Array(64);var f,p,g=new Float64Array(64);var b=[gf(),gf(),gf(),gf()];crypto_hash(s,i,32);s[0]&=248;s[31]&=127;s[31]|=64;var _=n+64;for(f=0;f<n;f++)e[64+f]=r[f];for(f=0;f<32;f++)e[32+f]=s[32+f];crypto_hash(u,e.subarray(32),n+32);reduce(u);scalarbase(b,u);pack(e,b);for(f=32;f<64;f++)e[f]=i[f];crypto_hash(o,e,n+64);reduce(o);for(f=0;f<64;f++)g[f]=0;for(f=0;f<32;f++)g[f]=u[f];for(f=0;f<32;f++){for(p=0;p<32;p++){g[f+p]+=o[f]*s[p]}}modL(e.subarray(32),g);return _}function unpackneg(e,r){var n=gf(),i=gf(),u=gf(),p=gf(),g=gf(),b=gf(),v=gf();set25519(e[2],o);unpack25519(e[1],r);S(u,e[1]);M(p,u,f);Z(u,u,e[2]);A(p,e[2],p);S(g,p);S(b,g);M(v,b,g);M(n,v,u);M(n,n,p);pow2523(n,n);M(n,n,u);M(n,n,p);M(n,n,p);M(e[0],n,p);S(i,e[0]);M(i,i,p);if(neq25519(i,u))M(e[0],e[0],_);S(i,e[0]);M(i,i,p);if(neq25519(i,u))return-1;if(par25519(e[0])===r[31]>>7)Z(e[0],s,e[0]);M(e[3],e[0],e[1]);return 0}function crypto_sign_open(e,r,n,i){var s,o;var u=new Uint8Array(32),f=new Uint8Array(64);var p=[gf(),gf(),gf(),gf()],g=[gf(),gf(),gf(),gf()];o=-1;if(n<64)return-1;if(unpackneg(g,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];crypto_hash(f,e,n);reduce(f);scalarmult(p,g,f);scalarbase(g,r.subarray(32));add(p,g);pack(u,p);n-=64;if(crypto_verify_32(r,0,u,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];o=n;return o}var R=32,T=24,x=32,P=16,B=32,L=32,U=32,j=32,W=32,Q=T,z=x,G=P,q=64,Y=32,V=64,J=32,ee=64;e.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:w,crypto_box:crypto_box,crypto_box_open:crypto_box_open,crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:R,crypto_secretbox_NONCEBYTES:T,crypto_secretbox_ZEROBYTES:x,crypto_secretbox_BOXZEROBYTES:P,crypto_scalarmult_BYTES:B,crypto_scalarmult_SCALARBYTES:L,crypto_box_PUBLICKEYBYTES:U,crypto_box_SECRETKEYBYTES:j,crypto_box_BEFORENMBYTES:W,crypto_box_NONCEBYTES:Q,crypto_box_ZEROBYTES:z,crypto_box_BOXZEROBYTES:G,crypto_sign_BYTES:q,crypto_sign_PUBLICKEYBYTES:Y,crypto_sign_SECRETKEYBYTES:V,crypto_sign_SEEDBYTES:J,crypto_hash_BYTES:ee};function checkLengths(e,r){if(e.length!==R)throw new Error("bad key size");if(r.length!==T)throw new Error("bad nonce size")}function checkBoxLengths(e,r){if(e.length!==U)throw new Error("bad public key size");if(r.length!==j)throw new Error("bad secret key size")}function checkArrayTypes(){var e,r;for(r=0;r<arguments.length;r++){if((e=Object.prototype.toString.call(arguments[r]))!=="[object Uint8Array]")throw new TypeError("unexpected type "+e+", use Uint8Array")}}function cleanup(e){for(var r=0;r<e.length;r++)e[r]=0}if(!e.util){e.util={};e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}}e.randomBytes=function(e){var r=new Uint8Array(e);randombytes(r,e);return r};e.secretbox=function(e,r,n){checkArrayTypes(e,r,n);checkLengths(n,r);var i=new Uint8Array(x+e.length);var s=new Uint8Array(i.length);for(var o=0;o<e.length;o++)i[o+x]=e[o];crypto_secretbox(s,i,i.length,r,n);return s.subarray(P)};e.secretbox.open=function(e,r,n){checkArrayTypes(e,r,n);checkLengths(n,r);var i=new Uint8Array(P+e.length);var s=new Uint8Array(i.length);for(var o=0;o<e.length;o++)i[o+P]=e[o];if(i.length<32)return false;if(crypto_secretbox_open(s,i,i.length,r,n)!==0)return false;return s.subarray(x)};e.secretbox.keyLength=R;e.secretbox.nonceLength=T;e.secretbox.overheadLength=P;e.scalarMult=function(e,r){checkArrayTypes(e,r);if(e.length!==L)throw new Error("bad n size");if(r.length!==B)throw new Error("bad p size");var n=new Uint8Array(B);crypto_scalarmult(n,e,r);return n};e.scalarMult.base=function(e){checkArrayTypes(e);if(e.length!==L)throw new Error("bad n size");var r=new Uint8Array(B);crypto_scalarmult_base(r,e);return r};e.scalarMult.scalarLength=L;e.scalarMult.groupElementLength=B;e.box=function(r,n,i,s){var o=e.box.before(i,s);return e.secretbox(r,n,o)};e.box.before=function(e,r){checkArrayTypes(e,r);checkBoxLengths(e,r);var n=new Uint8Array(W);crypto_box_beforenm(n,e,r);return n};e.box.after=e.secretbox;e.box.open=function(r,n,i,s){var o=e.box.before(i,s);return e.secretbox.open(r,n,o)};e.box.open.after=e.secretbox.open;e.box.keyPair=function(){var e=new Uint8Array(U);var r=new Uint8Array(j);crypto_box_keypair(e,r);return{publicKey:e,secretKey:r}};e.box.keyPair.fromSecretKey=function(e){checkArrayTypes(e);if(e.length!==j)throw new Error("bad secret key size");var r=new Uint8Array(U);crypto_scalarmult_base(r,e);return{publicKey:r,secretKey:new Uint8Array(e)}};e.box.publicKeyLength=U;e.box.secretKeyLength=j;e.box.sharedKeyLength=W;e.box.nonceLength=Q;e.box.overheadLength=e.secretbox.overheadLength;e.sign=function(e,r){checkArrayTypes(e,r);if(r.length!==V)throw new Error("bad secret key size");var n=new Uint8Array(q+e.length);crypto_sign(n,e,e.length,r);return n};e.sign.open=function(e,r){if(arguments.length!==2)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");checkArrayTypes(e,r);if(r.length!==Y)throw new Error("bad public key size");var n=new Uint8Array(e.length);var i=crypto_sign_open(n,e,e.length,r);if(i<0)return null;var s=new Uint8Array(i);for(var o=0;o<s.length;o++)s[o]=n[o];return s};e.sign.detached=function(r,n){var i=e.sign(r,n);var s=new Uint8Array(q);for(var o=0;o<s.length;o++)s[o]=i[o];return s};e.sign.detached.verify=function(e,r,n){checkArrayTypes(e,r,n);if(r.length!==q)throw new Error("bad signature size");if(n.length!==Y)throw new Error("bad public key size");var i=new Uint8Array(q+e.length);var s=new Uint8Array(q+e.length);var o;for(o=0;o<q;o++)i[o]=r[o];for(o=0;o<e.length;o++)i[o+q]=e[o];return crypto_sign_open(s,i,i.length,n)>=0};e.sign.keyPair=function(){var e=new Uint8Array(Y);var r=new Uint8Array(V);crypto_sign_keypair(e,r);return{publicKey:e,secretKey:r}};e.sign.keyPair.fromSecretKey=function(e){checkArrayTypes(e);if(e.length!==V)throw new Error("bad secret key size");var r=new Uint8Array(Y);for(var n=0;n<r.length;n++)r[n]=e[32+n];return{publicKey:r,secretKey:new Uint8Array(e)}};e.sign.keyPair.fromSeed=function(e){checkArrayTypes(e);if(e.length!==J)throw new Error("bad seed size");var r=new Uint8Array(Y);var n=new Uint8Array(V);for(var i=0;i<32;i++)n[i]=e[i];crypto_sign_keypair(r,n,true);return{publicKey:r,secretKey:n}};e.sign.publicKeyLength=Y;e.sign.secretKeyLength=V;e.sign.seedLength=J;e.sign.signatureLength=q;e.hash=function(e){checkArrayTypes(e);var r=new Uint8Array(ee);crypto_hash(r,e,e.length);return r};e.hash.hashLength=ee;e.verify=function(e,r){checkArrayTypes(e,r);if(e.length===0||r.length===0)return false;if(e.length!==r.length)return false;return vn(e,0,r,0,e.length)===0?true:false};e.setPRNG=function(e){randombytes=e};(function(){var r=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(r&&r.getRandomValues){var i=65536;e.setPRNG((function(e,n){var s,o=new Uint8Array(n);for(s=0;s<n;s+=i){r.getRandomValues(o.subarray(s,s+Math.min(n-s,i)))}for(s=0;s<n;s++)e[s]=o[s];cleanup(o)}))}else if(true){r=n(76982);if(r&&r.randomBytes){e.setPRNG((function(e,n){var i,s=r.randomBytes(n);for(i=0;i<n;i++)e[i]=s[i];cleanup(s)}))}}})()})(true&&e.exports?e.exports:self.nacl=self.nacl||{})},39987:(e,r,n)=>{e.exports=n(39023).deprecate},88599:(e,r,n)=>{
/**
 * ZipStream
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
 * @copyright (c) 2014 Chris Talkington, contributors.
 */
var i=n(39023).inherits;var s=n(83223).ZipArchiveOutputStream;var o=n(83223).ZipArchiveEntry;var u=n(34747);var f=e.exports=function(e){if(!(this instanceof f)){return new f(e)}e=this.options=e||{};e.zlib=e.zlib||{};s.call(this,e);if(typeof e.level==="number"&&e.level>=0){e.zlib.level=e.level;delete e.level}if(!e.forceZip64&&typeof e.zlib.level==="number"&&e.zlib.level===0){e.store=true}e.namePrependSlash=e.namePrependSlash||false;if(e.comment&&e.comment.length>0){this.setComment(e.comment)}};i(f,s);f.prototype._normalizeFileData=function(e){e=u.defaults(e,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var r=e.type==="directory";var n=e.type==="symlink";if(e.name){e.name=u.sanitizePath(e.name);if(!n&&e.name.slice(-1)==="/"){r=true;e.type="directory"}else if(r){e.name+="/"}}if(r||n){e.store=true}e.date=u.dateify(e.date);return e};f.prototype.entry=function(e,r,n){if(typeof n!=="function"){n=this._emitErrorCallback.bind(this)}r=this._normalizeFileData(r);if(r.type!=="file"&&r.type!=="directory"&&r.type!=="symlink"){n(new Error(r.type+" entries not currently supported"));return}if(typeof r.name!=="string"||r.name.length===0){n(new Error("entry name must be a non-empty string value"));return}if(r.type==="symlink"&&typeof r.linkname!=="string"){n(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var i=new o(r.name);i.setTime(r.date,this.options.forceLocalTime);if(r.namePrependSlash){i.setName(r.name,true)}if(r.store){i.setMethod(0)}if(r.comment.length>0){i.setComment(r.comment)}if(r.type==="symlink"&&typeof r.mode!=="number"){r.mode=40960}if(typeof r.mode==="number"){if(r.type==="symlink"){r.mode|=40960}i.setUnixMode(r.mode)}if(r.type==="symlink"&&typeof r.linkname==="string"){e=Buffer.from(r.linkname)}return s.prototype.entry.call(this,i,e,n)};f.prototype.finalize=function(){this.finish()}},76540:module=>{module.exports=eval("require")("../build/Release/cpufeatures.node")},80600:module=>{module.exports=eval("require")("./crypto/build/Release/sshcrypto.node")},42613:e=>{"use strict";e.exports=require("assert")},20181:e=>{"use strict";e.exports=require("buffer")},35317:e=>{"use strict";e.exports=require("child_process")},49140:e=>{"use strict";e.exports=require("constants")},76982:e=>{"use strict";e.exports=require("crypto")},72250:e=>{"use strict";e.exports=require("dns")},24434:e=>{"use strict";e.exports=require("events")},79896:e=>{"use strict";e.exports=require("fs")},58611:e=>{"use strict";e.exports=require("http")},65692:e=>{"use strict";e.exports=require("https")},69278:e=>{"use strict";e.exports=require("net")},78474:e=>{"use strict";e.exports=require("node:events")},73024:e=>{"use strict";e.exports=require("node:fs")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},76760:e=>{"use strict";e.exports=require("node:path")},57075:e=>{"use strict";e.exports=require("node:stream")},46193:e=>{"use strict";e.exports=require("node:string_decoder")},73136:e=>{"use strict";e.exports=require("node:url")},16928:e=>{"use strict";e.exports=require("path")},2203:e=>{"use strict";e.exports=require("stream")},64756:e=>{"use strict";e.exports=require("tls")},39023:e=>{"use strict";e.exports=require("util")},43106:e=>{"use strict";e.exports=require("zlib")},27982:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Glob=void 0;const i=n(33791);const s=n(73136);const o=n(69133);const u=n(4528);const f=n(98370);const p=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Glob{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");this.withFileTypes=!!r.withFileTypes;this.signal=r.signal;this.follow=!!r.follow;this.dot=!!r.dot;this.dotRelative=!!r.dotRelative;this.nodir=!!r.nodir;this.mark=!!r.mark;if(!r.cwd){this.cwd=""}else if(r.cwd instanceof URL||r.cwd.startsWith("file://")){r.cwd=(0,s.fileURLToPath)(r.cwd)}this.cwd=r.cwd||"";this.root=r.root;this.magicalBraces=!!r.magicalBraces;this.nobrace=!!r.nobrace;this.noext=!!r.noext;this.realpath=!!r.realpath;this.absolute=r.absolute;this.includeChildMatches=r.includeChildMatches!==false;this.noglobstar=!!r.noglobstar;this.matchBase=!!r.matchBase;this.maxDepth=typeof r.maxDepth==="number"?r.maxDepth:Infinity;this.stat=!!r.stat;this.ignore=r.ignore;if(this.withFileTypes&&this.absolute!==undefined){throw new Error("cannot set absolute and withFileTypes:true")}if(typeof e==="string"){e=[e]}this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===false;if(this.windowsPathsNoEscape){e=e.map((e=>e.replace(/\\/g,"/")))}if(this.matchBase){if(r.noglobstar){throw new TypeError("base matching requires globstar")}e=e.map((e=>e.includes("/")?e:`./**/${e}`))}this.pattern=e;this.platform=r.platform||p;this.opts={...r,platform:this.platform};if(r.scurry){this.scurry=r.scurry;if(r.nocase!==undefined&&r.nocase!==r.scurry.nocase){throw new Error("nocase option contradicts provided scurry option")}}else{const e=r.platform==="win32"?o.PathScurryWin32:r.platform==="darwin"?o.PathScurryDarwin:r.platform?o.PathScurryPosix:o.PathScurry;this.scurry=new e(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;const n=this.platform==="darwin"||this.platform==="win32";const f={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:true,noext:this.noext,nonegate:true,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug};const g=this.pattern.map((e=>new i.Minimatch(e,f)));const[b,_]=g.reduce(((e,r)=>{e[0].push(...r.set);e[1].push(...r.globParts);return e}),[[],[]]);this.patterns=b.map(((e,r)=>{const n=_[r];if(!n)throw new Error("invalid pattern object");return new u.Pattern(e,n,0,this.platform)}))}async walk(){return[...await new f.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new f.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new f.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new f.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}r.Glob=Glob},45116:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.hasMagic=void 0;const i=n(33791);const hasMagic=(e,r={})=>{if(!Array.isArray(e)){e=[e]}for(const n of e){if(new i.Minimatch(n,r).hasMagic())return true}return false};r.hasMagic=hasMagic},15498:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Ignore=void 0;const i=n(33791);const s=n(4528);const o=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Ignore{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:u=o}){this.relative=[];this.absolute=[];this.relativeChildren=[];this.absoluteChildren=[];this.platform=u;this.mmopts={dot:true,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:u,nocomment:true,nonegate:true};for(const r of e)this.add(r)}add(e){const r=new i.Minimatch(e,this.mmopts);for(let e=0;e<r.set.length;e++){const n=r.set[e];const o=r.globParts[e];if(!n||!o){throw new Error("invalid pattern object")}while(n[0]==="."&&o[0]==="."){n.shift();o.shift()}const u=new s.Pattern(n,o,0,this.platform);const f=new i.Minimatch(u.globString(),this.mmopts);const p=o[o.length-1]==="**";const g=u.isAbsolute();if(g)this.absolute.push(f);else this.relative.push(f);if(p){if(g)this.absoluteChildren.push(f);else this.relativeChildren.push(f)}}}ignored(e){const r=e.fullpath();const n=`${r}/`;const i=e.relative()||".";const s=`${i}/`;for(const e of this.relative){if(e.match(i)||e.match(s))return true}for(const e of this.absolute){if(e.match(r)||e.match(n))return true}return false}childrenIgnored(e){const r=e.fullpath()+"/";const n=(e.relative()||".")+"/";for(const e of this.relativeChildren){if(e.match(n))return true}for(const e of this.absoluteChildren){if(e.match(r))return true}return false}}r.Ignore=Ignore},13210:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.glob=r.sync=r.iterate=r.iterateSync=r.stream=r.streamSync=r.globIterate=r.globIterateSync=r.globSync=r.globStream=r.globStreamSync=r.Ignore=r.hasMagic=r.Glob=r.unescape=r.escape=void 0;const i=n(33791);const s=n(27982);const o=n(45116);var u=n(33791);Object.defineProperty(r,"escape",{enumerable:true,get:function(){return u.escape}});Object.defineProperty(r,"unescape",{enumerable:true,get:function(){return u.unescape}});var f=n(27982);Object.defineProperty(r,"Glob",{enumerable:true,get:function(){return f.Glob}});var p=n(45116);Object.defineProperty(r,"hasMagic",{enumerable:true,get:function(){return p.hasMagic}});var g=n(15498);Object.defineProperty(r,"Ignore",{enumerable:true,get:function(){return g.Ignore}});function globStreamSync(e,r={}){return new s.Glob(e,r).streamSync()}r.globStreamSync=globStreamSync;function globStream(e,r={}){return new s.Glob(e,r).stream()}r.globStream=globStream;function globSync(e,r={}){return new s.Glob(e,r).walkSync()}r.globSync=globSync;async function glob_(e,r={}){return new s.Glob(e,r).walk()}function globIterateSync(e,r={}){return new s.Glob(e,r).iterateSync()}r.globIterateSync=globIterateSync;function globIterate(e,r={}){return new s.Glob(e,r).iterate()}r.globIterate=globIterate;r.streamSync=globStreamSync;r.stream=Object.assign(globStream,{sync:globStreamSync});r.iterateSync=globIterateSync;r.iterate=Object.assign(globIterate,{sync:globIterateSync});r.sync=Object.assign(globSync,{stream:globStreamSync,iterate:globIterateSync});r.glob=Object.assign(glob_,{glob:glob_,globSync:globSync,sync:r.sync,globStream:globStream,stream:r.stream,globStreamSync:globStreamSync,streamSync:r.streamSync,globIterate:globIterate,iterate:r.iterate,globIterateSync:globIterateSync,iterateSync:r.iterateSync,Glob:s.Glob,hasMagic:o.hasMagic,escape:i.escape,unescape:i.unescape});r.glob.glob=r.glob},4528:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Pattern=void 0;const i=n(33791);const isPatternList=e=>e.length>=1;const isGlobList=e=>e.length>=1;class Pattern{#e;#t;#r;length;#n;#i;#s;#o;#a;#l;#c=true;constructor(e,r,n,i){if(!isPatternList(e)){throw new TypeError("empty pattern list")}if(!isGlobList(r)){throw new TypeError("empty glob list")}if(r.length!==e.length){throw new TypeError("mismatched pattern list and glob list lengths")}this.length=e.length;if(n<0||n>=this.length){throw new TypeError("index out of range")}this.#e=e;this.#t=r;this.#r=n;this.#n=i;if(this.#r===0){if(this.isUNC()){const[e,r,n,i,...s]=this.#e;const[o,u,f,p,...g]=this.#t;if(s[0]===""){s.shift();g.shift()}const b=[e,r,n,i,""].join("/");const _=[o,u,f,p,""].join("/");this.#e=[b,...s];this.#t=[_,...g];this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){const[e,...r]=this.#e;const[n,...i]=this.#t;if(r[0]===""){r.shift();i.shift()}const s=e+"/";const o=n+"/";this.#e=[s,...r];this.#t=[o,...i];this.length=this.#e.length}}}pattern(){return this.#e[this.#r]}isString(){return typeof this.#e[this.#r]==="string"}isGlobstar(){return this.#e[this.#r]===i.GLOBSTAR}isRegExp(){return this.#e[this.#r]instanceof RegExp}globString(){return this.#s=this.#s||(this.#r===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){if(this.#i!==undefined)return this.#i;if(!this.hasMore())return this.#i=null;this.#i=new Pattern(this.#e,this.#t,this.#r+1,this.#n);this.#i.#l=this.#l;this.#i.#a=this.#a;this.#i.#o=this.#o;return this.#i}isUNC(){const e=this.#e;return this.#a!==undefined?this.#a:this.#a=this.#n==="win32"&&this.#r===0&&e[0]===""&&e[1]===""&&typeof e[2]==="string"&&!!e[2]&&typeof e[3]==="string"&&!!e[3]}isDrive(){const e=this.#e;return this.#o!==undefined?this.#o:this.#o=this.#n==="win32"&&this.#r===0&&this.length>1&&typeof e[0]==="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#e;return this.#l!==undefined?this.#l:this.#l=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#e[0];return typeof e==="string"&&this.isAbsolute()&&this.#r===0?e:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#c)}markFollowGlobstar(){if(this.#r===0||!this.isGlobstar()||!this.#c)return false;this.#c=false;return true}}r.Pattern=Pattern},66254:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Processor=r.SubWalks=r.MatchRecord=r.HasWalkedCache=void 0;const i=n(33791);class HasWalkedCache{store;constructor(e=new Map){this.store=e}copy(){return new HasWalkedCache(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){const n=e.fullpath();const i=this.store.get(n);if(i)i.add(r.globString());else this.store.set(n,new Set([r.globString()]))}}r.HasWalkedCache=HasWalkedCache;class MatchRecord{store=new Map;add(e,r,n){const i=(r?2:0)|(n?1:0);const s=this.store.get(e);this.store.set(e,s===undefined?i:i&s)}entries(){return[...this.store.entries()].map((([e,r])=>[e,!!(r&2),!!(r&1)]))}}r.MatchRecord=MatchRecord;class SubWalks{store=new Map;add(e,r){if(!e.canReaddir()){return}const n=this.store.get(e);if(n){if(!n.find((e=>e.globString()===r.globString()))){n.push(r)}}else this.store.set(e,[r])}get(e){const r=this.store.get(e);if(!r){throw new Error("attempting to walk unknown path")}return r}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}r.SubWalks=SubWalks;class Processor{hasWalkedCache;matches=new MatchRecord;subwalks=new SubWalks;patterns;follow;dot;opts;constructor(e,r){this.opts=e;this.follow=!!e.follow;this.dot=!!e.dot;this.hasWalkedCache=r?r.copy():new HasWalkedCache}processPatterns(e,r){this.patterns=r;const n=r.map((r=>[e,r]));for(let[e,r]of n){this.hasWalkedCache.storeWalked(e,r);const n=r.root();const s=r.isAbsolute()&&this.opts.absolute!==false;if(n){e=e.resolve(n==="/"&&this.opts.root!==undefined?this.opts.root:n);const i=r.rest();if(!i){this.matches.add(e,true,false);continue}else{r=i}}if(e.isENOENT())continue;let o;let u;let f=false;while(typeof(o=r.pattern())==="string"&&(u=r.rest())){const n=e.resolve(o);e=n;r=u;f=true}o=r.pattern();u=r.rest();if(f){if(this.hasWalkedCache.hasWalked(e,r))continue;this.hasWalkedCache.storeWalked(e,r)}if(typeof o==="string"){const r=o===".."||o===""||o===".";this.matches.add(e.resolve(o),s,r);continue}else if(o===i.GLOBSTAR){if(!e.isSymbolicLink()||this.follow||r.checkFollowGlobstar()){this.subwalks.add(e,r)}const n=u?.pattern();const i=u?.rest();if(!u||(n===""||n===".")&&!i){this.matches.add(e,s,n===""||n===".")}else{if(n===".."){const r=e.parent||e;if(!i)this.matches.add(r,s,true);else if(!this.hasWalkedCache.hasWalked(r,i)){this.subwalks.add(r,i)}}}}else if(o instanceof RegExp){this.subwalks.add(e,r)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Processor(this.opts,this.hasWalkedCache)}filterEntries(e,r){const n=this.subwalks.get(e);const s=this.child();for(const e of r){for(const r of n){const n=r.isAbsolute();const o=r.pattern();const u=r.rest();if(o===i.GLOBSTAR){s.testGlobstar(e,r,u,n)}else if(o instanceof RegExp){s.testRegExp(e,o,u,n)}else{s.testString(e,o,u,n)}}}return s}testGlobstar(e,r,n,i){if(this.dot||!e.name.startsWith(".")){if(!r.hasMore()){this.matches.add(e,i,false)}if(e.canReaddir()){if(this.follow||!e.isSymbolicLink()){this.subwalks.add(e,r)}else if(e.isSymbolicLink()){if(n&&r.checkFollowGlobstar()){this.subwalks.add(e,n)}else if(r.markFollowGlobstar()){this.subwalks.add(e,r)}}}}if(n){const r=n.pattern();if(typeof r==="string"&&r!==".."&&r!==""&&r!=="."){this.testString(e,r,n.rest(),i)}else if(r===".."){const r=e.parent||e;this.subwalks.add(r,n)}else if(r instanceof RegExp){this.testRegExp(e,r,n.rest(),i)}}}testRegExp(e,r,n,i){if(!r.test(e.name))return;if(!n){this.matches.add(e,i,false)}else{this.subwalks.add(e,n)}}testString(e,r,n,i){if(!e.isNamed(r))return;if(!n){this.matches.add(e,i,false)}else{this.subwalks.add(e,n)}}}r.Processor=Processor},98370:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.GlobStream=r.GlobWalker=r.GlobUtil=void 0;const i=n(99243);const s=n(15498);const o=n(66254);const makeIgnore=(e,r)=>typeof e==="string"?new s.Ignore([e],r):Array.isArray(e)?new s.Ignore(e,r):e;class GlobUtil{path;patterns;opts;seen=new Set;paused=false;aborted=false;#u=[];#f;#h;signal;maxDepth;includeChildMatches;constructor(e,r,n){this.patterns=e;this.path=r;this.opts=n;this.#h=!n.posix&&n.platform==="win32"?"\\":"/";this.includeChildMatches=n.includeChildMatches!==false;if(n.ignore||!this.includeChildMatches){this.#f=makeIgnore(n.ignore??[],n);if(!this.includeChildMatches&&typeof this.#f.add!=="function"){const e="cannot ignore child matches, ignore lacks add() method.";throw new Error(e)}}this.maxDepth=n.maxDepth||Infinity;if(n.signal){this.signal=n.signal;this.signal.addEventListener("abort",(()=>{this.#u.length=0}))}}#d(e){return this.seen.has(e)||!!this.#f?.ignored?.(e)}#p(e){return!!this.#f?.childrenIgnored?.(e)}pause(){this.paused=true}resume(){if(this.signal?.aborted)return;this.paused=false;let e=undefined;while(!this.paused&&(e=this.#u.shift())){e()}}onResume(e){if(this.signal?.aborted)return;if(!this.paused){e()}else{this.#u.push(e)}}async matchCheck(e,r){if(r&&this.opts.nodir)return undefined;let n;if(this.opts.realpath){n=e.realpathCached()||await e.realpath();if(!n)return undefined;e=n}const i=e.isUnknown()||this.opts.stat;const s=i?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){const e=await s.realpath();if(e&&(e.isUnknown()||this.opts.stat)){await e.lstat()}}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===Infinity||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#d(e)?e:undefined}matchCheckSync(e,r){if(r&&this.opts.nodir)return undefined;let n;if(this.opts.realpath){n=e.realpathCached()||e.realpathSync();if(!n)return undefined;e=n}const i=e.isUnknown()||this.opts.stat;const s=i?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){const e=s.realpathSync();if(e&&(e?.isUnknown()||this.opts.stat)){e.lstatSync()}}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#d(e))return;if(!this.includeChildMatches&&this.#f?.add){const r=`${e.relativePosix()}/**`;this.#f.add(r)}const n=this.opts.absolute===undefined?r:this.opts.absolute;this.seen.add(e);const i=this.opts.mark&&e.isDirectory()?this.#h:"";if(this.opts.withFileTypes){this.matchEmit(e)}else if(n){const r=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(r+i)}else{const r=this.opts.posix?e.relativePosix():e.relative();const n=this.opts.dotRelative&&!r.startsWith(".."+this.#h)?"."+this.#h:"";this.matchEmit(!r?"."+i:n+r+i)}}async match(e,r,n){const i=await this.matchCheck(e,n);if(i)this.matchFinish(i,r)}matchSync(e,r,n){const i=this.matchCheckSync(e,n);if(i)this.matchFinish(i,r)}walkCB(e,r,n){if(this.signal?.aborted)n();this.walkCB2(e,r,new o.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#p(e))return i();if(this.signal?.aborted)i();if(this.paused){this.onResume((()=>this.walkCB2(e,r,n,i)));return}n.processPatterns(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;s++;this.match(e,r,i).then((()=>next()))}for(const e of n.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}s++;const r=e.readdirCached();if(e.calledReaddir())this.walkCB3(e,r,n,next);else{e.readdirCB(((r,i)=>this.walkCB3(e,i,n,next)),true)}}next()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;s++;this.match(e,r,i).then((()=>next()))}for(const[e,r]of n.subwalks.entries()){s++;this.walkCB2(e,r,n.child(),next)}next()}walkCBSync(e,r,n){if(this.signal?.aborted)n();this.walkCB2Sync(e,r,new o.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#p(e))return i();if(this.signal?.aborted)i();if(this.paused){this.onResume((()=>this.walkCB2Sync(e,r,n,i)));return}n.processPatterns(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;this.matchSync(e,r,i)}for(const e of n.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}s++;const r=e.readdirSync();this.walkCB3Sync(e,r,n,next)}next()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;this.matchSync(e,r,i)}for(const[e,r]of n.subwalks.entries()){s++;this.walkCB2Sync(e,r,n.child(),next)}next()}}r.GlobUtil=GlobUtil;class GlobWalker extends GlobUtil{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){await this.path.lstat()}await new Promise(((e,r)=>{this.walkCB(this.path,this.patterns,(()=>{if(this.signal?.aborted){r(this.signal.reason)}else{e(this.matches)}}))}));return this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason}));return this.matches}}r.GlobWalker=GlobWalker;class GlobStream extends GlobUtil{results;constructor(e,r,n){super(e,r,n);this.results=new i.Minipass({signal:this.signal,objectMode:true});this.results.on("drain",(()=>this.resume()));this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e);if(!this.results.flowing)this.pause()}stream(){const e=this.path;if(e.isUnknown()){e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))}))}else{this.walkCB(e,this.patterns,(()=>this.results.end()))}return this.results}streamSync(){if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>this.results.end()));return this.results}}r.GlobStream=GlobStream},79829:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.LRUCache=void 0;const n=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const i=new Set;const s=typeof process==="object"&&!!process?process:{};const emitWarning=(e,r,n,i)=>{typeof s.emitWarning==="function"?s.emitWarning(e,r,n,i):console.error(`[${n}] ${r}: ${e}`)};let o=globalThis.AbortController;let u=globalThis.AbortSignal;if(typeof o==="undefined"){u=class AbortSignal{onabort;_onabort=[];reason;aborted=false;addEventListener(e,r){this._onabort.push(r)}};o=class AbortController{constructor(){warnACPolyfill()}signal=new u;abort(e){if(this.signal.aborted)return;this.signal.reason=e;this.signal.aborted=true;for(const r of this.signal._onabort){r(e)}this.signal.onabort?.(e)}};let e=s.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const warnACPolyfill=()=>{if(!e)return;e=false;emitWarning("AbortController is not defined. If using lru-cache in "+"node 14, load an AbortController polyfill from the "+"`node-abort-controller` package. A minimal polyfill is "+"provided for use by LRUCache.fetch(), but it should not be "+"relied upon in other contexts (eg, passing it to other APIs that "+"use AbortController/AbortSignal might have undesirable effects). "+"You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill)}}const shouldWarn=e=>!i.has(e);const f=Symbol("type");const isPosInt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e);const getUintArray=e=>!isPosInt(e)?null:e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?ZeroArray:null;class ZeroArray extends Array{constructor(e){super(e);this.fill(0)}}class Stack{heap;length;static#g=false;static create(e){const r=getUintArray(e);if(!r)return[];Stack.#g=true;const n=new Stack(e,r);Stack.#g=false;return n}constructor(e,r){if(!Stack.#g){throw new TypeError("instantiate Stack using Stack.create(n)")}this.heap=new r(e);this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class LRUCache{#b;#y;#m;#_;#v;#w;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#A;#E;#S;#I;#k;#C;#O;#R;#T;#x;#P;#B;#L;#N;#M;#D;#F;static unsafeExposeInternals(e){return{starts:e.#L,ttls:e.#N,sizes:e.#B,keyMap:e.#S,keyList:e.#I,valList:e.#k,next:e.#C,prev:e.#O,get head(){return e.#R},get tail(){return e.#T},free:e.#x,isBackgroundFetch:r=>e.#U(r),backgroundFetch:(r,n,i,s)=>e.#j(r,n,i,s),moveToTail:r=>e.#W(r),indexes:r=>e.#H(r),rindexes:r=>e.#Q(r),isStale:r=>e.#z(r)}}get max(){return this.#b}get maxSize(){return this.#y}get calculatedSize(){return this.#E}get size(){return this.#A}get fetchMethod(){return this.#v}get memoMethod(){return this.#w}get dispose(){return this.#m}get disposeAfter(){return this.#_}constructor(e){const{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:o,updateAgeOnGet:u,updateAgeOnHas:f,allowStale:p,dispose:g,disposeAfter:b,noDisposeOnSet:_,noUpdateTTL:v,maxSize:w=0,maxEntrySize:I=0,sizeCalculation:k,fetchMethod:C,memoMethod:R,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:B,ignoreFetchAbort:L}=e;if(r!==0&&!isPosInt(r)){throw new TypeError("max option must be a nonnegative integer")}const U=r?getUintArray(r):Array;if(!U){throw new Error("invalid max value: "+r)}this.#b=r;this.#y=w;this.maxEntrySize=I||this.#y;this.sizeCalculation=k;if(this.sizeCalculation){if(!this.#y&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}if(R!==undefined&&typeof R!=="function"){throw new TypeError("memoMethod must be a function if defined")}this.#w=R;if(C!==undefined&&typeof C!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.#v=C;this.#D=!!C;this.#S=new Map;this.#I=new Array(r).fill(undefined);this.#k=new Array(r).fill(undefined);this.#C=new U(r);this.#O=new U(r);this.#R=0;this.#T=0;this.#x=Stack.create(r);this.#A=0;this.#E=0;if(typeof g==="function"){this.#m=g}if(typeof b==="function"){this.#_=b;this.#P=[]}else{this.#_=undefined;this.#P=undefined}this.#M=!!this.#m;this.#F=!!this.#_;this.noDisposeOnSet=!!_;this.noUpdateTTL=!!v;this.noDeleteOnFetchRejection=!!T;this.allowStaleOnFetchRejection=!!P;this.allowStaleOnFetchAbort=!!B;this.ignoreFetchAbort=!!L;if(this.maxEntrySize!==0){if(this.#y!==0){if(!isPosInt(this.#y)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!isPosInt(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.#G()}this.allowStale=!!p;this.noDeleteOnStaleGet=!!x;this.updateAgeOnGet=!!u;this.updateAgeOnHas=!!f;this.ttlResolution=isPosInt(s)||s===0?s:1;this.ttlAutopurge=!!o;this.ttl=n||0;if(this.ttl){if(!isPosInt(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.#$()}if(this.#b===0&&this.ttl===0&&this.#y===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.#b&&!this.#y){const e="LRU_CACHE_UNBOUNDED";if(shouldWarn(e)){i.add(e);const r="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";emitWarning(r,"UnboundedCacheWarning",e,LRUCache)}}}getRemainingTTL(e){return this.#S.has(e)?Infinity:0}#$(){const e=new ZeroArray(this.#b);const r=new ZeroArray(this.#b);this.#N=e;this.#L=r;this.#q=(i,s,o=n.now())=>{r[i]=s!==0?o:0;e[i]=s;if(s!==0&&this.ttlAutopurge){const e=setTimeout((()=>{if(this.#z(i)){this.#K(this.#I[i],"expire")}}),s+1);if(e.unref){e.unref()}}};this.#Y=i=>{r[i]=e[i]!==0?n.now():0};this.#V=(n,s)=>{if(e[s]){const o=e[s];const u=r[s];if(!o||!u)return;n.ttl=o;n.start=u;n.now=i||getNow();const f=n.now-u;n.remainingTTL=o-f}};let i=0;const getNow=()=>{const e=n.now();if(this.ttlResolution>0){i=e;const r=setTimeout((()=>i=0),this.ttlResolution);if(r.unref){r.unref()}}return e};this.getRemainingTTL=n=>{const s=this.#S.get(n);if(s===undefined){return 0}const o=e[s];const u=r[s];if(!o||!u){return Infinity}const f=(i||getNow())-u;return o-f};this.#z=n=>{const s=r[n];const o=e[n];return!!o&&!!s&&(i||getNow())-s>o}}#Y=()=>{};#V=()=>{};#q=()=>{};#z=()=>false;#G(){const e=new ZeroArray(this.#b);this.#E=0;this.#B=e;this.#X=r=>{this.#E-=e[r];e[r]=0};this.#Z=(e,r,n,i)=>{if(this.#U(r)){return 0}if(!isPosInt(n)){if(i){if(typeof i!=="function"){throw new TypeError("sizeCalculation must be a function")}n=i(r,e);if(!isPosInt(n)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation "+"or size must be set.")}}return n};this.#J=(r,n,i)=>{e[r]=n;if(this.#y){const n=this.#y-e[r];while(this.#E>n){this.#ee(true)}}this.#E+=e[r];if(i){i.entrySize=n;i.totalCalculatedSize=this.#E}}}#X=e=>{};#J=(e,r,n)=>{};#Z=(e,r,n,i)=>{if(n||i){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}return 0};*#H({allowStale:e=this.allowStale}={}){if(this.#A){for(let r=this.#T;true;){if(!this.#te(r)){break}if(e||!this.#z(r)){yield r}if(r===this.#R){break}else{r=this.#O[r]}}}}*#Q({allowStale:e=this.allowStale}={}){if(this.#A){for(let r=this.#R;true;){if(!this.#te(r)){break}if(e||!this.#z(r)){yield r}if(r===this.#T){break}else{r=this.#C[r]}}}}#te(e){return e!==undefined&&this.#S.get(this.#I[e])===e}*entries(){for(const e of this.#H()){if(this.#k[e]!==undefined&&this.#I[e]!==undefined&&!this.#U(this.#k[e])){yield[this.#I[e],this.#k[e]]}}}*rentries(){for(const e of this.#Q()){if(this.#k[e]!==undefined&&this.#I[e]!==undefined&&!this.#U(this.#k[e])){yield[this.#I[e],this.#k[e]]}}}*keys(){for(const e of this.#H()){const r=this.#I[e];if(r!==undefined&&!this.#U(this.#k[e])){yield r}}}*rkeys(){for(const e of this.#Q()){const r=this.#I[e];if(r!==undefined&&!this.#U(this.#k[e])){yield r}}}*values(){for(const e of this.#H()){const r=this.#k[e];if(r!==undefined&&!this.#U(this.#k[e])){yield this.#k[e]}}}*rvalues(){for(const e of this.#Q()){const r=this.#k[e];if(r!==undefined&&!this.#U(this.#k[e])){yield this.#k[e]}}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(const n of this.#H()){const i=this.#k[n];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined)continue;if(e(s,this.#I[n],this)){return this.get(this.#I[n],r)}}}forEach(e,r=this){for(const n of this.#H()){const i=this.#k[n];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined)continue;e.call(r,s,this.#I[n],this)}}rforEach(e,r=this){for(const n of this.#Q()){const i=this.#k[n];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined)continue;e.call(r,s,this.#I[n],this)}}purgeStale(){let e=false;for(const r of this.#Q({allowStale:true})){if(this.#z(r)){this.#K(this.#I[r],"expire");e=true}}return e}info(e){const r=this.#S.get(e);if(r===undefined)return undefined;const i=this.#k[r];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined)return undefined;const o={value:s};if(this.#N&&this.#L){const e=this.#N[r];const i=this.#L[r];if(e&&i){const r=e-(n.now()-i);o.ttl=r;o.start=Date.now()}}if(this.#B){o.size=this.#B[r]}return o}dump(){const e=[];for(const r of this.#H({allowStale:true})){const i=this.#I[r];const s=this.#k[r];const o=this.#U(s)?s.__staleWhileFetching:s;if(o===undefined||i===undefined)continue;const u={value:o};if(this.#N&&this.#L){u.ttl=this.#N[r];const e=n.now()-this.#L[r];u.start=Math.floor(Date.now()-e)}if(this.#B){u.size=this.#B[r]}e.unshift([i,u])}return e}load(e){this.clear();for(const[r,i]of e){if(i.start){const e=Date.now()-i.start;i.start=n.now()-e}this.set(r,i.value,i)}}set(e,r,n={}){if(r===undefined){this.delete(e);return this}const{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:f}=n;let{noUpdateTTL:p=this.noUpdateTTL}=n;const g=this.#Z(e,r,n.size||0,u);if(this.maxEntrySize&&g>this.maxEntrySize){if(f){f.set="miss";f.maxEntrySizeExceeded=true}this.#K(e,"set");return this}let b=this.#A===0?undefined:this.#S.get(e);if(b===undefined){b=this.#A===0?this.#T:this.#x.length!==0?this.#x.pop():this.#A===this.#b?this.#ee(false):this.#A;this.#I[b]=e;this.#k[b]=r;this.#S.set(e,b);this.#C[this.#T]=b;this.#O[b]=this.#T;this.#T=b;this.#A++;this.#J(b,g,f);if(f)f.set="add";p=false}else{this.#W(b);const n=this.#k[b];if(r!==n){if(this.#D&&this.#U(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:r}=n;if(r!==undefined&&!o){if(this.#M){this.#m?.(r,e,"set")}if(this.#F){this.#P?.push([r,e,"set"])}}}else if(!o){if(this.#M){this.#m?.(n,e,"set")}if(this.#F){this.#P?.push([n,e,"set"])}}this.#X(b);this.#J(b,g,f);this.#k[b]=r;if(f){f.set="replace";const e=n&&this.#U(n)?n.__staleWhileFetching:n;if(e!==undefined)f.oldValue=e}}else if(f){f.set="update"}}if(i!==0&&!this.#N){this.#$()}if(this.#N){if(!p){this.#q(b,i,s)}if(f)this.#V(f,b)}if(!o&&this.#F&&this.#P){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}return this}pop(){try{while(this.#A){const e=this.#k[this.#R];this.#ee(true);if(this.#U(e)){if(e.__staleWhileFetching){return e.__staleWhileFetching}}else if(e!==undefined){return e}}}finally{if(this.#F&&this.#P){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}}}#ee(e){const r=this.#R;const n=this.#I[r];const i=this.#k[r];if(this.#D&&this.#U(i)){i.__abortController.abort(new Error("evicted"))}else if(this.#M||this.#F){if(this.#M){this.#m?.(i,n,"evict")}if(this.#F){this.#P?.push([i,n,"evict"])}}this.#X(r);if(e){this.#I[r]=undefined;this.#k[r]=undefined;this.#x.push(r)}if(this.#A===1){this.#R=this.#T=0;this.#x.length=0}else{this.#R=this.#C[r]}this.#S.delete(n);this.#A--;return r}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r;const s=this.#S.get(e);if(s!==undefined){const e=this.#k[s];if(this.#U(e)&&e.__staleWhileFetching===undefined){return false}if(!this.#z(s)){if(n){this.#Y(s)}if(i){i.has="hit";this.#V(i,s)}return true}else if(i){i.has="stale";this.#V(i,s)}}else if(i){i.has="miss"}return false}peek(e,r={}){const{allowStale:n=this.allowStale}=r;const i=this.#S.get(e);if(i===undefined||!n&&this.#z(i)){return}const s=this.#k[i];return this.#U(s)?s.__staleWhileFetching:s}#j(e,r,n,i){const s=r===undefined?undefined:this.#k[r];if(this.#U(s)){return s}const u=new o;const{signal:f}=n;f?.addEventListener("abort",(()=>u.abort(f.reason)),{signal:u.signal});const p={signal:u.signal,options:n,context:i};const cb=(i,s=false)=>{const{aborted:o}=u.signal;const f=n.ignoreFetchAbort&&i!==undefined;if(n.status){if(o&&!s){n.status.fetchAborted=true;n.status.fetchError=u.signal.reason;if(f)n.status.fetchAbortIgnored=true}else{n.status.fetchResolved=true}}if(o&&!f&&!s){return fetchFail(u.signal.reason)}const b=g;if(this.#k[r]===g){if(i===undefined){if(b.__staleWhileFetching){this.#k[r]=b.__staleWhileFetching}else{this.#K(e,"fetch")}}else{if(n.status)n.status.fetchUpdated=true;this.set(e,i,p.options)}}return i};const eb=e=>{if(n.status){n.status.fetchRejected=true;n.status.fetchError=e}return fetchFail(e)};const fetchFail=i=>{const{aborted:s}=u.signal;const o=s&&n.allowStaleOnFetchAbort;const f=o||n.allowStaleOnFetchRejection;const p=f||n.noDeleteOnFetchRejection;const b=g;if(this.#k[r]===g){const n=!p||b.__staleWhileFetching===undefined;if(n){this.#K(e,"fetch")}else if(!o){this.#k[r]=b.__staleWhileFetching}}if(f){if(n.status&&b.__staleWhileFetching!==undefined){n.status.returnedStale=true}return b.__staleWhileFetching}else if(b.__returned===b){throw i}};const pcall=(r,i)=>{const o=this.#v?.(e,s,p);if(o&&o instanceof Promise){o.then((e=>r(e===undefined?undefined:e)),i)}u.signal.addEventListener("abort",(()=>{if(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort){r(undefined);if(n.allowStaleOnFetchAbort){r=e=>cb(e,true)}}}))};if(n.status)n.status.fetchDispatched=true;const g=new Promise(pcall).then(cb,eb);const b=Object.assign(g,{__abortController:u,__staleWhileFetching:s,__returned:undefined});if(r===undefined){this.set(e,b,{...p.options,status:undefined});r=this.#S.get(e)}else{this.#k[r]=b}return b}#U(e){if(!this.#D)return false;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof o}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:f=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:g=this.noUpdateTTL,noDeleteOnFetchRejection:b=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:_=this.allowStaleOnFetchRejection,ignoreFetchAbort:v=this.ignoreFetchAbort,allowStaleOnFetchAbort:w=this.allowStaleOnFetchAbort,context:I,forceRefresh:k=false,status:C,signal:R}=r;if(!this.#D){if(C)C.fetch="get";return this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:C})}const T={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:f,sizeCalculation:p,noUpdateTTL:g,noDeleteOnFetchRejection:b,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:w,ignoreFetchAbort:v,status:C,signal:R};let x=this.#S.get(e);if(x===undefined){if(C)C.fetch="miss";const r=this.#j(e,x,T,I);return r.__returned=r}else{const r=this.#k[x];if(this.#U(r)){const e=n&&r.__staleWhileFetching!==undefined;if(C){C.fetch="inflight";if(e)C.returnedStale=true}return e?r.__staleWhileFetching:r.__returned=r}const s=this.#z(x);if(!k&&!s){if(C)C.fetch="hit";this.#W(x);if(i){this.#Y(x)}if(C)this.#V(C,x);return r}const o=this.#j(e,x,T,I);const u=o.__staleWhileFetching!==undefined;const f=u&&n;if(C){C.fetch=s?"stale":"refresh";if(f&&s)C.returnedStale=true}return f?o.__staleWhileFetching:o.__returned=o}}async forceFetch(e,r={}){const n=await this.fetch(e,r);if(n===undefined)throw new Error("fetch() returned undefined");return n}memo(e,r={}){const n=this.#w;if(!n){throw new Error("no memoMethod provided to constructor")}const{context:i,forceRefresh:s,...o}=r;const u=this.get(e,o);if(!s&&u!==undefined)return u;const f=n(e,u,{options:o,context:i});this.set(e,f,o);return f}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r;const u=this.#S.get(e);if(u!==undefined){const r=this.#k[u];const f=this.#U(r);if(o)this.#V(o,u);if(this.#z(u)){if(o)o.get="stale";if(!f){if(!s){this.#K(e,"expire")}if(o&&n)o.returnedStale=true;return n?r:undefined}else{if(o&&n&&r.__staleWhileFetching!==undefined){o.returnedStale=true}return n?r.__staleWhileFetching:undefined}}else{if(o)o.get="hit";if(f){return r.__staleWhileFetching}this.#W(u);if(i){this.#Y(u)}return r}}else if(o){o.get="miss"}}#re(e,r){this.#O[r]=e;this.#C[e]=r}#W(e){if(e!==this.#T){if(e===this.#R){this.#R=this.#C[e]}else{this.#re(this.#O[e],this.#C[e])}this.#re(this.#T,e);this.#T=e}}delete(e){return this.#K(e,"delete")}#K(e,r){let n=false;if(this.#A!==0){const i=this.#S.get(e);if(i!==undefined){n=true;if(this.#A===1){this.#ne(r)}else{this.#X(i);const n=this.#k[i];if(this.#U(n)){n.__abortController.abort(new Error("deleted"))}else if(this.#M||this.#F){if(this.#M){this.#m?.(n,e,r)}if(this.#F){this.#P?.push([n,e,r])}}this.#S.delete(e);this.#I[i]=undefined;this.#k[i]=undefined;if(i===this.#T){this.#T=this.#O[i]}else if(i===this.#R){this.#R=this.#C[i]}else{const e=this.#O[i];this.#C[e]=this.#C[i];const r=this.#C[i];this.#O[r]=this.#O[i]}this.#A--;this.#x.push(i)}}}if(this.#F&&this.#P?.length){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}return n}clear(){return this.#ne("delete")}#ne(e){for(const r of this.#Q({allowStale:true})){const n=this.#k[r];if(this.#U(n)){n.__abortController.abort(new Error("deleted"))}else{const i=this.#I[r];if(this.#M){this.#m?.(n,i,e)}if(this.#F){this.#P?.push([n,i,e])}}}this.#S.clear();this.#k.fill(undefined);this.#I.fill(undefined);if(this.#N&&this.#L){this.#N.fill(0);this.#L.fill(0)}if(this.#B){this.#B.fill(0)}this.#R=0;this.#T=0;this.#x.length=0;this.#E=0;this.#A=0;if(this.#F&&this.#P){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}}}r.LRUCache=LRUCache},6005:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.assertValidPattern=void 0;const n=1024*64;const assertValidPattern=e=>{if(typeof e!=="string"){throw new TypeError("invalid pattern")}if(e.length>n){throw new TypeError("pattern is too long")}};r.assertValidPattern=assertValidPattern},26175:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AST=void 0;const i=n(96638);const s=n(38455);const o=new Set(["!","?","+","*","@"]);const isExtglobType=e=>o.has(e);const u="(?!(?:^|/)\\.\\.?(?:$|/))";const f="(?!\\.)";const p=new Set(["[","."]);const g=new Set(["..","."]);const b=new Set("().*{}+?[]^$\\!");const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const _="[^/]";const v=_+"*?";const w=_+"+?";class AST{type;#ie;#se;#oe=false;#ae=[];#le;#ce;#ue;#fe=false;#he;#de;#pe=false;constructor(e,r,n={}){this.type=e;if(e)this.#se=true;this.#le=r;this.#ie=this.#le?this.#le.#ie:this;this.#he=this.#ie===this?n:this.#ie.#he;this.#ue=this.#ie===this?[]:this.#ie.#ue;if(e==="!"&&!this.#ie.#fe)this.#ue.push(this);this.#ce=this.#le?this.#le.#ae.length:0}get hasMagic(){if(this.#se!==undefined)return this.#se;for(const e of this.#ae){if(typeof e==="string")continue;if(e.type||e.hasMagic)return this.#se=true}return this.#se}toString(){if(this.#de!==undefined)return this.#de;if(!this.type){return this.#de=this.#ae.map((e=>String(e))).join("")}else{return this.#de=this.type+"("+this.#ae.map((e=>String(e))).join("|")+")"}}#ge(){if(this!==this.#ie)throw new Error("should only call on root");if(this.#fe)return this;this.toString();this.#fe=true;let e;while(e=this.#ue.pop()){if(e.type!=="!")continue;let r=e;let n=r.#le;while(n){for(let i=r.#ce+1;!n.type&&i<n.#ae.length;i++){for(const r of e.#ae){if(typeof r==="string"){throw new Error("string part in extglob AST??")}r.copyIn(n.#ae[i])}}r=n;n=r.#le}}return this}push(...e){for(const r of e){if(r==="")continue;if(typeof r!=="string"&&!(r instanceof AST&&r.#le===this)){throw new Error("invalid part: "+r)}this.#ae.push(r)}}toJSON(){const e=this.type===null?this.#ae.slice().map((e=>typeof e==="string"?e:e.toJSON())):[this.type,...this.#ae.map((e=>e.toJSON()))];if(this.isStart()&&!this.type)e.unshift([]);if(this.isEnd()&&(this===this.#ie||this.#ie.#fe&&this.#le?.type==="!")){e.push({})}return e}isStart(){if(this.#ie===this)return true;if(!this.#le?.isStart())return false;if(this.#ce===0)return true;const e=this.#le;for(let r=0;r<this.#ce;r++){const n=e.#ae[r];if(!(n instanceof AST&&n.type==="!")){return false}}return true}isEnd(){if(this.#ie===this)return true;if(this.#le?.type==="!")return true;if(!this.#le?.isEnd())return false;if(!this.type)return this.#le?.isEnd();const e=this.#le?this.#le.#ae.length:0;return this.#ce===e-1}copyIn(e){if(typeof e==="string")this.push(e);else this.push(e.clone(this))}clone(e){const r=new AST(this.type,e);for(const e of this.#ae){r.copyIn(e)}return r}static#be(e,r,n,i){let s=false;let o=false;let u=-1;let f=false;if(r.type===null){let p=n;let g="";while(p<e.length){const n=e.charAt(p++);if(s||n==="\\"){s=!s;g+=n;continue}if(o){if(p===u+1){if(n==="^"||n==="!"){f=true}}else if(n==="]"&&!(p===u+2&&f)){o=false}g+=n;continue}else if(n==="["){o=true;u=p;f=false;g+=n;continue}if(!i.noext&&isExtglobType(n)&&e.charAt(p)==="("){r.push(g);g="";const s=new AST(n,r);p=AST.#be(e,s,p,i);r.push(s);continue}g+=n}r.push(g);return p}let p=n+1;let g=new AST(null,r);const b=[];let _="";while(p<e.length){const n=e.charAt(p++);if(s||n==="\\"){s=!s;_+=n;continue}if(o){if(p===u+1){if(n==="^"||n==="!"){f=true}}else if(n==="]"&&!(p===u+2&&f)){o=false}_+=n;continue}else if(n==="["){o=true;u=p;f=false;_+=n;continue}if(isExtglobType(n)&&e.charAt(p)==="("){g.push(_);_="";const r=new AST(n,g);g.push(r);p=AST.#be(e,r,p,i);continue}if(n==="|"){g.push(_);_="";b.push(g);g=new AST(null,r);continue}if(n===")"){if(_===""&&r.#ae.length===0){r.#pe=true}g.push(_);_="";r.push(...b,g);return p}_+=n}r.type=null;r.#se=undefined;r.#ae=[e.substring(n-1)];return p}static fromGlob(e,r={}){const n=new AST(null,undefined,r);AST.#be(e,n,0,r);return n}toMMPattern(){if(this!==this.#ie)return this.#ie.toMMPattern();const e=this.toString();const[r,n,i,s]=this.toRegExpSource();const o=i||this.#se||this.#he.nocase&&!this.#he.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase();if(!o){return n}const u=(this.#he.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,u),{_src:r,_glob:e})}get options(){return this.#he}toRegExpSource(e){const r=e??!!this.#he.dot;if(this.#ie===this)this.#ge();if(!this.type){const n=this.isStart()&&this.isEnd();const i=this.#ae.map((r=>{const[i,s,o,u]=typeof r==="string"?AST.#ye(r,this.#se,n):r.toRegExpSource(e);this.#se=this.#se||o;this.#oe=this.#oe||u;return i})).join("");let o="";if(this.isStart()){if(typeof this.#ae[0]==="string"){const n=this.#ae.length===1&&g.has(this.#ae[0]);if(!n){const n=p;const s=r&&n.has(i.charAt(0))||i.startsWith("\\.")&&n.has(i.charAt(2))||i.startsWith("\\.\\.")&&n.has(i.charAt(4));const g=!r&&!e&&n.has(i.charAt(0));o=s?u:g?f:""}}}let b="";if(this.isEnd()&&this.#ie.#fe&&this.#le?.type==="!"){b="(?:$|\\/)"}const _=o+i+b;return[_,(0,s.unescape)(i),this.#se=!!this.#se,this.#oe]}const n=this.type==="*"||this.type==="+";const i=this.type==="!"?"(?:(?!(?:":"(?:";let o=this.#me(r);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const e=this.toString();this.#ae=[e];this.type=null;this.#se=undefined;return[e,(0,s.unescape)(this.toString()),false,false]}let b=!n||e||r||!f?"":this.#me(true);if(b===o){b=""}if(b){o=`(?:${o})(?:${b})*?`}let _="";if(this.type==="!"&&this.#pe){_=(this.isStart()&&!r?f:"")+w}else{const n=this.type==="!"?"))"+(this.isStart()&&!r&&!e?f:"")+v+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&b?")":this.type==="*"&&b?`)?`:`)${this.type}`;_=i+o+n}return[_,(0,s.unescape)(o),this.#se=!!this.#se,this.#oe]}#me(e){return this.#ae.map((r=>{if(typeof r==="string"){throw new Error("string type in extglob ast??")}const[n,i,s,o]=r.toRegExpSource(e);this.#oe=this.#oe||o;return n})).filter((e=>!(this.isStart()&&this.isEnd())||!!e)).join("|")}static#ye(e,r,n=false){let o=false;let u="";let f=false;for(let s=0;s<e.length;s++){const p=e.charAt(s);if(o){o=false;u+=(b.has(p)?"\\":"")+p;continue}if(p==="\\"){if(s===e.length-1){u+="\\\\"}else{o=true}continue}if(p==="["){const[n,o,p,g]=(0,i.parseClass)(e,s);if(p){u+=n;f=f||o;s+=p-1;r=r||g;continue}}if(p==="*"){if(n&&e==="*")u+=w;else u+=v;r=true;continue}if(p==="?"){u+=_;r=true;continue}u+=regExpEscape(p)}return[u,(0,s.unescape)(e),!!r,f]}}r.AST=AST},96638:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.parseClass=void 0;const n={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",true],"[:alpha:]":["\\p{L}\\p{Nl}",true],"[:ascii:]":["\\x"+"00-\\x"+"7f",false],"[:blank:]":["\\p{Zs}\\t",true],"[:cntrl:]":["\\p{Cc}",true],"[:digit:]":["\\p{Nd}",true],"[:graph:]":["\\p{Z}\\p{C}",true,true],"[:lower:]":["\\p{Ll}",true],"[:print:]":["\\p{C}",true],"[:punct:]":["\\p{P}",true],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",true],"[:upper:]":["\\p{Lu}",true],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",true],"[:xdigit:]":["A-Fa-f0-9",false]};const braceEscape=e=>e.replace(/[[\]\\-]/g,"\\$&");const regexpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const rangesToString=e=>e.join("");const parseClass=(e,r)=>{const i=r;if(e.charAt(i)!=="["){throw new Error("not in a brace expression")}const s=[];const o=[];let u=i+1;let f=false;let p=false;let g=false;let b=false;let _=i;let v="";e:while(u<e.length){const r=e.charAt(u);if((r==="!"||r==="^")&&u===i+1){b=true;u++;continue}if(r==="]"&&f&&!g){_=u+1;break}f=true;if(r==="\\"){if(!g){g=true;u++;continue}}if(r==="["&&!g){for(const[r,[f,g,b]]of Object.entries(n)){if(e.startsWith(r,u)){if(v){return["$.",false,e.length-i,true]}u+=r.length;if(b)o.push(f);else s.push(f);p=p||g;continue e}}}g=false;if(v){if(r>v){s.push(braceEscape(v)+"-"+braceEscape(r))}else if(r===v){s.push(braceEscape(r))}v="";u++;continue}if(e.startsWith("-]",u+1)){s.push(braceEscape(r+"-"));u+=2;continue}if(e.startsWith("-",u+1)){v=r;u+=2;continue}s.push(braceEscape(r));u++}if(_<u){return["",false,0,false]}if(!s.length&&!o.length){return["$.",false,e.length-i,true]}if(o.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!b){const e=s[0].length===2?s[0].slice(-1):s[0];return[regexpEscape(e),false,_-i,false]}const w="["+(b?"^":"")+rangesToString(s)+"]";const I="["+(b?"":"^")+rangesToString(o)+"]";const k=s.length&&o.length?"("+w+"|"+I+")":s.length?w:I;return[k,p,_-i,true]};r.parseClass=parseClass},44820:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.escape=void 0;const escape=(e,{windowsPathsNoEscape:r=false}={})=>r?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");r.escape=escape},33791:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.unescape=r.escape=r.AST=r.Minimatch=r.match=r.makeRe=r.braceExpand=r.defaults=r.filter=r.GLOBSTAR=r.sep=r.minimatch=void 0;const s=i(n(56083));const o=n(6005);const u=n(26175);const f=n(44820);const p=n(38455);const minimatch=(e,r,n={})=>{(0,o.assertValidPattern)(r);if(!n.nocomment&&r.charAt(0)==="#"){return false}return new Minimatch(r,n).match(e)};r.minimatch=minimatch;const g=/^\*+([^+@!?\*\[\(]*)$/;const starDotExtTest=e=>r=>!r.startsWith(".")&&r.endsWith(e);const starDotExtTestDot=e=>r=>r.endsWith(e);const starDotExtTestNocase=e=>{e=e.toLowerCase();return r=>!r.startsWith(".")&&r.toLowerCase().endsWith(e)};const starDotExtTestNocaseDot=e=>{e=e.toLowerCase();return r=>r.toLowerCase().endsWith(e)};const b=/^\*+\.\*+$/;const starDotStarTest=e=>!e.startsWith(".")&&e.includes(".");const starDotStarTestDot=e=>e!=="."&&e!==".."&&e.includes(".");const _=/^\.\*+$/;const dotStarTest=e=>e!=="."&&e!==".."&&e.startsWith(".");const v=/^\*+$/;const starTest=e=>e.length!==0&&!e.startsWith(".");const starTestDot=e=>e.length!==0&&e!=="."&&e!=="..";const w=/^\?+([^+@!?\*\[\(]*)?$/;const qmarksTestNocase=([e,r=""])=>{const n=qmarksTestNoExt([e]);if(!r)return n;r=r.toLowerCase();return e=>n(e)&&e.toLowerCase().endsWith(r)};const qmarksTestNocaseDot=([e,r=""])=>{const n=qmarksTestNoExtDot([e]);if(!r)return n;r=r.toLowerCase();return e=>n(e)&&e.toLowerCase().endsWith(r)};const qmarksTestDot=([e,r=""])=>{const n=qmarksTestNoExtDot([e]);return!r?n:e=>n(e)&&e.endsWith(r)};const qmarksTest=([e,r=""])=>{const n=qmarksTestNoExt([e]);return!r?n:e=>n(e)&&e.endsWith(r)};const qmarksTestNoExt=([e])=>{const r=e.length;return e=>e.length===r&&!e.startsWith(".")};const qmarksTestNoExtDot=([e])=>{const r=e.length;return e=>e.length===r&&e!=="."&&e!==".."};const I=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";const k={win32:{sep:"\\"},posix:{sep:"/"}};r.sep=I==="win32"?k.win32.sep:k.posix.sep;r.minimatch.sep=r.sep;r.GLOBSTAR=Symbol("globstar **");r.minimatch.GLOBSTAR=r.GLOBSTAR;const C="[^/]";const R=C+"*?";const T="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const x="(?:(?!(?:\\/|^)\\.).)*?";const filter=(e,n={})=>i=>(0,r.minimatch)(i,e,n);r.filter=filter;r.minimatch.filter=r.filter;const ext=(e,r={})=>Object.assign({},e,r);const defaults=e=>{if(!e||typeof e!=="object"||!Object.keys(e).length){return r.minimatch}const n=r.minimatch;const m=(r,i,s={})=>n(r,i,ext(e,s));return Object.assign(m,{Minimatch:class Minimatch extends n.Minimatch{constructor(r,n={}){super(r,ext(e,n))}static defaults(r){return n.defaults(ext(e,r)).Minimatch}},AST:class AST extends n.AST{constructor(r,n,i={}){super(r,n,ext(e,i))}static fromGlob(r,i={}){return n.AST.fromGlob(r,ext(e,i))}},unescape:(r,i={})=>n.unescape(r,ext(e,i)),escape:(r,i={})=>n.escape(r,ext(e,i)),filter:(r,i={})=>n.filter(r,ext(e,i)),defaults:r=>n.defaults(ext(e,r)),makeRe:(r,i={})=>n.makeRe(r,ext(e,i)),braceExpand:(r,i={})=>n.braceExpand(r,ext(e,i)),match:(r,i,s={})=>n.match(r,i,ext(e,s)),sep:n.sep,GLOBSTAR:r.GLOBSTAR})};r.defaults=defaults;r.minimatch.defaults=r.defaults;const braceExpand=(e,r={})=>{(0,o.assertValidPattern)(e);if(r.nobrace||!/\{(?:(?!\{).)*\}/.test(e)){return[e]}return(0,s.default)(e)};r.braceExpand=braceExpand;r.minimatch.braceExpand=r.braceExpand;const makeRe=(e,r={})=>new Minimatch(e,r).makeRe();r.makeRe=makeRe;r.minimatch.makeRe=r.makeRe;const match=(e,r,n={})=>{const i=new Minimatch(r,n);e=e.filter((e=>i.match(e)));if(i.options.nonull&&!e.length){e.push(r)}return e};r.match=match;r.minimatch.match=r.match;const P=/[?*]|[+@!]\(.*?\)|\[|\]/;const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Minimatch{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,o.assertValidPattern)(e);r=r||{};this.options=r;this.pattern=e;this.platform=r.platform||I;this.isWindows=this.platform==="win32";this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.preserveMultipleSlashes=!!r.preserveMultipleSlashes;this.regexp=null;this.negate=false;this.nonegate=!!r.nonegate;this.comment=false;this.empty=false;this.partial=!!r.partial;this.nocase=!!this.options.nocase;this.windowsNoMagicRoot=r.windowsNoMagicRoot!==undefined?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase);this.globSet=[];this.globParts=[];this.set=[];this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1){return true}for(const e of this.set){for(const r of e){if(typeof r!=="string")return true}}return false}debug(...e){}make(){const e=this.pattern;const r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=true;return}if(!e){this.empty=true;return}this.parseNegate();this.globSet=[...new Set(this.braceExpand())];if(r.debug){this.debug=(...e)=>console.error(...e)}this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n);this.debug(this.pattern,this.globParts);let i=this.globParts.map(((e,r,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const r=e[0]===""&&e[1]===""&&(e[2]==="?"||!P.test(e[2]))&&!P.test(e[3]);const n=/^[a-z]:/i.test(e[0]);if(r){return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))]}else if(n){return[e[0],...e.slice(1).map((e=>this.parse(e)))]}}return e.map((e=>this.parse(e)))}));this.debug(this.pattern,i);this.set=i.filter((e=>e.indexOf(false)===-1));if(this.isWindows){for(let e=0;e<this.set.length;e++){const r=this.set[e];if(r[0]===""&&r[1]===""&&this.globParts[e][2]==="?"&&typeof r[3]==="string"&&/^[a-z]:$/i.test(r[3])){r[2]="?"}}}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar){for(let r=0;r<e.length;r++){for(let n=0;n<e[r].length;n++){if(e[r][n]==="**"){e[r][n]="*"}}}}const{optimizationLevel:r=1}=this.options;if(r>=2){e=this.firstPhasePreProcess(e);e=this.secondPhasePreProcess(e)}else if(r>=1){e=this.levelOneOptimize(e)}else{e=this.adjascentGlobstarOptimize(e)}return e}adjascentGlobstarOptimize(e){return e.map((e=>{let r=-1;while(-1!==(r=e.indexOf("**",r+1))){let n=r;while(e[n+1]==="**"){n++}if(n!==r){e.splice(r,n-r)}}return e}))}levelOneOptimize(e){return e.map((e=>{e=e.reduce(((e,r)=>{const n=e[e.length-1];if(r==="**"&&n==="**"){return e}if(r===".."){if(n&&n!==".."&&n!=="."&&n!=="**"){e.pop();return e}}e.push(r);return e}),[]);return e.length===0?[""]:e}))}levelTwoFileOptimize(e){if(!Array.isArray(e)){e=this.slashSplit(e)}let r=false;do{r=false;if(!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const i=e[n];if(n===1&&i===""&&e[0]==="")continue;if(i==="."||i===""){r=true;e.splice(n,1);n--}}if(e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")){r=true;e.pop()}}let n=0;while(-1!==(n=e.indexOf("..",n+1))){const i=e[n-1];if(i&&i!=="."&&i!==".."&&i!=="**"){r=true;e.splice(n-1,2);n-=2}}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=false;do{r=false;for(let n of e){let i=-1;while(-1!==(i=n.indexOf("**",i+1))){let s=i;while(n[s+1]==="**"){s++}if(s>i){n.splice(i+1,s-i)}let o=n[i+1];const u=n[i+2];const f=n[i+3];if(o!=="..")continue;if(!u||u==="."||u===".."||!f||f==="."||f===".."){continue}r=true;n.splice(i,1);const p=n.slice(0);p[i]="**";e.push(p);i--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const i=n[e];if(e===1&&i===""&&n[0]==="")continue;if(i==="."||i===""){r=true;n.splice(e,1);e--}}if(n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")){r=true;n.pop()}}let s=0;while(-1!==(s=n.indexOf("..",s+1))){const e=n[s-1];if(e&&e!=="."&&e!==".."&&e!=="**"){r=true;const e=s===1&&n[s+1]==="**";const i=e?["."]:[];n.splice(s-1,2,...i);if(n.length===0)n.push("");s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++){for(let n=r+1;n<e.length;n++){const i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[];e[n]=i;break}}}return e.filter((e=>e.length))}partsMatch(e,r,n=false){let i=0;let s=0;let o=[];let u="";while(i<e.length&&s<r.length){if(e[i]===r[s]){o.push(u==="b"?r[s]:e[i]);i++;s++}else if(n&&e[i]==="**"&&r[s]===e[i+1]){o.push(e[i]);i++}else if(n&&r[s]==="**"&&e[i]===r[s+1]){o.push(r[s]);s++}else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(u==="b")return false;u="a";o.push(e[i]);i++;s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(u==="a")return false;u="b";o.push(r[s]);i++;s++}else{return false}}return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;const e=this.pattern;let r=false;let n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++){r=!r;n++}if(n)this.pattern=e.slice(n);this.negate=r}matchOne(e,n,i=false){const s=this.options;if(this.isWindows){const r=typeof e[0]==="string"&&/^[a-z]:$/i.test(e[0]);const i=!r&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]);const s=typeof n[0]==="string"&&/^[a-z]:$/i.test(n[0]);const o=!s&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]==="string"&&/^[a-z]:$/i.test(n[3]);const u=i?3:r?0:undefined;const f=o?3:s?0:undefined;if(typeof u==="number"&&typeof f==="number"){const[r,i]=[e[u],n[f]];if(r.toLowerCase()===i.toLowerCase()){n[f]=r;if(f>u){n=n.slice(f)}else if(u>f){e=e.slice(u)}}}}const{optimizationLevel:o=1}=this.options;if(o>=2){e=this.levelTwoFileOptimize(e)}this.debug("matchOne",this,{file:e,pattern:n});this.debug("matchOne",e.length,n.length);for(var u=0,f=0,p=e.length,g=n.length;u<p&&f<g;u++,f++){this.debug("matchOne loop");var b=n[f];var _=e[u];this.debug(n,b,_);if(b===false){return false}if(b===r.GLOBSTAR){this.debug("GLOBSTAR",[n,b,_]);var v=u;var w=f+1;if(w===g){this.debug("** at the end");for(;u<p;u++){if(e[u]==="."||e[u]===".."||!s.dot&&e[u].charAt(0)===".")return false}return true}while(v<p){var I=e[v];this.debug("\nglobstar while",e,v,n,w,I);if(this.matchOne(e.slice(v),n.slice(w),i)){this.debug("globstar found match!",v,p,I);return true}else{if(I==="."||I===".."||!s.dot&&I.charAt(0)==="."){this.debug("dot detected!",e,v,n,w);break}this.debug("globstar swallow a segment, and continue");v++}}if(i){this.debug("\n>>> no match, partial?",e,v,n,w);if(v===p){return true}}return false}let o;if(typeof b==="string"){o=_===b;this.debug("string match",b,_,o)}else{o=b.test(_);this.debug("pattern match",b,_,o)}if(!o)return false}if(u===p&&f===g){return true}else if(u===p){return i}else if(f===g){return u===p-1&&e[u]===""}else{throw new Error("wtf?")}}braceExpand(){return(0,r.braceExpand)(this.pattern,this.options)}parse(e){(0,o.assertValidPattern)(e);const n=this.options;if(e==="**")return r.GLOBSTAR;if(e==="")return"";let i;let s=null;if(i=e.match(v)){s=n.dot?starTestDot:starTest}else if(i=e.match(g)){s=(n.nocase?n.dot?starDotExtTestNocaseDot:starDotExtTestNocase:n.dot?starDotExtTestDot:starDotExtTest)(i[1])}else if(i=e.match(w)){s=(n.nocase?n.dot?qmarksTestNocaseDot:qmarksTestNocase:n.dot?qmarksTestDot:qmarksTest)(i)}else if(i=e.match(b)){s=n.dot?starDotStarTestDot:starDotStarTest}else if(i=e.match(_)){s=dotStarTest}const f=u.AST.fromGlob(e,this.options).toMMPattern();if(s&&typeof f==="object"){Reflect.defineProperty(f,"test",{value:s})}return f}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const e=this.set;if(!e.length){this.regexp=false;return this.regexp}const n=this.options;const i=n.noglobstar?R:n.dot?T:x;const s=new Set(n.nocase?["i"]:[]);let o=e.map((e=>{const n=e.map((e=>{if(e instanceof RegExp){for(const r of e.flags.split(""))s.add(r)}return typeof e==="string"?regExpEscape(e):e===r.GLOBSTAR?r.GLOBSTAR:e._src}));n.forEach(((e,s)=>{const o=n[s+1];const u=n[s-1];if(e!==r.GLOBSTAR||u===r.GLOBSTAR){return}if(u===undefined){if(o!==undefined&&o!==r.GLOBSTAR){n[s+1]="(?:\\/|"+i+"\\/)?"+o}else{n[s]=i}}else if(o===undefined){n[s-1]=u+"(?:\\/|"+i+")?"}else if(o!==r.GLOBSTAR){n[s-1]=u+"(?:\\/|\\/"+i+"\\/)"+o;n[s+1]=r.GLOBSTAR}}));return n.filter((e=>e!==r.GLOBSTAR)).join("/")})).join("|");const[u,f]=e.length>1?["(?:",")"]:["",""];o="^"+u+o+f+"$";if(this.negate)o="^(?!"+o+").+$";try{this.regexp=new RegExp(o,[...s].join(""))}catch(e){this.regexp=false}return this.regexp}slashSplit(e){if(this.preserveMultipleSlashes){return e.split("/")}else if(this.isWindows&&/^\/\/[^\/]+/.test(e)){return["",...e.split(/\/+/)]}else{return e.split(/\/+/)}}match(e,r=this.partial){this.debug("match",e,this.pattern);if(this.comment){return false}if(this.empty){return e===""}if(e==="/"&&r){return true}const n=this.options;if(this.isWindows){e=e.split("\\").join("/")}const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o){for(let e=i.length-2;!o&&e>=0;e--){o=i[e]}}for(let e=0;e<s.length;e++){const u=s[e];let f=i;if(n.matchBase&&u.length===1){f=[o]}const p=this.matchOne(f,u,r);if(p){if(n.flipNegate){return true}return!this.negate}}if(n.flipNegate){return false}return this.negate}static defaults(e){return r.minimatch.defaults(e).Minimatch}}r.Minimatch=Minimatch;var B=n(26175);Object.defineProperty(r,"AST",{enumerable:true,get:function(){return B.AST}});var L=n(44820);Object.defineProperty(r,"escape",{enumerable:true,get:function(){return L.escape}});var U=n(38455);Object.defineProperty(r,"unescape",{enumerable:true,get:function(){return U.unescape}});r.minimatch.AST=u.AST;r.minimatch.Minimatch=Minimatch;r.minimatch.escape=f.escape;r.minimatch.unescape=p.unescape},38455:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.unescape=void 0;const unescape=(e,{windowsPathsNoEscape:r=false}={})=>r?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");r.unescape=unescape},99243:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:true});r.Minipass=r.isWritable=r.isReadable=r.isStream=void 0;const s=typeof process==="object"&&process?process:{stdout:null,stderr:null};const o=n(78474);const u=i(n(57075));const f=n(46193);const isStream=e=>!!e&&typeof e==="object"&&(e instanceof Minipass||e instanceof u.default||(0,r.isReadable)(e)||(0,r.isWritable)(e));r.isStream=isStream;const isReadable=e=>!!e&&typeof e==="object"&&e instanceof o.EventEmitter&&typeof e.pipe==="function"&&e.pipe!==u.default.Writable.prototype.pipe;r.isReadable=isReadable;const isWritable=e=>!!e&&typeof e==="object"&&e instanceof o.EventEmitter&&typeof e.write==="function"&&typeof e.end==="function";r.isWritable=isWritable;const p=Symbol("EOF");const g=Symbol("maybeEmitEnd");const b=Symbol("emittedEnd");const _=Symbol("emittingEnd");const v=Symbol("emittedError");const w=Symbol("closed");const I=Symbol("read");const k=Symbol("flush");const C=Symbol("flushChunk");const R=Symbol("encoding");const T=Symbol("decoder");const x=Symbol("flowing");const P=Symbol("paused");const B=Symbol("resume");const L=Symbol("buffer");const U=Symbol("pipes");const j=Symbol("bufferLength");const W=Symbol("bufferPush");const Q=Symbol("bufferShift");const z=Symbol("objectMode");const G=Symbol("destroyed");const q=Symbol("error");const Y=Symbol("emitData");const V=Symbol("emitEnd");const J=Symbol("emitEnd2");const ee=Symbol("async");const te=Symbol("abort");const re=Symbol("aborted");const ne=Symbol("signal");const ie=Symbol("dataListeners");const se=Symbol("discarded");const defer=e=>Promise.resolve().then(e);const nodefer=e=>e();const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBufferLike=e=>e instanceof ArrayBuffer||!!e&&typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);class Pipe{src;dest;opts;ondrain;constructor(e,r,n){this.src=e;this.dest=r;this.opts=n;this.ondrain=()=>e[B]();this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(e,r,n){super(e,r,n);this.proxyErrors=e=>r.emit("error",e);e.on("error",this.proxyErrors)}}const isObjectModeOptions=e=>!!e.objectMode;const isEncodingOptions=e=>!e.objectMode&&!!e.encoding&&e.encoding!=="buffer";class Minipass extends o.EventEmitter{[x]=false;[P]=false;[U]=[];[L]=[];[z];[R];[ee];[T];[p]=false;[b]=false;[_]=false;[w]=false;[v]=null;[j]=0;[G]=false;[ne];[re]=false;[ie]=0;[se]=false;writable=true;readable=true;constructor(...e){const r=e[0]||{};super();if(r.objectMode&&typeof r.encoding==="string"){throw new TypeError("Encoding and objectMode may not be used together")}if(isObjectModeOptions(r)){this[z]=true;this[R]=null}else if(isEncodingOptions(r)){this[R]=r.encoding;this[z]=false}else{this[z]=false;this[R]=null}this[ee]=!!r.async;this[T]=this[R]?new f.StringDecoder(this[R]):null;if(r&&r.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[L]})}if(r&&r.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[U]})}const{signal:n}=r;if(n){this[ne]=n;if(n.aborted){this[te]()}else{n.addEventListener("abort",(()=>this[te]()))}}}get bufferLength(){return this[j]}get encoding(){return this[R]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[z]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get["async"](){return this[ee]}set["async"](e){this[ee]=this[ee]||!!e}[te](){this[re]=true;this.emit("abort",this[ne]?.reason);this.destroy(this[ne]?.reason)}get aborted(){return this[re]}set aborted(e){}write(e,r,n){if(this[re])return false;if(this[p])throw new Error("write after end");if(this[G]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof r==="function"){n=r;r="utf8"}if(!r)r="utf8";const i=this[ee]?defer:nodefer;if(!this[z]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(isArrayBufferLike(e)){e=Buffer.from(e)}else if(typeof e!=="string"){throw new Error("Non-contiguous data written to non-objectMode stream")}}if(this[z]){if(this[x]&&this[j]!==0)this[k](true);if(this[x])this.emit("data",e);else this[W](e);if(this[j]!==0)this.emit("readable");if(n)i(n);return this[x]}if(!e.length){if(this[j]!==0)this.emit("readable");if(n)i(n);return this[x]}if(typeof e==="string"&&!(r===this[R]&&!this[T]?.lastNeed)){e=Buffer.from(e,r)}if(Buffer.isBuffer(e)&&this[R]){e=this[T].write(e)}if(this[x]&&this[j]!==0)this[k](true);if(this[x])this.emit("data",e);else this[W](e);if(this[j]!==0)this.emit("readable");if(n)i(n);return this[x]}read(e){if(this[G])return null;this[se]=false;if(this[j]===0||e===0||e&&e>this[j]){this[g]();return null}if(this[z])e=null;if(this[L].length>1&&!this[z]){this[L]=[this[R]?this[L].join(""):Buffer.concat(this[L],this[j])]}const r=this[I](e||null,this[L][0]);this[g]();return r}[I](e,r){if(this[z])this[Q]();else{const n=r;if(e===n.length||e===null)this[Q]();else if(typeof n==="string"){this[L][0]=n.slice(e);r=n.slice(0,e);this[j]-=e}else{this[L][0]=n.subarray(e);r=n.subarray(0,e);this[j]-=e}}this.emit("data",r);if(!this[L].length&&!this[p])this.emit("drain");return r}end(e,r,n){if(typeof e==="function"){n=e;e=undefined}if(typeof r==="function"){n=r;r="utf8"}if(e!==undefined)this.write(e,r);if(n)this.once("end",n);this[p]=true;this.writable=false;if(this[x]||!this[P])this[g]();return this}[B](){if(this[G])return;if(!this[ie]&&!this[U].length){this[se]=true}this[P]=false;this[x]=true;this.emit("resume");if(this[L].length)this[k]();else if(this[p])this[g]();else this.emit("drain")}resume(){return this[B]()}pause(){this[x]=false;this[P]=true;this[se]=false}get destroyed(){return this[G]}get flowing(){return this[x]}get paused(){return this[P]}[W](e){if(this[z])this[j]+=1;else this[j]+=e.length;this[L].push(e)}[Q](){if(this[z])this[j]-=1;else this[j]-=this[L][0].length;return this[L].shift()}[k](e=false){do{}while(this[C](this[Q]())&&this[L].length);if(!e&&!this[L].length&&!this[p])this.emit("drain")}[C](e){this.emit("data",e);return this[x]}pipe(e,r){if(this[G])return e;this[se]=false;const n=this[b];r=r||{};if(e===s.stdout||e===s.stderr)r.end=false;else r.end=r.end!==false;r.proxyErrors=!!r.proxyErrors;if(n){if(r.end)e.end()}else{this[U].push(!r.proxyErrors?new Pipe(this,e,r):new PipeProxyErrors(this,e,r));if(this[ee])defer((()=>this[B]()));else this[B]()}return e}unpipe(e){const r=this[U].find((r=>r.dest===e));if(r){if(this[U].length===1){if(this[x]&&this[ie]===0){this[x]=false}this[U]=[]}else this[U].splice(this[U].indexOf(r),1);r.unpipe()}}addListener(e,r){return this.on(e,r)}on(e,r){const n=super.on(e,r);if(e==="data"){this[se]=false;this[ie]++;if(!this[U].length&&!this[x]){this[B]()}}else if(e==="readable"&&this[j]!==0){super.emit("readable")}else if(isEndish(e)&&this[b]){super.emit(e);this.removeAllListeners(e)}else if(e==="error"&&this[v]){const e=r;if(this[ee])defer((()=>e.call(this,this[v])));else e.call(this,this[v])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){const n=super.off(e,r);if(e==="data"){this[ie]=this.listeners("data").length;if(this[ie]===0&&!this[se]&&!this[U].length){this[x]=false}}return n}removeAllListeners(e){const r=super.removeAllListeners(e);if(e==="data"||e===undefined){this[ie]=0;if(!this[se]&&!this[U].length){this[x]=false}}return r}get emittedEnd(){return this[b]}[g](){if(!this[_]&&!this[b]&&!this[G]&&this[L].length===0&&this[p]){this[_]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[w])this.emit("close");this[_]=false}}emit(e,...r){const n=r[0];if(e!=="error"&&e!=="close"&&e!==G&&this[G]){return false}else if(e==="data"){return!this[z]&&!n?false:this[ee]?(defer((()=>this[Y](n))),true):this[Y](n)}else if(e==="end"){return this[V]()}else if(e==="close"){this[w]=true;if(!this[b]&&!this[G])return false;const e=super.emit("close");this.removeAllListeners("close");return e}else if(e==="error"){this[v]=n;super.emit(q,n);const e=!this[ne]||this.listeners("error").length?super.emit("error",n):false;this[g]();return e}else if(e==="resume"){const e=super.emit("resume");this[g]();return e}else if(e==="finish"||e==="prefinish"){const r=super.emit(e);this.removeAllListeners(e);return r}const i=super.emit(e,...r);this[g]();return i}[Y](e){for(const r of this[U]){if(r.dest.write(e)===false)this.pause()}const r=this[se]?false:super.emit("data",e);this[g]();return r}[V](){if(this[b])return false;this[b]=true;this.readable=false;return this[ee]?(defer((()=>this[J]())),true):this[J]()}[J](){if(this[T]){const e=this[T].end();if(e){for(const r of this[U]){r.dest.write(e)}if(!this[se])super.emit("data",e)}}for(const e of this[U]){e.end()}const e=super.emit("end");this.removeAllListeners("end");return e}async collect(){const e=Object.assign([],{dataLength:0});if(!this[z])e.dataLength=0;const r=this.promise();this.on("data",(r=>{e.push(r);if(!this[z])e.dataLength+=r.length}));await r;return e}async concat(){if(this[z]){throw new Error("cannot concat in objectMode")}const e=await this.collect();return this[R]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise(((e,r)=>{this.on(G,(()=>r(new Error("stream destroyed"))));this.on("error",(e=>r(e)));this.on("end",(()=>e()))}))}[Symbol.asyncIterator](){this[se]=false;let e=false;const stop=async()=>{this.pause();e=true;return{value:undefined,done:true}};const next=()=>{if(e)return stop();const r=this.read();if(r!==null)return Promise.resolve({done:false,value:r});if(this[p])return stop();let n;let i;const onerr=e=>{this.off("data",ondata);this.off("end",onend);this.off(G,ondestroy);stop();i(e)};const ondata=e=>{this.off("error",onerr);this.off("end",onend);this.off(G,ondestroy);this.pause();n({value:e,done:!!this[p]})};const onend=()=>{this.off("error",onerr);this.off("data",ondata);this.off(G,ondestroy);stop();n({done:true,value:undefined})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,r)=>{i=r;n=e;this.once(G,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[se]=false;let e=false;const stop=()=>{this.pause();this.off(q,stop);this.off(G,stop);this.off("end",stop);e=true;return{done:true,value:undefined}};const next=()=>{if(e)return stop();const r=this.read();return r===null?stop():{done:false,value:r}};this.once("end",stop);this.once(q,stop);this.once(G,stop);return{next:next,throw:stop,return:stop,[Symbol.iterator](){return this}}}destroy(e){if(this[G]){if(e)this.emit("error",e);else this.emit(G);return this}this[G]=true;this[se]=true;this[L].length=0;this[j]=0;const r=this;if(typeof r.close==="function"&&!this[w])r.close();if(e)this.emit("error",e);else this.emit(G);return this}static get isStream(){return r.isStream}}r.Minipass=Minipass},69133:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){if(i===undefined)i=n;var s=Object.getOwnPropertyDescriptor(r,n);if(!s||("get"in s?!r.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return r[n]}}}Object.defineProperty(e,i,s)}:function(e,r,n,i){if(i===undefined)i=n;e[i]=r[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:true,value:r})}:function(e,r){e["default"]=r});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n))i(r,e,n);s(r,e);return r};Object.defineProperty(r,"__esModule",{value:true});r.PathScurry=r.Path=r.PathScurryDarwin=r.PathScurryPosix=r.PathScurryWin32=r.PathScurryBase=r.PathPosix=r.PathWin32=r.PathBase=r.ChildrenCache=r.ResolveCache=void 0;const u=n(79829);const f=n(76760);const p=n(73136);const g=n(79896);const b=o(n(73024));const _=g.realpathSync.native;const v=n(51455);const w=n(99243);const I={lstatSync:g.lstatSync,readdir:g.readdir,readdirSync:g.readdirSync,readlinkSync:g.readlinkSync,realpathSync:_,promises:{lstat:v.lstat,readdir:v.readdir,readlink:v.readlink,realpath:v.realpath}};const fsFromOption=e=>!e||e===I||e===b?I:{...I,...e,promises:{...I.promises,...e.promises||{}}};const k=/^\\\\\?\\([a-z]:)\\?$/i;const uncToDrive=e=>e.replace(/\//g,"\\").replace(k,"$1\\");const C=/[\\\/]/;const R=0;const T=1;const x=2;const P=4;const B=6;const L=8;const U=10;const j=12;const W=15;const Q=~W;const z=16;const G=32;const q=64;const Y=128;const V=256;const J=512;const ee=q|Y|J;const te=1023;const entToType=e=>e.isFile()?L:e.isDirectory()?P:e.isSymbolicLink()?U:e.isCharacterDevice()?x:e.isBlockDevice()?B:e.isSocket()?j:e.isFIFO()?T:R;const re=new Map;const normalize=e=>{const r=re.get(e);if(r)return r;const n=e.normalize("NFKD");re.set(e,n);return n};const ne=new Map;const normalizeNocase=e=>{const r=ne.get(e);if(r)return r;const n=normalize(e.toLowerCase());ne.set(e,n);return n};class ResolveCache extends u.LRUCache{constructor(){super({max:256})}}r.ResolveCache=ResolveCache;class ChildrenCache extends u.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:e=>e.length+1})}}r.ChildrenCache=ChildrenCache;const ie=Symbol("PathScurry setAsCwd");class PathBase{name;root;roots;parent;nocase;isCWD=false;#_e;#ve;get dev(){return this.#ve}#we;get mode(){return this.#we}#Ae;get nlink(){return this.#Ae}#Ee;get uid(){return this.#Ee}#Se;get gid(){return this.#Se}#Ie;get rdev(){return this.#Ie}#ke;get blksize(){return this.#ke}#Ce;get ino(){return this.#Ce}#A;get size(){return this.#A}#Oe;get blocks(){return this.#Oe}#Re;get atimeMs(){return this.#Re}#Te;get mtimeMs(){return this.#Te}#xe;get ctimeMs(){return this.#xe}#Pe;get birthtimeMs(){return this.#Pe}#Be;get atime(){return this.#Be}#Le;get mtime(){return this.#Le}#Ne;get ctime(){return this.#Ne}#Me;get birthtime(){return this.#Me}#De;#Fe;#Ue;#je;#We;#He;#Qe;#ze;#Ge;#$e;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=R,n,i,s,o,u){this.name=e;this.#De=s?normalizeNocase(e):normalize(e);this.#Qe=r&te;this.nocase=s;this.roots=i;this.root=n||this;this.#ze=o;this.#Ue=u.fullpath;this.#We=u.relative;this.#He=u.relativePosix;this.parent=u.parent;if(this.parent){this.#_e=this.parent.#_e}else{this.#_e=fsFromOption(u.fs)}}depth(){if(this.#Fe!==undefined)return this.#Fe;if(!this.parent)return this.#Fe=0;return this.#Fe=this.parent.depth()+1}childrenCache(){return this.#ze}resolve(e){if(!e){return this}const r=this.getRootString(e);const n=e.substring(r.length);const i=n.split(this.splitSep);const s=r?this.getRoot(r).#qe(i):this.#qe(i);return s}#qe(e){let r=this;for(const n of e){r=r.child(n)}return r}children(){const e=this.#ze.get(this);if(e){return e}const r=Object.assign([],{provisional:0});this.#ze.set(this,r);this.#Qe&=~z;return r}child(e,r){if(e===""||e==="."){return this}if(e===".."){return this.parent||this}const n=this.children();const i=this.nocase?normalizeNocase(e):normalize(e);for(const e of n){if(e.#De===i){return e}}const s=this.parent?this.sep:"";const o=this.#Ue?this.#Ue+s+e:undefined;const u=this.newChild(e,R,{...r,parent:this,fullpath:o});if(!this.canReaddir()){u.#Qe|=Y}n.push(u);return u}relative(){if(this.isCWD)return"";if(this.#We!==undefined){return this.#We}const e=this.name;const r=this.parent;if(!r){return this.#We=this.name}const n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#He!==undefined)return this.#He;const e=this.name;const r=this.parent;if(!r){return this.#He=this.fullpathPosix()}const n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#Ue!==undefined){return this.#Ue}const e=this.name;const r=this.parent;if(!r){return this.#Ue=this.name}const n=r.fullpath();const i=n+(!r.parent?"":this.sep)+e;return this.#Ue=i}fullpathPosix(){if(this.#je!==undefined)return this.#je;if(this.sep==="/")return this.#je=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");if(/^[a-z]:\//i.test(e)){return this.#je=`//?/${e}`}else{return this.#je=e}}const e=this.parent;const r=e.fullpathPosix();const n=r+(!r||!e.parent?"":"/")+this.name;return this.#je=n}isUnknown(){return(this.#Qe&W)===R}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#Qe&W)===L}isDirectory(){return(this.#Qe&W)===P}isCharacterDevice(){return(this.#Qe&W)===x}isBlockDevice(){return(this.#Qe&W)===B}isFIFO(){return(this.#Qe&W)===T}isSocket(){return(this.#Qe&W)===j}isSymbolicLink(){return(this.#Qe&U)===U}lstatCached(){return this.#Qe&G?this:undefined}readlinkCached(){return this.#Ge}realpathCached(){return this.#$e}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#Ge)return true;if(!this.parent)return false;const e=this.#Qe&W;return!(e!==R&&e!==U||this.#Qe&V||this.#Qe&Y)}calledReaddir(){return!!(this.#Qe&z)}isENOENT(){return!!(this.#Qe&Y)}isNamed(e){return!this.nocase?this.#De===normalize(e):this.#De===normalizeNocase(e)}async readlink(){const e=this.#Ge;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=await this.#_e.promises.readlink(this.fullpath());const r=(await this.parent.realpath())?.resolve(e);if(r){return this.#Ge=r}}catch(e){this.#Ke(e.code);return undefined}}readlinkSync(){const e=this.#Ge;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=this.#_e.readlinkSync(this.fullpath());const r=this.parent.realpathSync()?.resolve(e);if(r){return this.#Ge=r}}catch(e){this.#Ke(e.code);return undefined}}#Ye(e){this.#Qe|=z;for(let r=e.provisional;r<e.length;r++){const n=e[r];if(n)n.#Ve()}}#Ve(){if(this.#Qe&Y)return;this.#Qe=(this.#Qe|Y)&Q;this.#Xe()}#Xe(){const e=this.children();e.provisional=0;for(const r of e){r.#Ve()}}#Ze(){this.#Qe|=J;this.#Je()}#Je(){if(this.#Qe&q)return;let e=this.#Qe;if((e&W)===P)e&=Q;this.#Qe=e|q;this.#Xe()}#et(e=""){if(e==="ENOTDIR"||e==="EPERM"){this.#Je()}else if(e==="ENOENT"){this.#Ve()}else{this.children().provisional=0}}#tt(e=""){if(e==="ENOTDIR"){const e=this.parent;e.#Je()}else if(e==="ENOENT"){this.#Ve()}}#Ke(e=""){let r=this.#Qe;r|=V;if(e==="ENOENT")r|=Y;if(e==="EINVAL"||e==="UNKNOWN"){r&=Q}this.#Qe=r;if(e==="ENOTDIR"&&this.parent){this.parent.#Je()}}#rt(e,r){return this.#nt(e,r)||this.#it(e,r)}#it(e,r){const n=entToType(e);const i=this.newChild(e.name,n,{parent:this});const s=i.#Qe&W;if(s!==P&&s!==U&&s!==R){i.#Qe|=q}r.unshift(i);r.provisional++;return i}#nt(e,r){for(let n=r.provisional;n<r.length;n++){const i=r[n];const s=this.nocase?normalizeNocase(e.name):normalize(e.name);if(s!==i.#De){continue}return this.#st(e,i,n,r)}}#st(e,r,n,i){const s=r.name;r.#Qe=r.#Qe&Q|entToType(e);if(s!==e.name)r.name=e.name;if(n!==i.provisional){if(n===i.length-1)i.pop();else i.splice(n,1);i.unshift(r)}i.provisional++;return r}async lstat(){if((this.#Qe&Y)===0){try{this.#ot(await this.#_e.promises.lstat(this.fullpath()));return this}catch(e){this.#tt(e.code)}}}lstatSync(){if((this.#Qe&Y)===0){try{this.#ot(this.#_e.lstatSync(this.fullpath()));return this}catch(e){this.#tt(e.code)}}}#ot(e){const{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:u,ctime:f,ctimeMs:p,dev:g,gid:b,ino:_,mode:v,mtime:w,mtimeMs:I,nlink:k,rdev:C,size:T,uid:x}=e;this.#Be=r;this.#Re=n;this.#Me=i;this.#Pe=s;this.#ke=o;this.#Oe=u;this.#Ne=f;this.#xe=p;this.#ve=g;this.#Se=b;this.#Ce=_;this.#we=v;this.#Le=w;this.#Te=I;this.#Ae=k;this.#Ie=C;this.#A=T;this.#Ee=x;const B=entToType(e);this.#Qe=this.#Qe&Q|B|G;if(B!==R&&B!==P&&B!==U){this.#Qe|=q}}#at=[];#lt=false;#ct(e){this.#lt=false;const r=this.#at.slice();this.#at.length=0;r.forEach((r=>r(null,e)))}readdirCB(e,r=false){if(!this.canReaddir()){if(r)e(null,[]);else queueMicrotask((()=>e(null,[])));return}const n=this.children();if(this.calledReaddir()){const i=n.slice(0,n.provisional);if(r)e(null,i);else queueMicrotask((()=>e(null,i)));return}this.#at.push(e);if(this.#lt){return}this.#lt=true;const i=this.fullpath();this.#_e.readdir(i,{withFileTypes:true},((e,r)=>{if(e){this.#et(e.code);n.provisional=0}else{for(const e of r){this.#rt(e,n)}this.#Ye(n)}this.#ct(n.slice(0,n.provisional));return}))}#ut;async readdir(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const r=this.fullpath();if(this.#ut){await this.#ut}else{let resolve=()=>{};this.#ut=new Promise((e=>resolve=e));try{for(const n of await this.#_e.promises.readdir(r,{withFileTypes:true})){this.#rt(n,e)}this.#Ye(e)}catch(r){this.#et(r.code);e.provisional=0}this.#ut=undefined;resolve()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const r=this.fullpath();try{for(const n of this.#_e.readdirSync(r,{withFileTypes:true})){this.#rt(n,e)}this.#Ye(e)}catch(r){this.#et(r.code);e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#Qe&ee)return false;const e=W&this.#Qe;if(!(e===R||e===P||e===U)){return false}return true}shouldWalk(e,r){return(this.#Qe&P)===P&&!(this.#Qe&ee)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#$e)return this.#$e;if((J|V|Y)&this.#Qe)return undefined;try{const e=await this.#_e.promises.realpath(this.fullpath());return this.#$e=this.resolve(e)}catch(e){this.#Ze()}}realpathSync(){if(this.#$e)return this.#$e;if((J|V|Y)&this.#Qe)return undefined;try{const e=this.#_e.realpathSync(this.fullpath());return this.#$e=this.resolve(e)}catch(e){this.#Ze()}}[ie](e){if(e===this)return;e.isCWD=false;this.isCWD=true;const r=new Set([]);let n=[];let i=this;while(i&&i.parent){r.add(i);i.#We=n.join(this.sep);i.#He=n.join("/");i=i.parent;n.push("..")}i=e;while(i&&i.parent&&!r.has(i)){i.#We=undefined;i.#He=undefined;i=i.parent}}}r.PathBase=PathBase;class PathWin32 extends PathBase{sep="\\";splitSep=C;constructor(e,r=R,n,i,s,o,u){super(e,r,n,i,s,o,u)}newChild(e,r=R,n={}){return new PathWin32(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return f.win32.parse(e).root}getRoot(e){e=uncToDrive(e.toUpperCase());if(e===this.root.name){return this.root}for(const[r,n]of Object.entries(this.roots)){if(this.sameRoot(e,r)){return this.roots[e]=n}}return this.roots[e]=new PathScurryWin32(e,this).root}sameRoot(e,r=this.root.name){e=e.toUpperCase().replace(/\//g,"\\").replace(k,"$1\\");return e===r}}r.PathWin32=PathWin32;class PathPosix extends PathBase{splitSep="/";sep="/";constructor(e,r=R,n,i,s,o,u){super(e,r,n,i,s,o,u)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=R,n={}){return new PathPosix(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}}r.PathPosix=PathPosix;class PathScurryBase{root;rootPath;roots;cwd;#ft;#ht;#ze;nocase;#_e;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=I}={}){this.#_e=fsFromOption(o);if(e instanceof URL||e.startsWith("file://")){e=(0,p.fileURLToPath)(e)}const u=r.resolve(e);this.roots=Object.create(null);this.rootPath=this.parseRootPath(u);this.#ft=new ResolveCache;this.#ht=new ResolveCache;this.#ze=new ChildrenCache(s);const f=u.substring(this.rootPath.length).split(n);if(f.length===1&&!f[0]){f.pop()}if(i===undefined){throw new TypeError("must provide nocase setting to PathScurryBase ctor")}this.nocase=i;this.root=this.newRoot(this.#_e);this.roots[this.rootPath]=this.root;let g=this.root;let b=f.length-1;const _=r.sep;let v=this.rootPath;let w=false;for(const e of f){const r=b--;g=g.child(e,{relative:new Array(r).fill("..").join(_),relativePosix:new Array(r).fill("..").join("/"),fullpath:v+=(w?"":_)+e});w=true}this.cwd=g}depth(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.depth()}childrenCache(){return this.#ze}resolve(...e){let r="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(!i||i===".")continue;r=r?`${i}/${r}`:i;if(this.isAbsolute(i)){break}}const n=this.#ft.get(r);if(n!==undefined){return n}const i=this.cwd.resolve(r).fullpath();this.#ft.set(r,i);return i}resolvePosix(...e){let r="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(!i||i===".")continue;r=r?`${i}/${r}`:i;if(this.isAbsolute(i)){break}}const n=this.#ht.get(r);if(n!==undefined){return n}const i=this.cwd.resolve(r).fullpathPosix();this.#ht.set(r,i);return i}relative(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.relative()}relativePosix(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.relativePosix()}basename(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.name}dirname(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n}=r;if(!e.canReaddir()){return[]}else{const r=await e.readdir();return n?r:r.map((e=>e.name))}}readdirSync(e=this.cwd,r={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true}=r;if(!e.canReaddir()){return[]}else if(n){return e.readdirSync()}else{return e.readdirSync().map((e=>e.name))}}async lstat(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstat()}lstatSync(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=[];if(!s||s(e)){u.push(n?e:e.fullpath())}const f=new Set;const walk=(e,r)=>{f.add(e);e.readdirCB(((e,p)=>{if(e){return r(e)}let g=p.length;if(!g)return r();const next=()=>{if(--g===0){r()}};for(const e of p){if(!s||s(e)){u.push(n?e:e.fullpath())}if(i&&e.isSymbolicLink()){e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(f,o)?walk(e,next):next()))}else{if(e.shouldWalk(f,o)){walk(e,next)}else{next()}}}}),true)};const p=e;return new Promise(((e,r)=>{walk(p,(n=>{if(n)return r(n);e(u)}))}))}walkSync(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=[];if(!s||s(e)){u.push(n?e:e.fullpath())}const f=new Set([e]);for(const e of f){const r=e.readdirSync();for(const e of r){if(!s||s(e)){u.push(n?e:e.fullpath())}let r=e;if(e.isSymbolicLink()){if(!(i&&(r=e.realpathSync())))continue;if(r.isUnknown())r.lstatSync()}if(r.shouldWalk(f,o)){f.add(r)}}}return u}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}return this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;if(!s||s(e)){yield n?e:e.fullpath()}const u=new Set([e]);for(const e of u){const r=e.readdirSync();for(const e of r){if(!s||s(e)){yield n?e:e.fullpath()}let r=e;if(e.isSymbolicLink()){if(!(i&&(r=e.realpathSync())))continue;if(r.isUnknown())r.lstatSync()}if(r.shouldWalk(u,o)){u.add(r)}}}}stream(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=new w.Minipass({objectMode:true});if(!s||s(e)){u.write(n?e:e.fullpath())}const f=new Set;const p=[e];let g=0;const process=()=>{let e=false;while(!e){const r=p.shift();if(!r){if(g===0)u.end();return}g++;f.add(r);const onReaddir=(r,_,v=false)=>{if(r)return u.emit("error",r);if(i&&!v){const e=[];for(const r of _){if(r.isSymbolicLink()){e.push(r.realpath().then((e=>e?.isUnknown()?e.lstat():e)))}}if(e.length){Promise.all(e).then((()=>onReaddir(null,_,true)));return}}for(const r of _){if(r&&(!s||s(r))){if(!u.write(n?r:r.fullpath())){e=true}}}g--;for(const e of _){const r=e.realpathCached()||e;if(r.shouldWalk(f,o)){p.push(r)}}if(e&&!u.flowing){u.once("drain",process)}else if(!b){process()}};let b=true;r.readdirCB(onReaddir,true);b=false}};process();return u}streamSync(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=new w.Minipass({objectMode:true});const f=new Set;if(!s||s(e)){u.write(n?e:e.fullpath())}const p=[e];let g=0;const process=()=>{let e=false;while(!e){const r=p.shift();if(!r){if(g===0)u.end();return}g++;f.add(r);const b=r.readdirSync();for(const r of b){if(!s||s(r)){if(!u.write(n?r:r.fullpath())){e=true}}}g--;for(const e of b){let r=e;if(e.isSymbolicLink()){if(!(i&&(r=e.realpathSync())))continue;if(r.isUnknown())r.lstatSync()}if(r.shouldWalk(f,o)){p.push(r)}}}if(e&&!u.flowing)u.once("drain",process)};process();return u}chdir(e=this.cwd){const r=this.cwd;this.cwd=typeof e==="string"?this.cwd.resolve(e):e;this.cwd[ie](r)}}r.PathScurryBase=PathScurryBase;class PathScurryWin32 extends PathScurryBase{sep="\\";constructor(e=process.cwd(),r={}){const{nocase:n=true}=r;super(e,f.win32,"\\",{...r,nocase:n});this.nocase=n;for(let e=this.cwd;e;e=e.parent){e.nocase=this.nocase}}parseRootPath(e){return f.win32.parse(e).root.toUpperCase()}newRoot(e){return new PathWin32(this.rootPath,P,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}r.PathScurryWin32=PathScurryWin32;class PathScurryPosix extends PathScurryBase{sep="/";constructor(e=process.cwd(),r={}){const{nocase:n=false}=r;super(e,f.posix,"/",{...r,nocase:n});this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new PathPosix(this.rootPath,P,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}r.PathScurryPosix=PathScurryPosix;class PathScurryDarwin extends PathScurryPosix{constructor(e=process.cwd(),r={}){const{nocase:n=true}=r;super(e,{...r,nocase:n})}}r.PathScurryDarwin=PathScurryDarwin;r.Path=process.platform==="win32"?PathWin32:PathPosix;r.PathScurry=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix},97965:e=>{"use strict";function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}const r=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function ensureBuffer(e){if(Buffer.isBuffer(e)){return e}if(typeof e==="number"){return Buffer.alloc(e)}else if(typeof e==="string"){return Buffer.from(e)}else{throw new Error("input must be buffer, number, or string, received "+typeof e)}}function bufferizeInt(e){const r=ensureBuffer(4);r.writeInt32BE(e,0);return r}function _crc32(e,n){e=ensureBuffer(e);if(Buffer.isBuffer(n)){n=n.readUInt32BE(0)}let i=~~n^-1;for(var s=0;s<e.length;s++){i=r[(i^e[s])&255]^i>>>8}return i^-1}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}crc32.signed=function(){return _crc32.apply(null,arguments)};crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0};var n=crc32;const i=getDefaultExportFromCjs(n);e.exports=i},49674:e=>{"use strict";e.exports={rE:"1.16.0"}}};var __webpack_module_cache__={};function __nccwpck_require__(e){var r=__webpack_module_cache__[e];if(r!==undefined){return r.exports}var n=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};var i=true;try{__webpack_modules__[e].call(n.exports,n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete __webpack_module_cache__[e]}n.loaded=true;return n.exports}(()=>{__nccwpck_require__.n=e=>{var r=e&&e.__esModule?()=>e["default"]:()=>e;__nccwpck_require__.d(r,{a:r});return r}})();(()=>{var e=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;var r;__nccwpck_require__.t=function(n,i){if(i&1)n=this(n);if(i&8)return n;if(typeof n==="object"&&n){if(i&4&&n.__esModule)return n;if(i&16&&typeof n.then==="function")return n}var s=Object.create(null);__nccwpck_require__.r(s);var o={};r=r||[null,e({}),e([]),e(e)];for(var u=i&2&&n;typeof u=="object"&&!~r.indexOf(u);u=e(u)){Object.getOwnPropertyNames(u).forEach((e=>o[e]=()=>n[e]))}o["default"]=()=>n;__nccwpck_require__.d(s,o);return s}})();(()=>{__nccwpck_require__.d=(e,r)=>{for(var n in r){if(__nccwpck_require__.o(r,n)&&!__nccwpck_require__.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:r[n]})}}}})();(()=>{__nccwpck_require__.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r)})();(()=>{__nccwpck_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__nccwpck_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{"use strict";const e=10;const wrapAnsi16=(e=0)=>r=>`[${r+e}m`;const wrapAnsi256=(e=0)=>r=>`[${38+e};5;${r}m`;const wrapAnsi16m=(e=0)=>(r,n,i)=>`[${38+e};2;${r};${n};${i}m`;const r={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};const n=Object.keys(r.modifier);const i=Object.keys(r.color);const s=Object.keys(r.bgColor);const o=[...i,...s];function assembleStyles(){const n=new Map;for(const[e,i]of Object.entries(r)){for(const[e,s]of Object.entries(i)){r[e]={open:`[${s[0]}m`,close:`[${s[1]}m`};i[e]=r[e];n.set(s[0],s[1])}Object.defineProperty(r,e,{value:i,enumerable:false})}Object.defineProperty(r,"codes",{value:n,enumerable:false});r.color.close="[39m";r.bgColor.close="[49m";r.color.ansi=wrapAnsi16();r.color.ansi256=wrapAnsi256();r.color.ansi16m=wrapAnsi16m();r.bgColor.ansi=wrapAnsi16(e);r.bgColor.ansi256=wrapAnsi256(e);r.bgColor.ansi16m=wrapAnsi16m(e);Object.defineProperties(r,{rgbToAnsi256:{value(e,r,n){if(e===r&&r===n){if(e<8){return 16}if(e>248){return 231}return Math.round((e-8)/247*24)+232}return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:false},hexToRgb:{value(e){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r){return[0,0,0]}let[n]=r;if(n.length===3){n=[...n].map((e=>e+e)).join("")}const i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:false},hexToAnsi256:{value:e=>r.rgbToAnsi256(...r.hexToRgb(e)),enumerable:false},ansi256ToAnsi:{value(e){if(e<8){return 30+e}if(e<16){return 90+(e-8)}let r;let n;let i;if(e>=232){r=((e-232)*10+8)/255;n=r;i=r}else{e-=16;const s=e%36;r=Math.floor(e/36)/5;n=Math.floor(s/6)/5;i=s%6/5}const s=Math.max(r,n,i)*2;if(s===0){return 30}let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));if(s===2){o+=60}return o},enumerable:false},rgbToAnsi:{value:(e,n,i)=>r.ansi256ToAnsi(r.rgbToAnsi256(e,n,i)),enumerable:false},hexToAnsi:{value:e=>r.ansi256ToAnsi(r.hexToAnsi256(e)),enumerable:false}});return r}const u=assembleStyles();const f=u;const p=require("node:process");const g=require("node:os");const b=require("node:tty");function hasFlag(e,r=(globalThis.Deno?globalThis.Deno.args:p.argv)){const n=e.startsWith("-")?"":e.length===1?"-":"--";const i=r.indexOf(n+e);const s=r.indexOf("--");return i!==-1&&(s===-1||i<s)}const{env:_}=p;let v;if(hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")){v=0}else if(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always")){v=1}function envForceColor(){if("FORCE_COLOR"in _){if(_.FORCE_COLOR==="true"){return 1}if(_.FORCE_COLOR==="false"){return 0}return _.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(_.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function _supportsColor(e,{streamIsTTY:r,sniffFlags:n=true}={}){const i=envForceColor();if(i!==undefined){v=i}const s=n?v:i;if(s===0){return 0}if(n){if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor")){return 3}if(hasFlag("color=256")){return 2}}if("TF_BUILD"in _&&"AGENT_NAME"in _){return 1}if(e&&!r&&s===undefined){return 0}const o=s||0;if(_.TERM==="dumb"){return o}if(p.platform==="win32"){const e=g.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in _){if(["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some((e=>e in _))){return 3}if(["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((e=>e in _))||_.CI_NAME==="codeship"){return 1}return o}if("TEAMCITY_VERSION"in _){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(_.TEAMCITY_VERSION)?1:0}if(_.COLORTERM==="truecolor"){return 3}if(_.TERM==="xterm-kitty"){return 3}if(_.TERM==="xterm-ghostty"){return 3}if("TERM_PROGRAM"in _){const e=Number.parseInt((_.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(_.TERM_PROGRAM){case"iTerm.app":{return e>=3?3:2}case"Apple_Terminal":{return 2}}}if(/-256(color)?$/i.test(_.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(_.TERM)){return 1}if("COLORTERM"in _){return 1}return o}function createSupportsColor(e,r={}){const n=_supportsColor(e,{streamIsTTY:e&&e.isTTY,...r});return translateLevel(n)}const w={stdout:createSupportsColor({isTTY:b.isatty(1)}),stderr:createSupportsColor({isTTY:b.isatty(2)})};const I=w;function stringReplaceAll(e,r,n){let i=e.indexOf(r);if(i===-1){return e}const s=r.length;let o=0;let u="";do{u+=e.slice(o,i)+r+n;o=i+s;i=e.indexOf(r,o)}while(i!==-1);u+=e.slice(o);return u}function stringEncaseCRLFWithFirstIndex(e,r,n,i){let s=0;let o="";do{const u=e[i-1]==="\r";o+=e.slice(s,u?i-1:i)+r+(u?"\r\n":"\n")+n;s=i+1;i=e.indexOf("\n",s)}while(i!==-1);o+=e.slice(s);return o}const{stdout:k,stderr:C}=I;const R=Symbol("GENERATOR");const T=Symbol("STYLER");const x=Symbol("IS_EMPTY");const P=["ansi","ansi","ansi256","ansi16m"];const B=Object.create(null);const applyOptions=(e,r={})=>{if(r.level&&!(Number.isInteger(r.level)&&r.level>=0&&r.level<=3)){throw new Error("The `level` option should be an integer from 0 to 3")}const n=k?k.level:0;e.level=r.level===undefined?n:r.level};class Chalk{constructor(e){return chalkFactory(e)}}const chalkFactory=e=>{const chalk=(...e)=>e.join(" ");applyOptions(chalk,e);Object.setPrototypeOf(chalk,createChalk.prototype);return chalk};function createChalk(e){return chalkFactory(e)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[e,r]of Object.entries(f)){B[e]={get(){const n=createBuilder(this,createStyler(r.open,r.close,this[T]),this[x]);Object.defineProperty(this,e,{value:n});return n}}}B.visible={get(){const e=createBuilder(this,this[T],true);Object.defineProperty(this,"visible",{value:e});return e}};const getModelAnsi=(e,r,n,...i)=>{if(e==="rgb"){if(r==="ansi16m"){return f[n].ansi16m(...i)}if(r==="ansi256"){return f[n].ansi256(f.rgbToAnsi256(...i))}return f[n].ansi(f.rgbToAnsi(...i))}if(e==="hex"){return getModelAnsi("rgb",r,n,...f.hexToRgb(...i))}return f[n][e](...i)};const L=["rgb","hex","ansi256"];for(const e of L){B[e]={get(){const{level:r}=this;return function(...n){const i=createStyler(getModelAnsi(e,P[r],"color",...n),f.color.close,this[T]);return createBuilder(this,i,this[x])}}};const r="bg"+e[0].toUpperCase()+e.slice(1);B[r]={get(){const{level:r}=this;return function(...n){const i=createStyler(getModelAnsi(e,P[r],"bgColor",...n),f.bgColor.close,this[T]);return createBuilder(this,i,this[x])}}}}const U=Object.defineProperties((()=>{}),{...B,level:{enumerable:true,get(){return this[R].level},set(e){this[R].level=e}}});const createStyler=(e,r,n)=>{let i;let s;if(n===undefined){i=e;s=r}else{i=n.openAll+e;s=r+n.closeAll}return{open:e,close:r,openAll:i,closeAll:s,parent:n}};const createBuilder=(e,r,n)=>{const builder=(...e)=>applyStyle(builder,e.length===1?""+e[0]:e.join(" "));Object.setPrototypeOf(builder,U);builder[R]=e;builder[T]=r;builder[x]=n;return builder};const applyStyle=(e,r)=>{if(e.level<=0||!r){return e[x]?"":r}let n=e[T];if(n===undefined){return r}const{openAll:i,closeAll:s}=n;if(r.includes("")){while(n!==undefined){r=stringReplaceAll(r,n.close,n.open);n=n.parent}}const o=r.indexOf("\n");if(o!==-1){r=stringEncaseCRLFWithFirstIndex(r,s,i,o)}return i+r+s};Object.defineProperties(createChalk.prototype,B);const j=createChalk();const W=createChalk({level:C?C.level:0});const Q=j;var z=__nccwpck_require__(20230);var G=__nccwpck_require__(17384);var q=__nccwpck_require__.n(G);var Y=__nccwpck_require__(27387);const V=["SSH_PRIVATE_KEY","REMOTE_HOST","REMOTE_USER","REMOTE_PORT","SERVER_PROJECT","CLIENT_DIST","SERVER_DIR"];const J=process.env.GITHUB_WORKSPACE;const ee={SSH_PRIVATE_KEY:"",REMOTE_HOST:"",REMOTE_USER:"",REMOTE_PORT:"22",SERVER_PROJECT:"",CLIENT_DIST:`dist`,SERVER_DIR:""};const te={SSH_PRIVATE_KEY:"privateKey",REMOTE_HOST:"host",REMOTE_USER:"username",REMOTE_PORT:"port",SERVER_PROJECT:"project",CLIENT_DIST:"dist",SERVER_DIR:"serverDir"};const re={privateKey:"",host:"",username:"",port:"22",project:"",dist:"",serverDir:""};V.forEach((e=>{const r=process.env[e];const n=r===undefined?ee[e]:r;re[te[e]]=n}));console.log(process.env);var ne=__nccwpck_require__(79896);var ie=__nccwpck_require__(16928);var se=__nccwpck_require__(62888);const oe=require("fs/promises");var ae=__nccwpck_require__(44995);const balanced=(e,r,n)=>{const i=e instanceof RegExp?maybeMatch(e,n):e;const s=r instanceof RegExp?maybeMatch(r,n):r;const o=i!==null&&s!=null&&range(i,s,n);return o&&{start:o[0],end:o[1],pre:n.slice(0,o[0]),body:n.slice(o[0]+i.length,o[1]),post:n.slice(o[1]+s.length)}};const maybeMatch=(e,r)=>{const n=r.match(e);return n?n[0]:null};const range=(e,r,n)=>{let i,s,o,u=undefined,f;let p=n.indexOf(e);let g=n.indexOf(r,p+1);let b=p;if(p>=0&&g>0){if(e===r){return[p,g]}i=[];o=n.length;while(b>=0&&!f){if(b===p){i.push(b);p=n.indexOf(e,b+1)}else if(i.length===1){const e=i.pop();if(e!==undefined)f=[e,g]}else{s=i.pop();if(s!==undefined&&s<o){o=s;u=g}g=n.indexOf(r,b+1)}b=p<g&&p>=0?p:g}if(i.length&&u!==undefined){f=[o,u]}}return f};const le="\0SLASH"+Math.random()+"\0";const ce="\0OPEN"+Math.random()+"\0";const ue="\0CLOSE"+Math.random()+"\0";const fe="\0COMMA"+Math.random()+"\0";const he="\0PERIOD"+Math.random()+"\0";const de=new RegExp(le,"g");const pe=new RegExp(ce,"g");const ge=new RegExp(ue,"g");const be=new RegExp(fe,"g");const ye=new RegExp(he,"g");const me=/\\\\/g;const _e=/\\{/g;const ve=/\\}/g;const we=/\\,/g;const Ae=/\\./g;function numeric(e){return!isNaN(e)?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.replace(me,le).replace(_e,ce).replace(ve,ue).replace(we,fe).replace(Ae,he)}function unescapeBraces(e){return e.replace(de,"\\").replace(pe,"{").replace(ge,"}").replace(be,",").replace(ye,".")}function parseCommaParts(e){if(!e){return[""]}const r=[];const n=balanced("{","}",e);if(!n){return e.split(",")}const{pre:i,body:s,post:o}=n;const u=i.split(",");u[u.length-1]+="{"+s+"}";const f=parseCommaParts(o);if(o.length){u[u.length-1]+=f.shift();u.push.apply(u,f)}r.push.apply(r,u);return r}function expand(e){if(!e){return[]}if(e.slice(0,2)==="{}"){e="\\{\\}"+e.slice(2)}return expand_(escapeBraces(e),true).map(unescapeBraces)}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,r){return e<=r}function gte(e,r){return e>=r}function expand_(e,r){const n=[];const i=balanced("{","}",e);if(!i)return[e];const s=i.pre;const o=i.post.length?expand_(i.post,false):[""];if(/\$$/.test(i.pre)){for(let e=0;e<o.length;e++){const r=s+"{"+i.body+"}"+o[e];n.push(r)}}else{const u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body);const f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body);const p=u||f;const g=i.body.indexOf(",")>=0;if(!p&&!g){if(i.post.match(/,(?!,).*\}/)){e=i.pre+"{"+i.body+ue+i.post;return expand_(e)}return[e]}let b;if(p){b=i.body.split(/\.\./)}else{b=parseCommaParts(i.body);if(b.length===1&&b[0]!==undefined){b=expand_(b[0],false).map(embrace);if(b.length===1){return o.map((e=>i.pre+b[0]+e))}}}let _;if(p&&b[0]!==undefined&&b[1]!==undefined){const e=numeric(b[0]);const r=numeric(b[1]);const n=Math.max(b[0].length,b[1].length);let i=b.length===3&&b[2]!==undefined?Math.abs(numeric(b[2])):1;let s=lte;const o=r<e;if(o){i*=-1;s=gte}const u=b.some(isPadded);_=[];for(let o=e;s(o,r);o+=i){let e;if(f){e=String.fromCharCode(o);if(e==="\\"){e=""}}else{e=String(o);if(u){const r=n-e.length;if(r>0){const n=new Array(r+1).join("0");if(o<0){e="-"+n+e.slice(1)}else{e=n+e}}}}_.push(e)}}else{_=[];for(let e=0;e<b.length;e++){_.push.apply(_,expand_(b[e],false))}}for(let e=0;e<_.length;e++){for(let i=0;i<o.length;i++){const u=s+_[e]+o[i];if(!r||p||u){n.push(u)}}}}return n}const Ee=1024*64;const assertValidPattern=e=>{if(typeof e!=="string"){throw new TypeError("invalid pattern")}if(e.length>Ee){throw new TypeError("pattern is too long")}};const Se={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",true],"[:alpha:]":["\\p{L}\\p{Nl}",true],"[:ascii:]":["\\x"+"00-\\x"+"7f",false],"[:blank:]":["\\p{Zs}\\t",true],"[:cntrl:]":["\\p{Cc}",true],"[:digit:]":["\\p{Nd}",true],"[:graph:]":["\\p{Z}\\p{C}",true,true],"[:lower:]":["\\p{Ll}",true],"[:print:]":["\\p{C}",true],"[:punct:]":["\\p{P}",true],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",true],"[:upper:]":["\\p{Lu}",true],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",true],"[:xdigit:]":["A-Fa-f0-9",false]};const braceEscape=e=>e.replace(/[[\]\\-]/g,"\\$&");const regexpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const rangesToString=e=>e.join("");const parseClass=(e,r)=>{const n=r;if(e.charAt(n)!=="["){throw new Error("not in a brace expression")}const i=[];const s=[];let o=n+1;let u=false;let f=false;let p=false;let g=false;let b=n;let _="";e:while(o<e.length){const r=e.charAt(o);if((r==="!"||r==="^")&&o===n+1){g=true;o++;continue}if(r==="]"&&u&&!p){b=o+1;break}u=true;if(r==="\\"){if(!p){p=true;o++;continue}}if(r==="["&&!p){for(const[r,[u,p,g]]of Object.entries(Se)){if(e.startsWith(r,o)){if(_){return["$.",false,e.length-n,true]}o+=r.length;if(g)s.push(u);else i.push(u);f=f||p;continue e}}}p=false;if(_){if(r>_){i.push(braceEscape(_)+"-"+braceEscape(r))}else if(r===_){i.push(braceEscape(r))}_="";o++;continue}if(e.startsWith("-]",o+1)){i.push(braceEscape(r+"-"));o+=2;continue}if(e.startsWith("-",o+1)){_=r;o+=2;continue}i.push(braceEscape(r));o++}if(b<o){return["",false,0,false]}if(!i.length&&!s.length){return["$.",false,e.length-n,true]}if(s.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!g){const e=i[0].length===2?i[0].slice(-1):i[0];return[regexpEscape(e),false,b-n,false]}const v="["+(g?"^":"")+rangesToString(i)+"]";const w="["+(g?"":"^")+rangesToString(s)+"]";const I=i.length&&s.length?"("+v+"|"+w+")":i.length?v:w;return[I,f,b-n,true]};const unescape_unescape=(e,{windowsPathsNoEscape:r=false}={})=>r?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");const Ie=new Set(["!","?","+","*","@"]);const isExtglobType=e=>Ie.has(e);const ke="(?!(?:^|/)\\.\\.?(?:$|/))";const Ce="(?!\\.)";const Oe=new Set(["[","."]);const Re=new Set(["..","."]);const Te=new Set("().*{}+?[]^$\\!");const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const xe="[^/]";const Pe=xe+"*?";const Be=xe+"+?";class AST{type;#ie;#se;#oe=false;#ae=[];#le;#ce;#ue;#fe=false;#he;#de;#pe=false;constructor(e,r,n={}){this.type=e;if(e)this.#se=true;this.#le=r;this.#ie=this.#le?this.#le.#ie:this;this.#he=this.#ie===this?n:this.#ie.#he;this.#ue=this.#ie===this?[]:this.#ie.#ue;if(e==="!"&&!this.#ie.#fe)this.#ue.push(this);this.#ce=this.#le?this.#le.#ae.length:0}get hasMagic(){if(this.#se!==undefined)return this.#se;for(const e of this.#ae){if(typeof e==="string")continue;if(e.type||e.hasMagic)return this.#se=true}return this.#se}toString(){if(this.#de!==undefined)return this.#de;if(!this.type){return this.#de=this.#ae.map((e=>String(e))).join("")}else{return this.#de=this.type+"("+this.#ae.map((e=>String(e))).join("|")+")"}}#ge(){if(this!==this.#ie)throw new Error("should only call on root");if(this.#fe)return this;this.toString();this.#fe=true;let e;while(e=this.#ue.pop()){if(e.type!=="!")continue;let r=e;let n=r.#le;while(n){for(let i=r.#ce+1;!n.type&&i<n.#ae.length;i++){for(const r of e.#ae){if(typeof r==="string"){throw new Error("string part in extglob AST??")}r.copyIn(n.#ae[i])}}r=n;n=r.#le}}return this}push(...e){for(const r of e){if(r==="")continue;if(typeof r!=="string"&&!(r instanceof AST&&r.#le===this)){throw new Error("invalid part: "+r)}this.#ae.push(r)}}toJSON(){const e=this.type===null?this.#ae.slice().map((e=>typeof e==="string"?e:e.toJSON())):[this.type,...this.#ae.map((e=>e.toJSON()))];if(this.isStart()&&!this.type)e.unshift([]);if(this.isEnd()&&(this===this.#ie||this.#ie.#fe&&this.#le?.type==="!")){e.push({})}return e}isStart(){if(this.#ie===this)return true;if(!this.#le?.isStart())return false;if(this.#ce===0)return true;const e=this.#le;for(let r=0;r<this.#ce;r++){const n=e.#ae[r];if(!(n instanceof AST&&n.type==="!")){return false}}return true}isEnd(){if(this.#ie===this)return true;if(this.#le?.type==="!")return true;if(!this.#le?.isEnd())return false;if(!this.type)return this.#le?.isEnd();const e=this.#le?this.#le.#ae.length:0;return this.#ce===e-1}copyIn(e){if(typeof e==="string")this.push(e);else this.push(e.clone(this))}clone(e){const r=new AST(this.type,e);for(const e of this.#ae){r.copyIn(e)}return r}static#be(e,r,n,i){let s=false;let o=false;let u=-1;let f=false;if(r.type===null){let p=n;let g="";while(p<e.length){const n=e.charAt(p++);if(s||n==="\\"){s=!s;g+=n;continue}if(o){if(p===u+1){if(n==="^"||n==="!"){f=true}}else if(n==="]"&&!(p===u+2&&f)){o=false}g+=n;continue}else if(n==="["){o=true;u=p;f=false;g+=n;continue}if(!i.noext&&isExtglobType(n)&&e.charAt(p)==="("){r.push(g);g="";const s=new AST(n,r);p=AST.#be(e,s,p,i);r.push(s);continue}g+=n}r.push(g);return p}let p=n+1;let g=new AST(null,r);const b=[];let _="";while(p<e.length){const n=e.charAt(p++);if(s||n==="\\"){s=!s;_+=n;continue}if(o){if(p===u+1){if(n==="^"||n==="!"){f=true}}else if(n==="]"&&!(p===u+2&&f)){o=false}_+=n;continue}else if(n==="["){o=true;u=p;f=false;_+=n;continue}if(isExtglobType(n)&&e.charAt(p)==="("){g.push(_);_="";const r=new AST(n,g);g.push(r);p=AST.#be(e,r,p,i);continue}if(n==="|"){g.push(_);_="";b.push(g);g=new AST(null,r);continue}if(n===")"){if(_===""&&r.#ae.length===0){r.#pe=true}g.push(_);_="";r.push(...b,g);return p}_+=n}r.type=null;r.#se=undefined;r.#ae=[e.substring(n-1)];return p}static fromGlob(e,r={}){const n=new AST(null,undefined,r);AST.#be(e,n,0,r);return n}toMMPattern(){if(this!==this.#ie)return this.#ie.toMMPattern();const e=this.toString();const[r,n,i,s]=this.toRegExpSource();const o=i||this.#se||this.#he.nocase&&!this.#he.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase();if(!o){return n}const u=(this.#he.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,u),{_src:r,_glob:e})}get options(){return this.#he}toRegExpSource(e){const r=e??!!this.#he.dot;if(this.#ie===this)this.#ge();if(!this.type){const n=this.isStart()&&this.isEnd();const i=this.#ae.map((r=>{const[i,s,o,u]=typeof r==="string"?AST.#ye(r,this.#se,n):r.toRegExpSource(e);this.#se=this.#se||o;this.#oe=this.#oe||u;return i})).join("");let s="";if(this.isStart()){if(typeof this.#ae[0]==="string"){const n=this.#ae.length===1&&Re.has(this.#ae[0]);if(!n){const n=Oe;const o=r&&n.has(i.charAt(0))||i.startsWith("\\.")&&n.has(i.charAt(2))||i.startsWith("\\.\\.")&&n.has(i.charAt(4));const u=!r&&!e&&n.has(i.charAt(0));s=o?ke:u?Ce:""}}}let o="";if(this.isEnd()&&this.#ie.#fe&&this.#le?.type==="!"){o="(?:$|\\/)"}const u=s+i+o;return[u,unescape_unescape(i),this.#se=!!this.#se,this.#oe]}const n=this.type==="*"||this.type==="+";const i=this.type==="!"?"(?:(?!(?:":"(?:";let s=this.#me(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){const e=this.toString();this.#ae=[e];this.type=null;this.#se=undefined;return[e,unescape_unescape(this.toString()),false,false]}let o=!n||e||r||!Ce?"":this.#me(true);if(o===s){o=""}if(o){s=`(?:${s})(?:${o})*?`}let u="";if(this.type==="!"&&this.#pe){u=(this.isStart()&&!r?Ce:"")+Be}else{const n=this.type==="!"?"))"+(this.isStart()&&!r&&!e?Ce:"")+Pe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?`)?`:`)${this.type}`;u=i+s+n}return[u,unescape_unescape(s),this.#se=!!this.#se,this.#oe]}#me(e){return this.#ae.map((r=>{if(typeof r==="string"){throw new Error("string type in extglob ast??")}const[n,i,s,o]=r.toRegExpSource(e);this.#oe=this.#oe||o;return n})).filter((e=>!(this.isStart()&&this.isEnd())||!!e)).join("|")}static#ye(e,r,n=false){let i=false;let s="";let o=false;for(let u=0;u<e.length;u++){const f=e.charAt(u);if(i){i=false;s+=(Te.has(f)?"\\":"")+f;continue}if(f==="\\"){if(u===e.length-1){s+="\\\\"}else{i=true}continue}if(f==="["){const[n,i,f,p]=parseClass(e,u);if(f){s+=n;o=o||i;u+=f-1;r=r||p;continue}}if(f==="*"){if(n&&e==="*")s+=Be;else s+=Pe;r=true;continue}if(f==="?"){s+=xe;r=true;continue}s+=regExpEscape(f)}return[s,unescape_unescape(e),!!r,o]}}const escape_escape=(e,{windowsPathsNoEscape:r=false}={})=>r?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");const minimatch=(e,r,n={})=>{assertValidPattern(r);if(!n.nocomment&&r.charAt(0)==="#"){return false}return new Minimatch(r,n).match(e)};const Le=/^\*+([^+@!?\*\[\(]*)$/;const starDotExtTest=e=>r=>!r.startsWith(".")&&r.endsWith(e);const starDotExtTestDot=e=>r=>r.endsWith(e);const starDotExtTestNocase=e=>{e=e.toLowerCase();return r=>!r.startsWith(".")&&r.toLowerCase().endsWith(e)};const starDotExtTestNocaseDot=e=>{e=e.toLowerCase();return r=>r.toLowerCase().endsWith(e)};const Ne=/^\*+\.\*+$/;const starDotStarTest=e=>!e.startsWith(".")&&e.includes(".");const starDotStarTestDot=e=>e!=="."&&e!==".."&&e.includes(".");const Me=/^\.\*+$/;const dotStarTest=e=>e!=="."&&e!==".."&&e.startsWith(".");const De=/^\*+$/;const starTest=e=>e.length!==0&&!e.startsWith(".");const starTestDot=e=>e.length!==0&&e!=="."&&e!=="..";const Fe=/^\?+([^+@!?\*\[\(]*)?$/;const qmarksTestNocase=([e,r=""])=>{const n=qmarksTestNoExt([e]);if(!r)return n;r=r.toLowerCase();return e=>n(e)&&e.toLowerCase().endsWith(r)};const qmarksTestNocaseDot=([e,r=""])=>{const n=qmarksTestNoExtDot([e]);if(!r)return n;r=r.toLowerCase();return e=>n(e)&&e.toLowerCase().endsWith(r)};const qmarksTestDot=([e,r=""])=>{const n=qmarksTestNoExtDot([e]);return!r?n:e=>n(e)&&e.endsWith(r)};const qmarksTest=([e,r=""])=>{const n=qmarksTestNoExt([e]);return!r?n:e=>n(e)&&e.endsWith(r)};const qmarksTestNoExt=([e])=>{const r=e.length;return e=>e.length===r&&!e.startsWith(".")};const qmarksTestNoExtDot=([e])=>{const r=e.length;return e=>e.length===r&&e!=="."&&e!==".."};const Ue=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";const je={win32:{sep:"\\"},posix:{sep:"/"}};const We=Ue==="win32"?je.win32.sep:je.posix.sep;minimatch.sep=We;const He=Symbol("globstar **");minimatch.GLOBSTAR=He;const Qe="[^/]";const ze=Qe+"*?";const Ge="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const $e="(?:(?!(?:\\/|^)\\.).)*?";const filter=(e,r={})=>n=>minimatch(n,e,r);minimatch.filter=filter;const ext=(e,r={})=>Object.assign({},e,r);const defaults=e=>{if(!e||typeof e!=="object"||!Object.keys(e).length){return minimatch}const r=minimatch;const m=(n,i,s={})=>r(n,i,ext(e,s));return Object.assign(m,{Minimatch:class Minimatch extends r.Minimatch{constructor(r,n={}){super(r,ext(e,n))}static defaults(n){return r.defaults(ext(e,n)).Minimatch}},AST:class AST extends r.AST{constructor(r,n,i={}){super(r,n,ext(e,i))}static fromGlob(n,i={}){return r.AST.fromGlob(n,ext(e,i))}},unescape:(n,i={})=>r.unescape(n,ext(e,i)),escape:(n,i={})=>r.escape(n,ext(e,i)),filter:(n,i={})=>r.filter(n,ext(e,i)),defaults:n=>r.defaults(ext(e,n)),makeRe:(n,i={})=>r.makeRe(n,ext(e,i)),braceExpand:(n,i={})=>r.braceExpand(n,ext(e,i)),match:(n,i,s={})=>r.match(n,i,ext(e,s)),sep:r.sep,GLOBSTAR:He})};minimatch.defaults=defaults;const braceExpand=(e,r={})=>{assertValidPattern(e);if(r.nobrace||!/\{(?:(?!\{).)*\}/.test(e)){return[e]}return expand(e)};minimatch.braceExpand=braceExpand;const makeRe=(e,r={})=>new Minimatch(e,r).makeRe();minimatch.makeRe=makeRe;const match=(e,r,n={})=>{const i=new Minimatch(r,n);e=e.filter((e=>i.match(e)));if(i.options.nonull&&!e.length){e.push(r)}return e};minimatch.match=match;const qe=/[?*]|[+@!]\(.*?\)|\[|\]/;const esm_regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Minimatch{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){assertValidPattern(e);r=r||{};this.options=r;this.pattern=e;this.platform=r.platform||Ue;this.isWindows=this.platform==="win32";this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.preserveMultipleSlashes=!!r.preserveMultipleSlashes;this.regexp=null;this.negate=false;this.nonegate=!!r.nonegate;this.comment=false;this.empty=false;this.partial=!!r.partial;this.nocase=!!this.options.nocase;this.windowsNoMagicRoot=r.windowsNoMagicRoot!==undefined?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase);this.globSet=[];this.globParts=[];this.set=[];this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1){return true}for(const e of this.set){for(const r of e){if(typeof r!=="string")return true}}return false}debug(...e){}make(){const e=this.pattern;const r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=true;return}if(!e){this.empty=true;return}this.parseNegate();this.globSet=[...new Set(this.braceExpand())];if(r.debug){this.debug=(...e)=>console.error(...e)}this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n);this.debug(this.pattern,this.globParts);let i=this.globParts.map(((e,r,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const r=e[0]===""&&e[1]===""&&(e[2]==="?"||!qe.test(e[2]))&&!qe.test(e[3]);const n=/^[a-z]:/i.test(e[0]);if(r){return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))]}else if(n){return[e[0],...e.slice(1).map((e=>this.parse(e)))]}}return e.map((e=>this.parse(e)))}));this.debug(this.pattern,i);this.set=i.filter((e=>e.indexOf(false)===-1));if(this.isWindows){for(let e=0;e<this.set.length;e++){const r=this.set[e];if(r[0]===""&&r[1]===""&&this.globParts[e][2]==="?"&&typeof r[3]==="string"&&/^[a-z]:$/i.test(r[3])){r[2]="?"}}}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar){for(let r=0;r<e.length;r++){for(let n=0;n<e[r].length;n++){if(e[r][n]==="**"){e[r][n]="*"}}}}const{optimizationLevel:r=1}=this.options;if(r>=2){e=this.firstPhasePreProcess(e);e=this.secondPhasePreProcess(e)}else if(r>=1){e=this.levelOneOptimize(e)}else{e=this.adjascentGlobstarOptimize(e)}return e}adjascentGlobstarOptimize(e){return e.map((e=>{let r=-1;while(-1!==(r=e.indexOf("**",r+1))){let n=r;while(e[n+1]==="**"){n++}if(n!==r){e.splice(r,n-r)}}return e}))}levelOneOptimize(e){return e.map((e=>{e=e.reduce(((e,r)=>{const n=e[e.length-1];if(r==="**"&&n==="**"){return e}if(r===".."){if(n&&n!==".."&&n!=="."&&n!=="**"){e.pop();return e}}e.push(r);return e}),[]);return e.length===0?[""]:e}))}levelTwoFileOptimize(e){if(!Array.isArray(e)){e=this.slashSplit(e)}let r=false;do{r=false;if(!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const i=e[n];if(n===1&&i===""&&e[0]==="")continue;if(i==="."||i===""){r=true;e.splice(n,1);n--}}if(e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")){r=true;e.pop()}}let n=0;while(-1!==(n=e.indexOf("..",n+1))){const i=e[n-1];if(i&&i!=="."&&i!==".."&&i!=="**"){r=true;e.splice(n-1,2);n-=2}}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=false;do{r=false;for(let n of e){let i=-1;while(-1!==(i=n.indexOf("**",i+1))){let s=i;while(n[s+1]==="**"){s++}if(s>i){n.splice(i+1,s-i)}let o=n[i+1];const u=n[i+2];const f=n[i+3];if(o!=="..")continue;if(!u||u==="."||u===".."||!f||f==="."||f===".."){continue}r=true;n.splice(i,1);const p=n.slice(0);p[i]="**";e.push(p);i--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const i=n[e];if(e===1&&i===""&&n[0]==="")continue;if(i==="."||i===""){r=true;n.splice(e,1);e--}}if(n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")){r=true;n.pop()}}let s=0;while(-1!==(s=n.indexOf("..",s+1))){const e=n[s-1];if(e&&e!=="."&&e!==".."&&e!=="**"){r=true;const e=s===1&&n[s+1]==="**";const i=e?["."]:[];n.splice(s-1,2,...i);if(n.length===0)n.push("");s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++){for(let n=r+1;n<e.length;n++){const i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[];e[n]=i;break}}}return e.filter((e=>e.length))}partsMatch(e,r,n=false){let i=0;let s=0;let o=[];let u="";while(i<e.length&&s<r.length){if(e[i]===r[s]){o.push(u==="b"?r[s]:e[i]);i++;s++}else if(n&&e[i]==="**"&&r[s]===e[i+1]){o.push(e[i]);i++}else if(n&&r[s]==="**"&&e[i]===r[s+1]){o.push(r[s]);s++}else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(u==="b")return false;u="a";o.push(e[i]);i++;s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(u==="a")return false;u="b";o.push(r[s]);i++;s++}else{return false}}return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;const e=this.pattern;let r=false;let n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++){r=!r;n++}if(n)this.pattern=e.slice(n);this.negate=r}matchOne(e,r,n=false){const i=this.options;if(this.isWindows){const n=typeof e[0]==="string"&&/^[a-z]:$/i.test(e[0]);const i=!n&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]);const s=typeof r[0]==="string"&&/^[a-z]:$/i.test(r[0]);const o=!s&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]==="string"&&/^[a-z]:$/i.test(r[3]);const u=i?3:n?0:undefined;const f=o?3:s?0:undefined;if(typeof u==="number"&&typeof f==="number"){const[n,i]=[e[u],r[f]];if(n.toLowerCase()===i.toLowerCase()){r[f]=n;if(f>u){r=r.slice(f)}else if(u>f){e=e.slice(u)}}}}const{optimizationLevel:s=1}=this.options;if(s>=2){e=this.levelTwoFileOptimize(e)}this.debug("matchOne",this,{file:e,pattern:r});this.debug("matchOne",e.length,r.length);for(var o=0,u=0,f=e.length,p=r.length;o<f&&u<p;o++,u++){this.debug("matchOne loop");var g=r[u];var b=e[o];this.debug(r,g,b);if(g===false){return false}if(g===He){this.debug("GLOBSTAR",[r,g,b]);var _=o;var v=u+1;if(v===p){this.debug("** at the end");for(;o<f;o++){if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return false}return true}while(_<f){var w=e[_];this.debug("\nglobstar while",e,_,r,v,w);if(this.matchOne(e.slice(_),r.slice(v),n)){this.debug("globstar found match!",_,f,w);return true}else{if(w==="."||w===".."||!i.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,_,r,v);break}this.debug("globstar swallow a segment, and continue");_++}}if(n){this.debug("\n>>> no match, partial?",e,_,r,v);if(_===f){return true}}return false}let s;if(typeof g==="string"){s=b===g;this.debug("string match",g,b,s)}else{s=g.test(b);this.debug("pattern match",g,b,s)}if(!s)return false}if(o===f&&u===p){return true}else if(o===f){return n}else if(u===p){return o===f-1&&e[o]===""}else{throw new Error("wtf?")}}braceExpand(){return braceExpand(this.pattern,this.options)}parse(e){assertValidPattern(e);const r=this.options;if(e==="**")return He;if(e==="")return"";let n;let i=null;if(n=e.match(De)){i=r.dot?starTestDot:starTest}else if(n=e.match(Le)){i=(r.nocase?r.dot?starDotExtTestNocaseDot:starDotExtTestNocase:r.dot?starDotExtTestDot:starDotExtTest)(n[1])}else if(n=e.match(Fe)){i=(r.nocase?r.dot?qmarksTestNocaseDot:qmarksTestNocase:r.dot?qmarksTestDot:qmarksTest)(n)}else if(n=e.match(Ne)){i=r.dot?starDotStarTestDot:starDotStarTest}else if(n=e.match(Me)){i=dotStarTest}const s=AST.fromGlob(e,this.options).toMMPattern();if(i&&typeof s==="object"){Reflect.defineProperty(s,"test",{value:i})}return s}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const e=this.set;if(!e.length){this.regexp=false;return this.regexp}const r=this.options;const n=r.noglobstar?ze:r.dot?Ge:$e;const i=new Set(r.nocase?["i"]:[]);let s=e.map((e=>{const r=e.map((e=>{if(e instanceof RegExp){for(const r of e.flags.split(""))i.add(r)}return typeof e==="string"?esm_regExpEscape(e):e===He?He:e._src}));r.forEach(((e,i)=>{const s=r[i+1];const o=r[i-1];if(e!==He||o===He){return}if(o===undefined){if(s!==undefined&&s!==He){r[i+1]="(?:\\/|"+n+"\\/)?"+s}else{r[i]=n}}else if(s===undefined){r[i-1]=o+"(?:\\/|"+n+")?"}else if(s!==He){r[i-1]=o+"(?:\\/|\\/"+n+"\\/)"+s;r[i+1]=He}}));return r.filter((e=>e!==He)).join("/")})).join("|");const[o,u]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+u+"$";if(this.negate)s="^(?!"+s+").+$";try{this.regexp=new RegExp(s,[...i].join(""))}catch(e){this.regexp=false}return this.regexp}slashSplit(e){if(this.preserveMultipleSlashes){return e.split("/")}else if(this.isWindows&&/^\/\/[^\/]+/.test(e)){return["",...e.split(/\/+/)]}else{return e.split(/\/+/)}}match(e,r=this.partial){this.debug("match",e,this.pattern);if(this.comment){return false}if(this.empty){return e===""}if(e==="/"&&r){return true}const n=this.options;if(this.isWindows){e=e.split("\\").join("/")}const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o){for(let e=i.length-2;!o&&e>=0;e--){o=i[e]}}for(let e=0;e<s.length;e++){const u=s[e];let f=i;if(n.matchBase&&u.length===1){f=[o]}const p=this.matchOne(f,u,r);if(p){if(n.flipNegate){return true}return!this.negate}}if(n.flipNegate){return false}return this.negate}static defaults(e){return minimatch.defaults(e).Minimatch}}minimatch.AST=AST;minimatch.Minimatch=Minimatch;minimatch.escape=escape_escape;minimatch.unescape=unescape_unescape;var Ke=__nccwpck_require__(73136);const Ye=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const Ve=new Set;const Xe=typeof process==="object"&&!!process?process:{};const emitWarning=(e,r,n,i)=>{typeof Xe.emitWarning==="function"?Xe.emitWarning(e,r,n,i):console.error(`[${n}] ${r}: ${e}`)};let Ze=globalThis.AbortController;let Je=globalThis.AbortSignal;if(typeof Ze==="undefined"){Je=class AbortSignal{onabort;_onabort=[];reason;aborted=false;addEventListener(e,r){this._onabort.push(r)}};Ze=class AbortController{constructor(){warnACPolyfill()}signal=new Je;abort(e){if(this.signal.aborted)return;this.signal.reason=e;this.signal.aborted=true;for(const r of this.signal._onabort){r(e)}this.signal.onabort?.(e)}};let e=Xe.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const warnACPolyfill=()=>{if(!e)return;e=false;emitWarning("AbortController is not defined. If using lru-cache in "+"node 14, load an AbortController polyfill from the "+"`node-abort-controller` package. A minimal polyfill is "+"provided for use by LRUCache.fetch(), but it should not be "+"relied upon in other contexts (eg, passing it to other APIs that "+"use AbortController/AbortSignal might have undesirable effects). "+"You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill)}}const shouldWarn=e=>!Ve.has(e);const et=Symbol("type");const isPosInt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e);const getUintArray=e=>!isPosInt(e)?null:e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?ZeroArray:null;class ZeroArray extends Array{constructor(e){super(e);this.fill(0)}}class Stack{heap;length;static#g=false;static create(e){const r=getUintArray(e);if(!r)return[];Stack.#g=true;const n=new Stack(e,r);Stack.#g=false;return n}constructor(e,r){if(!Stack.#g){throw new TypeError("instantiate Stack using Stack.create(n)")}this.heap=new r(e);this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class LRUCache{#b;#y;#m;#dt;#_;#v;#w;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#A;#E;#S;#I;#k;#C;#O;#R;#T;#x;#P;#B;#L;#N;#M;#D;#F;#pt;static unsafeExposeInternals(e){return{starts:e.#L,ttls:e.#N,sizes:e.#B,keyMap:e.#S,keyList:e.#I,valList:e.#k,next:e.#C,prev:e.#O,get head(){return e.#R},get tail(){return e.#T},free:e.#x,isBackgroundFetch:r=>e.#U(r),backgroundFetch:(r,n,i,s)=>e.#j(r,n,i,s),moveToTail:r=>e.#W(r),indexes:r=>e.#H(r),rindexes:r=>e.#Q(r),isStale:r=>e.#z(r)}}get max(){return this.#b}get maxSize(){return this.#y}get calculatedSize(){return this.#E}get size(){return this.#A}get fetchMethod(){return this.#v}get memoMethod(){return this.#w}get dispose(){return this.#m}get onInsert(){return this.#dt}get disposeAfter(){return this.#_}constructor(e){const{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:f,dispose:p,onInsert:g,disposeAfter:b,noDisposeOnSet:_,noUpdateTTL:v,maxSize:w=0,maxEntrySize:I=0,sizeCalculation:k,fetchMethod:C,memoMethod:R,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:B,ignoreFetchAbort:L}=e;if(r!==0&&!isPosInt(r)){throw new TypeError("max option must be a nonnegative integer")}const U=r?getUintArray(r):Array;if(!U){throw new Error("invalid max value: "+r)}this.#b=r;this.#y=w;this.maxEntrySize=I||this.#y;this.sizeCalculation=k;if(this.sizeCalculation){if(!this.#y&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}if(R!==undefined&&typeof R!=="function"){throw new TypeError("memoMethod must be a function if defined")}this.#w=R;if(C!==undefined&&typeof C!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.#v=C;this.#D=!!C;this.#S=new Map;this.#I=new Array(r).fill(undefined);this.#k=new Array(r).fill(undefined);this.#C=new U(r);this.#O=new U(r);this.#R=0;this.#T=0;this.#x=Stack.create(r);this.#A=0;this.#E=0;if(typeof p==="function"){this.#m=p}if(typeof g==="function"){this.#dt=g}if(typeof b==="function"){this.#_=b;this.#P=[]}else{this.#_=undefined;this.#P=undefined}this.#M=!!this.#m;this.#pt=!!this.#dt;this.#F=!!this.#_;this.noDisposeOnSet=!!_;this.noUpdateTTL=!!v;this.noDeleteOnFetchRejection=!!T;this.allowStaleOnFetchRejection=!!P;this.allowStaleOnFetchAbort=!!B;this.ignoreFetchAbort=!!L;if(this.maxEntrySize!==0){if(this.#y!==0){if(!isPosInt(this.#y)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!isPosInt(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.#G()}this.allowStale=!!f;this.noDeleteOnStaleGet=!!x;this.updateAgeOnGet=!!o;this.updateAgeOnHas=!!u;this.ttlResolution=isPosInt(i)||i===0?i:1;this.ttlAutopurge=!!s;this.ttl=n||0;if(this.ttl){if(!isPosInt(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.#$()}if(this.#b===0&&this.ttl===0&&this.#y===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.#b&&!this.#y){const e="LRU_CACHE_UNBOUNDED";if(shouldWarn(e)){Ve.add(e);const r="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";emitWarning(r,"UnboundedCacheWarning",e,LRUCache)}}}getRemainingTTL(e){return this.#S.has(e)?Infinity:0}#$(){const e=new ZeroArray(this.#b);const r=new ZeroArray(this.#b);this.#N=e;this.#L=r;this.#q=(n,i,s=Ye.now())=>{r[n]=i!==0?s:0;e[n]=i;if(i!==0&&this.ttlAutopurge){const e=setTimeout((()=>{if(this.#z(n)){this.#K(this.#I[n],"expire")}}),i+1);if(e.unref){e.unref()}}};this.#Y=n=>{r[n]=e[n]!==0?Ye.now():0};this.#V=(i,s)=>{if(e[s]){const o=e[s];const u=r[s];if(!o||!u)return;i.ttl=o;i.start=u;i.now=n||getNow();const f=i.now-u;i.remainingTTL=o-f}};let n=0;const getNow=()=>{const e=Ye.now();if(this.ttlResolution>0){n=e;const r=setTimeout((()=>n=0),this.ttlResolution);if(r.unref){r.unref()}}return e};this.getRemainingTTL=i=>{const s=this.#S.get(i);if(s===undefined){return 0}const o=e[s];const u=r[s];if(!o||!u){return Infinity}const f=(n||getNow())-u;return o-f};this.#z=i=>{const s=r[i];const o=e[i];return!!o&&!!s&&(n||getNow())-s>o}}#Y=()=>{};#V=()=>{};#q=()=>{};#z=()=>false;#G(){const e=new ZeroArray(this.#b);this.#E=0;this.#B=e;this.#X=r=>{this.#E-=e[r];e[r]=0};this.#Z=(e,r,n,i)=>{if(this.#U(r)){return 0}if(!isPosInt(n)){if(i){if(typeof i!=="function"){throw new TypeError("sizeCalculation must be a function")}n=i(r,e);if(!isPosInt(n)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation "+"or size must be set.")}}return n};this.#J=(r,n,i)=>{e[r]=n;if(this.#y){const n=this.#y-e[r];while(this.#E>n){this.#ee(true)}}this.#E+=e[r];if(i){i.entrySize=n;i.totalCalculatedSize=this.#E}}}#X=e=>{};#J=(e,r,n)=>{};#Z=(e,r,n,i)=>{if(n||i){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}return 0};*#H({allowStale:e=this.allowStale}={}){if(this.#A){for(let r=this.#T;true;){if(!this.#te(r)){break}if(e||!this.#z(r)){yield r}if(r===this.#R){break}else{r=this.#O[r]}}}}*#Q({allowStale:e=this.allowStale}={}){if(this.#A){for(let r=this.#R;true;){if(!this.#te(r)){break}if(e||!this.#z(r)){yield r}if(r===this.#T){break}else{r=this.#C[r]}}}}#te(e){return e!==undefined&&this.#S.get(this.#I[e])===e}*entries(){for(const e of this.#H()){if(this.#k[e]!==undefined&&this.#I[e]!==undefined&&!this.#U(this.#k[e])){yield[this.#I[e],this.#k[e]]}}}*rentries(){for(const e of this.#Q()){if(this.#k[e]!==undefined&&this.#I[e]!==undefined&&!this.#U(this.#k[e])){yield[this.#I[e],this.#k[e]]}}}*keys(){for(const e of this.#H()){const r=this.#I[e];if(r!==undefined&&!this.#U(this.#k[e])){yield r}}}*rkeys(){for(const e of this.#Q()){const r=this.#I[e];if(r!==undefined&&!this.#U(this.#k[e])){yield r}}}*values(){for(const e of this.#H()){const r=this.#k[e];if(r!==undefined&&!this.#U(this.#k[e])){yield this.#k[e]}}}*rvalues(){for(const e of this.#Q()){const r=this.#k[e];if(r!==undefined&&!this.#U(this.#k[e])){yield this.#k[e]}}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(const n of this.#H()){const i=this.#k[n];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined)continue;if(e(s,this.#I[n],this)){return this.get(this.#I[n],r)}}}forEach(e,r=this){for(const n of this.#H()){const i=this.#k[n];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined)continue;e.call(r,s,this.#I[n],this)}}rforEach(e,r=this){for(const n of this.#Q()){const i=this.#k[n];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined)continue;e.call(r,s,this.#I[n],this)}}purgeStale(){let e=false;for(const r of this.#Q({allowStale:true})){if(this.#z(r)){this.#K(this.#I[r],"expire");e=true}}return e}info(e){const r=this.#S.get(e);if(r===undefined)return undefined;const n=this.#k[r];const i=this.#U(n)?n.__staleWhileFetching:n;if(i===undefined)return undefined;const s={value:i};if(this.#N&&this.#L){const e=this.#N[r];const n=this.#L[r];if(e&&n){const r=e-(Ye.now()-n);s.ttl=r;s.start=Date.now()}}if(this.#B){s.size=this.#B[r]}return s}dump(){const e=[];for(const r of this.#H({allowStale:true})){const n=this.#I[r];const i=this.#k[r];const s=this.#U(i)?i.__staleWhileFetching:i;if(s===undefined||n===undefined)continue;const o={value:s};if(this.#N&&this.#L){o.ttl=this.#N[r];const e=Ye.now()-this.#L[r];o.start=Math.floor(Date.now()-e)}if(this.#B){o.size=this.#B[r]}e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const e=Date.now()-n.start;n.start=Ye.now()-e}this.set(r,n.value,n)}}set(e,r,n={}){if(r===undefined){this.delete(e);return this}const{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:f}=n;let{noUpdateTTL:p=this.noUpdateTTL}=n;const g=this.#Z(e,r,n.size||0,u);if(this.maxEntrySize&&g>this.maxEntrySize){if(f){f.set="miss";f.maxEntrySizeExceeded=true}this.#K(e,"set");return this}let b=this.#A===0?undefined:this.#S.get(e);if(b===undefined){b=this.#A===0?this.#T:this.#x.length!==0?this.#x.pop():this.#A===this.#b?this.#ee(false):this.#A;this.#I[b]=e;this.#k[b]=r;this.#S.set(e,b);this.#C[this.#T]=b;this.#O[b]=this.#T;this.#T=b;this.#A++;this.#J(b,g,f);if(f)f.set="add";p=false;if(this.#pt){this.#dt?.(r,e,"add")}}else{this.#W(b);const n=this.#k[b];if(r!==n){if(this.#D&&this.#U(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:r}=n;if(r!==undefined&&!o){if(this.#M){this.#m?.(r,e,"set")}if(this.#F){this.#P?.push([r,e,"set"])}}}else if(!o){if(this.#M){this.#m?.(n,e,"set")}if(this.#F){this.#P?.push([n,e,"set"])}}this.#X(b);this.#J(b,g,f);this.#k[b]=r;if(f){f.set="replace";const e=n&&this.#U(n)?n.__staleWhileFetching:n;if(e!==undefined)f.oldValue=e}}else if(f){f.set="update"}if(this.#pt){this.onInsert?.(r,e,r===n?"update":"replace")}}if(i!==0&&!this.#N){this.#$()}if(this.#N){if(!p){this.#q(b,i,s)}if(f)this.#V(f,b)}if(!o&&this.#F&&this.#P){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}return this}pop(){try{while(this.#A){const e=this.#k[this.#R];this.#ee(true);if(this.#U(e)){if(e.__staleWhileFetching){return e.__staleWhileFetching}}else if(e!==undefined){return e}}}finally{if(this.#F&&this.#P){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}}}#ee(e){const r=this.#R;const n=this.#I[r];const i=this.#k[r];if(this.#D&&this.#U(i)){i.__abortController.abort(new Error("evicted"))}else if(this.#M||this.#F){if(this.#M){this.#m?.(i,n,"evict")}if(this.#F){this.#P?.push([i,n,"evict"])}}this.#X(r);if(e){this.#I[r]=undefined;this.#k[r]=undefined;this.#x.push(r)}if(this.#A===1){this.#R=this.#T=0;this.#x.length=0}else{this.#R=this.#C[r]}this.#S.delete(n);this.#A--;return r}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r;const s=this.#S.get(e);if(s!==undefined){const e=this.#k[s];if(this.#U(e)&&e.__staleWhileFetching===undefined){return false}if(!this.#z(s)){if(n){this.#Y(s)}if(i){i.has="hit";this.#V(i,s)}return true}else if(i){i.has="stale";this.#V(i,s)}}else if(i){i.has="miss"}return false}peek(e,r={}){const{allowStale:n=this.allowStale}=r;const i=this.#S.get(e);if(i===undefined||!n&&this.#z(i)){return}const s=this.#k[i];return this.#U(s)?s.__staleWhileFetching:s}#j(e,r,n,i){const s=r===undefined?undefined:this.#k[r];if(this.#U(s)){return s}const o=new Ze;const{signal:u}=n;u?.addEventListener("abort",(()=>o.abort(u.reason)),{signal:o.signal});const f={signal:o.signal,options:n,context:i};const cb=(i,s=false)=>{const{aborted:u}=o.signal;const g=n.ignoreFetchAbort&&i!==undefined;if(n.status){if(u&&!s){n.status.fetchAborted=true;n.status.fetchError=o.signal.reason;if(g)n.status.fetchAbortIgnored=true}else{n.status.fetchResolved=true}}if(u&&!g&&!s){return fetchFail(o.signal.reason)}const b=p;if(this.#k[r]===p){if(i===undefined){if(b.__staleWhileFetching){this.#k[r]=b.__staleWhileFetching}else{this.#K(e,"fetch")}}else{if(n.status)n.status.fetchUpdated=true;this.set(e,i,f.options)}}return i};const eb=e=>{if(n.status){n.status.fetchRejected=true;n.status.fetchError=e}return fetchFail(e)};const fetchFail=i=>{const{aborted:s}=o.signal;const u=s&&n.allowStaleOnFetchAbort;const f=u||n.allowStaleOnFetchRejection;const g=f||n.noDeleteOnFetchRejection;const b=p;if(this.#k[r]===p){const n=!g||b.__staleWhileFetching===undefined;if(n){this.#K(e,"fetch")}else if(!u){this.#k[r]=b.__staleWhileFetching}}if(f){if(n.status&&b.__staleWhileFetching!==undefined){n.status.returnedStale=true}return b.__staleWhileFetching}else if(b.__returned===b){throw i}};const pcall=(r,i)=>{const u=this.#v?.(e,s,f);if(u&&u instanceof Promise){u.then((e=>r(e===undefined?undefined:e)),i)}o.signal.addEventListener("abort",(()=>{if(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort){r(undefined);if(n.allowStaleOnFetchAbort){r=e=>cb(e,true)}}}))};if(n.status)n.status.fetchDispatched=true;const p=new Promise(pcall).then(cb,eb);const g=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:undefined});if(r===undefined){this.set(e,g,{...f.options,status:undefined});r=this.#S.get(e)}else{this.#k[r]=g}return g}#U(e){if(!this.#D)return false;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Ze}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:f=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:g=this.noUpdateTTL,noDeleteOnFetchRejection:b=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:_=this.allowStaleOnFetchRejection,ignoreFetchAbort:v=this.ignoreFetchAbort,allowStaleOnFetchAbort:w=this.allowStaleOnFetchAbort,context:I,forceRefresh:k=false,status:C,signal:R}=r;if(!this.#D){if(C)C.fetch="get";return this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:C})}const T={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:f,sizeCalculation:p,noUpdateTTL:g,noDeleteOnFetchRejection:b,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:w,ignoreFetchAbort:v,status:C,signal:R};let x=this.#S.get(e);if(x===undefined){if(C)C.fetch="miss";const r=this.#j(e,x,T,I);return r.__returned=r}else{const r=this.#k[x];if(this.#U(r)){const e=n&&r.__staleWhileFetching!==undefined;if(C){C.fetch="inflight";if(e)C.returnedStale=true}return e?r.__staleWhileFetching:r.__returned=r}const s=this.#z(x);if(!k&&!s){if(C)C.fetch="hit";this.#W(x);if(i){this.#Y(x)}if(C)this.#V(C,x);return r}const o=this.#j(e,x,T,I);const u=o.__staleWhileFetching!==undefined;const f=u&&n;if(C){C.fetch=s?"stale":"refresh";if(f&&s)C.returnedStale=true}return f?o.__staleWhileFetching:o.__returned=o}}async forceFetch(e,r={}){const n=await this.fetch(e,r);if(n===undefined)throw new Error("fetch() returned undefined");return n}memo(e,r={}){const n=this.#w;if(!n){throw new Error("no memoMethod provided to constructor")}const{context:i,forceRefresh:s,...o}=r;const u=this.get(e,o);if(!s&&u!==undefined)return u;const f=n(e,u,{options:o,context:i});this.set(e,f,o);return f}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r;const u=this.#S.get(e);if(u!==undefined){const r=this.#k[u];const f=this.#U(r);if(o)this.#V(o,u);if(this.#z(u)){if(o)o.get="stale";if(!f){if(!s){this.#K(e,"expire")}if(o&&n)o.returnedStale=true;return n?r:undefined}else{if(o&&n&&r.__staleWhileFetching!==undefined){o.returnedStale=true}return n?r.__staleWhileFetching:undefined}}else{if(o)o.get="hit";if(f){return r.__staleWhileFetching}this.#W(u);if(i){this.#Y(u)}return r}}else if(o){o.get="miss"}}#re(e,r){this.#O[r]=e;this.#C[e]=r}#W(e){if(e!==this.#T){if(e===this.#R){this.#R=this.#C[e]}else{this.#re(this.#O[e],this.#C[e])}this.#re(this.#T,e);this.#T=e}}delete(e){return this.#K(e,"delete")}#K(e,r){let n=false;if(this.#A!==0){const i=this.#S.get(e);if(i!==undefined){n=true;if(this.#A===1){this.#ne(r)}else{this.#X(i);const n=this.#k[i];if(this.#U(n)){n.__abortController.abort(new Error("deleted"))}else if(this.#M||this.#F){if(this.#M){this.#m?.(n,e,r)}if(this.#F){this.#P?.push([n,e,r])}}this.#S.delete(e);this.#I[i]=undefined;this.#k[i]=undefined;if(i===this.#T){this.#T=this.#O[i]}else if(i===this.#R){this.#R=this.#C[i]}else{const e=this.#O[i];this.#C[e]=this.#C[i];const r=this.#C[i];this.#O[r]=this.#O[i]}this.#A--;this.#x.push(i)}}}if(this.#F&&this.#P?.length){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}return n}clear(){return this.#ne("delete")}#ne(e){for(const r of this.#Q({allowStale:true})){const n=this.#k[r];if(this.#U(n)){n.__abortController.abort(new Error("deleted"))}else{const i=this.#I[r];if(this.#M){this.#m?.(n,i,e)}if(this.#F){this.#P?.push([n,i,e])}}}this.#S.clear();this.#k.fill(undefined);this.#I.fill(undefined);if(this.#N&&this.#L){this.#N.fill(0);this.#L.fill(0)}if(this.#B){this.#B.fill(0)}this.#R=0;this.#T=0;this.#x.length=0;this.#E=0;this.#A=0;if(this.#F&&this.#P){const e=this.#P;let r;while(r=e?.shift()){this.#_?.(...r)}}}}var tt=__nccwpck_require__(76760);var rt=__nccwpck_require__(73024);var nt=__nccwpck_require__.t(rt,2);var it=__nccwpck_require__(51455);var st=__nccwpck_require__(78474);var ot=__nccwpck_require__(57075);var at=__nccwpck_require__(46193);const lt=typeof process==="object"&&process?process:{stdout:null,stderr:null};const isStream=e=>!!e&&typeof e==="object"&&(e instanceof Minipass||e instanceof ot||isReadable(e)||isWritable(e));const isReadable=e=>!!e&&typeof e==="object"&&e instanceof st.EventEmitter&&typeof e.pipe==="function"&&e.pipe!==ot.Writable.prototype.pipe;const isWritable=e=>!!e&&typeof e==="object"&&e instanceof st.EventEmitter&&typeof e.write==="function"&&typeof e.end==="function";const ct=Symbol("EOF");const ut=Symbol("maybeEmitEnd");const ft=Symbol("emittedEnd");const ht=Symbol("emittingEnd");const dt=Symbol("emittedError");const pt=Symbol("closed");const gt=Symbol("read");const bt=Symbol("flush");const yt=Symbol("flushChunk");const mt=Symbol("encoding");const _t=Symbol("decoder");const vt=Symbol("flowing");const wt=Symbol("paused");const At=Symbol("resume");const Et=Symbol("buffer");const St=Symbol("pipes");const It=Symbol("bufferLength");const kt=Symbol("bufferPush");const Ct=Symbol("bufferShift");const Ot=Symbol("objectMode");const Rt=Symbol("destroyed");const Tt=Symbol("error");const xt=Symbol("emitData");const Pt=Symbol("emitEnd");const Bt=Symbol("emitEnd2");const Lt=Symbol("async");const Nt=Symbol("abort");const Mt=Symbol("aborted");const Dt=Symbol("signal");const Ft=Symbol("dataListeners");const Ut=Symbol("discarded");const defer=e=>Promise.resolve().then(e);const nodefer=e=>e();const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBufferLike=e=>e instanceof ArrayBuffer||!!e&&typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);class Pipe{src;dest;opts;ondrain;constructor(e,r,n){this.src=e;this.dest=r;this.opts=n;this.ondrain=()=>e[At]();this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(e,r,n){super(e,r,n);this.proxyErrors=e=>r.emit("error",e);e.on("error",this.proxyErrors)}}const isObjectModeOptions=e=>!!e.objectMode;const isEncodingOptions=e=>!e.objectMode&&!!e.encoding&&e.encoding!=="buffer";class Minipass extends st.EventEmitter{[vt]=false;[wt]=false;[St]=[];[Et]=[];[Ot];[mt];[Lt];[_t];[ct]=false;[ft]=false;[ht]=false;[pt]=false;[dt]=null;[It]=0;[Rt]=false;[Dt];[Mt]=false;[Ft]=0;[Ut]=false;writable=true;readable=true;constructor(...e){const r=e[0]||{};super();if(r.objectMode&&typeof r.encoding==="string"){throw new TypeError("Encoding and objectMode may not be used together")}if(isObjectModeOptions(r)){this[Ot]=true;this[mt]=null}else if(isEncodingOptions(r)){this[mt]=r.encoding;this[Ot]=false}else{this[Ot]=false;this[mt]=null}this[Lt]=!!r.async;this[_t]=this[mt]?new at.StringDecoder(this[mt]):null;if(r&&r.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[Et]})}if(r&&r.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[St]})}const{signal:n}=r;if(n){this[Dt]=n;if(n.aborted){this[Nt]()}else{n.addEventListener("abort",(()=>this[Nt]()))}}}get bufferLength(){return this[It]}get encoding(){return this[mt]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Ot]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get["async"](){return this[Lt]}set["async"](e){this[Lt]=this[Lt]||!!e}[Nt](){this[Mt]=true;this.emit("abort",this[Dt]?.reason);this.destroy(this[Dt]?.reason)}get aborted(){return this[Mt]}set aborted(e){}write(e,r,n){if(this[Mt])return false;if(this[ct])throw new Error("write after end");if(this[Rt]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof r==="function"){n=r;r="utf8"}if(!r)r="utf8";const i=this[Lt]?defer:nodefer;if(!this[Ot]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(isArrayBufferLike(e)){e=Buffer.from(e)}else if(typeof e!=="string"){throw new Error("Non-contiguous data written to non-objectMode stream")}}if(this[Ot]){if(this[vt]&&this[It]!==0)this[bt](true);if(this[vt])this.emit("data",e);else this[kt](e);if(this[It]!==0)this.emit("readable");if(n)i(n);return this[vt]}if(!e.length){if(this[It]!==0)this.emit("readable");if(n)i(n);return this[vt]}if(typeof e==="string"&&!(r===this[mt]&&!this[_t]?.lastNeed)){e=Buffer.from(e,r)}if(Buffer.isBuffer(e)&&this[mt]){e=this[_t].write(e)}if(this[vt]&&this[It]!==0)this[bt](true);if(this[vt])this.emit("data",e);else this[kt](e);if(this[It]!==0)this.emit("readable");if(n)i(n);return this[vt]}read(e){if(this[Rt])return null;this[Ut]=false;if(this[It]===0||e===0||e&&e>this[It]){this[ut]();return null}if(this[Ot])e=null;if(this[Et].length>1&&!this[Ot]){this[Et]=[this[mt]?this[Et].join(""):Buffer.concat(this[Et],this[It])]}const r=this[gt](e||null,this[Et][0]);this[ut]();return r}[gt](e,r){if(this[Ot])this[Ct]();else{const n=r;if(e===n.length||e===null)this[Ct]();else if(typeof n==="string"){this[Et][0]=n.slice(e);r=n.slice(0,e);this[It]-=e}else{this[Et][0]=n.subarray(e);r=n.subarray(0,e);this[It]-=e}}this.emit("data",r);if(!this[Et].length&&!this[ct])this.emit("drain");return r}end(e,r,n){if(typeof e==="function"){n=e;e=undefined}if(typeof r==="function"){n=r;r="utf8"}if(e!==undefined)this.write(e,r);if(n)this.once("end",n);this[ct]=true;this.writable=false;if(this[vt]||!this[wt])this[ut]();return this}[At](){if(this[Rt])return;if(!this[Ft]&&!this[St].length){this[Ut]=true}this[wt]=false;this[vt]=true;this.emit("resume");if(this[Et].length)this[bt]();else if(this[ct])this[ut]();else this.emit("drain")}resume(){return this[At]()}pause(){this[vt]=false;this[wt]=true;this[Ut]=false}get destroyed(){return this[Rt]}get flowing(){return this[vt]}get paused(){return this[wt]}[kt](e){if(this[Ot])this[It]+=1;else this[It]+=e.length;this[Et].push(e)}[Ct](){if(this[Ot])this[It]-=1;else this[It]-=this[Et][0].length;return this[Et].shift()}[bt](e=false){do{}while(this[yt](this[Ct]())&&this[Et].length);if(!e&&!this[Et].length&&!this[ct])this.emit("drain")}[yt](e){this.emit("data",e);return this[vt]}pipe(e,r){if(this[Rt])return e;this[Ut]=false;const n=this[ft];r=r||{};if(e===lt.stdout||e===lt.stderr)r.end=false;else r.end=r.end!==false;r.proxyErrors=!!r.proxyErrors;if(n){if(r.end)e.end()}else{this[St].push(!r.proxyErrors?new Pipe(this,e,r):new PipeProxyErrors(this,e,r));if(this[Lt])defer((()=>this[At]()));else this[At]()}return e}unpipe(e){const r=this[St].find((r=>r.dest===e));if(r){if(this[St].length===1){if(this[vt]&&this[Ft]===0){this[vt]=false}this[St]=[]}else this[St].splice(this[St].indexOf(r),1);r.unpipe()}}addListener(e,r){return this.on(e,r)}on(e,r){const n=super.on(e,r);if(e==="data"){this[Ut]=false;this[Ft]++;if(!this[St].length&&!this[vt]){this[At]()}}else if(e==="readable"&&this[It]!==0){super.emit("readable")}else if(isEndish(e)&&this[ft]){super.emit(e);this.removeAllListeners(e)}else if(e==="error"&&this[dt]){const e=r;if(this[Lt])defer((()=>e.call(this,this[dt])));else e.call(this,this[dt])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){const n=super.off(e,r);if(e==="data"){this[Ft]=this.listeners("data").length;if(this[Ft]===0&&!this[Ut]&&!this[St].length){this[vt]=false}}return n}removeAllListeners(e){const r=super.removeAllListeners(e);if(e==="data"||e===undefined){this[Ft]=0;if(!this[Ut]&&!this[St].length){this[vt]=false}}return r}get emittedEnd(){return this[ft]}[ut](){if(!this[ht]&&!this[ft]&&!this[Rt]&&this[Et].length===0&&this[ct]){this[ht]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[pt])this.emit("close");this[ht]=false}}emit(e,...r){const n=r[0];if(e!=="error"&&e!=="close"&&e!==Rt&&this[Rt]){return false}else if(e==="data"){return!this[Ot]&&!n?false:this[Lt]?(defer((()=>this[xt](n))),true):this[xt](n)}else if(e==="end"){return this[Pt]()}else if(e==="close"){this[pt]=true;if(!this[ft]&&!this[Rt])return false;const e=super.emit("close");this.removeAllListeners("close");return e}else if(e==="error"){this[dt]=n;super.emit(Tt,n);const e=!this[Dt]||this.listeners("error").length?super.emit("error",n):false;this[ut]();return e}else if(e==="resume"){const e=super.emit("resume");this[ut]();return e}else if(e==="finish"||e==="prefinish"){const r=super.emit(e);this.removeAllListeners(e);return r}const i=super.emit(e,...r);this[ut]();return i}[xt](e){for(const r of this[St]){if(r.dest.write(e)===false)this.pause()}const r=this[Ut]?false:super.emit("data",e);this[ut]();return r}[Pt](){if(this[ft])return false;this[ft]=true;this.readable=false;return this[Lt]?(defer((()=>this[Bt]())),true):this[Bt]()}[Bt](){if(this[_t]){const e=this[_t].end();if(e){for(const r of this[St]){r.dest.write(e)}if(!this[Ut])super.emit("data",e)}}for(const e of this[St]){e.end()}const e=super.emit("end");this.removeAllListeners("end");return e}async collect(){const e=Object.assign([],{dataLength:0});if(!this[Ot])e.dataLength=0;const r=this.promise();this.on("data",(r=>{e.push(r);if(!this[Ot])e.dataLength+=r.length}));await r;return e}async concat(){if(this[Ot]){throw new Error("cannot concat in objectMode")}const e=await this.collect();return this[mt]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise(((e,r)=>{this.on(Rt,(()=>r(new Error("stream destroyed"))));this.on("error",(e=>r(e)));this.on("end",(()=>e()))}))}[Symbol.asyncIterator](){this[Ut]=false;let e=false;const stop=async()=>{this.pause();e=true;return{value:undefined,done:true}};const next=()=>{if(e)return stop();const r=this.read();if(r!==null)return Promise.resolve({done:false,value:r});if(this[ct])return stop();let n;let i;const onerr=e=>{this.off("data",ondata);this.off("end",onend);this.off(Rt,ondestroy);stop();i(e)};const ondata=e=>{this.off("error",onerr);this.off("end",onend);this.off(Rt,ondestroy);this.pause();n({value:e,done:!!this[ct]})};const onend=()=>{this.off("error",onerr);this.off("data",ondata);this.off(Rt,ondestroy);stop();n({done:true,value:undefined})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,r)=>{i=r;n=e;this.once(Rt,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Ut]=false;let e=false;const stop=()=>{this.pause();this.off(Tt,stop);this.off(Rt,stop);this.off("end",stop);e=true;return{done:true,value:undefined}};const next=()=>{if(e)return stop();const r=this.read();return r===null?stop():{done:false,value:r}};this.once("end",stop);this.once(Tt,stop);this.once(Rt,stop);return{next:next,throw:stop,return:stop,[Symbol.iterator](){return this}}}destroy(e){if(this[Rt]){if(e)this.emit("error",e);else this.emit(Rt);return this}this[Rt]=true;this[Ut]=true;this[Et].length=0;this[It]=0;const r=this;if(typeof r.close==="function"&&!this[pt])r.close();if(e)this.emit("error",e);else this.emit(Rt);return this}static get isStream(){return isStream}}const jt=ne.realpathSync.native;const Wt={lstatSync:ne.lstatSync,readdir:ne.readdir,readdirSync:ne.readdirSync,readlinkSync:ne.readlinkSync,realpathSync:jt,promises:{lstat:it.lstat,readdir:it.readdir,readlink:it.readlink,realpath:it.realpath}};const fsFromOption=e=>!e||e===Wt||e===nt?Wt:{...Wt,...e,promises:{...Wt.promises,...e.promises||{}}};const Ht=/^\\\\\?\\([a-z]:)\\?$/i;const uncToDrive=e=>e.replace(/\//g,"\\").replace(Ht,"$1\\");const Qt=/[\\\/]/;const zt=0;const Gt=1;const $t=2;const qt=4;const Kt=6;const Yt=8;const Vt=10;const Xt=12;const Zt=15;const Jt=~Zt;const er=16;const tr=32;const rr=64;const nr=128;const ir=256;const sr=512;const or=rr|nr|sr;const ar=1023;const entToType=e=>e.isFile()?Yt:e.isDirectory()?qt:e.isSymbolicLink()?Vt:e.isCharacterDevice()?$t:e.isBlockDevice()?Kt:e.isSocket()?Xt:e.isFIFO()?Gt:zt;const lr=new Map;const normalize=e=>{const r=lr.get(e);if(r)return r;const n=e.normalize("NFKD");lr.set(e,n);return n};const cr=new Map;const normalizeNocase=e=>{const r=cr.get(e);if(r)return r;const n=normalize(e.toLowerCase());cr.set(e,n);return n};class ResolveCache extends LRUCache{constructor(){super({max:256})}}class ChildrenCache extends LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:e=>e.length+1})}}const ur=Symbol("PathScurry setAsCwd");class PathBase{name;root;roots;parent;nocase;isCWD=false;#_e;#ve;get dev(){return this.#ve}#we;get mode(){return this.#we}#Ae;get nlink(){return this.#Ae}#Ee;get uid(){return this.#Ee}#Se;get gid(){return this.#Se}#Ie;get rdev(){return this.#Ie}#ke;get blksize(){return this.#ke}#Ce;get ino(){return this.#Ce}#A;get size(){return this.#A}#Oe;get blocks(){return this.#Oe}#Re;get atimeMs(){return this.#Re}#Te;get mtimeMs(){return this.#Te}#xe;get ctimeMs(){return this.#xe}#Pe;get birthtimeMs(){return this.#Pe}#Be;get atime(){return this.#Be}#Le;get mtime(){return this.#Le}#Ne;get ctime(){return this.#Ne}#Me;get birthtime(){return this.#Me}#De;#Fe;#Ue;#je;#We;#He;#Qe;#ze;#Ge;#$e;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=zt,n,i,s,o,u){this.name=e;this.#De=s?normalizeNocase(e):normalize(e);this.#Qe=r&ar;this.nocase=s;this.roots=i;this.root=n||this;this.#ze=o;this.#Ue=u.fullpath;this.#We=u.relative;this.#He=u.relativePosix;this.parent=u.parent;if(this.parent){this.#_e=this.parent.#_e}else{this.#_e=fsFromOption(u.fs)}}depth(){if(this.#Fe!==undefined)return this.#Fe;if(!this.parent)return this.#Fe=0;return this.#Fe=this.parent.depth()+1}childrenCache(){return this.#ze}resolve(e){if(!e){return this}const r=this.getRootString(e);const n=e.substring(r.length);const i=n.split(this.splitSep);const s=r?this.getRoot(r).#qe(i):this.#qe(i);return s}#qe(e){let r=this;for(const n of e){r=r.child(n)}return r}children(){const e=this.#ze.get(this);if(e){return e}const r=Object.assign([],{provisional:0});this.#ze.set(this,r);this.#Qe&=~er;return r}child(e,r){if(e===""||e==="."){return this}if(e===".."){return this.parent||this}const n=this.children();const i=this.nocase?normalizeNocase(e):normalize(e);for(const e of n){if(e.#De===i){return e}}const s=this.parent?this.sep:"";const o=this.#Ue?this.#Ue+s+e:undefined;const u=this.newChild(e,zt,{...r,parent:this,fullpath:o});if(!this.canReaddir()){u.#Qe|=nr}n.push(u);return u}relative(){if(this.isCWD)return"";if(this.#We!==undefined){return this.#We}const e=this.name;const r=this.parent;if(!r){return this.#We=this.name}const n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#He!==undefined)return this.#He;const e=this.name;const r=this.parent;if(!r){return this.#He=this.fullpathPosix()}const n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#Ue!==undefined){return this.#Ue}const e=this.name;const r=this.parent;if(!r){return this.#Ue=this.name}const n=r.fullpath();const i=n+(!r.parent?"":this.sep)+e;return this.#Ue=i}fullpathPosix(){if(this.#je!==undefined)return this.#je;if(this.sep==="/")return this.#je=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");if(/^[a-z]:\//i.test(e)){return this.#je=`//?/${e}`}else{return this.#je=e}}const e=this.parent;const r=e.fullpathPosix();const n=r+(!r||!e.parent?"":"/")+this.name;return this.#je=n}isUnknown(){return(this.#Qe&Zt)===zt}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#Qe&Zt)===Yt}isDirectory(){return(this.#Qe&Zt)===qt}isCharacterDevice(){return(this.#Qe&Zt)===$t}isBlockDevice(){return(this.#Qe&Zt)===Kt}isFIFO(){return(this.#Qe&Zt)===Gt}isSocket(){return(this.#Qe&Zt)===Xt}isSymbolicLink(){return(this.#Qe&Vt)===Vt}lstatCached(){return this.#Qe&tr?this:undefined}readlinkCached(){return this.#Ge}realpathCached(){return this.#$e}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#Ge)return true;if(!this.parent)return false;const e=this.#Qe&Zt;return!(e!==zt&&e!==Vt||this.#Qe&ir||this.#Qe&nr)}calledReaddir(){return!!(this.#Qe&er)}isENOENT(){return!!(this.#Qe&nr)}isNamed(e){return!this.nocase?this.#De===normalize(e):this.#De===normalizeNocase(e)}async readlink(){const e=this.#Ge;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=await this.#_e.promises.readlink(this.fullpath());const r=(await this.parent.realpath())?.resolve(e);if(r){return this.#Ge=r}}catch(e){this.#Ke(e.code);return undefined}}readlinkSync(){const e=this.#Ge;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=this.#_e.readlinkSync(this.fullpath());const r=this.parent.realpathSync()?.resolve(e);if(r){return this.#Ge=r}}catch(e){this.#Ke(e.code);return undefined}}#Ye(e){this.#Qe|=er;for(let r=e.provisional;r<e.length;r++){const n=e[r];if(n)n.#Ve()}}#Ve(){if(this.#Qe&nr)return;this.#Qe=(this.#Qe|nr)&Jt;this.#Xe()}#Xe(){const e=this.children();e.provisional=0;for(const r of e){r.#Ve()}}#Ze(){this.#Qe|=sr;this.#Je()}#Je(){if(this.#Qe&rr)return;let e=this.#Qe;if((e&Zt)===qt)e&=Jt;this.#Qe=e|rr;this.#Xe()}#et(e=""){if(e==="ENOTDIR"||e==="EPERM"){this.#Je()}else if(e==="ENOENT"){this.#Ve()}else{this.children().provisional=0}}#tt(e=""){if(e==="ENOTDIR"){const e=this.parent;e.#Je()}else if(e==="ENOENT"){this.#Ve()}}#Ke(e=""){let r=this.#Qe;r|=ir;if(e==="ENOENT")r|=nr;if(e==="EINVAL"||e==="UNKNOWN"){r&=Jt}this.#Qe=r;if(e==="ENOTDIR"&&this.parent){this.parent.#Je()}}#rt(e,r){return this.#nt(e,r)||this.#it(e,r)}#it(e,r){const n=entToType(e);const i=this.newChild(e.name,n,{parent:this});const s=i.#Qe&Zt;if(s!==qt&&s!==Vt&&s!==zt){i.#Qe|=rr}r.unshift(i);r.provisional++;return i}#nt(e,r){for(let n=r.provisional;n<r.length;n++){const i=r[n];const s=this.nocase?normalizeNocase(e.name):normalize(e.name);if(s!==i.#De){continue}return this.#st(e,i,n,r)}}#st(e,r,n,i){const s=r.name;r.#Qe=r.#Qe&Jt|entToType(e);if(s!==e.name)r.name=e.name;if(n!==i.provisional){if(n===i.length-1)i.pop();else i.splice(n,1);i.unshift(r)}i.provisional++;return r}async lstat(){if((this.#Qe&nr)===0){try{this.#ot(await this.#_e.promises.lstat(this.fullpath()));return this}catch(e){this.#tt(e.code)}}}lstatSync(){if((this.#Qe&nr)===0){try{this.#ot(this.#_e.lstatSync(this.fullpath()));return this}catch(e){this.#tt(e.code)}}}#ot(e){const{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:u,ctime:f,ctimeMs:p,dev:g,gid:b,ino:_,mode:v,mtime:w,mtimeMs:I,nlink:k,rdev:C,size:R,uid:T}=e;this.#Be=r;this.#Re=n;this.#Me=i;this.#Pe=s;this.#ke=o;this.#Oe=u;this.#Ne=f;this.#xe=p;this.#ve=g;this.#Se=b;this.#Ce=_;this.#we=v;this.#Le=w;this.#Te=I;this.#Ae=k;this.#Ie=C;this.#A=R;this.#Ee=T;const x=entToType(e);this.#Qe=this.#Qe&Jt|x|tr;if(x!==zt&&x!==qt&&x!==Vt){this.#Qe|=rr}}#at=[];#lt=false;#ct(e){this.#lt=false;const r=this.#at.slice();this.#at.length=0;r.forEach((r=>r(null,e)))}readdirCB(e,r=false){if(!this.canReaddir()){if(r)e(null,[]);else queueMicrotask((()=>e(null,[])));return}const n=this.children();if(this.calledReaddir()){const i=n.slice(0,n.provisional);if(r)e(null,i);else queueMicrotask((()=>e(null,i)));return}this.#at.push(e);if(this.#lt){return}this.#lt=true;const i=this.fullpath();this.#_e.readdir(i,{withFileTypes:true},((e,r)=>{if(e){this.#et(e.code);n.provisional=0}else{for(const e of r){this.#rt(e,n)}this.#Ye(n)}this.#ct(n.slice(0,n.provisional));return}))}#ut;async readdir(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const r=this.fullpath();if(this.#ut){await this.#ut}else{let resolve=()=>{};this.#ut=new Promise((e=>resolve=e));try{for(const n of await this.#_e.promises.readdir(r,{withFileTypes:true})){this.#rt(n,e)}this.#Ye(e)}catch(r){this.#et(r.code);e.provisional=0}this.#ut=undefined;resolve()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const r=this.fullpath();try{for(const n of this.#_e.readdirSync(r,{withFileTypes:true})){this.#rt(n,e)}this.#Ye(e)}catch(r){this.#et(r.code);e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#Qe&or)return false;const e=Zt&this.#Qe;if(!(e===zt||e===qt||e===Vt)){return false}return true}shouldWalk(e,r){return(this.#Qe&qt)===qt&&!(this.#Qe&or)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#$e)return this.#$e;if((sr|ir|nr)&this.#Qe)return undefined;try{const e=await this.#_e.promises.realpath(this.fullpath());return this.#$e=this.resolve(e)}catch(e){this.#Ze()}}realpathSync(){if(this.#$e)return this.#$e;if((sr|ir|nr)&this.#Qe)return undefined;try{const e=this.#_e.realpathSync(this.fullpath());return this.#$e=this.resolve(e)}catch(e){this.#Ze()}}[ur](e){if(e===this)return;e.isCWD=false;this.isCWD=true;const r=new Set([]);let n=[];let i=this;while(i&&i.parent){r.add(i);i.#We=n.join(this.sep);i.#He=n.join("/");i=i.parent;n.push("..")}i=e;while(i&&i.parent&&!r.has(i)){i.#We=undefined;i.#He=undefined;i=i.parent}}}class PathWin32 extends PathBase{sep="\\";splitSep=Qt;constructor(e,r=zt,n,i,s,o,u){super(e,r,n,i,s,o,u)}newChild(e,r=zt,n={}){return new PathWin32(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return tt.win32.parse(e).root}getRoot(e){e=uncToDrive(e.toUpperCase());if(e===this.root.name){return this.root}for(const[r,n]of Object.entries(this.roots)){if(this.sameRoot(e,r)){return this.roots[e]=n}}return this.roots[e]=new PathScurryWin32(e,this).root}sameRoot(e,r=this.root.name){e=e.toUpperCase().replace(/\//g,"\\").replace(Ht,"$1\\");return e===r}}class PathPosix extends PathBase{splitSep="/";sep="/";constructor(e,r=zt,n,i,s,o,u){super(e,r,n,i,s,o,u)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=zt,n={}){return new PathPosix(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}}class PathScurryBase{root;rootPath;roots;cwd;#ft;#ht;#ze;nocase;#_e;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=Wt}={}){this.#_e=fsFromOption(o);if(e instanceof URL||e.startsWith("file://")){e=(0,Ke.fileURLToPath)(e)}const u=r.resolve(e);this.roots=Object.create(null);this.rootPath=this.parseRootPath(u);this.#ft=new ResolveCache;this.#ht=new ResolveCache;this.#ze=new ChildrenCache(s);const f=u.substring(this.rootPath.length).split(n);if(f.length===1&&!f[0]){f.pop()}if(i===undefined){throw new TypeError("must provide nocase setting to PathScurryBase ctor")}this.nocase=i;this.root=this.newRoot(this.#_e);this.roots[this.rootPath]=this.root;let p=this.root;let g=f.length-1;const b=r.sep;let _=this.rootPath;let v=false;for(const e of f){const r=g--;p=p.child(e,{relative:new Array(r).fill("..").join(b),relativePosix:new Array(r).fill("..").join("/"),fullpath:_+=(v?"":b)+e});v=true}this.cwd=p}depth(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.depth()}childrenCache(){return this.#ze}resolve(...e){let r="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(!i||i===".")continue;r=r?`${i}/${r}`:i;if(this.isAbsolute(i)){break}}const n=this.#ft.get(r);if(n!==undefined){return n}const i=this.cwd.resolve(r).fullpath();this.#ft.set(r,i);return i}resolvePosix(...e){let r="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(!i||i===".")continue;r=r?`${i}/${r}`:i;if(this.isAbsolute(i)){break}}const n=this.#ht.get(r);if(n!==undefined){return n}const i=this.cwd.resolve(r).fullpathPosix();this.#ht.set(r,i);return i}relative(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.relative()}relativePosix(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.relativePosix()}basename(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.name}dirname(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n}=r;if(!e.canReaddir()){return[]}else{const r=await e.readdir();return n?r:r.map((e=>e.name))}}readdirSync(e=this.cwd,r={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true}=r;if(!e.canReaddir()){return[]}else if(n){return e.readdirSync()}else{return e.readdirSync().map((e=>e.name))}}async lstat(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstat()}lstatSync(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e.withFileTypes;e=this.cwd}const n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=[];if(!s||s(e)){u.push(n?e:e.fullpath())}const f=new Set;const walk=(e,r)=>{f.add(e);e.readdirCB(((e,p)=>{if(e){return r(e)}let g=p.length;if(!g)return r();const next=()=>{if(--g===0){r()}};for(const e of p){if(!s||s(e)){u.push(n?e:e.fullpath())}if(i&&e.isSymbolicLink()){e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(f,o)?walk(e,next):next()))}else{if(e.shouldWalk(f,o)){walk(e,next)}else{next()}}}}),true)};const p=e;return new Promise(((e,r)=>{walk(p,(n=>{if(n)return r(n);e(u)}))}))}walkSync(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=[];if(!s||s(e)){u.push(n?e:e.fullpath())}const f=new Set([e]);for(const e of f){const r=e.readdirSync();for(const e of r){if(!s||s(e)){u.push(n?e:e.fullpath())}let r=e;if(e.isSymbolicLink()){if(!(i&&(r=e.realpathSync())))continue;if(r.isUnknown())r.lstatSync()}if(r.shouldWalk(f,o)){f.add(r)}}}return u}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}return this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;if(!s||s(e)){yield n?e:e.fullpath()}const u=new Set([e]);for(const e of u){const r=e.readdirSync();for(const e of r){if(!s||s(e)){yield n?e:e.fullpath()}let r=e;if(e.isSymbolicLink()){if(!(i&&(r=e.realpathSync())))continue;if(r.isUnknown())r.lstatSync()}if(r.shouldWalk(u,o)){u.add(r)}}}}stream(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=new Minipass({objectMode:true});if(!s||s(e)){u.write(n?e:e.fullpath())}const f=new Set;const p=[e];let g=0;const process=()=>{let e=false;while(!e){const r=p.shift();if(!r){if(g===0)u.end();return}g++;f.add(r);const onReaddir=(r,_,v=false)=>{if(r)return u.emit("error",r);if(i&&!v){const e=[];for(const r of _){if(r.isSymbolicLink()){e.push(r.realpath().then((e=>e?.isUnknown()?e.lstat():e)))}}if(e.length){Promise.all(e).then((()=>onReaddir(null,_,true)));return}}for(const r of _){if(r&&(!s||s(r))){if(!u.write(n?r:r.fullpath())){e=true}}}g--;for(const e of _){const r=e.realpathCached()||e;if(r.shouldWalk(f,o)){p.push(r)}}if(e&&!u.flowing){u.once("drain",process)}else if(!b){process()}};let b=true;r.readdirCB(onReaddir,true);b=false}};process();return u}streamSync(e=this.cwd,r={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){r=e;e=this.cwd}const{withFileTypes:n=true,follow:i=false,filter:s,walkFilter:o}=r;const u=new Minipass({objectMode:true});const f=new Set;if(!s||s(e)){u.write(n?e:e.fullpath())}const p=[e];let g=0;const process=()=>{let e=false;while(!e){const r=p.shift();if(!r){if(g===0)u.end();return}g++;f.add(r);const b=r.readdirSync();for(const r of b){if(!s||s(r)){if(!u.write(n?r:r.fullpath())){e=true}}}g--;for(const e of b){let r=e;if(e.isSymbolicLink()){if(!(i&&(r=e.realpathSync())))continue;if(r.isUnknown())r.lstatSync()}if(r.shouldWalk(f,o)){p.push(r)}}}if(e&&!u.flowing)u.once("drain",process)};process();return u}chdir(e=this.cwd){const r=this.cwd;this.cwd=typeof e==="string"?this.cwd.resolve(e):e;this.cwd[ur](r)}}class PathScurryWin32 extends PathScurryBase{sep="\\";constructor(e=process.cwd(),r={}){const{nocase:n=true}=r;super(e,tt.win32,"\\",{...r,nocase:n});this.nocase=n;for(let e=this.cwd;e;e=e.parent){e.nocase=this.nocase}}parseRootPath(e){return tt.win32.parse(e).root.toUpperCase()}newRoot(e){return new PathWin32(this.rootPath,qt,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}class PathScurryPosix extends PathScurryBase{sep="/";constructor(e=process.cwd(),r={}){const{nocase:n=false}=r;super(e,tt.posix,"/",{...r,nocase:n});this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new PathPosix(this.rootPath,qt,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}class PathScurryDarwin extends PathScurryPosix{constructor(e=process.cwd(),r={}){const{nocase:n=true}=r;super(e,{...r,nocase:n})}}const fr=process.platform==="win32"?PathWin32:PathPosix;const hr=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix;const isPatternList=e=>e.length>=1;const isGlobList=e=>e.length>=1;class Pattern{#e;#t;#r;length;#n;#i;#s;#o;#a;#l;#c=true;constructor(e,r,n,i){if(!isPatternList(e)){throw new TypeError("empty pattern list")}if(!isGlobList(r)){throw new TypeError("empty glob list")}if(r.length!==e.length){throw new TypeError("mismatched pattern list and glob list lengths")}this.length=e.length;if(n<0||n>=this.length){throw new TypeError("index out of range")}this.#e=e;this.#t=r;this.#r=n;this.#n=i;if(this.#r===0){if(this.isUNC()){const[e,r,n,i,...s]=this.#e;const[o,u,f,p,...g]=this.#t;if(s[0]===""){s.shift();g.shift()}const b=[e,r,n,i,""].join("/");const _=[o,u,f,p,""].join("/");this.#e=[b,...s];this.#t=[_,...g];this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){const[e,...r]=this.#e;const[n,...i]=this.#t;if(r[0]===""){r.shift();i.shift()}const s=e+"/";const o=n+"/";this.#e=[s,...r];this.#t=[o,...i];this.length=this.#e.length}}}pattern(){return this.#e[this.#r]}isString(){return typeof this.#e[this.#r]==="string"}isGlobstar(){return this.#e[this.#r]===He}isRegExp(){return this.#e[this.#r]instanceof RegExp}globString(){return this.#s=this.#s||(this.#r===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){if(this.#i!==undefined)return this.#i;if(!this.hasMore())return this.#i=null;this.#i=new Pattern(this.#e,this.#t,this.#r+1,this.#n);this.#i.#l=this.#l;this.#i.#a=this.#a;this.#i.#o=this.#o;return this.#i}isUNC(){const e=this.#e;return this.#a!==undefined?this.#a:this.#a=this.#n==="win32"&&this.#r===0&&e[0]===""&&e[1]===""&&typeof e[2]==="string"&&!!e[2]&&typeof e[3]==="string"&&!!e[3]}isDrive(){const e=this.#e;return this.#o!==undefined?this.#o:this.#o=this.#n==="win32"&&this.#r===0&&this.length>1&&typeof e[0]==="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#e;return this.#l!==undefined?this.#l:this.#l=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#e[0];return typeof e==="string"&&this.isAbsolute()&&this.#r===0?e:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#c)}markFollowGlobstar(){if(this.#r===0||!this.isGlobstar()||!this.#c)return false;this.#c=false;return true}}const dr=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Ignore{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=dr}){this.relative=[];this.absolute=[];this.relativeChildren=[];this.absoluteChildren=[];this.platform=o;this.mmopts={dot:true,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:true,nonegate:true};for(const r of e)this.add(r)}add(e){const r=new Minimatch(e,this.mmopts);for(let e=0;e<r.set.length;e++){const n=r.set[e];const i=r.globParts[e];if(!n||!i){throw new Error("invalid pattern object")}while(n[0]==="."&&i[0]==="."){n.shift();i.shift()}const s=new Pattern(n,i,0,this.platform);const o=new Minimatch(s.globString(),this.mmopts);const u=i[i.length-1]==="**";const f=s.isAbsolute();if(f)this.absolute.push(o);else this.relative.push(o);if(u){if(f)this.absoluteChildren.push(o);else this.relativeChildren.push(o)}}}ignored(e){const r=e.fullpath();const n=`${r}/`;const i=e.relative()||".";const s=`${i}/`;for(const e of this.relative){if(e.match(i)||e.match(s))return true}for(const e of this.absolute){if(e.match(r)||e.match(n))return true}return false}childrenIgnored(e){const r=e.fullpath()+"/";const n=(e.relative()||".")+"/";for(const e of this.relativeChildren){if(e.match(n))return true}for(const e of this.absoluteChildren){if(e.match(r))return true}return false}}class HasWalkedCache{store;constructor(e=new Map){this.store=e}copy(){return new HasWalkedCache(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){const n=e.fullpath();const i=this.store.get(n);if(i)i.add(r.globString());else this.store.set(n,new Set([r.globString()]))}}class MatchRecord{store=new Map;add(e,r,n){const i=(r?2:0)|(n?1:0);const s=this.store.get(e);this.store.set(e,s===undefined?i:i&s)}entries(){return[...this.store.entries()].map((([e,r])=>[e,!!(r&2),!!(r&1)]))}}class SubWalks{store=new Map;add(e,r){if(!e.canReaddir()){return}const n=this.store.get(e);if(n){if(!n.find((e=>e.globString()===r.globString()))){n.push(r)}}else this.store.set(e,[r])}get(e){const r=this.store.get(e);if(!r){throw new Error("attempting to walk unknown path")}return r}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}class Processor{hasWalkedCache;matches=new MatchRecord;subwalks=new SubWalks;patterns;follow;dot;opts;constructor(e,r){this.opts=e;this.follow=!!e.follow;this.dot=!!e.dot;this.hasWalkedCache=r?r.copy():new HasWalkedCache}processPatterns(e,r){this.patterns=r;const n=r.map((r=>[e,r]));for(let[e,r]of n){this.hasWalkedCache.storeWalked(e,r);const n=r.root();const i=r.isAbsolute()&&this.opts.absolute!==false;if(n){e=e.resolve(n==="/"&&this.opts.root!==undefined?this.opts.root:n);const i=r.rest();if(!i){this.matches.add(e,true,false);continue}else{r=i}}if(e.isENOENT())continue;let s;let o;let u=false;while(typeof(s=r.pattern())==="string"&&(o=r.rest())){const n=e.resolve(s);e=n;r=o;u=true}s=r.pattern();o=r.rest();if(u){if(this.hasWalkedCache.hasWalked(e,r))continue;this.hasWalkedCache.storeWalked(e,r)}if(typeof s==="string"){const r=s===".."||s===""||s===".";this.matches.add(e.resolve(s),i,r);continue}else if(s===He){if(!e.isSymbolicLink()||this.follow||r.checkFollowGlobstar()){this.subwalks.add(e,r)}const n=o?.pattern();const s=o?.rest();if(!o||(n===""||n===".")&&!s){this.matches.add(e,i,n===""||n===".")}else{if(n===".."){const r=e.parent||e;if(!s)this.matches.add(r,i,true);else if(!this.hasWalkedCache.hasWalked(r,s)){this.subwalks.add(r,s)}}}}else if(s instanceof RegExp){this.subwalks.add(e,r)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Processor(this.opts,this.hasWalkedCache)}filterEntries(e,r){const n=this.subwalks.get(e);const i=this.child();for(const e of r){for(const r of n){const n=r.isAbsolute();const s=r.pattern();const o=r.rest();if(s===He){i.testGlobstar(e,r,o,n)}else if(s instanceof RegExp){i.testRegExp(e,s,o,n)}else{i.testString(e,s,o,n)}}}return i}testGlobstar(e,r,n,i){if(this.dot||!e.name.startsWith(".")){if(!r.hasMore()){this.matches.add(e,i,false)}if(e.canReaddir()){if(this.follow||!e.isSymbolicLink()){this.subwalks.add(e,r)}else if(e.isSymbolicLink()){if(n&&r.checkFollowGlobstar()){this.subwalks.add(e,n)}else if(r.markFollowGlobstar()){this.subwalks.add(e,r)}}}}if(n){const r=n.pattern();if(typeof r==="string"&&r!==".."&&r!==""&&r!=="."){this.testString(e,r,n.rest(),i)}else if(r===".."){const r=e.parent||e;this.subwalks.add(r,n)}else if(r instanceof RegExp){this.testRegExp(e,r,n.rest(),i)}}}testRegExp(e,r,n,i){if(!r.test(e.name))return;if(!n){this.matches.add(e,i,false)}else{this.subwalks.add(e,n)}}testString(e,r,n,i){if(!e.isNamed(r))return;if(!n){this.matches.add(e,i,false)}else{this.subwalks.add(e,n)}}}const makeIgnore=(e,r)=>typeof e==="string"?new Ignore([e],r):Array.isArray(e)?new Ignore(e,r):e;class GlobUtil{path;patterns;opts;seen=new Set;paused=false;aborted=false;#u=[];#f;#h;signal;maxDepth;includeChildMatches;constructor(e,r,n){this.patterns=e;this.path=r;this.opts=n;this.#h=!n.posix&&n.platform==="win32"?"\\":"/";this.includeChildMatches=n.includeChildMatches!==false;if(n.ignore||!this.includeChildMatches){this.#f=makeIgnore(n.ignore??[],n);if(!this.includeChildMatches&&typeof this.#f.add!=="function"){const e="cannot ignore child matches, ignore lacks add() method.";throw new Error(e)}}this.maxDepth=n.maxDepth||Infinity;if(n.signal){this.signal=n.signal;this.signal.addEventListener("abort",(()=>{this.#u.length=0}))}}#d(e){return this.seen.has(e)||!!this.#f?.ignored?.(e)}#p(e){return!!this.#f?.childrenIgnored?.(e)}pause(){this.paused=true}resume(){if(this.signal?.aborted)return;this.paused=false;let e=undefined;while(!this.paused&&(e=this.#u.shift())){e()}}onResume(e){if(this.signal?.aborted)return;if(!this.paused){e()}else{this.#u.push(e)}}async matchCheck(e,r){if(r&&this.opts.nodir)return undefined;let n;if(this.opts.realpath){n=e.realpathCached()||await e.realpath();if(!n)return undefined;e=n}const i=e.isUnknown()||this.opts.stat;const s=i?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){const e=await s.realpath();if(e&&(e.isUnknown()||this.opts.stat)){await e.lstat()}}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===Infinity||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#d(e)?e:undefined}matchCheckSync(e,r){if(r&&this.opts.nodir)return undefined;let n;if(this.opts.realpath){n=e.realpathCached()||e.realpathSync();if(!n)return undefined;e=n}const i=e.isUnknown()||this.opts.stat;const s=i?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){const e=s.realpathSync();if(e&&(e?.isUnknown()||this.opts.stat)){e.lstatSync()}}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#d(e))return;if(!this.includeChildMatches&&this.#f?.add){const r=`${e.relativePosix()}/**`;this.#f.add(r)}const n=this.opts.absolute===undefined?r:this.opts.absolute;this.seen.add(e);const i=this.opts.mark&&e.isDirectory()?this.#h:"";if(this.opts.withFileTypes){this.matchEmit(e)}else if(n){const r=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(r+i)}else{const r=this.opts.posix?e.relativePosix():e.relative();const n=this.opts.dotRelative&&!r.startsWith(".."+this.#h)?"."+this.#h:"";this.matchEmit(!r?"."+i:n+r+i)}}async match(e,r,n){const i=await this.matchCheck(e,n);if(i)this.matchFinish(i,r)}matchSync(e,r,n){const i=this.matchCheckSync(e,n);if(i)this.matchFinish(i,r)}walkCB(e,r,n){if(this.signal?.aborted)n();this.walkCB2(e,r,new Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#p(e))return i();if(this.signal?.aborted)i();if(this.paused){this.onResume((()=>this.walkCB2(e,r,n,i)));return}n.processPatterns(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;s++;this.match(e,r,i).then((()=>next()))}for(const e of n.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}s++;const r=e.readdirCached();if(e.calledReaddir())this.walkCB3(e,r,n,next);else{e.readdirCB(((r,i)=>this.walkCB3(e,i,n,next)),true)}}next()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;s++;this.match(e,r,i).then((()=>next()))}for(const[e,r]of n.subwalks.entries()){s++;this.walkCB2(e,r,n.child(),next)}next()}walkCBSync(e,r,n){if(this.signal?.aborted)n();this.walkCB2Sync(e,r,new Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#p(e))return i();if(this.signal?.aborted)i();if(this.paused){this.onResume((()=>this.walkCB2Sync(e,r,n,i)));return}n.processPatterns(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;this.matchSync(e,r,i)}for(const e of n.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}s++;const r=e.readdirSync();this.walkCB3Sync(e,r,n,next)}next()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1;const next=()=>{if(--s===0)i()};for(const[e,r,i]of n.matches.entries()){if(this.#d(e))continue;this.matchSync(e,r,i)}for(const[e,r]of n.subwalks.entries()){s++;this.walkCB2Sync(e,r,n.child(),next)}next()}}class GlobWalker extends GlobUtil{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){await this.path.lstat()}await new Promise(((e,r)=>{this.walkCB(this.path,this.patterns,(()=>{if(this.signal?.aborted){r(this.signal.reason)}else{e(this.matches)}}))}));return this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason}));return this.matches}}class GlobStream extends GlobUtil{results;constructor(e,r,n){super(e,r,n);this.results=new Minipass({signal:this.signal,objectMode:true});this.results.on("drain",(()=>this.resume()));this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e);if(!this.results.flowing)this.pause()}stream(){const e=this.path;if(e.isUnknown()){e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))}))}else{this.walkCB(e,this.patterns,(()=>this.results.end()))}return this.results}streamSync(){if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>this.results.end()));return this.results}}const pr=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Glob{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");this.withFileTypes=!!r.withFileTypes;this.signal=r.signal;this.follow=!!r.follow;this.dot=!!r.dot;this.dotRelative=!!r.dotRelative;this.nodir=!!r.nodir;this.mark=!!r.mark;if(!r.cwd){this.cwd=""}else if(r.cwd instanceof URL||r.cwd.startsWith("file://")){r.cwd=(0,Ke.fileURLToPath)(r.cwd)}this.cwd=r.cwd||"";this.root=r.root;this.magicalBraces=!!r.magicalBraces;this.nobrace=!!r.nobrace;this.noext=!!r.noext;this.realpath=!!r.realpath;this.absolute=r.absolute;this.includeChildMatches=r.includeChildMatches!==false;this.noglobstar=!!r.noglobstar;this.matchBase=!!r.matchBase;this.maxDepth=typeof r.maxDepth==="number"?r.maxDepth:Infinity;this.stat=!!r.stat;this.ignore=r.ignore;if(this.withFileTypes&&this.absolute!==undefined){throw new Error("cannot set absolute and withFileTypes:true")}if(typeof e==="string"){e=[e]}this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===false;if(this.windowsPathsNoEscape){e=e.map((e=>e.replace(/\\/g,"/")))}if(this.matchBase){if(r.noglobstar){throw new TypeError("base matching requires globstar")}e=e.map((e=>e.includes("/")?e:`./**/${e}`))}this.pattern=e;this.platform=r.platform||pr;this.opts={...r,platform:this.platform};if(r.scurry){this.scurry=r.scurry;if(r.nocase!==undefined&&r.nocase!==r.scurry.nocase){throw new Error("nocase option contradicts provided scurry option")}}else{const e=r.platform==="win32"?PathScurryWin32:r.platform==="darwin"?PathScurryDarwin:r.platform?PathScurryPosix:hr;this.scurry=new e(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;const n=this.platform==="darwin"||this.platform==="win32";const i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:true,noext:this.noext,nonegate:true,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug};const s=this.pattern.map((e=>new Minimatch(e,i)));const[o,u]=s.reduce(((e,r)=>{e[0].push(...r.set);e[1].push(...r.globParts);return e}),[[],[]]);this.patterns=o.map(((e,r)=>{const n=u[r];if(!n)throw new Error("invalid pattern object");return new Pattern(e,n,0,this.platform)}))}async walk(){return[...await new GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}const hasMagic=(e,r={})=>{if(!Array.isArray(e)){e=[e]}for(const n of e){if(new Minimatch(n,r).hasMagic())return true}return false};function globStreamSync(e,r={}){return new Glob(e,r).streamSync()}function globStream(e,r={}){return new Glob(e,r).stream()}function globSync(e,r={}){return new Glob(e,r).walkSync()}async function glob_(e,r={}){return new Glob(e,r).walk()}function globIterateSync(e,r={}){return new Glob(e,r).iterateSync()}function globIterate(e,r={}){return new Glob(e,r).iterate()}const gr=globStreamSync;const br=Object.assign(globStream,{sync:globStreamSync});const yr=globIterateSync;const mr=Object.assign(globIterate,{sync:globIterateSync});const _r=Object.assign(globSync,{stream:globStreamSync,iterate:globIterateSync});const vr=Object.assign(glob_,{glob:glob_,globSync:globSync,sync:_r,globStream:globStream,stream:br,globStreamSync:globStreamSync,streamSync:gr,globIterate:globIterate,iterate:mr,globIterateSync:globIterateSync,iterateSync:yr,Glob:Glob,hasMagic:hasMagic,escape:escape_escape,unescape:unescape_unescape});vr.glob=vr;var wr;(function(e){e[e["uncompressed"]=0]="uncompressed";e[e["medium"]=5]="medium";e[e["high"]=9]="high"})(wr||(wr={}));class ZipAFolder{static async tar(e,r,n){const i=n||{compression:wr.high};if(i.compression===wr.uncompressed){await ZipAFolder.compress({src:e,targetFilePath:r,format:"tar",zipAFolderOptions:n})}else{await ZipAFolder.compress({src:e,targetFilePath:r,format:"tar",zipAFolderOptions:n,archiverOptions:{gzip:true,gzipOptions:{level:i.compression}}})}}static async zip(e,r,n){const i=n||{compression:wr.high};if(i.compression===wr.uncompressed){await ZipAFolder.compress({src:e,targetFilePath:r,format:"zip",zipAFolderOptions:n,archiverOptions:{store:true}})}else{await ZipAFolder.compress({src:e,targetFilePath:r,format:"zip",zipAFolderOptions:n,archiverOptions:{zlib:{level:i.compression}}})}}static async compress({src:e,targetFilePath:r,format:n,zipAFolderOptions:i,archiverOptions:s}){let o;const u=[];if(!i?.customWriteStream&&r){const n=ie.dirname(r);if(n===e){throw new Error("Source and target folder must be different.")}try{if(!ae(e)){await oe.access(e,oe.constants.R_OK)}await oe.access(n,oe.constants.R_OK|oe.constants.W_OK)}catch(e){throw new Error(`Permission error: ${e.message}`)}if(ae(e)){for(const r of e.split(",")){u.push(...await vr(r.trim()))}if(u.length===0){throw new Error(`No glob match found for "${e}".`)}}o=(0,ne.createWriteStream)(r)}else if(i&&i.customWriteStream){o=i.customWriteStream}else{throw new Error("You must either provide a target file path or a custom write stream to write to.")}const f=se(n,s||{});return new Promise((async(r,n)=>{o.on("close",r);o.on("error",n);f.pipe(o);if(ae(e)){for(const e of u){if((await oe.lstat(e)).isFile()){const r=await oe.readFile(e);f.append(r,{name:e})}}}else{f.directory(e,i?.destPath||false)}await f.finalize()}))}}const Ar=ZipAFolder.zip;const Er=ZipAFolder.tar;function createZip2(e,r,n){return Ar((0,ie.join)(e,r),n)}var Sr=undefined&&undefined.__awaiter||function(e,r,n,i){function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};const sftp$=(e,r,n,i)=>new Y.Observable((s=>{r.sftp(((r,o)=>Sr(void 0,void 0,void 0,(function*(){if(r)throw r;const u=`${e.project}-5p2O5qKT6JCM.zip`;const f=`${e.serverDir}/${u}`;const p=`unzip ${f} -d ${e.serverDir}/${e.project}`;const g=o.createWriteStream(f);const b=(0,ie.resolve)(process.cwd(),"dist.zip");g.on("close",(()=>{s.next({command:p,del:`rm -r ${f}`});s.complete();(0,ne.rmSync)(b)}));g.on("end",(()=>{s.next({command:p,del:`rm -r ${f}`});s.complete();(0,ne.rmSync)(b)}));yield createZip2(n,i,b);const _=(0,ne.createReadStream)(b);_.pipe(g)}))))}));var Ir=__nccwpck_require__(83628);const ssh$=e=>new Y.Observable((r=>{const n=new Ir.Client;if(e.forward){const i=new Ir.Client;i.on("ready",(()=>{i.forwardOut("127.0.0.1",8797,e.host,+e.port,((s,o)=>{if(s){console.log("FIRST :: exec error: "+s);return i.end()}n.on("ready",(()=>{r.next(n)})).on("close",(()=>{r.complete()})).connect(Object.assign({sock:o,host:e.host,port:+e.port,username:e.username},"password"in e?{password:e.password}:{privateKey:e.privateKey}))}))})).connect(e.forward)}else{n.on("ready",(()=>{r.next(n)})).on("close",(()=>{r.complete()})).connect(Object.assign({host:e.host,port:+e.port,username:e.username},"password"in e?{password:e.password}:{privateKey:e.privateKey}))}}));const exec$=(e,r)=>new Y.Observable((n=>{e.exec(r,((e,r)=>{if(e){throw e}let i="";r.on("data",(e=>{i=e.toString()}));r.on("close",(()=>{n.next(i);n.complete();r.destroy()}))}))}));const kr=new Set(Object.keys(re));["serverDir","host","port","username","project","dist"].some((e=>{if(!kr.has(e)){throw new Error("配置文件缺少"+e)}}));["privateKey","password"].every((e=>{if(!kr.has(e)){throw new Error("密码或私钥缺少"+e)}}));let Cr=null;let Or="echo no file delete";const bin$=e=>ssh$(e).pipe((0,Y.tap)((e=>{Cr=e})),(0,Y.concatMap)((r=>exec$(r,`ls ${e.serverDir}`).pipe((0,Y.map)((e=>e.split("\n")))))),(0,Y.map)((r=>{const n=new RegExp(`${e.project}.bak.([0-9]{13})`);const i=r.filter((r=>r.indexOf(e.project+".bak")===0)).map((e=>{const r=e.match(n);return{filename:e,date:r?q()(Number(r[1])).format("YYYY-MM-DD HH:mm:ss"):""}})).sort(((e,r)=>Number(e.date<r.date)));console.log(Q.green(`共存在${i.length}份备份;`));if(e["timeout"]){const r=e.timeout;const s=i.filter((({date:e})=>q()().subtract(r,"day").isAfter(e))).map((({filename:e})=>{const r=e.match(n);return r[1]}));Or=`rm -r ${e.serverDir}/${e.project}.bak.{${s.join(",")}}`;console.log(Q.green(`共需要删除${s.length}份备份`))}if(i.length>0){const e=new z.Table({columns:[{name:"index",alignment:"right",color:"green"},{name:"filename",color:"green"},{name:"date",color:"green"}]});e.addRows(i.map(((e,r)=>({index:r+1,filename:e.filename,date:e.date}))));e.printTable()}let s=`mv -v ${e.serverDir}/${e.project} ${e.serverDir}/${e.project}.bak.${Date.now()}`;if(!r.includes(e.project)){s='echo "success"'}return s})),(0,Y.concatMap)((e=>exec$(Cr,e))),(0,Y.concatMap)((()=>sftp$(e,Cr,process.cwd(),e.dist))),(0,Y.concatMap)((e=>exec$(Cr,e.command).pipe((0,Y.map)((r=>e))))),(0,Y.map)((e=>e.del)),(0,Y.concatMap)((e=>exec$(Cr,e))),(0,Y.concatMap)((()=>exec$(Cr,Or))));bin$(re).subscribe((e=>{console.log(Q.green("上传成功"));if(Cr){Cr.end()}}))})();module.exports=__webpack_exports__})();